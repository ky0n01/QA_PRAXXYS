function t4(n,e){return function(){return n.apply(e,arguments)}}const{toString:MH}=Object.prototype,{getPrototypeOf:Iw}=Object,pb=(n=>e=>{const i=MH.call(e);return n[i]||(n[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),js=n=>(n=n.toLowerCase(),e=>pb(e)===n),mb=n=>e=>typeof e===n,{isArray:Ph}=Array,Pp=mb("undefined");function PH(n){return n!==null&&!Pp(n)&&n.constructor!==null&&!Pp(n.constructor)&&co(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const n4=js("ArrayBuffer");function NH(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&n4(n.buffer),e}const BH=mb("string"),co=mb("function"),i4=mb("number"),gb=n=>n!==null&&typeof n=="object",OH=n=>n===!0||n===!1,o0=n=>{if(pb(n)!=="object")return!1;const e=Iw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},LH=js("Date"),RH=js("File"),FH=js("Blob"),jH=js("FileList"),zH=n=>gb(n)&&co(n.pipe),VH=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||co(n.append)&&((e=pb(n))==="formdata"||e==="object"&&co(n.toString)&&n.toString()==="[object FormData]"))},UH=js("URLSearchParams"),HH=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dm(n,e,{allOwnKeys:i=!1}={}){if(n===null||typeof n>"u")return;let o,a;if(typeof n!="object"&&(n=[n]),Ph(n))for(o=0,a=n.length;o<a;o++)e.call(null,n[o],o,n);else{const u=i?Object.getOwnPropertyNames(n):Object.keys(n),d=u.length;let p;for(o=0;o<d;o++)p=u[o],e.call(null,n[p],p,n)}}function r4(n,e){e=e.toLowerCase();const i=Object.keys(n);let o=i.length,a;for(;o-- >0;)if(a=i[o],e===a.toLowerCase())return a;return null}const o4=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),s4=n=>!Pp(n)&&n!==o4;function vy(){const{caseless:n}=s4(this)&&this||{},e={},i=(o,a)=>{const u=n&&r4(e,a)||a;o0(e[u])&&o0(o)?e[u]=vy(e[u],o):o0(o)?e[u]=vy({},o):Ph(o)?e[u]=o.slice():e[u]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&dm(arguments[o],i);return e}const $H=(n,e,i,{allOwnKeys:o}={})=>(dm(e,(a,u)=>{i&&co(a)?n[u]=t4(a,i):n[u]=a},{allOwnKeys:o}),n),qH=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),WH=(n,e,i,o)=>{n.prototype=Object.create(e.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),i&&Object.assign(n.prototype,i)},GH=(n,e,i,o)=>{let a,u,d;const p={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),u=a.length;u-- >0;)d=a[u],(!o||o(d,n,e))&&!p[d]&&(e[d]=n[d],p[d]=!0);n=i!==!1&&Iw(n)}while(n&&(!i||i(n,e))&&n!==Object.prototype);return e},KH=(n,e,i)=>{n=String(n),(i===void 0||i>n.length)&&(i=n.length),i-=e.length;const o=n.indexOf(e,i);return o!==-1&&o===i},YH=n=>{if(!n)return null;if(Ph(n))return n;let e=n.length;if(!i4(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=n[e];return i},QH=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Iw(Uint8Array)),ZH=(n,e)=>{const o=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=o.next())&&!a.done;){const u=a.value;e.call(n,u[0],u[1])}},XH=(n,e)=>{let i;const o=[];for(;(i=n.exec(e))!==null;)o.push(i);return o},JH=js("HTMLFormElement"),e$=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,a){return o.toUpperCase()+a}),UI=(({hasOwnProperty:n})=>(e,i)=>n.call(e,i))(Object.prototype),t$=js("RegExp"),a4=(n,e)=>{const i=Object.getOwnPropertyDescriptors(n),o={};dm(i,(a,u)=>{let d;(d=e(a,u,n))!==!1&&(o[u]=d||a)}),Object.defineProperties(n,o)},n$=n=>{a4(n,(e,i)=>{if(co(n)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=n[i];if(co(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},i$=(n,e)=>{const i={},o=a=>{a.forEach(u=>{i[u]=!0})};return Ph(n)?o(n):o(String(n).split(e)),i},r$=()=>{},o$=(n,e)=>(n=+n,Number.isFinite(n)?n:e),C_="abcdefghijklmnopqrstuvwxyz",HI="0123456789",l4={DIGIT:HI,ALPHA:C_,ALPHA_DIGIT:C_+C_.toUpperCase()+HI},s$=(n=16,e=l4.ALPHA_DIGIT)=>{let i="";const{length:o}=e;for(;n--;)i+=e[Math.random()*o|0];return i};function a$(n){return!!(n&&co(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const l$=n=>{const e=new Array(10),i=(o,a)=>{if(gb(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[a]=o;const u=Ph(o)?[]:{};return dm(o,(d,p)=>{const m=i(d,a+1);!Pp(m)&&(u[p]=m)}),e[a]=void 0,u}}return o};return i(n,0)},c$=js("AsyncFunction"),u$=n=>n&&(gb(n)||co(n))&&co(n.then)&&co(n.catch),Ve={isArray:Ph,isArrayBuffer:n4,isBuffer:PH,isFormData:VH,isArrayBufferView:NH,isString:BH,isNumber:i4,isBoolean:OH,isObject:gb,isPlainObject:o0,isUndefined:Pp,isDate:LH,isFile:RH,isBlob:FH,isRegExp:t$,isFunction:co,isStream:zH,isURLSearchParams:UH,isTypedArray:QH,isFileList:jH,forEach:dm,merge:vy,extend:$H,trim:HH,stripBOM:qH,inherits:WH,toFlatObject:GH,kindOf:pb,kindOfTest:js,endsWith:KH,toArray:YH,forEachEntry:ZH,matchAll:XH,isHTMLForm:JH,hasOwnProperty:UI,hasOwnProp:UI,reduceDescriptors:a4,freezeMethods:n$,toObjectSet:i$,toCamelCase:e$,noop:r$,toFiniteNumber:o$,findKey:r4,global:o4,isContextDefined:s4,ALPHABET:l4,generateString:s$,isSpecCompliantForm:a$,toJSONObject:l$,isAsyncFn:c$,isThenable:u$};function Kt(n,e,i,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),o&&(this.request=o),a&&(this.response=a)}Ve.inherits(Kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const c4=Kt.prototype,u4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{u4[n]={value:n}});Object.defineProperties(Kt,u4);Object.defineProperty(c4,"isAxiosError",{value:!0});Kt.from=(n,e,i,o,a,u)=>{const d=Object.create(c4);return Ve.toFlatObject(n,d,function(m){return m!==Error.prototype},p=>p!=="isAxiosError"),Kt.call(d,n.message,e,i,o,a),d.cause=n,d.name=n.name,u&&Object.assign(d,u),d};const d$=null;function _y(n){return Ve.isPlainObject(n)||Ve.isArray(n)}function d4(n){return Ve.endsWith(n,"[]")?n.slice(0,-2):n}function $I(n,e,i){return n?n.concat(e).map(function(a,u){return a=d4(a),!i&&u?"["+a+"]":a}).join(i?".":""):e}function h$(n){return Ve.isArray(n)&&!n.some(_y)}const f$=Ve.toFlatObject(Ve,{},null,function(e){return/^is[A-Z]/.test(e)});function bb(n,e,i){if(!Ve.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,i=Ve.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,V){return!Ve.isUndefined(V[R])});const o=i.metaTokens,a=i.visitor||w,u=i.dots,d=i.indexes,m=(i.Blob||typeof Blob<"u"&&Blob)&&Ve.isSpecCompliantForm(e);if(!Ve.isFunction(a))throw new TypeError("visitor must be a function");function k(S){if(S===null)return"";if(Ve.isDate(S))return S.toISOString();if(!m&&Ve.isBlob(S))throw new Kt("Blob is not supported. Use a Buffer instead.");return Ve.isArrayBuffer(S)||Ve.isTypedArray(S)?m&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function w(S,R,V){let L=S;if(S&&!V&&typeof S=="object"){if(Ve.endsWith(R,"{}"))R=o?R:R.slice(0,-2),S=JSON.stringify(S);else if(Ve.isArray(S)&&h$(S)||(Ve.isFileList(S)||Ve.endsWith(R,"[]"))&&(L=Ve.toArray(S)))return R=d4(R),L.forEach(function(Y,W){!(Ve.isUndefined(Y)||Y===null)&&e.append(d===!0?$I([R],W,u):d===null?R:R+"[]",k(Y))}),!1}return _y(S)?!0:(e.append($I(V,R,u),k(S)),!1)}const y=[],T=Object.assign(f$,{defaultVisitor:w,convertValue:k,isVisitable:_y});function E(S,R){if(!Ve.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+R.join("."));y.push(S),Ve.forEach(S,function(L,j){(!(Ve.isUndefined(L)||L===null)&&a.call(e,L,Ve.isString(j)?j.trim():j,R,T))===!0&&E(L,R?R.concat(j):[j])}),y.pop()}}if(!Ve.isObject(n))throw new TypeError("data must be an object");return E(n),e}function qI(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function Mw(n,e){this._pairs=[],n&&bb(n,this,e)}const h4=Mw.prototype;h4.append=function(e,i){this._pairs.push([e,i])};h4.toString=function(e){const i=e?function(o){return e.call(this,o,qI)}:qI;return this._pairs.map(function(a){return i(a[0])+"="+i(a[1])},"").join("&")};function p$(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function f4(n,e,i){if(!e)return n;const o=i&&i.encode||p$,a=i&&i.serialize;let u;if(a?u=a(e,i):u=Ve.isURLSearchParams(e)?e.toString():new Mw(e,i).toString(o),u){const d=n.indexOf("#");d!==-1&&(n=n.slice(0,d)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class m${constructor(){this.handlers=[]}use(e,i,o){return this.handlers.push({fulfilled:e,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ve.forEach(this.handlers,function(o){o!==null&&e(o)})}}const WI=m$,p4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g$=typeof URLSearchParams<"u"?URLSearchParams:Mw,b$=typeof FormData<"u"?FormData:null,k$=typeof Blob<"u"?Blob:null,v$=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),_$=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Uo={isBrowser:!0,classes:{URLSearchParams:g$,FormData:b$,Blob:k$},isStandardBrowserEnv:v$,isStandardBrowserWebWorkerEnv:_$,protocols:["http","https","file","blob","url","data"]};function y$(n,e){return bb(n,new Uo.classes.URLSearchParams,Object.assign({visitor:function(i,o,a,u){return Uo.isNode&&Ve.isBuffer(i)?(this.append(o,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function w$(n){return Ve.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function C$(n){const e={},i=Object.keys(n);let o;const a=i.length;let u;for(o=0;o<a;o++)u=i[o],e[u]=n[u];return e}function m4(n){function e(i,o,a,u){let d=i[u++];const p=Number.isFinite(+d),m=u>=i.length;return d=!d&&Ve.isArray(a)?a.length:d,m?(Ve.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!p):((!a[d]||!Ve.isObject(a[d]))&&(a[d]=[]),e(i,o,a[d],u)&&Ve.isArray(a[d])&&(a[d]=C$(a[d])),!p)}if(Ve.isFormData(n)&&Ve.isFunction(n.entries)){const i={};return Ve.forEachEntry(n,(o,a)=>{e(w$(o),a,i,0)}),i}return null}function A$(n,e,i){if(Ve.isString(n))try{return(e||JSON.parse)(n),Ve.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(n)}const Pw={transitional:p4,adapter:Uo.isNode?"http":"xhr",transformRequest:[function(e,i){const o=i.getContentType()||"",a=o.indexOf("application/json")>-1,u=Ve.isObject(e);if(u&&Ve.isHTMLForm(e)&&(e=new FormData(e)),Ve.isFormData(e))return a&&a?JSON.stringify(m4(e)):e;if(Ve.isArrayBuffer(e)||Ve.isBuffer(e)||Ve.isStream(e)||Ve.isFile(e)||Ve.isBlob(e))return e;if(Ve.isArrayBufferView(e))return e.buffer;if(Ve.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return y$(e,this.formSerializer).toString();if((p=Ve.isFileList(e))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return bb(p?{"files[]":e}:e,m&&new m,this.formSerializer)}}return u||a?(i.setContentType("application/json",!1),A$(e)):e}],transformResponse:[function(e){const i=this.transitional||Pw.transitional,o=i&&i.forcedJSONParsing,a=this.responseType==="json";if(e&&Ve.isString(e)&&(o&&!this.responseType||a)){const d=!(i&&i.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(p){if(d)throw p.name==="SyntaxError"?Kt.from(p,Kt.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Uo.classes.FormData,Blob:Uo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ve.forEach(["delete","get","head","post","put","patch"],n=>{Pw.headers[n]={}});const Nw=Pw,T$=Ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),x$=n=>{const e={};let i,o,a;return n&&n.split(`
`).forEach(function(d){a=d.indexOf(":"),i=d.substring(0,a).trim().toLowerCase(),o=d.substring(a+1).trim(),!(!i||e[i]&&T$[i])&&(i==="set-cookie"?e[i]?e[i].push(o):e[i]=[o]:e[i]=e[i]?e[i]+", "+o:o)}),e},GI=Symbol("internals");function qf(n){return n&&String(n).trim().toLowerCase()}function s0(n){return n===!1||n==null?n:Ve.isArray(n)?n.map(s0):String(n)}function E$(n){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(n);)e[o[1]]=o[2];return e}const S$=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function A_(n,e,i,o,a){if(Ve.isFunction(o))return o.call(this,e,i);if(a&&(e=i),!!Ve.isString(e)){if(Ve.isString(o))return e.indexOf(o)!==-1;if(Ve.isRegExp(o))return o.test(e)}}function D$(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,o)=>i.toUpperCase()+o)}function I$(n,e){const i=Ve.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+i,{value:function(a,u,d){return this[o].call(this,e,a,u,d)},configurable:!0})})}class kb{constructor(e){e&&this.set(e)}set(e,i,o){const a=this;function u(p,m,k){const w=qf(m);if(!w)throw new Error("header name must be a non-empty string");const y=Ve.findKey(a,w);(!y||a[y]===void 0||k===!0||k===void 0&&a[y]!==!1)&&(a[y||m]=s0(p))}const d=(p,m)=>Ve.forEach(p,(k,w)=>u(k,w,m));return Ve.isPlainObject(e)||e instanceof this.constructor?d(e,i):Ve.isString(e)&&(e=e.trim())&&!S$(e)?d(x$(e),i):e!=null&&u(i,e,o),this}get(e,i){if(e=qf(e),e){const o=Ve.findKey(this,e);if(o){const a=this[o];if(!i)return a;if(i===!0)return E$(a);if(Ve.isFunction(i))return i.call(this,a,o);if(Ve.isRegExp(i))return i.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=qf(e),e){const o=Ve.findKey(this,e);return!!(o&&this[o]!==void 0&&(!i||A_(this,this[o],o,i)))}return!1}delete(e,i){const o=this;let a=!1;function u(d){if(d=qf(d),d){const p=Ve.findKey(o,d);p&&(!i||A_(o,o[p],p,i))&&(delete o[p],a=!0)}}return Ve.isArray(e)?e.forEach(u):u(e),a}clear(e){const i=Object.keys(this);let o=i.length,a=!1;for(;o--;){const u=i[o];(!e||A_(this,this[u],u,e,!0))&&(delete this[u],a=!0)}return a}normalize(e){const i=this,o={};return Ve.forEach(this,(a,u)=>{const d=Ve.findKey(o,u);if(d){i[d]=s0(a),delete i[u];return}const p=e?D$(u):String(u).trim();p!==u&&delete i[u],i[p]=s0(a),o[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return Ve.forEach(this,(o,a)=>{o!=null&&o!==!1&&(i[a]=e&&Ve.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const o=new this(e);return i.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[GI]=this[GI]={accessors:{}}).accessors,a=this.prototype;function u(d){const p=qf(d);o[p]||(I$(a,d),o[p]=!0)}return Ve.isArray(e)?e.forEach(u):u(e),this}}kb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ve.reduceDescriptors(kb.prototype,({value:n},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(o){this[i]=o}}});Ve.freezeMethods(kb);const wa=kb;function T_(n,e){const i=this||Nw,o=e||i,a=wa.from(o.headers);let u=o.data;return Ve.forEach(n,function(p){u=p.call(i,u,a.normalize(),e?e.status:void 0)}),a.normalize(),u}function g4(n){return!!(n&&n.__CANCEL__)}function hm(n,e,i){Kt.call(this,n??"canceled",Kt.ERR_CANCELED,e,i),this.name="CanceledError"}Ve.inherits(hm,Kt,{__CANCEL__:!0});function M$(n,e,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):e(new Kt("Request failed with status code "+i.status,[Kt.ERR_BAD_REQUEST,Kt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const P$=Uo.isStandardBrowserEnv?function(){return{write:function(i,o,a,u,d,p){const m=[];m.push(i+"="+encodeURIComponent(o)),Ve.isNumber(a)&&m.push("expires="+new Date(a).toGMTString()),Ve.isString(u)&&m.push("path="+u),Ve.isString(d)&&m.push("domain="+d),p===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(i){const o=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function N$(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function B$(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function b4(n,e){return n&&!N$(e)?B$(n,e):e}const O$=Uo.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let o;function a(u){let d=u;return e&&(i.setAttribute("href",d),d=i.href),i.setAttribute("href",d),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return o=a(window.location.href),function(d){const p=Ve.isString(d)?a(d):d;return p.protocol===o.protocol&&p.host===o.host}}():function(){return function(){return!0}}();function L$(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function R$(n,e){n=n||10;const i=new Array(n),o=new Array(n);let a=0,u=0,d;return e=e!==void 0?e:1e3,function(m){const k=Date.now(),w=o[u];d||(d=k),i[a]=m,o[a]=k;let y=u,T=0;for(;y!==a;)T+=i[y++],y=y%n;if(a=(a+1)%n,a===u&&(u=(u+1)%n),k-d<e)return;const E=w&&k-w;return E?Math.round(T*1e3/E):void 0}}function KI(n,e){let i=0;const o=R$(50,250);return a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,p=u-i,m=o(p),k=u<=d;i=u;const w={loaded:u,total:d,progress:d?u/d:void 0,bytes:p,rate:m||void 0,estimated:m&&d&&k?(d-u)/m:void 0,event:a};w[e?"download":"upload"]=!0,n(w)}}const F$=typeof XMLHttpRequest<"u",j$=F$&&function(n){return new Promise(function(i,o){let a=n.data;const u=wa.from(n.headers).normalize(),d=n.responseType;let p;function m(){n.cancelToken&&n.cancelToken.unsubscribe(p),n.signal&&n.signal.removeEventListener("abort",p)}Ve.isFormData(a)&&(Uo.isStandardBrowserEnv||Uo.isStandardBrowserWebWorkerEnv?u.setContentType(!1):u.setContentType("multipart/form-data;",!1));let k=new XMLHttpRequest;if(n.auth){const E=n.auth.username||"",S=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";u.set("Authorization","Basic "+btoa(E+":"+S))}const w=b4(n.baseURL,n.url);k.open(n.method.toUpperCase(),f4(w,n.params,n.paramsSerializer),!0),k.timeout=n.timeout;function y(){if(!k)return;const E=wa.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),R={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:E,config:n,request:k};M$(function(L){i(L),m()},function(L){o(L),m()},R),k=null}if("onloadend"in k?k.onloadend=y:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(y)},k.onabort=function(){k&&(o(new Kt("Request aborted",Kt.ECONNABORTED,n,k)),k=null)},k.onerror=function(){o(new Kt("Network Error",Kt.ERR_NETWORK,n,k)),k=null},k.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const R=n.transitional||p4;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),o(new Kt(S,R.clarifyTimeoutError?Kt.ETIMEDOUT:Kt.ECONNABORTED,n,k)),k=null},Uo.isStandardBrowserEnv){const E=(n.withCredentials||O$(w))&&n.xsrfCookieName&&P$.read(n.xsrfCookieName);E&&u.set(n.xsrfHeaderName,E)}a===void 0&&u.setContentType(null),"setRequestHeader"in k&&Ve.forEach(u.toJSON(),function(S,R){k.setRequestHeader(R,S)}),Ve.isUndefined(n.withCredentials)||(k.withCredentials=!!n.withCredentials),d&&d!=="json"&&(k.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&k.addEventListener("progress",KI(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",KI(n.onUploadProgress)),(n.cancelToken||n.signal)&&(p=E=>{k&&(o(!E||E.type?new hm(null,n,k):E),k.abort(),k=null)},n.cancelToken&&n.cancelToken.subscribe(p),n.signal&&(n.signal.aborted?p():n.signal.addEventListener("abort",p)));const T=L$(w);if(T&&Uo.protocols.indexOf(T)===-1){o(new Kt("Unsupported protocol "+T+":",Kt.ERR_BAD_REQUEST,n));return}k.send(a||null)})},a0={http:d$,xhr:j$};Ve.forEach(a0,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const k4={getAdapter:n=>{n=Ve.isArray(n)?n:[n];const{length:e}=n;let i,o;for(let a=0;a<e&&(i=n[a],!(o=Ve.isString(i)?a0[i.toLowerCase()]:i));a++);if(!o)throw o===!1?new Kt(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ve.hasOwnProp(a0,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!Ve.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:a0};function x_(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new hm(null,n)}function YI(n){return x_(n),n.headers=wa.from(n.headers),n.data=T_.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),k4.getAdapter(n.adapter||Nw.adapter)(n).then(function(o){return x_(n),o.data=T_.call(n,n.transformResponse,o),o.headers=wa.from(o.headers),o},function(o){return g4(o)||(x_(n),o&&o.response&&(o.response.data=T_.call(n,n.transformResponse,o.response),o.response.headers=wa.from(o.response.headers))),Promise.reject(o)})}const QI=n=>n instanceof wa?n.toJSON():n;function oh(n,e){e=e||{};const i={};function o(k,w,y){return Ve.isPlainObject(k)&&Ve.isPlainObject(w)?Ve.merge.call({caseless:y},k,w):Ve.isPlainObject(w)?Ve.merge({},w):Ve.isArray(w)?w.slice():w}function a(k,w,y){if(Ve.isUndefined(w)){if(!Ve.isUndefined(k))return o(void 0,k,y)}else return o(k,w,y)}function u(k,w){if(!Ve.isUndefined(w))return o(void 0,w)}function d(k,w){if(Ve.isUndefined(w)){if(!Ve.isUndefined(k))return o(void 0,k)}else return o(void 0,w)}function p(k,w,y){if(y in e)return o(k,w);if(y in n)return o(void 0,k)}const m={url:u,method:u,data:u,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(k,w)=>a(QI(k),QI(w),!0)};return Ve.forEach(Object.keys(Object.assign({},n,e)),function(w){const y=m[w]||a,T=y(n[w],e[w],w);Ve.isUndefined(T)&&y!==p||(i[w]=T)}),i}const v4="1.5.0",Bw={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Bw[n]=function(o){return typeof o===n||"a"+(e<1?"n ":" ")+n}});const ZI={};Bw.transitional=function(e,i,o){function a(u,d){return"[Axios v"+v4+"] Transitional option '"+u+"'"+d+(o?". "+o:"")}return(u,d,p)=>{if(e===!1)throw new Kt(a(d," has been removed"+(i?" in "+i:"")),Kt.ERR_DEPRECATED);return i&&!ZI[d]&&(ZI[d]=!0,console.warn(a(d," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(u,d,p):!0}};function z$(n,e,i){if(typeof n!="object")throw new Kt("options must be an object",Kt.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let a=o.length;for(;a-- >0;){const u=o[a],d=e[u];if(d){const p=n[u],m=p===void 0||d(p,u,n);if(m!==!0)throw new Kt("option "+u+" must be "+m,Kt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Kt("Unknown option "+u,Kt.ERR_BAD_OPTION)}}const yy={assertOptions:z$,validators:Bw},ml=yy.validators;class _0{constructor(e){this.defaults=e,this.interceptors={request:new WI,response:new WI}}request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=oh(this.defaults,i);const{transitional:o,paramsSerializer:a,headers:u}=i;o!==void 0&&yy.assertOptions(o,{silentJSONParsing:ml.transitional(ml.boolean),forcedJSONParsing:ml.transitional(ml.boolean),clarifyTimeoutError:ml.transitional(ml.boolean)},!1),a!=null&&(Ve.isFunction(a)?i.paramsSerializer={serialize:a}:yy.assertOptions(a,{encode:ml.function,serialize:ml.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let d=u&&Ve.merge(u.common,u[i.method]);u&&Ve.forEach(["delete","get","head","post","put","patch","common"],S=>{delete u[S]}),i.headers=wa.concat(d,u);const p=[];let m=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(i)===!1||(m=m&&R.synchronous,p.unshift(R.fulfilled,R.rejected))});const k=[];this.interceptors.response.forEach(function(R){k.push(R.fulfilled,R.rejected)});let w,y=0,T;if(!m){const S=[YI.bind(this),void 0];for(S.unshift.apply(S,p),S.push.apply(S,k),T=S.length,w=Promise.resolve(i);y<T;)w=w.then(S[y++],S[y++]);return w}T=p.length;let E=i;for(y=0;y<T;){const S=p[y++],R=p[y++];try{E=S(E)}catch(V){R.call(this,V);break}}try{w=YI.call(this,E)}catch(S){return Promise.reject(S)}for(y=0,T=k.length;y<T;)w=w.then(k[y++],k[y++]);return w}getUri(e){e=oh(this.defaults,e);const i=b4(e.baseURL,e.url);return f4(i,e.params,e.paramsSerializer)}}Ve.forEach(["delete","get","head","options"],function(e){_0.prototype[e]=function(i,o){return this.request(oh(o||{},{method:e,url:i,data:(o||{}).data}))}});Ve.forEach(["post","put","patch"],function(e){function i(o){return function(u,d,p){return this.request(oh(p||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:d}))}}_0.prototype[e]=i(),_0.prototype[e+"Form"]=i(!0)});const l0=_0;class Ow{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const o=this;this.promise.then(a=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](a);o._listeners=null}),this.promise.then=a=>{let u;const d=new Promise(p=>{o.subscribe(p),u=p}).then(a);return d.cancel=function(){o.unsubscribe(u)},d},e(function(u,d,p){o.reason||(o.reason=new hm(u,d,p),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}static source(){let e;return{token:new Ow(function(a){e=a}),cancel:e}}}const V$=Ow;function U$(n){return function(i){return n.apply(null,i)}}function H$(n){return Ve.isObject(n)&&n.isAxiosError===!0}const wy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wy).forEach(([n,e])=>{wy[e]=n});const $$=wy;function _4(n){const e=new l0(n),i=t4(l0.prototype.request,e);return Ve.extend(i,l0.prototype,e,{allOwnKeys:!0}),Ve.extend(i,e,null,{allOwnKeys:!0}),i.create=function(a){return _4(oh(n,a))},i}const ai=_4(Nw);ai.Axios=l0;ai.CanceledError=hm;ai.CancelToken=V$;ai.isCancel=g4;ai.VERSION=v4;ai.toFormData=bb;ai.AxiosError=Kt;ai.Cancel=ai.CanceledError;ai.all=function(e){return Promise.all(e)};ai.spread=U$;ai.isAxiosError=H$;ai.mergeConfig=oh;ai.AxiosHeaders=wa;ai.formToJSON=n=>m4(Ve.isHTMLForm(n)?new FormData(n):n);ai.getAdapter=k4.getAdapter;ai.HttpStatusCode=$$;ai.default=ai;const q$=ai;window.axios=q$;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios.defaults.headers.common.Authorization="Bearer "+document.querySelector('meta[name="access-token"]').getAttribute("content");const W$={url:"http://localhost:8000",port:8e3,defaults:{},routes:{login:{uri:"login",methods:["GET","HEAD"]},"login.post":{uri:"login",methods:["POST"]},logout:{uri:"logout",methods:["POST"]},"password.request":{uri:"forgot-password",methods:["GET","HEAD"]},"password.reset":{uri:"reset-password/{token}",methods:["GET","HEAD"],parameters:["token"]},"password.email":{uri:"forgot-password",methods:["POST"]},"password.update":{uri:"reset-password",methods:["POST"]},register:{uri:"register",methods:["GET","HEAD"]},"user-profile-information.update":{uri:"user/profile-information",methods:["PUT"]},"user-password.update":{uri:"user/password",methods:["PUT"]},"password.confirmation":{uri:"user/confirmed-password-status",methods:["GET","HEAD"]},"password.confirm":{uri:"user/confirm-password",methods:["POST"]},"two-factor.login":{uri:"two-factor-challenge",methods:["GET","HEAD"]},"two-factor.enable":{uri:"user/two-factor-authentication",methods:["POST"]},"two-factor.confirm":{uri:"user/confirmed-two-factor-authentication",methods:["POST"]},"two-factor.disable":{uri:"user/two-factor-authentication",methods:["DELETE"]},"two-factor.qr-code":{uri:"user/two-factor-qr-code",methods:["GET","HEAD"]},"two-factor.secret-key":{uri:"user/two-factor-secret-key",methods:["GET","HEAD"]},"two-factor.recovery-codes":{uri:"user/two-factor-recovery-codes",methods:["GET","HEAD"]},"sanctum.csrf-cookie":{uri:"sanctum/csrf-cookie",methods:["GET","HEAD"]},"ignition.healthCheck":{uri:"_ignition/health-check",methods:["GET","HEAD"]},"ignition.executeSolution":{uri:"_ignition/execute-solution",methods:["POST"]},"ignition.updateConfig":{uri:"_ignition/update-config",methods:["POST"]},"api.products.index":{uri:"api/products",methods:["GET","HEAD"]},"api.products.store":{uri:"api/products",methods:["POST"]},"api.products.show":{uri:"api/products/{product}",methods:["GET","HEAD"],parameters:["product"]},"api.products.update":{uri:"api/products/{product}",methods:["PUT","PATCH"],parameters:["product"],bindings:{product:"id"}},"api.products.destroy":{uri:"api/products/{product}",methods:["DELETE"],parameters:["product"],bindings:{product:"id"}},"api.videos":{uri:"api/videos",methods:["GET","HEAD"]},"product.index":{uri:"product",methods:["GET","HEAD"]},"product.form":{uri:"product/form/{product?}",methods:["GET","HEAD"],parameters:["product"],bindings:{product:"id"}},videos:{uri:"videos",methods:["GET","HEAD"]}}};typeof window<"u"&&typeof window.Ziggy<"u"&&Object.assign(W$.routes,window.Ziggy.routes);var gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},y4={exports:{}};/*!
* sweetalert2 v11.4.0
* Released under the MIT License.
*/(function(n,e){(function(i,o){n.exports=o()})(gl,function(){const i="SweetAlert2:",o=N=>{const B=[];for(let $=0;$<N.length;$++)B.indexOf(N[$])===-1&&B.push(N[$]);return B},a=N=>N.charAt(0).toUpperCase()+N.slice(1),u=N=>Array.prototype.slice.call(N),d=N=>{console.warn("".concat(i," ").concat(typeof N=="object"?N.join(" "):N))},p=N=>{console.error("".concat(i," ").concat(N))},m=[],k=N=>{m.includes(N)||(m.push(N),d(N))},w=(N,B)=>{k('"'.concat(N,'" is deprecated and will be removed in the next major release. Please use "').concat(B,'" instead.'))},y=N=>typeof N=="function"?N():N,T=N=>N&&typeof N.toPromise=="function",E=N=>T(N)?N.toPromise():Promise.resolve(N),S=N=>N&&Promise.resolve(N)===N,R={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},V=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],L={},j=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Y=N=>Object.prototype.hasOwnProperty.call(R,N),W=N=>V.indexOf(N)!==-1,q=N=>L[N],ue=N=>{Y(N)||d('Unknown parameter "'.concat(N,'"'))},te=N=>{j.includes(N)&&d('The parameter "'.concat(N,'" is incompatible with toasts'))},F=N=>{q(N)&&w(N,q(N))},Q=N=>{!N.backdrop&&N.allowOutsideClick&&d('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const B in N)ue(B),N.toast&&te(B),F(B)},de="swal2-",ee=N=>{const B={};for(const $ in N)B[N[$]]=de+N[$];return B},K=ee(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),J=ee(["success","warning","info","question","error"]),be=()=>document.body.querySelector(".".concat(K.container)),ke=N=>{const B=be();return B?B.querySelector(N):null},ve=N=>ke(".".concat(N)),oe=()=>ve(K.popup),ne=()=>ve(K.icon),_e=()=>ve(K.title),re=()=>ve(K["html-container"]),Ie=()=>ve(K.image),he=()=>ve(K["progress-steps"]),Ae=()=>ve(K["validation-message"]),Me=()=>ke(".".concat(K.actions," .").concat(K.confirm)),Ne=()=>ke(".".concat(K.actions," .").concat(K.deny)),rt=()=>ve(K["input-label"]),ft=()=>ke(".".concat(K.loader)),Ke=()=>ke(".".concat(K.actions," .").concat(K.cancel)),dt=()=>ve(K.actions),Te=()=>ve(K.footer),Xe=()=>ve(K["timer-progress-bar"]),le=()=>ve(K.close),ce=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Se=()=>{const N=u(oe().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(($,fe)=>{const Ue=parseInt($.getAttribute("tabindex")),mt=parseInt(fe.getAttribute("tabindex"));return Ue>mt?1:Ue<mt?-1:0}),B=u(oe().querySelectorAll(ce)).filter($=>$.getAttribute("tabindex")!=="-1");return o(N.concat(B)).filter($=>pn($))},xe=()=>!Re(document.body,K["toast-shown"])&&!Re(document.body,K["no-backdrop"]),Oe=()=>oe()&&Re(oe(),K.toast),Ye=()=>oe().hasAttribute("data-loading"),We={previousBodyPadding:null},ze=(N,B)=>{if(N.textContent="",B){const fe=new DOMParser().parseFromString(B,"text/html");u(fe.querySelector("head").childNodes).forEach(Ue=>{N.appendChild(Ue)}),u(fe.querySelector("body").childNodes).forEach(Ue=>{N.appendChild(Ue)})}},Re=(N,B)=>{if(!B)return!1;const $=B.split(/\s+/);for(let fe=0;fe<$.length;fe++)if(!N.classList.contains($[fe]))return!1;return!0},He=(N,B)=>{u(N.classList).forEach($=>{!Object.values(K).includes($)&&!Object.values(J).includes($)&&!Object.values(B.showClass).includes($)&&N.classList.remove($)})},Qe=(N,B,$)=>{if(He(N,B),B.customClass&&B.customClass[$]){if(typeof B.customClass[$]!="string"&&!B.customClass[$].forEach)return d("Invalid type of customClass.".concat($,'! Expected string or iterable object, got "').concat(typeof B.customClass[$],'"'));Le(N,B.customClass[$])}},Ge=(N,B)=>{if(!B)return null;switch(B){case"select":case"textarea":case"file":return N.querySelector(".".concat(K.popup," > .").concat(K[B]));case"checkbox":return N.querySelector(".".concat(K.popup," > .").concat(K.checkbox," input"));case"radio":return N.querySelector(".".concat(K.popup," > .").concat(K.radio," input:checked"))||N.querySelector(".".concat(K.popup," > .").concat(K.radio," input:first-child"));case"range":return N.querySelector(".".concat(K.popup," > .").concat(K.range," input"));default:return N.querySelector(".".concat(K.popup," > .").concat(K.input))}},it=N=>{if(N.focus(),N.type!=="file"){const B=N.value;N.value="",N.value=B}},gt=(N,B,$)=>{!N||!B||(typeof B=="string"&&(B=B.split(/\s+/).filter(Boolean)),B.forEach(fe=>{Array.isArray(N)?N.forEach(Ue=>{$?Ue.classList.add(fe):Ue.classList.remove(fe)}):$?N.classList.add(fe):N.classList.remove(fe)}))},Le=(N,B)=>{gt(N,B,!0)},pe=(N,B)=>{gt(N,B,!1)},Ce=(N,B)=>{const $=u(N.childNodes);for(let fe=0;fe<$.length;fe++)if(Re($[fe],B))return $[fe]},nt=(N,B,$)=>{$==="".concat(parseInt($))&&($=parseInt($)),$||parseInt($)===0?N.style[B]=typeof $=="number"?"".concat($,"px"):$:N.style.removeProperty(B)},at=function(N){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";N.style.display=B},wt=N=>{N.style.display="none"},It=(N,B,$,fe)=>{const Ue=N.querySelector(B);Ue&&(Ue.style[$]=fe)},Kn=(N,B,$)=>{B?at(N,$):wt(N)},pn=N=>!!(N&&(N.offsetWidth||N.offsetHeight||N.getClientRects().length)),Pn=()=>!pn(Me())&&!pn(Ne())&&!pn(Ke()),Nn=N=>N.scrollHeight>N.clientHeight,xn=N=>{const B=window.getComputedStyle(N),$=parseFloat(B.getPropertyValue("animation-duration")||"0"),fe=parseFloat(B.getPropertyValue("transition-duration")||"0");return $>0||fe>0},En=function(N){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const $=Xe();pn($)&&(B&&($.style.transition="none",$.style.width="100%"),setTimeout(()=>{$.style.transition="width ".concat(N/1e3,"s linear"),$.style.width="0%"},10))},pi=()=>{const N=Xe(),B=parseInt(window.getComputedStyle(N).width);N.style.removeProperty("transition"),N.style.width="100%";const $=parseInt(window.getComputedStyle(N).width),fe=B/$*100;N.style.removeProperty("transition"),N.style.width="".concat(fe,"%")},Wl=()=>typeof window>"u"||typeof document>"u",ju=100,Tt={},Gl=()=>{Tt.previousActiveElement&&Tt.previousActiveElement.focus?(Tt.previousActiveElement.focus(),Tt.previousActiveElement=null):document.body&&document.body.focus()},Kh=N=>new Promise(B=>{if(!N)return B();const $=window.scrollX,fe=window.scrollY;Tt.restoreFocusTimeout=setTimeout(()=>{Gl(),B()},ju),window.scrollTo($,fe)}),Yh=`
 <div aria-labelledby="`.concat(K.title,'" aria-describedby="').concat(K["html-container"],'" class="').concat(K.popup,`" tabindex="-1">
   <button type="button" class="`).concat(K.close,`"></button>
   <ul class="`).concat(K["progress-steps"],`"></ul>
   <div class="`).concat(K.icon,`"></div>
   <img class="`).concat(K.image,`" />
   <h2 class="`).concat(K.title,'" id="').concat(K.title,`"></h2>
   <div class="`).concat(K["html-container"],'" id="').concat(K["html-container"],`"></div>
   <input class="`).concat(K.input,`" />
   <input type="file" class="`).concat(K.file,`" />
   <div class="`).concat(K.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(K.select,`"></select>
   <div class="`).concat(K.radio,`"></div>
   <label for="`).concat(K.checkbox,'" class="').concat(K.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(K.label,`"></span>
   </label>
   <textarea class="`).concat(K.textarea,`"></textarea>
   <div class="`).concat(K["validation-message"],'" id="').concat(K["validation-message"],`"></div>
   <div class="`).concat(K.actions,`">
     <div class="`).concat(K.loader,`"></div>
     <button type="button" class="`).concat(K.confirm,`"></button>
     <button type="button" class="`).concat(K.deny,`"></button>
     <button type="button" class="`).concat(K.cancel,`"></button>
   </div>
   <div class="`).concat(K.footer,`"></div>
   <div class="`).concat(K["timer-progress-bar-container"],`">
     <div class="`).concat(K["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Kl=()=>{const N=be();return N?(N.remove(),pe([document.documentElement,document.body],[K["no-backdrop"],K["toast-shown"],K["has-column"]]),!0):!1},ko=()=>{Tt.currentInstance.resetValidationMessage()},Qh=()=>{const N=oe(),B=Ce(N,K.input),$=Ce(N,K.file),fe=N.querySelector(".".concat(K.range," input")),Ue=N.querySelector(".".concat(K.range," output")),mt=Ce(N,K.select),Sn=N.querySelector(".".concat(K.checkbox," input")),ni=Ce(N,K.textarea);B.oninput=ko,$.onchange=ko,mt.onchange=ko,Sn.onchange=ko,ni.oninput=ko,fe.oninput=()=>{ko(),Ue.value=fe.value},fe.onchange=()=>{ko(),fe.nextSibling.value=fe.value}},Ai=N=>typeof N=="string"?document.querySelector(N):N,Zh=N=>{const B=oe();B.setAttribute("role",N.toast?"alert":"dialog"),B.setAttribute("aria-live",N.toast?"polite":"assertive"),N.toast||B.setAttribute("aria-modal","true")},Us=N=>{window.getComputedStyle(N).direction==="rtl"&&Le(be(),K.rtl)},Hs=N=>{const B=Kl();if(Wl()){p("SweetAlert2 requires document to initialize");return}const $=document.createElement("div");$.className=K.container,B&&Le($,K["no-transition"]),ze($,Yh);const fe=Ai(N.target);fe.appendChild($),Zh(N),Us(fe),Qh()},$s=(N,B)=>{N instanceof HTMLElement?B.appendChild(N):typeof N=="object"?ja(N,B):N&&ze(B,N)},ja=(N,B)=>{N.jquery?mi(B,N):ze(B,N.toString())},mi=(N,B)=>{if(N.textContent="",0 in B)for(let $=0;$ in B;$++)N.appendChild(B[$].cloneNode(!0));else N.appendChild(B.cloneNode(!0))},qs=(()=>{if(Wl())return!1;const N=document.createElement("div"),B={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const $ in B)if(Object.prototype.hasOwnProperty.call(B,$)&&typeof N.style[$]<"u")return B[$];return!1})(),Xh=()=>{const N=document.createElement("div");N.className=K["scrollbar-measure"],document.body.appendChild(N);const B=N.getBoundingClientRect().width-N.clientWidth;return document.body.removeChild(N),B},Tr=(N,B)=>{const $=dt(),fe=ft();!B.showConfirmButton&&!B.showDenyButton&&!B.showCancelButton?wt($):at($),Qe($,B,"actions"),Bi($,fe,B),ze(fe,B.loaderHtml),Qe(fe,B,"loader")};function Bi(N,B,$){const fe=Me(),Ue=Ne(),mt=Ke();Wt(fe,"confirm",$),Wt(Ue,"deny",$),Wt(mt,"cancel",$),za(fe,Ue,mt,$),$.reverseButtons&&($.toast?(N.insertBefore(mt,fe),N.insertBefore(Ue,fe)):(N.insertBefore(mt,B),N.insertBefore(Ue,B),N.insertBefore(fe,B)))}function za(N,B,$,fe){if(!fe.buttonsStyling)return pe([N,B,$],K.styled);Le([N,B,$],K.styled),fe.confirmButtonColor&&(N.style.backgroundColor=fe.confirmButtonColor,Le(N,K["default-outline"])),fe.denyButtonColor&&(B.style.backgroundColor=fe.denyButtonColor,Le(B,K["default-outline"])),fe.cancelButtonColor&&($.style.backgroundColor=fe.cancelButtonColor,Le($,K["default-outline"]))}function Wt(N,B,$){Kn(N,$["show".concat(a(B),"Button")],"inline-block"),ze(N,$["".concat(B,"ButtonText")]),N.setAttribute("aria-label",$["".concat(B,"ButtonAriaLabel")]),N.className=K[B],Qe(N,$,"".concat(B,"Button")),Le(N,$["".concat(B,"ButtonClass")])}function Jh(N,B){typeof B=="string"?N.style.background=B:B||Le([document.documentElement,document.body],K["no-backdrop"])}function Va(N,B){B in K?Le(N,K[B]):(d('The "position" parameter is not valid, defaulting to "center"'),Le(N,K.center))}function ar(N,B){if(B&&typeof B=="string"){const $="grow-".concat(B);$ in K&&Le(N,K[$])}}const Yl=(N,B)=>{const $=be();$&&(Jh($,B.backdrop),Va($,B.position),ar($,B.grow),Qe($,B,"container"))};var Ct={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const mn=["input","file","range","select","radio","checkbox","textarea"],zu=(N,B)=>{const $=oe(),fe=Ct.innerParams.get(N),Ue=!fe||B.input!==fe.input;mn.forEach(mt=>{const Sn=K[mt],ni=Ce($,Sn);tf(mt,B.inputAttributes),ni.className=Sn,Ue&&wt(ni)}),B.input&&(Ue&&lr(B),nf(B))},lr=N=>{if(!li[N.input])return p('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(N.input,'"'));const B=Ha(N.input),$=li[N.input](B,N);at($),setTimeout(()=>{it($)})},ef=N=>{for(let B=0;B<N.attributes.length;B++){const $=N.attributes[B].name;["type","value","style"].includes($)||N.removeAttribute($)}},tf=(N,B)=>{const $=Ge(oe(),N);if($){ef($);for(const fe in B)$.setAttribute(fe,B[fe])}},nf=N=>{const B=Ha(N.input);N.customClass&&Le(B,N.customClass.input)},Ua=(N,B)=>{(!N.placeholder||B.inputPlaceholder)&&(N.placeholder=B.inputPlaceholder)},vo=(N,B,$)=>{if($.inputLabel){N.id=K.input;const fe=document.createElement("label"),Ue=K["input-label"];fe.setAttribute("for",N.id),fe.className=Ue,Le(fe,$.customClass.inputLabel),fe.innerText=$.inputLabel,B.insertAdjacentElement("beforebegin",fe)}},Ha=N=>{const B=K[N]?K[N]:K.input;return Ce(oe(),B)},li={};li.text=li.email=li.password=li.number=li.tel=li.url=(N,B)=>(typeof B.inputValue=="string"||typeof B.inputValue=="number"?N.value=B.inputValue:S(B.inputValue)||d('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof B.inputValue,'"')),vo(N,N,B),Ua(N,B),N.type=B.input,N),li.file=(N,B)=>(vo(N,N,B),Ua(N,B),N),li.range=(N,B)=>{const $=N.querySelector("input"),fe=N.querySelector("output");return $.value=B.inputValue,$.type=B.input,fe.value=B.inputValue,vo($,N,B),N},li.select=(N,B)=>{if(N.textContent="",B.inputPlaceholder){const $=document.createElement("option");ze($,B.inputPlaceholder),$.value="",$.disabled=!0,$.selected=!0,N.appendChild($)}return vo(N,N,B),N},li.radio=N=>(N.textContent="",N),li.checkbox=(N,B)=>{const $=Ge(oe(),"checkbox");$.value="1",$.id=K.checkbox,$.checked=!!B.inputValue;const fe=N.querySelector("span");return ze(fe,B.inputPlaceholder),N},li.textarea=(N,B)=>{N.value=B.inputValue,Ua(N,B),vo(N,N,B);const $=fe=>parseInt(window.getComputedStyle(fe).marginLeft)+parseInt(window.getComputedStyle(fe).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const fe=parseInt(window.getComputedStyle(oe()).width),Ue=()=>{const mt=N.offsetWidth+$(N);mt>fe?oe().style.width="".concat(mt,"px"):oe().style.width=null};new MutationObserver(Ue).observe(N,{attributes:!0,attributeFilter:["style"]})}}),N};const rf=(N,B)=>{const $=re();Qe($,B,"htmlContainer"),B.html?($s(B.html,$),at($,"block")):B.text?($.textContent=B.text,at($,"block")):wt($),zu(N,B)},_o=(N,B)=>{const $=Te();Kn($,B.footer),B.footer&&$s(B.footer,$),Qe($,B,"footer")},Kr=(N,B)=>{const $=le();ze($,B.closeButtonHtml),Qe($,B,"closeButton"),Kn($,B.showCloseButton),$.setAttribute("aria-label",B.closeButtonAriaLabel)},Yr=(N,B)=>{const $=Ct.innerParams.get(N),fe=ne();if($&&B.icon===$.icon){Go(fe,B),Ql(fe,B);return}if(!B.icon&&!B.iconHtml)return wt(fe);if(B.icon&&Object.keys(J).indexOf(B.icon)===-1)return p('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(B.icon,'"')),wt(fe);at(fe),Go(fe,B),Ql(fe,B),Le(fe,B.showClass.icon)},Ql=(N,B)=>{for(const $ in J)B.icon!==$&&pe(N,J[$]);Le(N,J[B.icon]),of(N,B),Ws(),Qe(N,B,"icon")},Ws=()=>{const N=oe(),B=window.getComputedStyle(N).getPropertyValue("background-color"),$=N.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let fe=0;fe<$.length;fe++)$[fe].style.backgroundColor=B},Gs=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Ks=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Go=(N,B)=>{N.textContent="",B.iconHtml?ze(N,Zl(B.iconHtml)):B.icon==="success"?ze(N,Gs):B.icon==="error"?ze(N,Ks):ze(N,Zl({question:"?",warning:"!",info:"i"}[B.icon]))},of=(N,B)=>{if(B.iconColor){N.style.color=B.iconColor,N.style.borderColor=B.iconColor;for(const $ of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])It(N,$,"backgroundColor",B.iconColor);It(N,".swal2-success-ring","borderColor",B.iconColor)}},Zl=N=>'<div class="'.concat(K["icon-content"],'">').concat(N,"</div>"),Ko=(N,B)=>{const $=Ie();if(!B.imageUrl)return wt($);at($,""),$.setAttribute("src",B.imageUrl),$.setAttribute("alt",B.imageAlt),nt($,"width",B.imageWidth),nt($,"height",B.imageHeight),$.className=K.image,Qe($,B,"image")},Vu=N=>{const B=document.createElement("li");return Le(B,K["progress-step"]),ze(B,N),B},Qr=N=>{const B=document.createElement("li");return Le(B,K["progress-step-line"]),N.progressStepsDistance&&(B.style.width=N.progressStepsDistance),B},$a=(N,B)=>{const $=he();if(!B.progressSteps||B.progressSteps.length===0)return wt($);at($),$.textContent="",B.currentProgressStep>=B.progressSteps.length&&d("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),B.progressSteps.forEach((fe,Ue)=>{const mt=Vu(fe);if($.appendChild(mt),Ue===B.currentProgressStep&&Le(mt,K["active-progress-step"]),Ue!==B.progressSteps.length-1){const Sn=Qr(B);$.appendChild(Sn)}})},qa=(N,B)=>{const $=_e();Kn($,B.title||B.titleText,"block"),B.title&&$s(B.title,$),B.titleText&&($.innerText=B.titleText),Qe($,B,"title")},Xl=(N,B)=>{const $=be(),fe=oe();B.toast?(nt($,"width",B.width),fe.style.width="100%",fe.insertBefore(ft(),ne())):nt(fe,"width",B.width),nt(fe,"padding",B.padding),B.color&&(fe.style.color=B.color),B.background&&(fe.style.background=B.background),wt(Ae()),Jl(fe,B)},Jl=(N,B)=>{N.className="".concat(K.popup," ").concat(pn(N)?B.showClass.popup:""),B.toast?(Le([document.documentElement,document.body],K["toast-shown"]),Le(N,K.toast)):Le(N,K.modal),Qe(N,B,"popup"),typeof B.customClass=="string"&&Le(N,B.customClass),B.icon&&Le(N,K["icon-".concat(B.icon)])},Oi=(N,B)=>{Xl(N,B),Yl(N,B),$a(N,B),Yr(N,B),Ko(N,B),qa(N,B),Kr(N,B),rf(N,B),Tr(N,B),_o(N,B),typeof B.didRender=="function"&&B.didRender(oe())},Yo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),xr=()=>{u(document.body.children).forEach(B=>{B===be()||B.contains(be())||(B.hasAttribute("aria-hidden")&&B.setAttribute("data-previous-aria-hidden",B.getAttribute("aria-hidden")),B.setAttribute("aria-hidden","true"))})},Er=()=>{u(document.body.children).forEach(B=>{B.hasAttribute("data-previous-aria-hidden")?(B.setAttribute("aria-hidden",B.getAttribute("data-previous-aria-hidden")),B.removeAttribute("data-previous-aria-hidden")):B.removeAttribute("aria-hidden")})},Ys=["swal-title","swal-html","swal-footer"],Gi=N=>{const B=typeof N.template=="string"?document.querySelector(N.template):N.template;if(!B)return{};const $=B.content;return Sr($),Object.assign(yo($),Uu($),Qo($),ec($),sf($),tc($,Ys))},yo=N=>{const B={};return u(N.querySelectorAll("swal-param")).forEach($=>{Zr($,["name","value"]);const fe=$.getAttribute("name"),Ue=$.getAttribute("value");typeof R[fe]=="boolean"&&Ue==="false"&&(B[fe]=!1),typeof R[fe]=="object"&&(B[fe]=JSON.parse(Ue))}),B},Uu=N=>{const B={};return u(N.querySelectorAll("swal-button")).forEach($=>{Zr($,["type","color","aria-label"]);const fe=$.getAttribute("type");B["".concat(fe,"ButtonText")]=$.innerHTML,B["show".concat(a(fe),"Button")]=!0,$.hasAttribute("color")&&(B["".concat(fe,"ButtonColor")]=$.getAttribute("color")),$.hasAttribute("aria-label")&&(B["".concat(fe,"ButtonAriaLabel")]=$.getAttribute("aria-label"))}),B},Qo=N=>{const B={},$=N.querySelector("swal-image");return $&&(Zr($,["src","width","height","alt"]),$.hasAttribute("src")&&(B.imageUrl=$.getAttribute("src")),$.hasAttribute("width")&&(B.imageWidth=$.getAttribute("width")),$.hasAttribute("height")&&(B.imageHeight=$.getAttribute("height")),$.hasAttribute("alt")&&(B.imageAlt=$.getAttribute("alt"))),B},ec=N=>{const B={},$=N.querySelector("swal-icon");return $&&(Zr($,["type","color"]),$.hasAttribute("type")&&(B.icon=$.getAttribute("type")),$.hasAttribute("color")&&(B.iconColor=$.getAttribute("color")),B.iconHtml=$.innerHTML),B},sf=N=>{const B={},$=N.querySelector("swal-input");$&&(Zr($,["type","label","placeholder","value"]),B.input=$.getAttribute("type")||"text",$.hasAttribute("label")&&(B.inputLabel=$.getAttribute("label")),$.hasAttribute("placeholder")&&(B.inputPlaceholder=$.getAttribute("placeholder")),$.hasAttribute("value")&&(B.inputValue=$.getAttribute("value")));const fe=N.querySelectorAll("swal-input-option");return fe.length&&(B.inputOptions={},u(fe).forEach(Ue=>{Zr(Ue,["value"]);const mt=Ue.getAttribute("value"),Sn=Ue.innerHTML;B.inputOptions[mt]=Sn})),B},tc=(N,B)=>{const $={};for(const fe in B){const Ue=B[fe],mt=N.querySelector(Ue);mt&&(Zr(mt,[]),$[Ue.replace(/^swal-/,"")]=mt.innerHTML.trim())}return $},Sr=N=>{const B=Ys.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);u(N.children).forEach($=>{const fe=$.tagName.toLowerCase();B.indexOf(fe)===-1&&d("Unrecognized element <".concat(fe,">"))})},Zr=(N,B)=>{u(N.attributes).forEach($=>{B.indexOf($.name)===-1&&d(['Unrecognized attribute "'.concat($.name,'" on <').concat(N.tagName.toLowerCase(),">."),"".concat(B.length?"Allowed attributes are: ".concat(B.join(", ")):"To set the value, use HTML within the element.")])})};var nc={email:(N,B)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(N)?Promise.resolve():Promise.resolve(B||"Invalid email address"),url:(N,B)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(N)?Promise.resolve():Promise.resolve(B||"Invalid URL")};function ic(N){N.inputValidator||Object.keys(nc).forEach(B=>{N.input===B&&(N.inputValidator=nc[B])})}function af(N){(!N.target||typeof N.target=="string"&&!document.querySelector(N.target)||typeof N.target!="string"&&!N.target.appendChild)&&(d('Target parameter is not valid, defaulting to "body"'),N.target="body")}function Hu(N){ic(N),N.showLoaderOnConfirm&&!N.preConfirm&&d(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),af(N),typeof N.title=="string"&&(N.title=N.title.split(`
`).join("<br />")),Hs(N)}class rc{constructor(B,$){this.callback=B,this.remaining=$,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(B){const $=this.running;return $&&this.stop(),this.remaining+=B,$&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Wa=()=>{We.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(We.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(We.previousBodyPadding+Xh(),"px"))},Zo=()=>{We.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(We.previousBodyPadding,"px"),We.previousBodyPadding=null)},oc=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Re(document.body,K.iosfix)){const B=document.body.scrollTop;document.body.style.top="".concat(B*-1,"px"),Le(document.body,K.iosfix),Qs(),$u()}},$u=()=>{const N=navigator.userAgent,B=!!N.match(/iPad/i)||!!N.match(/iPhone/i),$=!!N.match(/WebKit/i);B&&$&&!N.match(/CriOS/i)&&oe().scrollHeight>window.innerHeight-44&&(be().style.paddingBottom="".concat(44,"px"))},Qs=()=>{const N=be();let B;N.ontouchstart=$=>{B=qu($)},N.ontouchmove=$=>{B&&($.preventDefault(),$.stopPropagation())}},qu=N=>{const B=N.target,$=be();return Ga(N)||Wu(N)?!1:B===$||!Nn($)&&B.tagName!=="INPUT"&&B.tagName!=="TEXTAREA"&&!(Nn(re())&&re().contains(B))},Ga=N=>N.touches&&N.touches.length&&N.touches[0].touchType==="stylus",Wu=N=>N.touches&&N.touches.length>1,on=()=>{if(Re(document.body,K.iosfix)){const N=parseInt(document.body.style.top,10);pe(document.body,K.iosfix),document.body.style.top="",document.body.scrollTop=N*-1}},Gu=10,sc=N=>{const B=be(),$=oe();typeof N.willOpen=="function"&&N.willOpen($);const Ue=window.getComputedStyle(document.body).overflowY;Xo(B,$,N),setTimeout(()=>{Zs(B,$)},Gu),xe()&&(lc(B,N.scrollbarPadding,Ue),xr()),!Oe()&&!Tt.previousActiveElement&&(Tt.previousActiveElement=document.activeElement),typeof N.didOpen=="function"&&setTimeout(()=>N.didOpen($)),pe(B,K["no-transition"])},ac=N=>{const B=oe();if(N.target!==B)return;const $=be();B.removeEventListener(qs,ac),$.style.overflowY="auto"},Zs=(N,B)=>{qs&&xn(B)?(N.style.overflowY="hidden",B.addEventListener(qs,ac)):N.style.overflowY="auto"},lc=(N,B,$)=>{oc(),B&&$!=="hidden"&&Wa(),setTimeout(()=>{N.scrollTop=0})},Xo=(N,B,$)=>{Le(N,$.showClass.backdrop),B.style.setProperty("opacity","0","important"),at(B,"grid"),setTimeout(()=>{Le(B,$.showClass.popup),B.style.removeProperty("opacity")},Gu),Le([document.documentElement,document.body],K.shown),$.heightAuto&&$.backdrop&&!$.toast&&Le([document.documentElement,document.body],K["height-auto"])},Dr=N=>{let B=oe();B||new ss,B=oe();const $=ft();Oe()?wt(ne()):cc(B,N),at($),B.setAttribute("data-loading",!0),B.setAttribute("aria-busy",!0),B.focus()},cc=(N,B)=>{const $=dt(),fe=ft();!B&&pn(Me())&&(B=Me()),at($),B&&(wt(B),fe.setAttribute("data-button-to-replace",B.className)),fe.parentNode.insertBefore(fe,B),Le([N,$],K.loading)},Ku=(N,B)=>{B.input==="select"||B.input==="radio"?uf(N,B):["text","email","number","tel","textarea"].includes(B.input)&&(T(B.inputValue)||S(B.inputValue))&&(Dr(Me()),df(N,B))},Xs=(N,B)=>{const $=N.getInput();if(!$)return null;switch(B.input){case"checkbox":return lf($);case"radio":return uc($);case"file":return cf($);default:return B.inputAutoTrim?$.value.trim():$.value}},lf=N=>N.checked?1:0,uc=N=>N.checked?N.value:null,cf=N=>N.files.length?N.getAttribute("multiple")!==null?N.files:N.files[0]:null,uf=(N,B)=>{const $=oe(),fe=Ue=>wo[B.input]($,Ir(Ue),B);T(B.inputOptions)||S(B.inputOptions)?(Dr(Me()),E(B.inputOptions).then(Ue=>{N.hideLoading(),fe(Ue)})):typeof B.inputOptions=="object"?fe(B.inputOptions):p("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof B.inputOptions))},df=(N,B)=>{const $=N.getInput();wt($),E(B.inputValue).then(fe=>{$.value=B.input==="number"?parseFloat(fe)||0:"".concat(fe),at($),$.focus(),N.hideLoading()}).catch(fe=>{p("Error in inputValue promise: ".concat(fe)),$.value="",at($),$.focus(),N.hideLoading()})},wo={select:(N,B,$)=>{const fe=Ce(N,K.select),Ue=(mt,Sn,ni)=>{const Fn=document.createElement("option");Fn.value=ni,ze(Fn,Sn),Fn.selected=Jo(ni,$.inputValue),mt.appendChild(Fn)};B.forEach(mt=>{const Sn=mt[0],ni=mt[1];if(Array.isArray(ni)){const Fn=document.createElement("optgroup");Fn.label=Sn,Fn.disabled=!1,fe.appendChild(Fn),ni.forEach(Li=>Ue(Fn,Li[1],Li[0]))}else Ue(fe,ni,Sn)}),fe.focus()},radio:(N,B,$)=>{const fe=Ce(N,K.radio);B.forEach(mt=>{const Sn=mt[0],ni=mt[1],Fn=document.createElement("input"),Li=document.createElement("label");Fn.type="radio",Fn.name=K.radio,Fn.value=Sn,Jo(Sn,$.inputValue)&&(Fn.checked=!0);const sa=document.createElement("span");ze(sa,ni),sa.className=K.label,Li.appendChild(Fn),Li.appendChild(sa),fe.appendChild(Li)});const Ue=fe.querySelectorAll("input");Ue.length&&Ue[0].focus()}},Ir=N=>{const B=[];return typeof Map<"u"&&N instanceof Map?N.forEach(($,fe)=>{let Ue=$;typeof Ue=="object"&&(Ue=Ir(Ue)),B.push([fe,Ue])}):Object.keys(N).forEach($=>{let fe=N[$];typeof fe=="object"&&(fe=Ir(fe)),B.push([$,fe])}),B},Jo=(N,B)=>B&&B.toString()===N.toString(),Ka=N=>{const B=Ct.innerParams.get(N);N.disableButtons(),B.input?cr(N,"confirm"):Qa(N,!0)},Ki=N=>{const B=Ct.innerParams.get(N);N.disableButtons(),B.returnInputValueOnDeny?cr(N,"deny"):Ya(N,!1)},Mr=(N,B)=>{N.disableButtons(),B(Yo.cancel)},cr=(N,B)=>{const $=Ct.innerParams.get(N);if(!$.input)return p('The "input" parameter is needed to be set when using returnInputValueOn'.concat(a(B)));const fe=Xs(N,$);$.inputValidator?Yu(N,fe,B):N.getInput().checkValidity()?B==="deny"?Ya(N,fe):Qa(N,fe):(N.enableButtons(),N.showValidationMessage($.validationMessage))},Yu=(N,B,$)=>{const fe=Ct.innerParams.get(N);N.disableInput(),Promise.resolve().then(()=>E(fe.inputValidator(B,fe.validationMessage))).then(mt=>{N.enableButtons(),N.enableInput(),mt?N.showValidationMessage(mt):$==="deny"?Ya(N,B):Qa(N,B)})},Ya=(N,B)=>{const $=Ct.innerParams.get(N||void 0);$.showLoaderOnDeny&&Dr(Ne()),$.preDeny?(Ct.awaitingPromise.set(N||void 0,!0),Promise.resolve().then(()=>E($.preDeny(B,$.validationMessage))).then(Ue=>{Ue===!1?N.hideLoading():N.closePopup({isDenied:!0,value:typeof Ue>"u"?B:Ue})}).catch(Ue=>hc(N||void 0,Ue))):N.closePopup({isDenied:!0,value:B})},dc=(N,B)=>{N.closePopup({isConfirmed:!0,value:B})},hc=(N,B)=>{N.rejectPromise(B)},Qa=(N,B)=>{const $=Ct.innerParams.get(N||void 0);$.showLoaderOnConfirm&&Dr(),$.preConfirm?(N.resetValidationMessage(),Ct.awaitingPromise.set(N||void 0,!0),Promise.resolve().then(()=>E($.preConfirm(B,$.validationMessage))).then(Ue=>{pn(Ae())||Ue===!1?N.hideLoading():dc(N,typeof Ue>"u"?B:Ue)}).catch(Ue=>hc(N||void 0,Ue))):dc(N,B)},Za=(N,B,$)=>{Ct.innerParams.get(N).toast?Xa(N,B,$):(Ja(B),Xr(B),fc(N,B,$))},Xa=(N,B,$)=>{B.popup.onclick=()=>{const fe=Ct.innerParams.get(N);fe&&(Js(fe)||fe.timer||fe.input)||$(Yo.close)}},Js=N=>N.showConfirmButton||N.showDenyButton||N.showCancelButton||N.showCloseButton;let ur=!1;const Ja=N=>{N.popup.onmousedown=()=>{N.container.onmouseup=function(B){N.container.onmouseup=void 0,B.target===N.container&&(ur=!0)}}},Xr=N=>{N.container.onmousedown=()=>{N.popup.onmouseup=function(B){N.popup.onmouseup=void 0,(B.target===N.popup||N.popup.contains(B.target))&&(ur=!0)}}},fc=(N,B,$)=>{B.container.onclick=fe=>{const Ue=Ct.innerParams.get(N);if(ur){ur=!1;return}fe.target===B.container&&y(Ue.allowOutsideClick)&&$(Yo.backdrop)}},Qu=()=>pn(oe()),el=()=>Me()&&Me().click(),tl=()=>Ne()&&Ne().click(),hf=()=>Ke()&&Ke().click(),Zu=(N,B,$,fe)=>{B.keydownTarget&&B.keydownHandlerAdded&&(B.keydownTarget.removeEventListener("keydown",B.keydownHandler,{capture:B.keydownListenerCapture}),B.keydownHandlerAdded=!1),$.toast||(B.keydownHandler=Ue=>nl(N,Ue,fe),B.keydownTarget=$.keydownListenerCapture?window:oe(),B.keydownListenerCapture=$.keydownListenerCapture,B.keydownTarget.addEventListener("keydown",B.keydownHandler,{capture:B.keydownListenerCapture}),B.keydownHandlerAdded=!0)},ea=(N,B,$)=>{const fe=Se();if(fe.length)return B=B+$,B===fe.length?B=0:B===-1&&(B=fe.length-1),fe[B].focus();oe().focus()},ta=["ArrowRight","ArrowDown"],pc=["ArrowLeft","ArrowUp"],nl=(N,B,$)=>{const fe=Ct.innerParams.get(N);fe&&(fe.stopKeydownPropagation&&B.stopPropagation(),B.key==="Enter"?mc(N,B,fe):B.key==="Tab"?gc(B,fe):[...ta,...pc].includes(B.key)?bc(B.key):B.key==="Escape"&&kc(B,fe,$))},mc=(N,B,$)=>{if(!(!y($.allowEnterKey)||B.isComposing)&&B.target&&N.getInput()&&B.target.outerHTML===N.getInput().outerHTML){if(["textarea","file"].includes($.input))return;el(),B.preventDefault()}},gc=(N,B)=>{const $=N.target,fe=Se();let Ue=-1;for(let mt=0;mt<fe.length;mt++)if($===fe[mt]){Ue=mt;break}N.shiftKey?ea(B,Ue,-1):ea(B,Ue,1),N.stopPropagation(),N.preventDefault()},bc=N=>{const B=Me(),$=Ne(),fe=Ke();if(![B,$,fe].includes(document.activeElement))return;const Ue=ta.includes(N)?"nextElementSibling":"previousElementSibling",mt=document.activeElement[Ue];mt instanceof HTMLElement&&mt.focus()},kc=(N,B,$)=>{y(B.allowEscapeKey)&&(N.preventDefault(),$(Yo.esc))},Xu=N=>typeof N=="object"&&N.jquery,vc=N=>N instanceof Element||Xu(N),Ju=N=>{const B={};return typeof N[0]=="object"&&!vc(N[0])?Object.assign(B,N[0]):["title","html","icon"].forEach(($,fe)=>{const Ue=N[fe];typeof Ue=="string"||vc(Ue)?B[$]=Ue:Ue!==void 0&&p("Unexpected type of ".concat($,'! Expected "string" or "Element", got ').concat(typeof Ue))}),B};function ed(){const N=this;for(var B=arguments.length,$=new Array(B),fe=0;fe<B;fe++)$[fe]=arguments[fe];return new N(...$)}function ff(N){class B extends this{_main(fe,Ue){return super._main(fe,Object.assign({},N,Ue))}}return B}const pf=()=>Tt.timeout&&Tt.timeout.getTimerLeft(),_c=()=>{if(Tt.timeout)return pi(),Tt.timeout.stop()},td=()=>{if(Tt.timeout){const N=Tt.timeout.start();return En(N),N}},Jr=()=>{const N=Tt.timeout;return N&&(N.running?_c():td())},na=N=>{if(Tt.timeout){const B=Tt.timeout.increase(N);return En(B,!0),B}},nd=()=>Tt.timeout&&Tt.timeout.isRunning();let es=!1;const Co={};function yc(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Co[N]=this,es||(document.body.addEventListener("click",mf),es=!0)}const mf=N=>{for(let B=N.target;B&&B!==document;B=B.parentNode)for(const $ in Co){const fe=B.getAttribute($);if(fe){Co[$].fire({template:fe});return}}};var ia=Object.freeze({isValidParameter:Y,isUpdatableParameter:W,isDeprecatedParameter:q,argsToParams:Ju,isVisible:Qu,clickConfirm:el,clickDeny:tl,clickCancel:hf,getContainer:be,getPopup:oe,getTitle:_e,getHtmlContainer:re,getImage:Ie,getIcon:ne,getInputLabel:rt,getCloseButton:le,getActions:dt,getConfirmButton:Me,getDenyButton:Ne,getCancelButton:Ke,getLoader:ft,getFooter:Te,getTimerProgressBar:Xe,getFocusableElements:Se,getValidationMessage:Ae,isLoading:Ye,fire:ed,mixin:ff,showLoading:Dr,enableLoading:Dr,getTimerLeft:pf,stopTimer:_c,resumeTimer:td,toggleTimer:Jr,increaseTimer:na,isTimerRunning:nd,bindClickHandler:yc});function id(){const N=Ct.innerParams.get(this);if(!N)return;const B=Ct.domCache.get(this);wt(B.loader),Oe()?N.icon&&at(ne()):rd(B),pe([B.popup,B.actions],K.loading),B.popup.removeAttribute("aria-busy"),B.popup.removeAttribute("data-loading"),B.confirmButton.disabled=!1,B.denyButton.disabled=!1,B.cancelButton.disabled=!1}const rd=N=>{const B=N.popup.getElementsByClassName(N.loader.getAttribute("data-button-to-replace"));B.length?at(B[0],"inline-block"):Pn()&&wt(N.actions)};function od(N){const B=Ct.innerParams.get(N||this),$=Ct.domCache.get(N||this);return $?Ge($.popup,B.input):null}var ts={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function wc(N,B,$,fe){Oe()?ad(N,fe):(Kh($).then(()=>ad(N,fe)),Tt.keydownTarget.removeEventListener("keydown",Tt.keydownHandler,{capture:Tt.keydownListenerCapture}),Tt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(B.setAttribute("style","display:none !important"),B.removeAttribute("class"),B.innerHTML=""):B.remove(),xe()&&(Zo(),on(),Er()),gf()}function gf(){pe([document.documentElement,document.body],[K.shown,K["height-auto"],K["no-backdrop"],K["toast-shown"]])}function ra(N){N=vf(N);const B=ts.swalPromiseResolve.get(this),$=sd(this);this.isAwaitingPromise()?N.isDismissed||(Cc(this),B(N)):$&&B(N)}function bf(){return!!Ct.awaitingPromise.get(this)}const sd=N=>{const B=oe();if(!B)return!1;const $=Ct.innerParams.get(N);if(!$||Re(B,$.hideClass.popup))return!1;pe(B,$.showClass.popup),Le(B,$.hideClass.popup);const fe=be();return pe(fe,$.showClass.backdrop),Le(fe,$.hideClass.backdrop),_f(N,B,$),!0};function kf(N){const B=ts.swalPromiseReject.get(this);Cc(this),B&&B(N)}const Cc=N=>{N.isAwaitingPromise()&&(Ct.awaitingPromise.delete(N),Ct.innerParams.get(N)||N._destroy())},vf=N=>typeof N>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},N),_f=(N,B,$)=>{const fe=be(),Ue=qs&&xn(B);typeof $.willClose=="function"&&$.willClose(B),Ue?oa(N,B,fe,$.returnFocus,$.didClose):wc(N,fe,$.returnFocus,$.didClose)},oa=(N,B,$,fe,Ue)=>{Tt.swalCloseEventFinishedCallback=wc.bind(null,N,$,fe,Ue),B.addEventListener(qs,function(mt){mt.target===B&&(Tt.swalCloseEventFinishedCallback(),delete Tt.swalCloseEventFinishedCallback)})},ad=(N,B)=>{setTimeout(()=>{typeof B=="function"&&B.bind(N.params)(),N._destroy()})};function Ac(N,B,$){const fe=Ct.domCache.get(N);B.forEach(Ue=>{fe[Ue].disabled=$})}function Tc(N,B){if(!N)return!1;if(N.type==="radio"){const fe=N.parentNode.parentNode.querySelectorAll("input");for(let Ue=0;Ue<fe.length;Ue++)fe[Ue].disabled=B}else N.disabled=B}function ld(){Ac(this,["confirmButton","denyButton","cancelButton"],!1)}function en(){Ac(this,["confirmButton","denyButton","cancelButton"],!0)}function xc(){return Tc(this.getInput(),!1)}function ns(){return Tc(this.getInput(),!0)}function Yi(N){const B=Ct.domCache.get(this),$=Ct.innerParams.get(this);ze(B.validationMessage,N),B.validationMessage.className=K["validation-message"],$.customClass&&$.customClass.validationMessage&&Le(B.validationMessage,$.customClass.validationMessage),at(B.validationMessage);const fe=this.getInput();fe&&(fe.setAttribute("aria-invalid",!0),fe.setAttribute("aria-describedby",K["validation-message"]),it(fe),Le(fe,K.inputerror))}function _n(){const N=Ct.domCache.get(this);N.validationMessage&&wt(N.validationMessage);const B=this.getInput();B&&(B.removeAttribute("aria-invalid"),B.removeAttribute("aria-describedby"),pe(B,K.inputerror))}function Ao(){return Ct.domCache.get(this).progressSteps}function Ec(N){const B=oe(),$=Ct.innerParams.get(this);if(!B||Re(B,$.hideClass.popup))return d("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const fe=eo(N),Ue=Object.assign({},$,fe);Oi(this,Ue),Ct.innerParams.set(this,Ue),Object.defineProperties(this,{params:{value:Object.assign({},this.params,N),writable:!1,enumerable:!0}})}const eo=N=>{const B={};return Object.keys(N).forEach($=>{W($)?B[$]=N[$]:d('Invalid parameter to update: "'.concat($,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),B};function il(){const N=Ct.domCache.get(this),B=Ct.innerParams.get(this);if(!B){Pr(this);return}N.popup&&Tt.swalCloseEventFinishedCallback&&(Tt.swalCloseEventFinishedCallback(),delete Tt.swalCloseEventFinishedCallback),Tt.deferDisposalTimer&&(clearTimeout(Tt.deferDisposalTimer),delete Tt.deferDisposalTimer),typeof B.didDestroy=="function"&&B.didDestroy(),cd(this)}const cd=N=>{Pr(N),delete N.params,delete Tt.keydownHandler,delete Tt.keydownTarget,delete Tt.currentInstance},Pr=N=>{N.isAwaitingPromise()?(rl(Ct,N),Ct.awaitingPromise.set(N,!0)):(rl(ts,N),rl(Ct,N))},rl=(N,B)=>{for(const $ in N)N[$].delete(B)};var ol=Object.freeze({hideLoading:id,disableLoading:id,getInput:od,close:ra,isAwaitingPromise:bf,rejectPromise:kf,closePopup:ra,closeModal:ra,closeToast:ra,enableButtons:ld,disableButtons:en,enableInput:xc,disableInput:ns,showValidationMessage:Yi,resetValidationMessage:_n,getProgressSteps:Ao,update:Ec,_destroy:il});let is;class _t{constructor(){if(typeof window>"u")return;is=this;for(var B=arguments.length,$=new Array(B),fe=0;fe<B;fe++)$[fe]=arguments[fe];const Ue=Object.freeze(this.constructor.argsToParams($));Object.defineProperties(this,{params:{value:Ue,writable:!1,enumerable:!0,configurable:!0}});const mt=this._main(this.params);Ct.promise.set(this,mt)}_main(B){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Q(Object.assign({},$,B)),Tt.currentInstance&&(Tt.currentInstance._destroy(),xe()&&Er()),Tt.currentInstance=this;const fe=rs(B,$);Hu(fe),Object.freeze(fe),Tt.timeout&&(Tt.timeout.stop(),delete Tt.timeout),clearTimeout(Tt.restoreFocusTimeout);const Ue=Sc(this);return Oi(this,fe),Ct.innerParams.set(this,fe),sl(this,Ue,fe)}then(B){return Ct.promise.get(this).then(B)}finally(B){return Ct.promise.get(this).finally(B)}}const sl=(N,B,$)=>new Promise((fe,Ue)=>{const mt=Sn=>{N.closePopup({isDismissed:!0,dismiss:Sn})};ts.swalPromiseResolve.set(N,fe),ts.swalPromiseReject.set(N,Ue),B.confirmButton.onclick=()=>Ka(N),B.denyButton.onclick=()=>Ki(N),B.cancelButton.onclick=()=>Mr(N,mt),B.closeButton.onclick=()=>mt(Yo.close),Za(N,B,mt),Zu(N,Tt,$,mt),Ku(N,$),sc($),yn(Tt,$,mt),ud(B,$),setTimeout(()=>{B.container.scrollTop=0})}),rs=(N,B)=>{const $=Gi(N),fe=Object.assign({},R,B,$,N);return fe.showClass=Object.assign({},R.showClass,fe.showClass),fe.hideClass=Object.assign({},R.hideClass,fe.hideClass),fe},Sc=N=>{const B={popup:oe(),container:be(),actions:dt(),confirmButton:Me(),denyButton:Ne(),cancelButton:Ke(),loader:ft(),closeButton:le(),validationMessage:Ae(),progressSteps:he()};return Ct.domCache.set(N,B),B},yn=(N,B,$)=>{const fe=Xe();wt(fe),B.timer&&(N.timeout=new rc(()=>{$("timer"),delete N.timeout},B.timer),B.timerProgressBar&&(at(fe),Qe(fe,B,"timerProgressBar"),setTimeout(()=>{N.timeout&&N.timeout.running&&En(B.timer)})))},ud=(N,B)=>{if(!B.toast){if(!y(B.allowEnterKey))return os();Ht(N,B)||ea(B,-1,1)}},Ht=(N,B)=>B.focusDeny&&pn(N.denyButton)?(N.denyButton.focus(),!0):B.focusCancel&&pn(N.cancelButton)?(N.cancelButton.focus(),!0):B.focusConfirm&&pn(N.confirmButton)?(N.confirmButton.focus(),!0):!1,os=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(_t.prototype,ol),Object.assign(_t,ia),Object.keys(ol).forEach(N=>{_t[N]=function(){if(is)return is[N](...arguments)}}),_t.DismissReason=Yo,_t.version="11.4.0";const ss=_t;return ss.default=ss,ss}),typeof gl<"u"&&gl.Sweetalert2&&(gl.swal=gl.sweetAlert=gl.Swal=gl.SweetAlert=gl.Sweetalert2)})(y4);var Ng=y4.exports;class G${static install(e,i={}){var o;const a=Ng.mixin(i),u=function(...d){return a.fire.call(a,...d)};Object.assign(u,Ng),Object.keys(Ng).filter(d=>typeof Ng[d]=="function").forEach(d=>{u[d]=a[d].bind(a)}),(o=e.config)!=null&&o.globalProperties&&!e.config.globalProperties.$swal?(e.config.globalProperties.$swal=u,e.provide("$swal",u)):Object.prototype.hasOwnProperty.call(e,"$swal")||(e.prototype.$swal=u,e.swal=u)}}var lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function fm(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var i=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var a=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return n[o]}})}),i}var w4={exports:{}},E_={exports:{}},S_={};function Ci(n,e){const i=Object.create(null),o=n.split(",");for(let a=0;a<o.length;a++)i[o[a]]=!0;return e?a=>!!i[a.toLowerCase()]:a=>!!i[a]}const sn={},ou=[],Pi=()=>{},gp=()=>!1,K$=/^on[^a-z]/,zl=n=>K$.test(n),vb=n=>n.startsWith("onUpdate:"),Rt=Object.assign,_b=(n,e)=>{const i=n.indexOf(e);i>-1&&n.splice(i,1)},Y$=Object.prototype.hasOwnProperty,qt=(n,e)=>Y$.call(n,e),lt=Array.isArray,su=n=>Ou(n)==="[object Map]",Vl=n=>Ou(n)==="[object Set]",Cy=n=>Ou(n)==="[object Date]",C4=n=>Ou(n)==="[object RegExp]",St=n=>typeof n=="function",Dt=n=>typeof n=="string",Ea=n=>typeof n=="symbol",nn=n=>n!==null&&typeof n=="object",yb=n=>nn(n)&&St(n.then)&&St(n.catch),Lw=Object.prototype.toString,Ou=n=>Lw.call(n),A4=n=>Ou(n).slice(8,-1),Rw=n=>Ou(n)==="[object Object]",wb=n=>Dt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Sl=Ci(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),T4=Ci("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Cb=n=>{const e=Object.create(null);return i=>e[i]||(e[i]=n(i))},Q$=/-(\w)/g,ti=Cb(n=>n.replace(Q$,(e,i)=>i?i.toUpperCase():"")),Z$=/\B([A-Z])/g,er=Cb(n=>n.replace(Z$,"-$1").toLowerCase()),Ul=Cb(n=>n.charAt(0).toUpperCase()+n.slice(1)),au=Cb(n=>n?`on${Ul(n)}`:""),wu=(n,e)=>!Object.is(n,e),lu=(n,e)=>{for(let i=0;i<n.length;i++)n[i](e)},Np=(n,e,i)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:i})},Bp=n=>{const e=parseFloat(n);return isNaN(e)?n:e},Op=n=>{const e=Dt(n)?Number(n):NaN;return isNaN(e)?n:e};let XI;const y0=()=>XI||(XI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),X$=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function J$(n){return X$.test(n)?`__props.${n}`:`__props[${JSON.stringify(n)}]`}const Fw={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},eq={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},tq="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",x4=Ci(tq),JI=2;function E4(n,e=0,i=n.length){let o=n.split(/(\r?\n)/);const a=o.filter((p,m)=>m%2===1);o=o.filter((p,m)=>m%2===0);let u=0;const d=[];for(let p=0;p<o.length;p++)if(u+=o[p].length+(a[p]&&a[p].length||0),u>=e){for(let m=p-JI;m<=p+JI||i>u;m++){if(m<0||m>=o.length)continue;const k=m+1;d.push(`${k}${" ".repeat(Math.max(3-String(k).length,0))}|  ${o[m]}`);const w=o[m].length,y=a[m]&&a[m].length||0;if(m===p){const T=e-(u-(w+y)),E=Math.max(1,i>u?w-T:i-e);d.push("   |  "+" ".repeat(T)+"^".repeat(E))}else if(m>p){if(i>u){const T=Math.max(Math.min(i-u,w),1);d.push("   |  "+"^".repeat(T))}u+=w+y}}break}return d.join(`
`)}function Nh(n){if(lt(n)){const e={};for(let i=0;i<n.length;i++){const o=n[i],a=Dt(o)?jw(o):Nh(o);if(a)for(const u in a)e[u]=a[u]}return e}else{if(Dt(n))return n;if(nn(n))return n}}const nq=/;(?![^(]*\))/g,iq=/:([^]+)/,rq=/\/\*[^]*?\*\//g;function jw(n){const e={};return n.replace(rq,"").split(nq).forEach(i=>{if(i){const o=i.split(iq);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function oq(n){let e="";if(!n||Dt(n))return e;for(const i in n){const o=n[i],a=i.startsWith("--")?i:er(i);(Dt(o)||typeof o=="number")&&(e+=`${a}:${o};`)}return e}function Bh(n){let e="";if(Dt(n))e=n;else if(lt(n))for(let i=0;i<n.length;i++){const o=Bh(n[i]);o&&(e+=o+" ")}else if(nn(n))for(const i in n)n[i]&&(e+=i+" ");return e.trim()}function S4(n){if(!n)return null;let{class:e,style:i}=n;return e&&!Dt(e)&&(n.class=Bh(e)),i&&(n.style=Nh(i)),n}const sq="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",aq="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",lq="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",D4=Ci(sq),I4=Ci(aq),M4=Ci(lq),P4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",N4=Ci(P4),cq=Ci(P4+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function zw(n){return!!n||n===""}const uq=/[>/="'\u0009\u000a\u000c\u0020]/,D_={};function dq(n){if(D_.hasOwnProperty(n))return D_[n];const e=uq.test(n);return e&&console.error(`unsafe attribute name: ${n}`),D_[n]=!e}const hq={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},fq=Ci("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),pq=Ci("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),mq=/["'&<>]/;function gq(n){const e=""+n,i=mq.exec(e);if(!i)return e;let o="",a,u,d=0;for(u=i.index;u<e.length;u++){switch(e.charCodeAt(u)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 39:a="&#39;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}d!==u&&(o+=e.slice(d,u)),d=u+1,o+=a}return d!==u?o+e.slice(d,u):o}const bq=/^-?>|<!--|-->|--!>|<!-$/g;function kq(n){return n.replace(bq,"")}function vq(n,e){if(n.length!==e.length)return!1;let i=!0;for(let o=0;i&&o<n.length;o++)i=Sa(n[o],e[o]);return i}function Sa(n,e){if(n===e)return!0;let i=Cy(n),o=Cy(e);if(i||o)return i&&o?n.getTime()===e.getTime():!1;if(i=Ea(n),o=Ea(e),i||o)return n===e;if(i=lt(n),o=lt(e),i||o)return i&&o?vq(n,e):!1;if(i=nn(n),o=nn(e),i||o){if(!i||!o)return!1;const a=Object.keys(n).length,u=Object.keys(e).length;if(a!==u)return!1;for(const d in n){const p=n.hasOwnProperty(d),m=e.hasOwnProperty(d);if(p&&!m||!p&&m||!Sa(n[d],e[d]))return!1}}return String(n)===String(e)}function pm(n,e){return n.findIndex(i=>Sa(i,e))}const B4=n=>Dt(n)?n:n==null?"":lt(n)||nn(n)&&(n.toString===Lw||!St(n.toString))?JSON.stringify(n,O4,2):String(n),O4=(n,e)=>e&&e.__v_isRef?O4(n,e.value):su(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[o,a])=>(i[`${o} =>`]=a,i),{})}:Vl(e)?{[`Set(${e.size})`]:[...e.values()]}:nn(e)&&!lt(e)&&!Rw(e)?String(e):e,_q=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:ou,EMPTY_OBJ:sn,NO:gp,NOOP:Pi,PatchFlagNames:Fw,camelize:ti,capitalize:Ul,def:Np,escapeHtml:gq,escapeHtmlComment:kq,extend:Rt,genPropsAccessExp:J$,generateCodeFrame:E4,getGlobalThis:y0,hasChanged:wu,hasOwn:qt,hyphenate:er,includeBooleanAttr:zw,invokeArrayFns:lu,isArray:lt,isBooleanAttr:cq,isBuiltInDirective:T4,isDate:Cy,isFunction:St,isGloballyWhitelisted:x4,isHTMLTag:D4,isIntegerKey:wb,isKnownHtmlAttr:fq,isKnownSvgAttr:pq,isMap:su,isModelListener:vb,isObject:nn,isOn:zl,isPlainObject:Rw,isPromise:yb,isRegExp:C4,isReservedProp:Sl,isSSRSafeAttrName:dq,isSVGTag:I4,isSet:Vl,isSpecialBooleanAttr:N4,isString:Dt,isSymbol:Ea,isVoidTag:M4,looseEqual:Sa,looseIndexOf:pm,looseToNumber:Bp,makeMap:Ci,normalizeClass:Bh,normalizeProps:S4,normalizeStyle:Nh,objectToString:Lw,parseStringStyle:jw,propsToAttrMap:hq,remove:_b,slotFlagsText:eq,stringifyStyle:oq,toDisplayString:B4,toHandlerKey:au,toNumber:Op,toRawType:A4,toTypeString:Ou},Symbol.toStringTag,{value:"Module"}));function Vw(n){throw n}function L4(n){}function In(n,e,i,o){const a=n,u=new SyntaxError(String(a));return u.code=n,u.loc=e,u}const sh=Symbol(""),Yd=Symbol(""),Ab=Symbol(""),Lp=Symbol(""),Uw=Symbol(""),Pl=Symbol(""),Hw=Symbol(""),$w=Symbol(""),Tb=Symbol(""),xb=Symbol(""),Oh=Symbol(""),Eb=Symbol(""),qw=Symbol(""),Sb=Symbol(""),Rp=Symbol(""),Db=Symbol(""),Ib=Symbol(""),Mb=Symbol(""),Pb=Symbol(""),Ww=Symbol(""),Gw=Symbol(""),mm=Symbol(""),Fp=Symbol(""),Nb=Symbol(""),Bb=Symbol(""),ah=Symbol(""),Lh=Symbol(""),Ob=Symbol(""),w0=Symbol(""),R4=Symbol(""),C0=Symbol(""),jp=Symbol(""),F4=Symbol(""),j4=Symbol(""),Lb=Symbol(""),z4=Symbol(""),V4=Symbol(""),Rb=Symbol(""),Kw=Symbol(""),Cu={[sh]:"Fragment",[Yd]:"Teleport",[Ab]:"Suspense",[Lp]:"KeepAlive",[Uw]:"BaseTransition",[Pl]:"openBlock",[Hw]:"createBlock",[$w]:"createElementBlock",[Tb]:"createVNode",[xb]:"createElementVNode",[Oh]:"createCommentVNode",[Eb]:"createTextVNode",[qw]:"createStaticVNode",[Sb]:"resolveComponent",[Rp]:"resolveDynamicComponent",[Db]:"resolveDirective",[Ib]:"resolveFilter",[Mb]:"withDirectives",[Pb]:"renderList",[Ww]:"renderSlot",[Gw]:"createSlots",[mm]:"toDisplayString",[Fp]:"mergeProps",[Nb]:"normalizeClass",[Bb]:"normalizeStyle",[ah]:"normalizeProps",[Lh]:"guardReactiveProps",[Ob]:"toHandlers",[w0]:"camelize",[R4]:"capitalize",[C0]:"toHandlerKey",[jp]:"setBlockTracking",[F4]:"pushScopeId",[j4]:"popScopeId",[Lb]:"withCtx",[z4]:"unref",[V4]:"isRef",[Rb]:"withMemo",[Kw]:"isMemoSame"};function U4(n){Object.getOwnPropertySymbols(n).forEach(e=>{Cu[e]=n[e]})}const fi={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function H4(n,e=fi){return{type:0,children:n,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function lh(n,e,i,o,a,u,d,p=!1,m=!1,k=!1,w=fi){return n&&(p?(n.helper(Pl),n.helper(xu(n.inSSR,k))):n.helper(Tu(n.inSSR,k)),d&&n.helper(Mb)),{type:13,tag:e,props:i,children:o,patchFlag:a,dynamicProps:u,directives:d,isBlock:p,disableTracking:m,isComponent:k,loc:w}}function Rh(n,e=fi){return{type:17,loc:e,elements:n}}function Ur(n,e=fi){return{type:15,loc:e,properties:n}}function Un(n,e){return{type:16,loc:fi,key:Dt(n)?Bt(n,!0):n,value:e}}function Bt(n,e=!1,i=fi,o=0){return{type:4,loc:i,content:n,isStatic:e,constType:e?3:o}}function yq(n,e){return{type:5,loc:e,content:Dt(n)?Bt(n,!1,e):n}}function uo(n,e=fi){return{type:8,loc:e,children:n}}function Zn(n,e=[],i=fi){return{type:14,loc:i,callee:n,arguments:e}}function Au(n,e=void 0,i=!1,o=!1,a=fi){return{type:18,params:n,returns:e,newline:i,isSlot:o,loc:a}}function A0(n,e,i,o=!0){return{type:19,test:n,consequent:e,alternate:i,newline:o,loc:fi}}function $4(n,e,i=!1){return{type:20,index:n,value:e,isVNode:i,loc:fi}}function q4(n){return{type:21,body:n,loc:fi}}function wq(n){return{type:22,elements:n,loc:fi}}function Cq(n,e,i){return{type:23,test:n,consequent:e,alternate:i,loc:fi}}function Aq(n,e){return{type:24,left:n,right:e,loc:fi}}function Tq(n){return{type:25,expressions:n,loc:fi}}function xq(n){return{type:26,returns:n,loc:fi}}function Tu(n,e){return n||e?Tb:xb}function xu(n,e){return n||e?Hw:$w}function Fb(n,{helper:e,removeHelper:i,inSSR:o}){n.isBlock||(n.isBlock=!0,i(Tu(o,n.isComponent)),e(Pl),e(xu(o,n.isComponent)))}const or=n=>n.type===4&&n.isStatic,nu=(n,e)=>n===e||n===er(e);function Yw(n){if(nu(n,"Teleport"))return Yd;if(nu(n,"Suspense"))return Ab;if(nu(n,"KeepAlive"))return Lp;if(nu(n,"BaseTransition"))return Uw}const Eq=/^\d|[^\$\w]/,gm=n=>!Eq.test(n),Sq=/[A-Za-z_$\xA0-\uFFFF]/,Dq=/[\.\?\w$\xA0-\uFFFF]/,Iq=/\s+[.[]\s*|\s*[.[]\s+/g,W4=n=>{n=n.trim().replace(Iq,d=>d.trim());let e=0,i=[],o=0,a=0,u=null;for(let d=0;d<n.length;d++){const p=n.charAt(d);switch(e){case 0:if(p==="[")i.push(e),e=1,o++;else if(p==="(")i.push(e),e=2,a++;else if(!(d===0?Sq:Dq).test(p))return!1;break;case 1:p==="'"||p==='"'||p==="`"?(i.push(e),e=3,u=p):p==="["?o++:p==="]"&&(--o||(e=i.pop()));break;case 2:if(p==="'"||p==='"'||p==="`")i.push(e),e=3,u=p;else if(p==="(")a++;else if(p===")"){if(d===n.length-1)return!1;--a||(e=i.pop())}break;case 3:p===u&&(e=i.pop(),u=null);break}}return!o&&!a},Mq=Pi,Qw=W4;function Zw(n,e,i){const a={source:n.source.slice(e,e+i),start:zp(n.start,n.source,e),end:n.end};return i!=null&&(a.end=zp(n.start,n.source,e+i)),a}function zp(n,e,i=e.length){return Vp(Rt({},n),e,i)}function Vp(n,e,i=e.length){let o=0,a=-1;for(let u=0;u<i;u++)e.charCodeAt(u)===10&&(o++,a=u);return n.offset+=i,n.line+=o,n.column=a===-1?n.column+i:i-a,n}function Pq(n,e){if(!n)throw new Error(e||"unexpected compiler condition")}function br(n,e,i=!1){for(let o=0;o<n.props.length;o++){const a=n.props[o];if(a.type===7&&(i||a.exp)&&(Dt(e)?a.name===e:e.test(a.name)))return a}}function bm(n,e,i=!1,o=!1){for(let a=0;a<n.props.length;a++){const u=n.props[a];if(u.type===6){if(i)continue;if(u.name===e&&(u.value||o))return u}else if(u.name==="bind"&&(u.exp||o)&&xl(u.arg,e))return u}}function xl(n,e){return!!(n&&or(n)&&n.content===e)}function G4(n){return n.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function c0(n){return n.type===5||n.type===2}function Xw(n){return n.type===7&&n.name==="slot"}function ch(n){return n.type===1&&n.tagType===3}function Up(n){return n.type===1&&n.tagType===2}const Nq=new Set([ah,Lh]);function K4(n,e=[]){if(n&&!Dt(n)&&n.type===14){const i=n.callee;if(!Dt(i)&&Nq.has(i))return K4(n.arguments[0],e.concat(n))}return[n,e]}function Hp(n,e,i){let o,a=n.type===13?n.props:n.arguments[2],u=[],d;if(a&&!Dt(a)&&a.type===14){const p=K4(a);a=p[0],u=p[1],d=u[u.length-1]}if(a==null||Dt(a))o=Ur([e]);else if(a.type===14){const p=a.arguments[0];!Dt(p)&&p.type===15?e5(e,p)||p.properties.unshift(e):a.callee===Ob?o=Zn(i.helper(Fp),[Ur([e]),a]):a.arguments.unshift(Ur([e])),!o&&(o=a)}else a.type===15?(e5(e,a)||a.properties.unshift(e),o=a):(o=Zn(i.helper(Fp),[Ur([e]),a]),d&&d.callee===Lh&&(d=u[u.length-2]));n.type===13?d?d.arguments[0]=o:n.props=o:d?d.arguments[0]=o:n.arguments[2]=o}function e5(n,e){let i=!1;if(n.key.type===4){const o=n.key.content;i=e.properties.some(a=>a.key.type===4&&a.key.content===o)}return i}function uh(n,e){return`_${e}_${n.replace(/[^\w]/g,(i,o)=>i==="-"?"_":n.charCodeAt(o).toString())}`}function Lo(n,e){if(!n||Object.keys(e).length===0)return!1;switch(n.type){case 1:for(let i=0;i<n.props.length;i++){const o=n.props[i];if(o.type===7&&(Lo(o.arg,e)||Lo(o.exp,e)))return!0}return n.children.some(i=>Lo(i,e));case 11:return Lo(n.source,e)?!0:n.children.some(i=>Lo(i,e));case 9:return n.branches.some(i=>Lo(i,e));case 10:return Lo(n.condition,e)?!0:n.children.some(i=>Lo(i,e));case 4:return!n.isStatic&&gm(n.content)&&!!e[n.content];case 8:return n.children.some(i=>nn(i)&&Lo(i,e));case 5:case 12:return Lo(n.content,e);case 2:case 3:return!1;default:return!1}}function Y4(n){return n.type===14&&n.callee===Rb?n.arguments[1].returns:n}const Bq={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:n=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${n}.sync\` should be changed to \`v-model:${n}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Ay(n,e){const i=e.options?e.options.compatConfig:e.compatConfig,o=i&&i[n];return n==="MODE"?o||3:o}function cu(n,e){const i=Ay("MODE",e),o=Ay(n,e);return i===3?o===!0:o!==!1}function dh(n,e,i,...o){return cu(n,e)}function Oq(n,e,i,...o){if(Ay(n,e)==="suppress-warning")return;const{message:u,link:d}=Bq[n],p=`(deprecation ${n}) ${typeof u=="function"?u(...o):u}${d?`
  Details: ${d}`:""}`,m=new SyntaxError(p);m.code=n,i&&(m.loc=i),e.onWarn(m)}const Lq=/&(gt|lt|amp|apos|quot);/g,Rq={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},t5={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:gp,isPreTag:gp,isCustomElement:gp,decodeEntities:n=>n.replace(Lq,(e,i)=>Rq[i]),onError:Vw,onWarn:L4,comments:!1};function Jw(n,e={}){const i=Fq(n,e),o=$r(i);return H4(eC(i,0,[]),fo(i,o))}function Fq(n,e){const i=Rt({},t5);let o;for(o in e)i[o]=e[o]===void 0?t5[o]:e[o];return{options:i,column:1,line:1,offset:0,originalSource:n,source:n,inPre:!1,inVPre:!1,onWarn:i.onWarn}}function eC(n,e,i){const o=jb(i),a=o?o.ns:0,u=[];for(;!Gq(n,e,i);){const p=n.source;let m;if(e===0||e===1){if(!n.inVPre&&zi(p,n.options.delimiters[0]))m=qq(n,e);else if(e===0&&p[0]==="<")if(p.length===1)hn(n,5,1);else if(p[1]==="!")zi(p,"<!--")?m=zq(n):zi(p,"<!DOCTYPE")?m=Wf(n):zi(p,"<![CDATA[")?a!==0?m=jq(n,i):(hn(n,1),m=Wf(n)):(hn(n,11),m=Wf(n));else if(p[1]==="/")if(p.length===2)hn(n,5,2);else if(p[2]===">"){hn(n,14,2),hi(n,3);continue}else if(/[a-z]/i.test(p[2])){hn(n,23),Ty(n,T0.End,o);continue}else hn(n,12,2),m=Wf(n);else/[a-z]/i.test(p[1])?(m=Vq(n,i),cu("COMPILER_NATIVE_TEMPLATE",n)&&m&&m.tag==="template"&&!m.props.some(k=>k.type===7&&Q4(k.name))&&(m=m.children)):p[1]==="?"?(hn(n,21,1),m=Wf(n)):hn(n,12,1)}if(m||(m=Wq(n,e)),lt(m))for(let k=0;k<m.length;k++)n5(u,m[k]);else n5(u,m)}let d=!1;if(e!==2&&e!==1){const p=n.options.whitespace!=="preserve";for(let m=0;m<u.length;m++){const k=u[m];if(k.type===2)if(n.inPre)k.content=k.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(k.content))p&&(k.content=k.content.replace(/[\t\r\n\f ]+/g," "));else{const w=u[m-1],y=u[m+1];!w||!y||p&&(w.type===3&&y.type===3||w.type===3&&y.type===1||w.type===1&&y.type===3||w.type===1&&y.type===1&&/[\r\n]/.test(k.content))?(d=!0,u[m]=null):k.content=" "}else k.type===3&&!n.options.comments&&(d=!0,u[m]=null)}if(n.inPre&&o&&n.options.isPreTag(o.tag)){const m=u[0];m&&m.type===2&&(m.content=m.content.replace(/^\r?\n/,""))}}return d?u.filter(Boolean):u}function n5(n,e){if(e.type===2){const i=jb(n);if(i&&i.type===2&&i.loc.end.offset===e.loc.start.offset){i.content+=e.content,i.loc.end=e.loc.end,i.loc.source+=e.loc.source;return}}n.push(e)}function jq(n,e){hi(n,9);const i=eC(n,3,e);return n.source.length===0?hn(n,6):hi(n,3),i}function zq(n){const e=$r(n);let i;const o=/--(\!)?>/.exec(n.source);if(!o)i=n.source.slice(4),hi(n,n.source.length),hn(n,7);else{o.index<=3&&hn(n,0),o[1]&&hn(n,10),i=n.source.slice(4,o.index);const a=n.source.slice(0,o.index);let u=1,d=0;for(;(d=a.indexOf("<!--",u))!==-1;)hi(n,d-u+1),d+4<a.length&&hn(n,16),u=d+1;hi(n,o.index+o[0].length-u+1)}return{type:3,content:i,loc:fo(n,e)}}function Wf(n){const e=$r(n),i=n.source[1]==="?"?1:2;let o;const a=n.source.indexOf(">");return a===-1?(o=n.source.slice(i),hi(n,n.source.length)):(o=n.source.slice(i,a),hi(n,a+1)),{type:3,content:o,loc:fo(n,e)}}function Vq(n,e){const i=n.inPre,o=n.inVPre,a=jb(e),u=Ty(n,T0.Start,a),d=n.inPre&&!i,p=n.inVPre&&!o;if(u.isSelfClosing||n.options.isVoidTag(u.tag))return d&&(n.inPre=!1),p&&(n.inVPre=!1),u;e.push(u);const m=n.options.getTextMode(u,a),k=eC(n,m,e);e.pop();{const w=u.props.find(y=>y.type===6&&y.name==="inline-template");if(w&&dh("COMPILER_INLINE_TEMPLATE",n,w.loc)){const y=fo(n,u.loc.end);w.value={type:2,content:y.source,loc:y}}}if(u.children=k,xy(n.source,u.tag))Ty(n,T0.End,a);else if(hn(n,24,0,u.loc.start),n.source.length===0&&u.tag.toLowerCase()==="script"){const w=k[0];w&&zi(w.loc.source,"<!--")&&hn(n,8)}return u.loc=fo(n,u.loc.start),d&&(n.inPre=!1),p&&(n.inVPre=!1),u}var T0=(n=>(n[n.Start=0]="Start",n[n.End=1]="End",n))(T0||{});const Q4=Ci("if,else,else-if,for,slot");function Ty(n,e,i){const o=$r(n),a=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(n.source),u=a[1],d=n.options.getNamespace(u,i);hi(n,a[0].length),$p(n);const p=$r(n),m=n.source;n.options.isPreTag(u)&&(n.inPre=!0);let k=i5(n,e);e===0&&!n.inVPre&&k.some(T=>T.type===7&&T.name==="pre")&&(n.inVPre=!0,Rt(n,p),n.source=m,k=i5(n,e).filter(T=>T.name!=="v-pre"));let w=!1;if(n.source.length===0?hn(n,9):(w=zi(n.source,"/>"),e===1&&w&&hn(n,4),hi(n,w?2:1)),e===1)return;let y=0;return n.inVPre||(u==="slot"?y=2:u==="template"?k.some(T=>T.type===7&&Q4(T.name))&&(y=3):Uq(u,k,n)&&(y=1)),{type:1,ns:d,tag:u,tagType:y,props:k,isSelfClosing:w,children:[],loc:fo(n,o),codegenNode:void 0}}function Uq(n,e,i){const o=i.options;if(o.isCustomElement(n))return!1;if(n==="component"||/^[A-Z]/.test(n)||Yw(n)||o.isBuiltInComponent&&o.isBuiltInComponent(n)||o.isNativeTag&&!o.isNativeTag(n))return!0;for(let a=0;a<e.length;a++){const u=e[a];if(u.type===6){if(u.name==="is"&&u.value){if(u.value.content.startsWith("vue:"))return!0;if(dh("COMPILER_IS_ON_ELEMENT",i,u.loc))return!0}}else{if(u.name==="is")return!0;if(u.name==="bind"&&xl(u.arg,"is")&&dh("COMPILER_IS_ON_ELEMENT",i,u.loc))return!0}}}function i5(n,e){const i=[],o=new Set;for(;n.source.length>0&&!zi(n.source,">")&&!zi(n.source,"/>");){if(zi(n.source,"/")){hn(n,22),hi(n,1),$p(n);continue}e===1&&hn(n,3);const a=Hq(n,o);a.type===6&&a.value&&a.name==="class"&&(a.value.content=a.value.content.replace(/\s+/g," ").trim()),e===0&&i.push(a),/^[^\t\r\n\f />]/.test(n.source)&&hn(n,15),$p(n)}return i}function Hq(n,e){var i;const o=$r(n),u=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(n.source)[0];e.has(u)&&hn(n,2),e.add(u),u[0]==="="&&hn(n,19);{const m=/["'<]/g;let k;for(;k=m.exec(u);)hn(n,17,k.index)}hi(n,u.length);let d;/^[\t\r\n\f ]*=/.test(n.source)&&($p(n),hi(n,1),$p(n),d=$q(n),d||hn(n,13));const p=fo(n,o);if(!n.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(u)){const m=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(u);let k=zi(u,"."),w=m[1]||(k||zi(u,":")?"bind":zi(u,"@")?"on":"slot"),y;if(m[2]){const E=w==="slot",S=u.lastIndexOf(m[2],u.length-(((i=m[3])==null?void 0:i.length)||0)),R=fo(n,r5(n,o,S),r5(n,o,S+m[2].length+(E&&m[3]||"").length));let V=m[2],L=!0;V.startsWith("[")?(L=!1,V.endsWith("]")?V=V.slice(1,V.length-1):(hn(n,27),V=V.slice(1))):E&&(V+=m[3]||""),y={type:4,content:V,isStatic:L,constType:L?3:0,loc:R}}if(d&&d.isQuoted){const E=d.loc;E.start.offset++,E.start.column++,E.end=zp(E.start,d.content),E.source=E.source.slice(1,-1)}const T=m[3]?m[3].slice(1).split("."):[];return k&&T.push("prop"),w==="bind"&&y&&T.includes("sync")&&dh("COMPILER_V_BIND_SYNC",n,p,y.loc.source)&&(w="model",T.splice(T.indexOf("sync"),1)),{type:7,name:w,exp:d&&{type:4,content:d.content,isStatic:!1,constType:0,loc:d.loc},arg:y,modifiers:T,loc:p}}return!n.inVPre&&zi(u,"v-")&&hn(n,26),{type:6,name:u,value:d&&{type:2,content:d.content,loc:d.loc},loc:p}}function $q(n){const e=$r(n);let i;const o=n.source[0],a=o==='"'||o==="'";if(a){hi(n,1);const u=n.source.indexOf(o);u===-1?i=bp(n,n.source.length,4):(i=bp(n,u,4),hi(n,1))}else{const u=/^[^\t\r\n\f >]+/.exec(n.source);if(!u)return;const d=/["'<=`]/g;let p;for(;p=d.exec(u[0]);)hn(n,18,p.index);i=bp(n,u[0].length,4)}return{content:i,isQuoted:a,loc:fo(n,e)}}function qq(n,e){const[i,o]=n.options.delimiters,a=n.source.indexOf(o,i.length);if(a===-1){hn(n,25);return}const u=$r(n);hi(n,i.length);const d=$r(n),p=$r(n),m=a-i.length,k=n.source.slice(0,m),w=bp(n,m,e),y=w.trim(),T=w.indexOf(y);T>0&&Vp(d,k,T);const E=m-(w.length-y.length-T);return Vp(p,k,E),hi(n,o.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:y,loc:fo(n,d,p)},loc:fo(n,u)}}function Wq(n,e){const i=e===3?["]]>"]:["<",n.options.delimiters[0]];let o=n.source.length;for(let d=0;d<i.length;d++){const p=n.source.indexOf(i[d],1);p!==-1&&o>p&&(o=p)}const a=$r(n);return{type:2,content:bp(n,o,e),loc:fo(n,a)}}function bp(n,e,i){const o=n.source.slice(0,e);return hi(n,e),i===2||i===3||!o.includes("&")?o:n.options.decodeEntities(o,i===4)}function $r(n){const{column:e,line:i,offset:o}=n;return{column:e,line:i,offset:o}}function fo(n,e,i){return i=i||$r(n),{start:e,end:i,source:n.originalSource.slice(e.offset,i.offset)}}function jb(n){return n[n.length-1]}function zi(n,e){return n.startsWith(e)}function hi(n,e){const{source:i}=n;Vp(n,i,e),n.source=i.slice(e)}function $p(n){const e=/^[\t\r\n\f ]+/.exec(n.source);e&&hi(n,e[0].length)}function r5(n,e,i){return zp(e,n.originalSource.slice(e.offset,i),i)}function hn(n,e,i,o=$r(n)){i&&(o.offset+=i,o.column+=i),n.options.onError(In(e,{start:o,end:o,source:""}))}function Gq(n,e,i){const o=n.source;switch(e){case 0:if(zi(o,"</")){for(let a=i.length-1;a>=0;--a)if(xy(o,i[a].tag))return!0}break;case 1:case 2:{const a=jb(i);if(a&&xy(o,a.tag))return!0;break}case 3:if(zi(o,"]]>"))return!0;break}return!o}function xy(n,e){return zi(n,"</")&&n.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(n[2+e.length]||">")}function Kq(n,e){u0(n,e,Z4(n,n.children[0]))}function Z4(n,e){const{children:i}=n;return i.length===1&&e.type===1&&!Up(e)}function u0(n,e,i=!1){const{children:o}=n,a=o.length;let u=0;for(let d=0;d<o.length;d++){const p=o[d];if(p.type===1&&p.tagType===0){const m=i?0:Hr(p,e);if(m>0){if(m>=2){p.codegenNode.patchFlag="-1",p.codegenNode=e.hoist(p.codegenNode),u++;continue}}else{const k=p.codegenNode;if(k.type===13){const w=tP(k);if((!w||w===512||w===1)&&J4(p,e)>=2){const y=eP(p);y&&(k.props=e.hoist(y))}k.dynamicProps&&(k.dynamicProps=e.hoist(k.dynamicProps))}}}if(p.type===1){const m=p.tagType===1;m&&e.scopes.vSlot++,u0(p,e),m&&e.scopes.vSlot--}else if(p.type===11)u0(p,e,p.children.length===1);else if(p.type===9)for(let m=0;m<p.branches.length;m++)u0(p.branches[m],e,p.branches[m].children.length===1)}u&&e.transformHoist&&e.transformHoist(o,e,n),u&&u===a&&n.type===1&&n.tagType===0&&n.codegenNode&&n.codegenNode.type===13&&lt(n.codegenNode.children)&&(n.codegenNode.children=e.hoist(Rh(n.codegenNode.children)))}function Hr(n,e){const{constantCache:i}=e;switch(n.type){case 1:if(n.tagType!==0)return 0;const o=i.get(n);if(o!==void 0)return o;const a=n.codegenNode;if(a.type!==13||a.isBlock&&n.tag!=="svg"&&n.tag!=="foreignObject")return 0;if(tP(a))return i.set(n,0),0;{let p=3;const m=J4(n,e);if(m===0)return i.set(n,0),0;m<p&&(p=m);for(let k=0;k<n.children.length;k++){const w=Hr(n.children[k],e);if(w===0)return i.set(n,0),0;w<p&&(p=w)}if(p>1)for(let k=0;k<n.props.length;k++){const w=n.props[k];if(w.type===7&&w.name==="bind"&&w.exp){const y=Hr(w.exp,e);if(y===0)return i.set(n,0),0;y<p&&(p=y)}}if(a.isBlock){for(let k=0;k<n.props.length;k++)if(n.props[k].type===7)return i.set(n,0),0;e.removeHelper(Pl),e.removeHelper(xu(e.inSSR,a.isComponent)),a.isBlock=!1,e.helper(Tu(e.inSSR,a.isComponent))}return i.set(n,p),p}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Hr(n.content,e);case 4:return n.constType;case 8:let d=3;for(let p=0;p<n.children.length;p++){const m=n.children[p];if(Dt(m)||Ea(m))continue;const k=Hr(m,e);if(k===0)return 0;k<d&&(d=k)}return d;default:return 0}}const Yq=new Set([Nb,Bb,ah,Lh]);function X4(n,e){if(n.type===14&&!Dt(n.callee)&&Yq.has(n.callee)){const i=n.arguments[0];if(i.type===4)return Hr(i,e);if(i.type===14)return X4(i,e)}return 0}function J4(n,e){let i=3;const o=eP(n);if(o&&o.type===15){const{properties:a}=o;for(let u=0;u<a.length;u++){const{key:d,value:p}=a[u],m=Hr(d,e);if(m===0)return m;m<i&&(i=m);let k;if(p.type===4?k=Hr(p,e):p.type===14?k=X4(p,e):k=0,k===0)return k;k<i&&(i=k)}}return i}function eP(n){const e=n.codegenNode;if(e.type===13)return e.props}function tP(n){const e=n.patchFlag;return e?parseInt(e,10):void 0}function nP(n,{filename:e="",prefixIdentifiers:i=!1,hoistStatic:o=!1,cacheHandlers:a=!1,nodeTransforms:u=[],directiveTransforms:d={},transformHoist:p=null,isBuiltInComponent:m=Pi,isCustomElement:k=Pi,expressionPlugins:w=[],scopeId:y=null,slotted:T=!0,ssr:E=!1,inSSR:S=!1,ssrCssVars:R="",bindingMetadata:V=sn,inline:L=!1,isTS:j=!1,onError:Y=Vw,onWarn:W=L4,compatConfig:q}){const ue=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),te={selfName:ue&&Ul(ti(ue[1])),prefixIdentifiers:i,hoistStatic:o,cacheHandlers:a,nodeTransforms:u,directiveTransforms:d,transformHoist:p,isBuiltInComponent:m,isCustomElement:k,expressionPlugins:w,scopeId:y,slotted:T,ssr:E,inSSR:S,ssrCssVars:R,bindingMetadata:V,inline:L,isTS:j,onError:Y,onWarn:W,compatConfig:q,root:n,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:n,childIndex:0,inVOnce:!1,helper(F){const Q=te.helpers.get(F)||0;return te.helpers.set(F,Q+1),F},removeHelper(F){const Q=te.helpers.get(F);if(Q){const de=Q-1;de?te.helpers.set(F,de):te.helpers.delete(F)}},helperString(F){return`_${Cu[te.helper(F)]}`},replaceNode(F){te.parent.children[te.childIndex]=te.currentNode=F},removeNode(F){const Q=te.parent.children,de=F?Q.indexOf(F):te.currentNode?te.childIndex:-1;!F||F===te.currentNode?(te.currentNode=null,te.onNodeRemoved()):te.childIndex>de&&(te.childIndex--,te.onNodeRemoved()),te.parent.children.splice(de,1)},onNodeRemoved:()=>{},addIdentifiers(F){},removeIdentifiers(F){},hoist(F){Dt(F)&&(F=Bt(F)),te.hoists.push(F);const Q=Bt(`_hoisted_${te.hoists.length}`,!1,F.loc,2);return Q.hoisted=F,Q},cache(F,Q=!1){return $4(te.cached++,F,Q)}};return te.filters=new Set,te}function iP(n,e){const i=nP(n,e);km(n,i),e.hoistStatic&&Kq(n,i),e.ssr||Qq(n,i),n.helpers=new Set([...i.helpers.keys()]),n.components=[...i.components],n.directives=[...i.directives],n.imports=i.imports,n.hoists=i.hoists,n.temps=i.temps,n.cached=i.cached,n.filters=[...i.filters]}function Qq(n,e){const{helper:i}=e,{children:o}=n;if(o.length===1){const a=o[0];if(Z4(n,a)&&a.codegenNode){const u=a.codegenNode;u.type===13&&Fb(u,e),n.codegenNode=u}else n.codegenNode=a}else if(o.length>1){let a=64;Fw[64],n.codegenNode=lh(e,i(sh),void 0,n.children,a+"",void 0,void 0,!0,void 0,!1)}}function Zq(n,e){let i=0;const o=()=>{i--};for(;i<n.children.length;i++){const a=n.children[i];Dt(a)||(e.parent=n,e.childIndex=i,e.onNodeRemoved=o,km(a,e))}}function km(n,e){e.currentNode=n;const{nodeTransforms:i}=e,o=[];for(let u=0;u<i.length;u++){const d=i[u](n,e);if(d&&(lt(d)?o.push(...d):o.push(d)),e.currentNode)n=e.currentNode;else return}switch(n.type){case 3:e.ssr||e.helper(Oh);break;case 5:e.ssr||e.helper(mm);break;case 9:for(let u=0;u<n.branches.length;u++)km(n.branches[u],e);break;case 10:case 11:case 1:case 0:Zq(n,e);break}e.currentNode=n;let a=o.length;for(;a--;)o[a]()}function tC(n,e){const i=Dt(n)?o=>o===n:o=>n.test(o);return(o,a)=>{if(o.type===1){const{props:u}=o;if(o.tagType===3&&u.some(Xw))return;const d=[];for(let p=0;p<u.length;p++){const m=u[p];if(m.type===7&&i(m.name)){u.splice(p,1),p--;const k=e(o,m,a);k&&d.push(k)}}return d}}}const zb="/*#__PURE__*/",rP=n=>`${Cu[n]}: _${Cu[n]}`;function o5(n,{mode:e="function",prefixIdentifiers:i=e==="module",sourceMap:o=!1,filename:a="template.vue.html",scopeId:u=null,optimizeImports:d=!1,runtimeGlobalName:p="Vue",runtimeModuleName:m="vue",ssrRuntimeModuleName:k="vue/server-renderer",ssr:w=!1,isTS:y=!1,inSSR:T=!1}){const E={mode:e,prefixIdentifiers:i,sourceMap:o,filename:a,scopeId:u,optimizeImports:d,runtimeGlobalName:p,runtimeModuleName:m,ssrRuntimeModuleName:k,ssr:w,isTS:y,inSSR:T,source:n.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(R){return`_${Cu[R]}`},push(R,V){E.code+=R},indent(){S(++E.indentLevel)},deindent(R=!1){R?--E.indentLevel:S(--E.indentLevel)},newline(){S(E.indentLevel)}};function S(R){E.push(`
`+"  ".repeat(R))}return E}function oP(n,e={}){const i=o5(n,e);e.onContextCreated&&e.onContextCreated(i);const{mode:o,push:a,prefixIdentifiers:u,indent:d,deindent:p,newline:m,scopeId:k,ssr:w}=i,y=Array.from(n.helpers),T=y.length>0,E=!u&&o!=="module",S=!1,R=S?o5(n,e):i;Xq(n,R);const V=w?"ssrRender":"render",j=(w?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(a(`function ${V}(${j}) {`),d(),E&&(a("with (_ctx) {"),d(),T&&(a(`const { ${y.map(rP).join(", ")} } = _Vue`),a(`
`),m())),n.components.length&&(I_(n.components,"component",i),(n.directives.length||n.temps>0)&&m()),n.directives.length&&(I_(n.directives,"directive",i),n.temps>0&&m()),n.filters&&n.filters.length&&(m(),I_(n.filters,"filter",i),m()),n.temps>0){a("let ");for(let Y=0;Y<n.temps;Y++)a(`${Y>0?", ":""}_temp${Y}`)}return(n.components.length||n.directives.length||n.temps)&&(a(`
`),m()),w||a("return "),n.codegenNode?Hi(n.codegenNode,i):a("null"),E&&(p(),a("}")),p(),a("}"),{ast:n,code:i.code,preamble:S?R.code:"",map:i.map?i.map.toJSON():void 0}}function Xq(n,e){const{ssr:i,prefixIdentifiers:o,push:a,newline:u,runtimeModuleName:d,runtimeGlobalName:p,ssrRuntimeModuleName:m}=e,k=p,w=Array.from(n.helpers);if(w.length>0&&(a(`const _Vue = ${k}
`),n.hoists.length)){const y=[Tb,xb,Oh,Eb,qw].filter(T=>w.includes(T)).map(rP).join(", ");a(`const { ${y} } = _Vue
`)}Jq(n.hoists,e),u(),a("return ")}function I_(n,e,{helper:i,push:o,newline:a,isTS:u}){const d=i(e==="filter"?Ib:e==="component"?Sb:Db);for(let p=0;p<n.length;p++){let m=n[p];const k=m.endsWith("__self");k&&(m=m.slice(0,-6)),o(`const ${uh(m,e)} = ${d}(${JSON.stringify(m)}${k?", true":""})${u?"!":""}`),p<n.length-1&&a()}}function Jq(n,e){if(!n.length)return;e.pure=!0;const{push:i,newline:o,helper:a,scopeId:u,mode:d}=e;o();for(let p=0;p<n.length;p++){const m=n[p];m&&(i(`const _hoisted_${p+1} = `),Hi(m,e),o())}e.pure=!1}function nC(n,e){const i=n.length>3||!1;e.push("["),i&&e.indent(),vm(n,e,i),i&&e.deindent(),e.push("]")}function vm(n,e,i=!1,o=!0){const{push:a,newline:u}=e;for(let d=0;d<n.length;d++){const p=n[d];Dt(p)?a(p):lt(p)?nC(p,e):Hi(p,e),d<n.length-1&&(i?(o&&a(","),u()):o&&a(", "))}}function Hi(n,e){if(Dt(n)){e.push(n);return}if(Ea(n)){e.push(e.helper(n));return}switch(n.type){case 1:case 9:case 11:Hi(n.codegenNode,e);break;case 2:eW(n,e);break;case 4:sP(n,e);break;case 5:tW(n,e);break;case 12:Hi(n.codegenNode,e);break;case 8:aP(n,e);break;case 3:iW(n,e);break;case 13:rW(n,e);break;case 14:sW(n,e);break;case 15:aW(n,e);break;case 17:lW(n,e);break;case 18:cW(n,e);break;case 19:uW(n,e);break;case 20:dW(n,e);break;case 21:vm(n.body,e,!0,!1);break}}function eW(n,e){e.push(JSON.stringify(n.content),n)}function sP(n,e){const{content:i,isStatic:o}=n;e.push(o?JSON.stringify(i):i,n)}function tW(n,e){const{push:i,helper:o,pure:a}=e;a&&i(zb),i(`${o(mm)}(`),Hi(n.content,e),i(")")}function aP(n,e){for(let i=0;i<n.children.length;i++){const o=n.children[i];Dt(o)?e.push(o):Hi(o,e)}}function nW(n,e){const{push:i}=e;if(n.type===8)i("["),aP(n,e),i("]");else if(n.isStatic){const o=gm(n.content)?n.content:JSON.stringify(n.content);i(o,n)}else i(`[${n.content}]`,n)}function iW(n,e){const{push:i,helper:o,pure:a}=e;a&&i(zb),i(`${o(Oh)}(${JSON.stringify(n.content)})`,n)}function rW(n,e){const{push:i,helper:o,pure:a}=e,{tag:u,props:d,children:p,patchFlag:m,dynamicProps:k,directives:w,isBlock:y,disableTracking:T,isComponent:E}=n;w&&i(o(Mb)+"("),y&&i(`(${o(Pl)}(${T?"true":""}), `),a&&i(zb);const S=y?xu(e.inSSR,E):Tu(e.inSSR,E);i(o(S)+"(",n),vm(oW([u,d,p,m,k]),e),i(")"),y&&i(")"),w&&(i(", "),Hi(w,e),i(")"))}function oW(n){let e=n.length;for(;e--&&n[e]==null;);return n.slice(0,e+1).map(i=>i||"null")}function sW(n,e){const{push:i,helper:o,pure:a}=e,u=Dt(n.callee)?n.callee:o(n.callee);a&&i(zb),i(u+"(",n),vm(n.arguments,e),i(")")}function aW(n,e){const{push:i,indent:o,deindent:a,newline:u}=e,{properties:d}=n;if(!d.length){i("{}",n);return}const p=d.length>1||!1;i(p?"{":"{ "),p&&o();for(let m=0;m<d.length;m++){const{key:k,value:w}=d[m];nW(k,e),i(": "),Hi(w,e),m<d.length-1&&(i(","),u())}p&&a(),i(p?"}":" }")}function lW(n,e){nC(n.elements,e)}function cW(n,e){const{push:i,indent:o,deindent:a}=e,{params:u,returns:d,body:p,newline:m,isSlot:k}=n;k&&i(`_${Cu[Lb]}(`),i("(",n),lt(u)?vm(u,e):u&&Hi(u,e),i(") => "),(m||p)&&(i("{"),o()),d?(m&&i("return "),lt(d)?nC(d,e):Hi(d,e)):p&&Hi(p,e),(m||p)&&(a(),i("}")),k&&(n.isNonScopedSlot&&i(", undefined, true"),i(")"))}function uW(n,e){const{test:i,consequent:o,alternate:a,newline:u}=n,{push:d,indent:p,deindent:m,newline:k}=e;if(i.type===4){const y=!gm(i.content);y&&d("("),sP(i,e),y&&d(")")}else d("("),Hi(i,e),d(")");u&&p(),e.indentLevel++,u||d(" "),d("? "),Hi(o,e),e.indentLevel--,u&&k(),u||d(" "),d(": ");const w=a.type===19;w||e.indentLevel++,Hi(a,e),w||e.indentLevel--,u&&m(!0)}function dW(n,e){const{push:i,helper:o,indent:a,deindent:u,newline:d}=e;i(`_cache[${n.index}] || (`),n.isVNode&&(a(),i(`${o(jp)}(-1),`),d()),i(`_cache[${n.index}] = `),Hi(n.value,e),n.isVNode&&(i(","),d(),i(`${o(jp)}(1),`),d(),i(`_cache[${n.index}]`),u()),i(")")}function hW(n,e,i=!1,o=[],a=Object.create(null)){}function fW(n,e,i){return!1}function pW(n,e){if(n&&(n.type==="ObjectProperty"||n.type==="ArrayPattern")){let i=e.length;for(;i--;){const o=e[i];if(o.type==="AssignmentExpression")return!0;if(o.type!=="ObjectProperty"&&!o.type.endsWith("Pattern"))break}}return!1}function mW(n,e){for(const i of n.params)for(const o of Tl(i))e(o)}function gW(n,e){for(const i of n.body)if(i.type==="VariableDeclaration"){if(i.declare)continue;for(const o of i.declarations)for(const a of Tl(o.id))e(a)}else if(i.type==="FunctionDeclaration"||i.type==="ClassDeclaration"){if(i.declare||!i.id)continue;e(i.id)}}function Tl(n,e=[]){switch(n.type){case"Identifier":e.push(n);break;case"MemberExpression":let i=n;for(;i.type==="MemberExpression";)i=i.object;e.push(i);break;case"ObjectPattern":for(const o of n.properties)o.type==="RestElement"?Tl(o.argument,e):Tl(o.value,e);break;case"ArrayPattern":n.elements.forEach(o=>{o&&Tl(o,e)});break;case"RestElement":Tl(n.argument,e);break;case"AssignmentPattern":Tl(n.left,e);break}return e}const bW=n=>/Function(?:Expression|Declaration)$|Method$/.test(n.type),lP=n=>n&&(n.type==="ObjectProperty"||n.type==="ObjectMethod")&&!n.computed,kW=(n,e)=>lP(e)&&e.key===n,vW=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const _W=(n,e)=>{if(n.type===5)n.content=d0(n.content,e);else if(n.type===1)for(let i=0;i<n.props.length;i++){const o=n.props[i];if(o.type===7&&o.name!=="for"){const a=o.exp,u=o.arg;a&&a.type===4&&!(o.name==="on"&&u)&&(o.exp=d0(a,e,o.name==="slot")),u&&u.type===4&&!u.isStatic&&(o.arg=d0(u,e))}}};function d0(n,e,i=!1,o=!1,a=Object.create(e.identifiers)){return n}function cP(n){return Dt(n)?n:n.type===4?n.content:n.children.map(cP).join("")}const yW=tC(/^(if|else|else-if)$/,(n,e,i)=>uP(n,e,i,(o,a,u)=>{const d=i.parent.children;let p=d.indexOf(o),m=0;for(;p-->=0;){const k=d[p];k&&k.type===9&&(m+=k.branches.length)}return()=>{if(u)o.codegenNode=a5(a,m,i);else{const k=wW(o.codegenNode);k.alternate=a5(a,m+o.branches.length-1,i)}}}));function uP(n,e,i,o){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const a=e.exp?e.exp.loc:n.loc;i.onError(In(28,e.loc)),e.exp=Bt("true",!1,a)}if(e.name==="if"){const a=s5(n,e),u={type:9,loc:n.loc,branches:[a]};if(i.replaceNode(u),o)return o(u,a,!0)}else{const a=i.parent.children;let u=a.indexOf(n);for(;u-->=-1;){const d=a[u];if(d&&d.type===3){i.removeNode(d);continue}if(d&&d.type===2&&!d.content.trim().length){i.removeNode(d);continue}if(d&&d.type===9){e.name==="else-if"&&d.branches[d.branches.length-1].condition===void 0&&i.onError(In(30,n.loc)),i.removeNode();const p=s5(n,e);d.branches.push(p);const m=o&&o(d,p,!1);km(p,i),m&&m(),i.currentNode=null}else i.onError(In(30,n.loc));break}}}function s5(n,e){const i=n.tagType===3;return{type:10,loc:n.loc,condition:e.name==="else"?void 0:e.exp,children:i&&!br(n,"for")?n.children:[n],userKey:bm(n,"key"),isTemplateIf:i}}function a5(n,e,i){return n.condition?A0(n.condition,l5(n,e,i),Zn(i.helper(Oh),['""',"true"])):l5(n,e,i)}function l5(n,e,i){const{helper:o}=i,a=Un("key",Bt(`${e}`,!1,fi,2)),{children:u}=n,d=u[0];if(u.length!==1||d.type!==1)if(u.length===1&&d.type===11){const m=d.codegenNode;return Hp(m,a,i),m}else{let m=64;return Fw[64],lh(i,o(sh),Ur([a]),u,m+"",void 0,void 0,!0,!1,!1,n.loc)}else{const m=d.codegenNode,k=Y4(m);return k.type===13&&Fb(k,i),Hp(k,a,i),m}}function wW(n){for(;;)if(n.type===19)if(n.alternate.type===19)n=n.alternate;else return n;else n.type===20&&(n=n.value)}const CW=tC("for",(n,e,i)=>{const{helper:o,removeHelper:a}=i;return dP(n,e,i,u=>{const d=Zn(o(Pb),[u.source]),p=ch(n),m=br(n,"memo"),k=bm(n,"key"),w=k&&(k.type===6?Bt(k.value.content,!0):k.exp),y=k?Un("key",w):null,T=u.source.type===4&&u.source.constType>0,E=T?64:k?128:256;return u.codegenNode=lh(i,o(sh),void 0,d,E+"",void 0,void 0,!0,!T,!1,n.loc),()=>{let S;const{children:R}=u,V=R.length!==1||R[0].type!==1,L=Up(n)?n:p&&n.children.length===1&&Up(n.children[0])?n.children[0]:null;if(L?(S=L.codegenNode,p&&y&&Hp(S,y,i)):V?S=lh(i,o(sh),y?Ur([y]):void 0,n.children,"64",void 0,void 0,!0,void 0,!1):(S=R[0].codegenNode,p&&y&&Hp(S,y,i),S.isBlock!==!T&&(S.isBlock?(a(Pl),a(xu(i.inSSR,S.isComponent))):a(Tu(i.inSSR,S.isComponent))),S.isBlock=!T,S.isBlock?(o(Pl),o(xu(i.inSSR,S.isComponent))):o(Tu(i.inSSR,S.isComponent))),m){const j=Au(x0(u.parseResult,[Bt("_cached")]));j.body=q4([uo(["const _memo = (",m.exp,")"]),uo(["if (_cached",...w?[" && _cached.key === ",w]:[],` && ${i.helperString(Kw)}(_cached, _memo)) return _cached`]),uo(["const _item = ",S]),Bt("_item.memo = _memo"),Bt("return _item")]),d.arguments.push(j,Bt("_cache"),Bt(String(i.cached++)))}else d.arguments.push(Au(x0(u.parseResult),S,!0))}})});function dP(n,e,i,o){if(!e.exp){i.onError(In(31,e.loc));return}const a=iC(e.exp);if(!a){i.onError(In(32,e.loc));return}const{addIdentifiers:u,removeIdentifiers:d,scopes:p}=i,{source:m,value:k,key:w,index:y}=a,T={type:11,loc:e.loc,source:m,valueAlias:k,keyAlias:w,objectIndexAlias:y,parseResult:a,children:ch(n)?n.children:[n]};i.replaceNode(T),p.vFor++;const E=o&&o(T);return()=>{p.vFor--,E&&E()}}const AW=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,c5=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,TW=/^\(|\)$/g;function iC(n,e){const i=n.loc,o=n.content,a=o.match(AW);if(!a)return;const[,u,d]=a,p={source:Bg(i,d.trim(),o.indexOf(d,u.length)),value:void 0,key:void 0,index:void 0};let m=u.trim().replace(TW,"").trim();const k=u.indexOf(m),w=m.match(c5);if(w){m=m.replace(c5,"").trim();const y=w[1].trim();let T;if(y&&(T=o.indexOf(y,k+m.length),p.key=Bg(i,y,T)),w[2]){const E=w[2].trim();E&&(p.index=Bg(i,E,o.indexOf(E,p.key?T+y.length:k+m.length)))}}return m&&(p.value=Bg(i,m,k)),p}function Bg(n,e,i){return Bt(e,!1,Zw(n,i,e.length))}function x0({value:n,key:e,index:i},o=[]){return xW([n,e,i,...o])}function xW(n){let e=n.length;for(;e--&&!n[e];);return n.slice(0,e+1).map((i,o)=>i||Bt("_".repeat(o+1),!1))}const u5=Bt("undefined",!1),hP=(n,e)=>{if(n.type===1&&(n.tagType===1||n.tagType===3)){const i=br(n,"slot");if(i)return i.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},EW=(n,e)=>{let i;if(ch(n)&&n.props.some(Xw)&&(i=br(n,"for"))){const o=i.parseResult=iC(i.exp);if(o){const{value:a,key:u,index:d}=o,{addIdentifiers:p,removeIdentifiers:m}=e;return a&&p(a),u&&p(u),d&&p(d),()=>{a&&m(a),u&&m(u),d&&m(d)}}}},SW=(n,e,i)=>Au(n,e,!1,!0,e.length?e[0].loc:i);function fP(n,e,i=SW){e.helper(Lb);const{children:o,loc:a}=n,u=[],d=[];let p=e.scopes.vSlot>0||e.scopes.vFor>0;const m=br(n,"slot",!0);if(m){const{arg:V,exp:L}=m;V&&!or(V)&&(p=!0),u.push(Un(V||Bt("default",!0),i(L,o,a)))}let k=!1,w=!1;const y=[],T=new Set;let E=0;for(let V=0;V<o.length;V++){const L=o[V];let j;if(!ch(L)||!(j=br(L,"slot",!0))){L.type!==3&&y.push(L);continue}if(m){e.onError(In(37,j.loc));break}k=!0;const{children:Y,loc:W}=L,{arg:q=Bt("default",!0),exp:ue,loc:te}=j;let F;or(q)?F=q?q.content:"default":p=!0;const Q=i(ue,Y,W);let de,ee,K;if(de=br(L,"if"))p=!0,d.push(A0(de.exp,Og(q,Q,E++),u5));else if(ee=br(L,/^else(-if)?$/,!0)){let J=V,be;for(;J--&&(be=o[J],be.type===3););if(be&&ch(be)&&br(be,"if")){o.splice(V,1),V--;let ke=d[d.length-1];for(;ke.alternate.type===19;)ke=ke.alternate;ke.alternate=ee.exp?A0(ee.exp,Og(q,Q,E++),u5):Og(q,Q,E++)}else e.onError(In(30,ee.loc))}else if(K=br(L,"for")){p=!0;const J=K.parseResult||iC(K.exp);J?d.push(Zn(e.helper(Pb),[J.source,Au(x0(J),Og(q,Q),!0)])):e.onError(In(32,K.loc))}else{if(F){if(T.has(F)){e.onError(In(38,te));continue}T.add(F),F==="default"&&(w=!0)}u.push(Un(q,Q))}}if(!m){const V=(L,j)=>{const Y=i(L,j,a);return e.compatConfig&&(Y.isNonScopedSlot=!0),Un("default",Y)};k?y.length&&y.some(L=>pP(L))&&(w?e.onError(In(39,y[0].loc)):u.push(V(void 0,y))):u.push(V(void 0,o))}const S=p?2:h0(n.children)?3:1;let R=Ur(u.concat(Un("_",Bt(S+"",!1))),a);return d.length&&(R=Zn(e.helper(Gw),[R,Rh(d)])),{slots:R,hasDynamicSlots:p}}function Og(n,e,i){const o=[Un("name",n),Un("fn",e)];return i!=null&&o.push(Un("key",Bt(String(i),!0))),Ur(o)}function h0(n){for(let e=0;e<n.length;e++){const i=n[e];switch(i.type){case 1:if(i.tagType===2||h0(i.children))return!0;break;case 9:if(h0(i.branches))return!0;break;case 10:case 11:if(h0(i.children))return!0;break}}return!1}function pP(n){return n.type!==2&&n.type!==12?!0:n.type===2?!!n.content.trim():pP(n.content)}const mP=new WeakMap,gP=(n,e)=>function(){if(n=e.currentNode,!(n.type===1&&(n.tagType===0||n.tagType===1)))return;const{tag:o,props:a}=n,u=n.tagType===1;let d=u?bP(n,e):`"${o}"`;const p=nn(d)&&d.callee===Rp;let m,k,w,y=0,T,E,S,R=p||d===Yd||d===Ab||!u&&(o==="svg"||o==="foreignObject");if(a.length>0){const V=rC(n,e,void 0,u,p);m=V.props,y=V.patchFlag,E=V.dynamicPropNames;const L=V.directives;S=L&&L.length?Rh(L.map(j=>kP(j,e))):void 0,V.shouldUseBlock&&(R=!0)}if(n.children.length>0)if(d===Lp&&(R=!0,y|=1024),u&&d!==Yd&&d!==Lp){const{slots:L,hasDynamicSlots:j}=fP(n,e);k=L,j&&(y|=1024)}else if(n.children.length===1&&d!==Yd){const L=n.children[0],j=L.type,Y=j===5||j===8;Y&&Hr(L,e)===0&&(y|=1),Y||j===2?k=L:k=n.children}else k=n.children;y!==0&&(w=String(y),E&&E.length&&(T=IW(E))),n.codegenNode=lh(e,d,m,k,w,T,S,!!R,!1,u,n.loc)};function bP(n,e,i=!1){let{tag:o}=n;const a=Ey(o),u=bm(n,"is");if(u)if(a||cu("COMPILER_IS_ON_ELEMENT",e)){const m=u.type===6?u.value&&Bt(u.value.content,!0):u.exp;if(m)return Zn(e.helper(Rp),[m])}else u.type===6&&u.value.content.startsWith("vue:")&&(o=u.value.content.slice(4));const d=!a&&br(n,"is");if(d&&d.exp)return Zn(e.helper(Rp),[d.exp]);const p=Yw(o)||e.isBuiltInComponent(o);return p?(i||e.helper(p),p):(e.helper(Sb),e.components.add(o),uh(o,"component"))}function rC(n,e,i=n.props,o,a,u=!1){const{tag:d,loc:p,children:m}=n;let k=[];const w=[],y=[],T=m.length>0;let E=!1,S=0,R=!1,V=!1,L=!1,j=!1,Y=!1,W=!1;const q=[],ue=Q=>{k.length&&(w.push(Ur(d5(k),p)),k=[]),Q&&w.push(Q)},te=({key:Q,value:de})=>{if(or(Q)){const ee=Q.content,K=zl(ee);if(K&&(!o||a)&&ee.toLowerCase()!=="onclick"&&ee!=="onUpdate:modelValue"&&!Sl(ee)&&(j=!0),K&&Sl(ee)&&(W=!0),de.type===20||(de.type===4||de.type===8)&&Hr(de,e)>0)return;ee==="ref"?R=!0:ee==="class"?V=!0:ee==="style"?L=!0:ee!=="key"&&!q.includes(ee)&&q.push(ee),o&&(ee==="class"||ee==="style")&&!q.includes(ee)&&q.push(ee)}else Y=!0};for(let Q=0;Q<i.length;Q++){const de=i[Q];if(de.type===6){const{loc:ee,name:K,value:J}=de;let be=!0;if(K==="ref"&&(R=!0,e.scopes.vFor>0&&k.push(Un(Bt("ref_for",!0),Bt("true")))),K==="is"&&(Ey(d)||J&&J.content.startsWith("vue:")||cu("COMPILER_IS_ON_ELEMENT",e)))continue;k.push(Un(Bt(K,!0,Zw(ee,0,K.length)),Bt(J?J.content:"",be,J?J.loc:ee)))}else{const{name:ee,arg:K,exp:J,loc:be}=de,ke=ee==="bind",ve=ee==="on";if(ee==="slot"){o||e.onError(In(40,be));continue}if(ee==="once"||ee==="memo"||ee==="is"||ke&&xl(K,"is")&&(Ey(d)||cu("COMPILER_IS_ON_ELEMENT",e))||ve&&u)continue;if((ke&&xl(K,"key")||ve&&T&&xl(K,"vue:before-update"))&&(E=!0),ke&&xl(K,"ref")&&e.scopes.vFor>0&&k.push(Un(Bt("ref_for",!0),Bt("true"))),!K&&(ke||ve)){if(Y=!0,J)if(ke){if(ue(),cu("COMPILER_V_BIND_OBJECT_ORDER",e)){w.unshift(J);continue}w.push(J)}else ue({type:14,loc:be,callee:e.helper(Ob),arguments:o?[J]:[J,"true"]});else e.onError(In(ke?34:35,be));continue}const oe=e.directiveTransforms[ee];if(oe){const{props:ne,needRuntime:_e}=oe(de,n,e);!u&&ne.forEach(te),ve&&K&&!or(K)?ue(Ur(ne,p)):k.push(...ne),_e&&(y.push(de),Ea(_e)&&mP.set(de,_e))}else T4(ee)||(y.push(de),T&&(E=!0))}}let F;if(w.length?(ue(),w.length>1?F=Zn(e.helper(Fp),w,p):F=w[0]):k.length&&(F=Ur(d5(k),p)),Y?S|=16:(V&&!o&&(S|=2),L&&!o&&(S|=4),q.length&&(S|=8),j&&(S|=32)),!E&&(S===0||S===32)&&(R||W||y.length>0)&&(S|=512),!e.inSSR&&F)switch(F.type){case 15:let Q=-1,de=-1,ee=!1;for(let be=0;be<F.properties.length;be++){const ke=F.properties[be].key;or(ke)?ke.content==="class"?Q=be:ke.content==="style"&&(de=be):ke.isHandlerKey||(ee=!0)}const K=F.properties[Q],J=F.properties[de];ee?F=Zn(e.helper(ah),[F]):(K&&!or(K.value)&&(K.value=Zn(e.helper(Nb),[K.value])),J&&(L||J.value.type===4&&J.value.content.trim()[0]==="["||J.value.type===17)&&(J.value=Zn(e.helper(Bb),[J.value])));break;case 14:break;default:F=Zn(e.helper(ah),[Zn(e.helper(Lh),[F])]);break}return{props:F,directives:y,patchFlag:S,dynamicPropNames:q,shouldUseBlock:E}}function d5(n){const e=new Map,i=[];for(let o=0;o<n.length;o++){const a=n[o];if(a.key.type===8||!a.key.isStatic){i.push(a);continue}const u=a.key.content,d=e.get(u);d?(u==="style"||u==="class"||zl(u))&&DW(d,a):(e.set(u,a),i.push(a))}return i}function DW(n,e){n.value.type===17?n.value.elements.push(e.value):n.value=Rh([n.value,e.value],n.loc)}function kP(n,e){const i=[],o=mP.get(n);o?i.push(e.helperString(o)):(e.helper(Db),e.directives.add(n.name),i.push(uh(n.name,"directive")));const{loc:a}=n;if(n.exp&&i.push(n.exp),n.arg&&(n.exp||i.push("void 0"),i.push(n.arg)),Object.keys(n.modifiers).length){n.arg||(n.exp||i.push("void 0"),i.push("void 0"));const u=Bt("true",!1,a);i.push(Ur(n.modifiers.map(d=>Un(d,u)),a))}return Rh(i,n.loc)}function IW(n){let e="[";for(let i=0,o=n.length;i<o;i++)e+=JSON.stringify(n[i]),i<o-1&&(e+=", ");return e+"]"}function Ey(n){return n==="component"||n==="Component"}const MW=(n,e)=>{if(Up(n)){const{children:i,loc:o}=n,{slotName:a,slotProps:u}=vP(n,e),d=[e.prefixIdentifiers?"_ctx.$slots":"$slots",a,"{}","undefined","true"];let p=2;u&&(d[2]=u,p=3),i.length&&(d[3]=Au([],i,!1,!1,o),p=4),e.scopeId&&!e.slotted&&(p=5),d.splice(p),n.codegenNode=Zn(e.helper(Ww),d,o)}};function vP(n,e){let i='"default"',o;const a=[];for(let u=0;u<n.props.length;u++){const d=n.props[u];d.type===6?d.value&&(d.name==="name"?i=JSON.stringify(d.value.content):(d.name=ti(d.name),a.push(d))):d.name==="bind"&&xl(d.arg,"name")?d.exp&&(i=d.exp):(d.name==="bind"&&d.arg&&or(d.arg)&&(d.arg.content=ti(d.arg.content)),a.push(d))}if(a.length>0){const{props:u,directives:d}=rC(n,e,a,!1,!1);o=u,d.length&&e.onError(In(36,d[0].loc))}return{slotName:i,slotProps:o}}const PW=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,oC=(n,e,i,o)=>{const{loc:a,modifiers:u,arg:d}=n;!n.exp&&!u.length&&i.onError(In(35,a));let p;if(d.type===4)if(d.isStatic){let y=d.content;y.startsWith("vue:")&&(y=`vnode-${y.slice(4)}`);const T=e.tagType!==0||y.startsWith("vnode")||!/[A-Z]/.test(y)?au(ti(y)):`on:${y}`;p=Bt(T,!0,d.loc)}else p=uo([`${i.helperString(C0)}(`,d,")"]);else p=d,p.children.unshift(`${i.helperString(C0)}(`),p.children.push(")");let m=n.exp;m&&!m.content.trim()&&(m=void 0);let k=i.cacheHandlers&&!m&&!i.inVOnce;if(m){const y=Qw(m.content),T=!(y||PW.test(m.content)),E=m.content.includes(";");(T||k&&y)&&(m=uo([`${T?"$event":"(...args)"} => ${E?"{":"("}`,m,E?"}":")"]))}let w={props:[Un(p,m||Bt("() => {}",!1,a))]};return o&&(w=o(w)),k&&(w.props[0].value=i.cache(w.props[0].value)),w.props.forEach(y=>y.key.isHandlerKey=!0),w},_P=(n,e,i)=>{const{exp:o,modifiers:a,loc:u}=n,d=n.arg;return d.type!==4?(d.children.unshift("("),d.children.push(') || ""')):d.isStatic||(d.content=`${d.content} || ""`),a.includes("camel")&&(d.type===4?d.isStatic?d.content=ti(d.content):d.content=`${i.helperString(w0)}(${d.content})`:(d.children.unshift(`${i.helperString(w0)}(`),d.children.push(")"))),i.inSSR||(a.includes("prop")&&h5(d,"."),a.includes("attr")&&h5(d,"^")),!o||o.type===4&&!o.content.trim()?(i.onError(In(34,u)),{props:[Un(d,Bt("",!0,u))]}):{props:[Un(d,o)]}},h5=(n,e)=>{n.type===4?n.isStatic?n.content=e+n.content:n.content=`\`${e}\${${n.content}}\``:(n.children.unshift(`'${e}' + (`),n.children.push(")"))},NW=(n,e)=>{if(n.type===0||n.type===1||n.type===11||n.type===10)return()=>{const i=n.children;let o,a=!1;for(let u=0;u<i.length;u++){const d=i[u];if(c0(d)){a=!0;for(let p=u+1;p<i.length;p++){const m=i[p];if(c0(m))o||(o=i[u]=uo([d],d.loc)),o.children.push(" + ",m),i.splice(p,1),p--;else{o=void 0;break}}}}if(!(!a||i.length===1&&(n.type===0||n.type===1&&n.tagType===0&&!n.props.find(u=>u.type===7&&!e.directiveTransforms[u.name])&&n.tag!=="template")))for(let u=0;u<i.length;u++){const d=i[u];if(c0(d)||d.type===8){const p=[];(d.type!==2||d.content!==" ")&&p.push(d),!e.ssr&&Hr(d,e)===0&&p.push("1"),i[u]={type:12,content:d,loc:d.loc,codegenNode:Zn(e.helper(Eb),p)}}}}},f5=new WeakSet,BW=(n,e)=>{if(n.type===1&&br(n,"once",!0))return f5.has(n)||e.inVOnce||e.inSSR?void 0:(f5.add(n),e.inVOnce=!0,e.helper(jp),()=>{e.inVOnce=!1;const i=e.currentNode;i.codegenNode&&(i.codegenNode=e.cache(i.codegenNode,!0))})},sC=(n,e,i)=>{const{exp:o,arg:a}=n;if(!o)return i.onError(In(41,n.loc)),Lg();const u=o.loc.source,d=o.type===4?o.content:u,p=i.bindingMetadata[u];if(p==="props"||p==="props-aliased")return i.onError(In(44,o.loc)),Lg();const m=!1;if(!d.trim()||!Qw(d)&&!m)return i.onError(In(42,o.loc)),Lg();const k=a||Bt("modelValue",!0),w=a?or(a)?`onUpdate:${ti(a.content)}`:uo(['"onUpdate:" + ',a]):"onUpdate:modelValue";let y;const T=i.isTS?"($event: any)":"$event";y=uo([`${T} => ((`,o,") = $event)"]);const E=[Un(k,n.exp),Un(w,y)];if(n.modifiers.length&&e.tagType===1){const S=n.modifiers.map(V=>(gm(V)?V:JSON.stringify(V))+": true").join(", "),R=a?or(a)?`${a.content}Modifiers`:uo([a,' + "Modifiers"']):"modelModifiers";E.push(Un(R,Bt(`{ ${S} }`,!1,n.loc,2)))}return Lg(E)};function Lg(n=[]){return{props:n}}const OW=/[\w).+\-_$\]]/,LW=(n,e)=>{cu("COMPILER_FILTER",e)&&(n.type===5&&E0(n.content,e),n.type===1&&n.props.forEach(i=>{i.type===7&&i.name!=="for"&&i.exp&&E0(i.exp,e)}))};function E0(n,e){if(n.type===4)p5(n,e);else for(let i=0;i<n.children.length;i++){const o=n.children[i];typeof o=="object"&&(o.type===4?p5(o,e):o.type===8?E0(n,e):o.type===5&&E0(o.content,e))}}function p5(n,e){const i=n.content;let o=!1,a=!1,u=!1,d=!1,p=0,m=0,k=0,w=0,y,T,E,S,R=[];for(E=0;E<i.length;E++)if(T=y,y=i.charCodeAt(E),o)y===39&&T!==92&&(o=!1);else if(a)y===34&&T!==92&&(a=!1);else if(u)y===96&&T!==92&&(u=!1);else if(d)y===47&&T!==92&&(d=!1);else if(y===124&&i.charCodeAt(E+1)!==124&&i.charCodeAt(E-1)!==124&&!p&&!m&&!k)S===void 0?(w=E+1,S=i.slice(0,E).trim()):V();else{switch(y){case 34:a=!0;break;case 39:o=!0;break;case 96:u=!0;break;case 40:k++;break;case 41:k--;break;case 91:m++;break;case 93:m--;break;case 123:p++;break;case 125:p--;break}if(y===47){let L=E-1,j;for(;L>=0&&(j=i.charAt(L),j===" ");L--);(!j||!OW.test(j))&&(d=!0)}}S===void 0?S=i.slice(0,E).trim():w!==0&&V();function V(){R.push(i.slice(w,E).trim()),w=E+1}if(R.length){for(E=0;E<R.length;E++)S=RW(S,R[E],e);n.content=S}}function RW(n,e,i){i.helper(Ib);const o=e.indexOf("(");if(o<0)return i.filters.add(e),`${uh(e,"filter")}(${n})`;{const a=e.slice(0,o),u=e.slice(o+1);return i.filters.add(a),`${uh(a,"filter")}(${n}${u!==")"?","+u:u}`}}const m5=new WeakSet,FW=(n,e)=>{if(n.type===1){const i=br(n,"memo");return!i||m5.has(n)?void 0:(m5.add(n),()=>{const o=n.codegenNode||e.currentNode.codegenNode;o&&o.type===13&&(n.tagType!==1&&Fb(o,e),n.codegenNode=Zn(e.helper(Rb),[i.exp,Au(void 0,o),"_cache",String(e.cached++)]))})}};function yP(n){return[[BW,yW,FW,CW,LW,MW,gP,hP,NW],{on:oC,bind:_P,model:sC}]}function wP(n,e={}){const i=e.onError||Vw,o=e.mode==="module";e.prefixIdentifiers===!0?i(In(47)):o&&i(In(48));const a=!1;e.cacheHandlers&&i(In(49)),e.scopeId&&!o&&i(In(50));const u=Dt(n)?Jw(n,e):n,[d,p]=yP();return iP(u,Rt({},e,{prefixIdentifiers:a,nodeTransforms:[...d,...e.nodeTransforms||[]],directiveTransforms:Rt({},p,e.directiveTransforms||{})})),oP(u,Rt({},e,{prefixIdentifiers:a}))}const CP=()=>({props:[]}),aC=Symbol(""),lC=Symbol(""),cC=Symbol(""),uC=Symbol(""),S0=Symbol(""),dC=Symbol(""),hC=Symbol(""),fC=Symbol(""),pC=Symbol(""),mC=Symbol("");U4({[aC]:"vModelRadio",[lC]:"vModelCheckbox",[cC]:"vModelText",[uC]:"vModelSelect",[S0]:"vModelDynamic",[dC]:"withModifiers",[hC]:"withKeys",[fC]:"vShow",[pC]:"Transition",[mC]:"TransitionGroup"});let Md;function jW(n,e=!1){return Md||(Md=document.createElement("div")),e?(Md.innerHTML=`<div foo="${n.replace(/"/g,"&quot;")}">`,Md.children[0].getAttribute("foo")):(Md.innerHTML=n,Md.textContent)}const zW=Ci("style,iframe,script,noscript",!0),gC={isVoidTag:M4,isNativeTag:n=>D4(n)||I4(n),isPreTag:n=>n==="pre",decodeEntities:jW,isBuiltInComponent:n=>{if(nu(n,"Transition"))return pC;if(nu(n,"TransitionGroup"))return mC},getNamespace(n,e){let i=e?e.ns:0;if(e&&i===2)if(e.tag==="annotation-xml"){if(n==="svg")return 1;e.props.some(o=>o.type===6&&o.name==="encoding"&&o.value!=null&&(o.value.content==="text/html"||o.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&n!=="mglyph"&&n!=="malignmark"&&(i=0);else e&&i===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(i=0);if(i===0){if(n==="svg")return 1;if(n==="math")return 2}return i},getTextMode({tag:n,ns:e}){if(e===0){if(n==="textarea"||n==="title")return 1;if(zW(n))return 2}return 0}},AP=n=>{n.type===1&&n.props.forEach((e,i)=>{e.type===6&&e.name==="style"&&e.value&&(n.props[i]={type:7,name:"bind",arg:Bt("style",!0,e.loc),exp:VW(e.value.content,e.loc),modifiers:[],loc:e.loc})})},VW=(n,e)=>{const i=jw(n);return Bt(JSON.stringify(i),!1,e,3)};function Ca(n,e){return In(n,e)}const UW=(n,e,i)=>{const{exp:o,loc:a}=n;return o||i.onError(Ca(53,a)),e.children.length&&(i.onError(Ca(54,a)),e.children.length=0),{props:[Un(Bt("innerHTML",!0,a),o||Bt("",!0))]}},HW=(n,e,i)=>{const{exp:o,loc:a}=n;return o||i.onError(Ca(55,a)),e.children.length&&(i.onError(Ca(56,a)),e.children.length=0),{props:[Un(Bt("textContent",!0),o?Hr(o,i)>0?o:Zn(i.helperString(mm),[o],a):Bt("",!0))]}},$W=(n,e,i)=>{const o=sC(n,e,i);if(!o.props.length||e.tagType===1)return o;n.arg&&i.onError(Ca(58,n.arg.loc));const{tag:a}=e,u=i.isCustomElement(a);if(a==="input"||a==="textarea"||a==="select"||u){let d=cC,p=!1;if(a==="input"||u){const m=bm(e,"type");if(m){if(m.type===7)d=S0;else if(m.value)switch(m.value.content){case"radio":d=aC;break;case"checkbox":d=lC;break;case"file":p=!0,i.onError(Ca(59,n.loc));break}}else G4(e)&&(d=S0)}else a==="select"&&(d=uC);p||(o.needRuntime=i.helper(d))}else i.onError(Ca(57,n.loc));return o.props=o.props.filter(d=>!(d.key.type===4&&d.key.content==="modelValue")),o},qW=Ci("passive,once,capture"),WW=Ci("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),GW=Ci("left,right"),TP=Ci("onkeyup,onkeydown,onkeypress",!0),KW=(n,e,i,o)=>{const a=[],u=[],d=[];for(let p=0;p<e.length;p++){const m=e[p];m==="native"&&dh("COMPILER_V_ON_NATIVE",i)||qW(m)?d.push(m):GW(m)?or(n)?TP(n.content)?a.push(m):u.push(m):(a.push(m),u.push(m)):WW(m)?u.push(m):a.push(m)}return{keyModifiers:a,nonKeyModifiers:u,eventOptionModifiers:d}},g5=(n,e)=>or(n)&&n.content.toLowerCase()==="onclick"?Bt(e,!0):n.type!==4?uo(["(",n,`) === "onClick" ? "${e}" : (`,n,")"]):n,YW=(n,e,i)=>oC(n,e,i,o=>{const{modifiers:a}=n;if(!a.length)return o;let{key:u,value:d}=o.props[0];const{keyModifiers:p,nonKeyModifiers:m,eventOptionModifiers:k}=KW(u,a,i,n.loc);if(m.includes("right")&&(u=g5(u,"onContextmenu")),m.includes("middle")&&(u=g5(u,"onMouseup")),m.length&&(d=Zn(i.helper(dC),[d,JSON.stringify(m)])),p.length&&(!or(u)||TP(u.content))&&(d=Zn(i.helper(hC),[d,JSON.stringify(p)])),k.length){const w=k.map(Ul).join("");u=or(u)?Bt(`${u.content}${w}`,!0):uo(["(",u,`) + "${w}"`])}return{props:[Un(u,d)]}}),QW=(n,e,i)=>{const{exp:o,loc:a}=n;return o||i.onError(Ca(61,a)),{props:[],needRuntime:i.helper(fC)}},ZW=(n,e)=>{n.type===1&&n.tagType===0&&(n.tag==="script"||n.tag==="style")&&e.removeNode()},xP=[AP],EP={cloak:CP,html:UW,text:HW,model:$W,on:YW,show:QW};function SP(n,e={}){return wP(n,Rt({},gC,e,{nodeTransforms:[ZW,...xP,...e.nodeTransforms||[]],directiveTransforms:Rt({},EP,e.directiveTransforms||{}),transformHoist:null}))}function XW(n,e={}){return Jw(n,Rt({},gC,e))}const JW=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:Uw,CAMELIZE:w0,CAPITALIZE:R4,CREATE_BLOCK:Hw,CREATE_COMMENT:Oh,CREATE_ELEMENT_BLOCK:$w,CREATE_ELEMENT_VNODE:xb,CREATE_SLOTS:Gw,CREATE_STATIC:qw,CREATE_TEXT:Eb,CREATE_VNODE:Tb,DOMDirectiveTransforms:EP,DOMNodeTransforms:xP,FRAGMENT:sh,GUARD_REACTIVE_PROPS:Lh,IS_MEMO_SAME:Kw,IS_REF:V4,KEEP_ALIVE:Lp,MERGE_PROPS:Fp,NORMALIZE_CLASS:Nb,NORMALIZE_PROPS:ah,NORMALIZE_STYLE:Bb,OPEN_BLOCK:Pl,POP_SCOPE_ID:j4,PUSH_SCOPE_ID:F4,RENDER_LIST:Pb,RENDER_SLOT:Ww,RESOLVE_COMPONENT:Sb,RESOLVE_DIRECTIVE:Db,RESOLVE_DYNAMIC_COMPONENT:Rp,RESOLVE_FILTER:Ib,SET_BLOCK_TRACKING:jp,SUSPENSE:Ab,TELEPORT:Yd,TO_DISPLAY_STRING:mm,TO_HANDLERS:Ob,TO_HANDLER_KEY:C0,TRANSITION:pC,TRANSITION_GROUP:mC,TS_NODE_TYPES:vW,UNREF:z4,V_MODEL_CHECKBOX:lC,V_MODEL_DYNAMIC:S0,V_MODEL_RADIO:aC,V_MODEL_SELECT:uC,V_MODEL_TEXT:cC,V_ON_WITH_KEYS:hC,V_ON_WITH_MODIFIERS:dC,V_SHOW:fC,WITH_CTX:Lb,WITH_DIRECTIVES:Mb,WITH_MEMO:Rb,advancePositionWithClone:zp,advancePositionWithMutation:Vp,assert:Pq,baseCompile:wP,baseParse:Jw,buildDirectiveArgs:kP,buildProps:rC,buildSlots:fP,checkCompatEnabled:dh,compile:SP,convertToBlock:Fb,createArrayExpression:Rh,createAssignmentExpression:Aq,createBlockStatement:q4,createCacheExpression:$4,createCallExpression:Zn,createCompilerError:In,createCompoundExpression:uo,createConditionalExpression:A0,createDOMCompilerError:Ca,createForLoopParams:x0,createFunctionExpression:Au,createIfStatement:Cq,createInterpolation:yq,createObjectExpression:Ur,createObjectProperty:Un,createReturnStatement:xq,createRoot:H4,createSequenceExpression:Tq,createSimpleExpression:Bt,createStructuralDirectiveTransform:tC,createTemplateLiteral:wq,createTransformContext:nP,createVNodeCall:lh,extractIdentifiers:Tl,findDir:br,findProp:bm,generate:oP,generateCodeFrame:E4,getBaseTransformPreset:yP,getConstantType:Hr,getInnerRange:Zw,getMemoedVNodeCall:Y4,getVNodeBlockHelper:xu,getVNodeHelper:Tu,hasDynamicKeyVBind:G4,hasScopeRef:Lo,helperNameMap:Cu,injectProp:Hp,isBuiltInType:nu,isCoreComponent:Yw,isFunctionType:bW,isInDestructureAssignment:pW,isMemberExpression:Qw,isMemberExpressionBrowser:W4,isMemberExpressionNode:Mq,isReferencedIdentifier:fW,isSimpleIdentifier:gm,isSlotOutlet:Up,isStaticArgOf:xl,isStaticExp:or,isStaticProperty:lP,isStaticPropertyKey:kW,isTemplateNode:ch,isText:c0,isVSlot:Xw,locStub:fi,noopDirectiveTransform:CP,parse:XW,parserOptions:gC,processExpression:d0,processFor:dP,processIf:uP,processSlotOutlet:vP,registerRuntimeHelpers:U4,resolveComponentType:bP,stringifyExpression:cP,toValidAssetId:uh,trackSlotScopes:hP,trackVForSlotScopes:EW,transform:iP,transformBind:_P,transformElement:gP,transformExpression:_W,transformModel:sC,transformOn:oC,transformStyle:AP,traverseNode:km,walkBlockDeclarations:gW,walkFunctionParams:mW,walkIdentifiers:hW,warnDeprecation:Oq},Symbol.toStringTag,{value:"Module"})),eG=fm(JW);let jr;class bC{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=jr,!e&&jr&&(this.index=(jr.scopes||(jr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const i=jr;try{return jr=this,e()}finally{jr=i}}}on(){jr=this}off(){jr=this.parent}stop(e){if(this._active){let i,o;for(i=0,o=this.effects.length;i<o;i++)this.effects[i].stop();for(i=0,o=this.cleanups.length;i<o;i++)this.cleanups[i]();if(this.scopes)for(i=0,o=this.scopes.length;i<o;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function tG(n){return new bC(n)}function DP(n,e=jr){e&&e.active&&e.effects.push(n)}function IP(){return jr}function nG(n){jr&&jr.cleanups.push(n)}const kC=n=>{const e=new Set(n);return e.w=0,e.n=0,e},MP=n=>(n.w&Nl)>0,PP=n=>(n.n&Nl)>0,iG=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=Nl},rG=n=>{const{deps:e}=n;if(e.length){let i=0;for(let o=0;o<e.length;o++){const a=e[o];MP(a)&&!PP(a)?a.delete(n):e[i++]=a,a.w&=~Nl,a.n&=~Nl}e.length=i}},D0=new WeakMap;let ap=0,Nl=1;const Sy=30;let jo;const uu=Symbol(""),Dy=Symbol("");class _m{constructor(e,i=null,o){this.fn=e,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,DP(this,o)}run(){if(!this.active)return this.fn();let e=jo,i=Dl;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=jo,jo=this,Dl=!0,Nl=1<<++ap,ap<=Sy?iG(this):b5(this),this.fn()}finally{ap<=Sy&&rG(this),Nl=1<<--ap,jo=this.parent,Dl=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){jo===this?this.deferStop=!0:this.active&&(b5(this),this.onStop&&this.onStop(),this.active=!1)}}function b5(n){const{deps:e}=n;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(n);e.length=0}}function oG(n,e){n.effect&&(n=n.effect.fn);const i=new _m(n);e&&(Rt(i,e),e.scope&&DP(i,e.scope)),(!e||!e.lazy)&&i.run();const o=i.run.bind(i);return o.effect=i,o}function sG(n){n.effect.stop()}let Dl=!0;const NP=[];function Fh(){NP.push(Dl),Dl=!1}function jh(){const n=NP.pop();Dl=n===void 0?!0:n}function wr(n,e,i){if(Dl&&jo){let o=D0.get(n);o||D0.set(n,o=new Map);let a=o.get(i);a||o.set(i,a=kC()),BP(a)}}function BP(n,e){let i=!1;ap<=Sy?PP(n)||(n.n|=Nl,i=!MP(n)):i=!n.has(jo),i&&(n.add(jo),jo.deps.push(n))}function Da(n,e,i,o,a,u){const d=D0.get(n);if(!d)return;let p=[];if(e==="clear")p=[...d.values()];else if(i==="length"&&lt(n)){const m=Number(o);d.forEach((k,w)=>{(w==="length"||w>=m)&&p.push(k)})}else switch(i!==void 0&&p.push(d.get(i)),e){case"add":lt(n)?wb(i)&&p.push(d.get("length")):(p.push(d.get(uu)),su(n)&&p.push(d.get(Dy)));break;case"delete":lt(n)||(p.push(d.get(uu)),su(n)&&p.push(d.get(Dy)));break;case"set":su(n)&&p.push(d.get(uu));break}if(p.length===1)p[0]&&Iy(p[0]);else{const m=[];for(const k of p)k&&m.push(...k);Iy(kC(m))}}function Iy(n,e){const i=lt(n)?n:[...n];for(const o of i)o.computed&&k5(o);for(const o of i)o.computed||k5(o)}function k5(n,e){(n!==jo||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function aG(n,e){var i;return(i=D0.get(n))==null?void 0:i.get(e)}const lG=Ci("__proto__,__v_isRef,__isVue"),OP=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Ea)),cG=Vb(),uG=Vb(!1,!0),dG=Vb(!0),hG=Vb(!0,!0),v5=fG();function fG(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...i){const o=zt(this);for(let u=0,d=this.length;u<d;u++)wr(o,"get",u+"");const a=o[e](...i);return a===-1||a===!1?o[e](...i.map(zt)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...i){Fh();const o=zt(this)[e].apply(this,i);return jh(),o}}),n}function pG(n){const e=zt(this);return wr(e,"has",n),e.hasOwnProperty(n)}function Vb(n=!1,e=!1){return function(o,a,u){if(a==="__v_isReactive")return!n;if(a==="__v_isReadonly")return n;if(a==="__v_isShallow")return e;if(a==="__v_raw"&&u===(n?e?UP:VP:e?zP:jP).get(o))return o;const d=lt(o);if(!n){if(d&&qt(v5,a))return Reflect.get(v5,a,u);if(a==="hasOwnProperty")return pG}const p=Reflect.get(o,a,u);return(Ea(a)?OP.has(a):lG(a))||(n||wr(o,"get",a),e)?p:di(p)?d&&wb(a)?p:p.value:nn(p)?n?_C(p):$b(p):p}}const mG=LP(),gG=LP(!0);function LP(n=!1){return function(i,o,a,u){let d=i[o];if(Eu(d)&&di(d)&&!di(a))return!1;if(!n&&(!qp(a)&&!Eu(a)&&(d=zt(d),a=zt(a)),!lt(i)&&di(d)&&!di(a)))return d.value=a,!0;const p=lt(i)&&wb(o)?Number(o)<i.length:qt(i,o),m=Reflect.set(i,o,a,u);return i===zt(u)&&(p?wu(a,d)&&Da(i,"set",o,a):Da(i,"add",o,a)),m}}function bG(n,e){const i=qt(n,e);n[e];const o=Reflect.deleteProperty(n,e);return o&&i&&Da(n,"delete",e,void 0),o}function kG(n,e){const i=Reflect.has(n,e);return(!Ea(e)||!OP.has(e))&&wr(n,"has",e),i}function vG(n){return wr(n,"iterate",lt(n)?"length":uu),Reflect.ownKeys(n)}const RP={get:cG,set:mG,deleteProperty:bG,has:kG,ownKeys:vG},FP={get:dG,set(n,e){return!0},deleteProperty(n,e){return!0}},_G=Rt({},RP,{get:uG,set:gG}),yG=Rt({},FP,{get:hG}),vC=n=>n,Ub=n=>Reflect.getPrototypeOf(n);function Rg(n,e,i=!1,o=!1){n=n.__v_raw;const a=zt(n),u=zt(e);i||(e!==u&&wr(a,"get",e),wr(a,"get",u));const{has:d}=Ub(a),p=o?vC:i?CC:Wp;if(d.call(a,e))return p(n.get(e));if(d.call(a,u))return p(n.get(u));n!==a&&n.get(e)}function Fg(n,e=!1){const i=this.__v_raw,o=zt(i),a=zt(n);return e||(n!==a&&wr(o,"has",n),wr(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)}function jg(n,e=!1){return n=n.__v_raw,!e&&wr(zt(n),"iterate",uu),Reflect.get(n,"size",n)}function _5(n){n=zt(n);const e=zt(this);return Ub(e).has.call(e,n)||(e.add(n),Da(e,"add",n,n)),this}function y5(n,e){e=zt(e);const i=zt(this),{has:o,get:a}=Ub(i);let u=o.call(i,n);u||(n=zt(n),u=o.call(i,n));const d=a.call(i,n);return i.set(n,e),u?wu(e,d)&&Da(i,"set",n,e):Da(i,"add",n,e),this}function w5(n){const e=zt(this),{has:i,get:o}=Ub(e);let a=i.call(e,n);a||(n=zt(n),a=i.call(e,n)),o&&o.call(e,n);const u=e.delete(n);return a&&Da(e,"delete",n,void 0),u}function C5(){const n=zt(this),e=n.size!==0,i=n.clear();return e&&Da(n,"clear",void 0,void 0),i}function zg(n,e){return function(o,a){const u=this,d=u.__v_raw,p=zt(d),m=e?vC:n?CC:Wp;return!n&&wr(p,"iterate",uu),d.forEach((k,w)=>o.call(a,m(k),m(w),u))}}function Vg(n,e,i){return function(...o){const a=this.__v_raw,u=zt(a),d=su(u),p=n==="entries"||n===Symbol.iterator&&d,m=n==="keys"&&d,k=a[n](...o),w=i?vC:e?CC:Wp;return!e&&wr(u,"iterate",m?Dy:uu),{next(){const{value:y,done:T}=k.next();return T?{value:y,done:T}:{value:p?[w(y[0]),w(y[1])]:w(y),done:T}},[Symbol.iterator](){return this}}}}function bl(n){return function(...e){return n==="delete"?!1:this}}function wG(){const n={get(u){return Rg(this,u)},get size(){return jg(this)},has:Fg,add:_5,set:y5,delete:w5,clear:C5,forEach:zg(!1,!1)},e={get(u){return Rg(this,u,!1,!0)},get size(){return jg(this)},has:Fg,add:_5,set:y5,delete:w5,clear:C5,forEach:zg(!1,!0)},i={get(u){return Rg(this,u,!0)},get size(){return jg(this,!0)},has(u){return Fg.call(this,u,!0)},add:bl("add"),set:bl("set"),delete:bl("delete"),clear:bl("clear"),forEach:zg(!0,!1)},o={get(u){return Rg(this,u,!0,!0)},get size(){return jg(this,!0)},has(u){return Fg.call(this,u,!0)},add:bl("add"),set:bl("set"),delete:bl("delete"),clear:bl("clear"),forEach:zg(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{n[u]=Vg(u,!1,!1),i[u]=Vg(u,!0,!1),e[u]=Vg(u,!1,!0),o[u]=Vg(u,!0,!0)}),[n,i,e,o]}const[CG,AG,TG,xG]=wG();function Hb(n,e){const i=e?n?xG:TG:n?AG:CG;return(o,a,u)=>a==="__v_isReactive"?!n:a==="__v_isReadonly"?n:a==="__v_raw"?o:Reflect.get(qt(i,a)&&a in o?i:o,a,u)}const EG={get:Hb(!1,!1)},SG={get:Hb(!1,!0)},DG={get:Hb(!0,!1)},IG={get:Hb(!0,!0)},jP=new WeakMap,zP=new WeakMap,VP=new WeakMap,UP=new WeakMap;function MG(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PG(n){return n.__v_skip||!Object.isExtensible(n)?0:MG(A4(n))}function $b(n){return Eu(n)?n:qb(n,!1,RP,EG,jP)}function HP(n){return qb(n,!1,_G,SG,zP)}function _C(n){return qb(n,!0,FP,DG,VP)}function NG(n){return qb(n,!0,yG,IG,UP)}function qb(n,e,i,o,a){if(!nn(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const u=a.get(n);if(u)return u;const d=PG(n);if(d===0)return n;const p=new Proxy(n,d===2?o:i);return a.set(n,p),p}function du(n){return Eu(n)?du(n.__v_raw):!!(n&&n.__v_isReactive)}function Eu(n){return!!(n&&n.__v_isReadonly)}function qp(n){return!!(n&&n.__v_isShallow)}function yC(n){return du(n)||Eu(n)}function zt(n){const e=n&&n.__v_raw;return e?zt(e):n}function wC(n){return Np(n,"__v_skip",!0),n}const Wp=n=>nn(n)?$b(n):n,CC=n=>nn(n)?_C(n):n;function AC(n){Dl&&jo&&(n=zt(n),BP(n.dep||(n.dep=kC())))}function Wb(n,e){n=zt(n);const i=n.dep;i&&Iy(i)}function di(n){return!!(n&&n.__v_isRef===!0)}function Qd(n){return $P(n,!1)}function BG(n){return $P(n,!0)}function $P(n,e){return di(n)?n:new OG(n,e)}class OG{constructor(e,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?e:zt(e),this._value=i?e:Wp(e)}get value(){return AC(this),this._value}set value(e){const i=this.__v_isShallow||qp(e)||Eu(e);e=i?e:zt(e),wu(e,this._rawValue)&&(this._rawValue=e,this._value=i?e:Wp(e),Wb(this))}}function LG(n){Wb(n)}function TC(n){return di(n)?n.value:n}function RG(n){return St(n)?n():TC(n)}const FG={get:(n,e,i)=>TC(Reflect.get(n,e,i)),set:(n,e,i,o)=>{const a=n[e];return di(a)&&!di(i)?(a.value=i,!0):Reflect.set(n,e,i,o)}};function xC(n){return du(n)?n:new Proxy(n,FG)}class jG{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:i,set:o}=e(()=>AC(this),()=>Wb(this));this._get=i,this._set=o}get value(){return this._get()}set value(e){this._set(e)}}function zG(n){return new jG(n)}function VG(n){const e=lt(n)?new Array(n.length):{};for(const i in n)e[i]=qP(n,i);return e}class UG{constructor(e,i,o){this._object=e,this._key=i,this._defaultValue=o,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return aG(zt(this._object),this._key)}}class HG{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function $G(n,e,i){return di(n)?n:St(n)?new HG(n):nn(n)&&arguments.length>1?qP(n,e,i):Qd(n)}function qP(n,e,i){const o=n[e];return di(o)?o:new UG(n,e,i)}class qG{constructor(e,i,o,a){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new _m(e,()=>{this._dirty||(this._dirty=!0,Wb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=o}get value(){const e=zt(this);return AC(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function WG(n,e,i=!1){let o,a;const u=St(n);return u?(o=n,a=Pi):(o=n.get,a=n.set),new qG(o,a,u||!a,i)}function GG(n,...e){}function KG(n,e){}function Aa(n,e,i,o){let a;try{a=o?n(...o):n()}catch(u){Lu(u,e,i)}return a}function qr(n,e,i,o){if(St(n)){const u=Aa(n,e,i,o);return u&&yb(u)&&u.catch(d=>{Lu(d,e,i)}),u}const a=[];for(let u=0;u<n.length;u++)a.push(qr(n[u],e,i,o));return a}function Lu(n,e,i,o=!0){const a=e?e.vnode:null;if(e){let u=e.parent;const d=e.proxy,p=i;for(;u;){const k=u.ec;if(k){for(let w=0;w<k.length;w++)if(k[w](n,d,p)===!1)return}u=u.parent}const m=e.appContext.config.errorHandler;if(m){Aa(m,null,10,[n,d,p]);return}}YG(n,i,a,o)}function YG(n,e,i,o=!0){console.error(n)}let Gp=!1,My=!1;const ji=[];let vs=0;const Zd=[];let ga=null,Jc=0;const WP=Promise.resolve();let EC=null;function SC(n){const e=EC||WP;return n?e.then(this?n.bind(this):n):e}function QG(n){let e=vs+1,i=ji.length;for(;e<i;){const o=e+i>>>1;Kp(ji[o])<n?e=o+1:i=o}return e}function Gb(n){(!ji.length||!ji.includes(n,Gp&&n.allowRecurse?vs+1:vs))&&(n.id==null?ji.push(n):ji.splice(QG(n.id),0,n),GP())}function GP(){!Gp&&!My&&(My=!0,EC=WP.then(KP))}function ZG(n){const e=ji.indexOf(n);e>vs&&ji.splice(e,1)}function DC(n){lt(n)?Zd.push(...n):(!ga||!ga.includes(n,n.allowRecurse?Jc+1:Jc))&&Zd.push(n),GP()}function A5(n,e=Gp?vs+1:0){for(;e<ji.length;e++){const i=ji[e];i&&i.pre&&(ji.splice(e,1),e--,i())}}function I0(n){if(Zd.length){const e=[...new Set(Zd)];if(Zd.length=0,ga){ga.push(...e);return}for(ga=e,ga.sort((i,o)=>Kp(i)-Kp(o)),Jc=0;Jc<ga.length;Jc++)ga[Jc]();ga=null,Jc=0}}const Kp=n=>n.id==null?1/0:n.id,XG=(n,e)=>{const i=Kp(n)-Kp(e);if(i===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return i};function KP(n){My=!1,Gp=!0,ji.sort(XG);const e=Pi;try{for(vs=0;vs<ji.length;vs++){const i=ji[vs];i&&i.active!==!1&&Aa(i,null,14)}}finally{vs=0,ji.length=0,I0(),Gp=!1,EC=null,(ji.length||Zd.length)&&KP()}}let Ud,Ug=[];function YP(n,e){var i,o;Ud=n,Ud?(Ud.enabled=!0,Ug.forEach(({event:a,args:u})=>Ud.emit(a,...u)),Ug=[]):typeof window<"u"&&window.HTMLElement&&!((o=(i=window.navigator)==null?void 0:i.userAgent)!=null&&o.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(u=>{YP(u,e)}),setTimeout(()=>{Ud||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ug=[])},3e3)):Ug=[]}function JG(n,e,...i){if(n.isUnmounted)return;const o=n.vnode.props||sn;let a=i;const u=e.startsWith("update:"),d=u&&e.slice(7);if(d&&d in o){const w=`${d==="modelValue"?"model":d}Modifiers`,{number:y,trim:T}=o[w]||sn;T&&(a=i.map(E=>Dt(E)?E.trim():E)),y&&(a=i.map(Bp))}let p,m=o[p=au(e)]||o[p=au(ti(e))];!m&&u&&(m=o[p=au(er(e))]),m&&qr(m,n,6,a);const k=o[p+"Once"];if(k){if(!n.emitted)n.emitted={};else if(n.emitted[p])return;n.emitted[p]=!0,qr(k,n,6,a)}}function QP(n,e,i=!1){const o=e.emitsCache,a=o.get(n);if(a!==void 0)return a;const u=n.emits;let d={},p=!1;if(!St(n)){const m=k=>{const w=QP(k,e,!0);w&&(p=!0,Rt(d,w))};!i&&e.mixins.length&&e.mixins.forEach(m),n.extends&&m(n.extends),n.mixins&&n.mixins.forEach(m)}return!u&&!p?(nn(n)&&o.set(n,null),null):(lt(u)?u.forEach(m=>d[m]=null):Rt(d,u),nn(n)&&o.set(n,d),d)}function Kb(n,e){return!n||!zl(e)?!1:(e=e.slice(2).replace(/Once$/,""),qt(n,e[0].toLowerCase()+e.slice(1))||qt(n,er(e))||qt(n,e))}let yi=null,Yb=null;function Yp(n){const e=yi;return yi=n,Yb=n&&n.type.__scopeId||null,e}function eK(n){Yb=n}function tK(){Yb=null}const nK=n=>IC;function IC(n,e=yi,i){if(!e||n._n)return n;const o=(...a)=>{o._d&&Fy(-1);const u=Yp(e);let d;try{d=n(...a)}finally{Yp(u),o._d&&Fy(1)}return d};return o._n=!0,o._c=!0,o._d=!0,o}function f0(n){const{type:e,vnode:i,proxy:o,withProxy:a,props:u,propsOptions:[d],slots:p,attrs:m,emit:k,render:w,renderCache:y,data:T,setupState:E,ctx:S,inheritAttrs:R}=n;let V,L;const j=Yp(n);try{if(i.shapeFlag&4){const W=a||o;V=zr(w.call(W,W,y,u,E,T,S)),L=m}else{const W=e;V=zr(W.length>1?W(u,{attrs:m,slots:p,emit:k}):W(u,null)),L=e.props?m:rK(m)}}catch(W){yp.length=0,Lu(W,n,1),V=Mn($i)}let Y=V;if(L&&R!==!1){const W=Object.keys(L),{shapeFlag:q}=Y;W.length&&q&7&&(d&&W.some(vb)&&(L=oK(L,d)),Y=Ns(Y,L))}return i.dirs&&(Y=Ns(Y),Y.dirs=Y.dirs?Y.dirs.concat(i.dirs):i.dirs),i.transition&&(Y.transition=i.transition),V=Y,Yp(j),V}function iK(n){let e;for(let i=0;i<n.length;i++){const o=n[i];if(Bl(o)){if(o.type!==$i||o.children==="v-if"){if(e)return;e=o}}else return}return e}const rK=n=>{let e;for(const i in n)(i==="class"||i==="style"||zl(i))&&((e||(e={}))[i]=n[i]);return e},oK=(n,e)=>{const i={};for(const o in n)(!vb(o)||!(o.slice(9)in e))&&(i[o]=n[o]);return i};function sK(n,e,i){const{props:o,children:a,component:u}=n,{props:d,children:p,patchFlag:m}=e,k=u.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&m>=0){if(m&1024)return!0;if(m&16)return o?T5(o,d,k):!!d;if(m&8){const w=e.dynamicProps;for(let y=0;y<w.length;y++){const T=w[y];if(d[T]!==o[T]&&!Kb(k,T))return!0}}}else return(a||p)&&(!p||!p.$stable)?!0:o===d?!1:o?d?T5(o,d,k):!0:!!d;return!1}function T5(n,e,i){const o=Object.keys(e);if(o.length!==Object.keys(n).length)return!0;for(let a=0;a<o.length;a++){const u=o[a];if(e[u]!==n[u]&&!Kb(i,u))return!0}return!1}function MC({vnode:n,parent:e},i){for(;e&&e.subTree===n;)(n=e.vnode).el=i,e=e.parent}const ZP=n=>n.__isSuspense,aK={name:"Suspense",__isSuspense:!0,process(n,e,i,o,a,u,d,p,m,k){n==null?cK(e,i,o,a,u,d,p,m,k):uK(n,e,i,o,a,d,p,m,k)},hydrate:dK,create:PC,normalize:hK},lK=aK;function Qp(n,e){const i=n.props&&n.props[e];St(i)&&i()}function cK(n,e,i,o,a,u,d,p,m){const{p:k,o:{createElement:w}}=m,y=w("div"),T=n.suspense=PC(n,a,o,e,y,i,u,d,p,m);k(null,T.pendingBranch=n.ssContent,y,null,o,T,u,d),T.deps>0?(Qp(n,"onPending"),Qp(n,"onFallback"),k(null,n.ssFallback,e,i,o,null,u,d),Xd(T,n.ssFallback)):T.resolve(!1,!0)}function uK(n,e,i,o,a,u,d,p,{p:m,um:k,o:{createElement:w}}){const y=e.suspense=n.suspense;y.vnode=e,e.el=n.el;const T=e.ssContent,E=e.ssFallback,{activeBranch:S,pendingBranch:R,isInFallback:V,isHydrating:L}=y;if(R)y.pendingBranch=T,zo(T,R)?(m(R,T,y.hiddenContainer,null,a,y,u,d,p),y.deps<=0?y.resolve():V&&(m(S,E,i,o,a,null,u,d,p),Xd(y,E))):(y.pendingId++,L?(y.isHydrating=!1,y.activeBranch=R):k(R,a,y),y.deps=0,y.effects.length=0,y.hiddenContainer=w("div"),V?(m(null,T,y.hiddenContainer,null,a,y,u,d,p),y.deps<=0?y.resolve():(m(S,E,i,o,a,null,u,d,p),Xd(y,E))):S&&zo(T,S)?(m(S,T,i,o,a,y,u,d,p),y.resolve(!0)):(m(null,T,y.hiddenContainer,null,a,y,u,d,p),y.deps<=0&&y.resolve()));else if(S&&zo(T,S))m(S,T,i,o,a,y,u,d,p),Xd(y,T);else if(Qp(e,"onPending"),y.pendingBranch=T,y.pendingId++,m(null,T,y.hiddenContainer,null,a,y,u,d,p),y.deps<=0)y.resolve();else{const{timeout:j,pendingId:Y}=y;j>0?setTimeout(()=>{y.pendingId===Y&&y.fallback(E)},j):j===0&&y.fallback(E)}}function PC(n,e,i,o,a,u,d,p,m,k,w=!1){const{p:y,m:T,um:E,n:S,o:{parentNode:R,remove:V}}=k;let L;const j=fK(n);j&&e!=null&&e.pendingBranch&&(L=e.pendingId,e.deps++);const Y=n.props?Op(n.props.timeout):void 0,W={vnode:n,parent:e,parentComponent:i,isSVG:d,container:o,hiddenContainer:a,anchor:u,deps:0,pendingId:0,timeout:typeof Y=="number"?Y:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:w,isUnmounted:!1,effects:[],resolve(q=!1,ue=!1){const{vnode:te,activeBranch:F,pendingBranch:Q,pendingId:de,effects:ee,parentComponent:K,container:J}=W;if(W.isHydrating)W.isHydrating=!1;else if(!q){const ve=F&&Q.transition&&Q.transition.mode==="out-in";ve&&(F.transition.afterLeave=()=>{de===W.pendingId&&T(Q,J,oe,0)});let{anchor:oe}=W;F&&(oe=S(F),E(F,K,W,!0)),ve||T(Q,J,oe,0)}Xd(W,Q),W.pendingBranch=null,W.isInFallback=!1;let be=W.parent,ke=!1;for(;be;){if(be.pendingBranch){be.effects.push(...ee),ke=!0;break}be=be.parent}ke||DC(ee),W.effects=[],j&&e&&e.pendingBranch&&L===e.pendingId&&(e.deps--,e.deps===0&&!ue&&e.resolve()),Qp(te,"onResolve")},fallback(q){if(!W.pendingBranch)return;const{vnode:ue,activeBranch:te,parentComponent:F,container:Q,isSVG:de}=W;Qp(ue,"onFallback");const ee=S(te),K=()=>{W.isInFallback&&(y(null,q,Q,ee,F,null,de,p,m),Xd(W,q))},J=q.transition&&q.transition.mode==="out-in";J&&(te.transition.afterLeave=K),W.isInFallback=!0,E(te,F,null,!0),J||K()},move(q,ue,te){W.activeBranch&&T(W.activeBranch,q,ue,te),W.container=q},next(){return W.activeBranch&&S(W.activeBranch)},registerDep(q,ue){const te=!!W.pendingBranch;te&&W.deps++;const F=q.vnode.el;q.asyncDep.catch(Q=>{Lu(Q,q,0)}).then(Q=>{if(q.isUnmounted||W.isUnmounted||W.pendingId!==q.suspenseId)return;q.asyncResolved=!0;const{vnode:de}=q;jy(q,Q,!1),F&&(de.el=F);const ee=!F&&q.subTree.el;ue(q,de,R(F||q.subTree.el),F?null:S(q.subTree),W,d,m),ee&&V(ee),MC(q,de.el),te&&--W.deps===0&&W.resolve()})},unmount(q,ue){W.isUnmounted=!0,W.activeBranch&&E(W.activeBranch,i,q,ue),W.pendingBranch&&E(W.pendingBranch,i,q,ue)}};return W}function dK(n,e,i,o,a,u,d,p,m){const k=e.suspense=PC(e,o,i,n.parentNode,document.createElement("div"),null,a,u,d,p,!0),w=m(n,k.pendingBranch=e.ssContent,i,k,u,d);return k.deps===0&&k.resolve(!1,!0),w}function hK(n){const{shapeFlag:e,children:i}=n,o=e&32;n.ssContent=x5(o?i.default:i),n.ssFallback=o?x5(i.fallback):Mn($i)}function x5(n){let e;if(St(n)){const i=Iu&&n._c;i&&(n._d=!1,tk()),n=n(),i&&(n._d=!0,e=_r,EN())}return lt(n)&&(n=iK(n)),n=zr(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(i=>i!==n)),n}function XP(n,e){e&&e.pendingBranch?lt(n)?e.effects.push(...n):e.effects.push(n):DC(n)}function Xd(n,e){n.activeBranch=e;const{vnode:i,parentComponent:o}=n,a=i.el=e.el;o&&o.subTree===i&&(o.vnode.el=a,MC(o,a))}function fK(n){var e;return((e=n.props)==null?void 0:e.suspensible)!=null&&n.props.suspensible!==!1}function pK(n,e){return ym(n,null,e)}function JP(n,e){return ym(n,null,{flush:"post"})}function mK(n,e){return ym(n,null,{flush:"sync"})}const Hg={};function hu(n,e,i){return ym(n,e,i)}function ym(n,e,{immediate:i,deep:o,flush:a,onTrack:u,onTrigger:d}=sn){var p;const m=IP()===((p=si)==null?void 0:p.scope)?si:null;let k,w=!1,y=!1;if(di(n)?(k=()=>n.value,w=qp(n)):du(n)?(k=()=>n,o=!0):lt(n)?(y=!0,w=n.some(W=>du(W)||qp(W)),k=()=>n.map(W=>{if(di(W))return W.value;if(du(W))return iu(W);if(St(W))return Aa(W,m,2)})):St(n)?e?k=()=>Aa(n,m,2):k=()=>{if(!(m&&m.isUnmounted))return T&&T(),qr(n,m,3,[E])}:k=Pi,e&&o){const W=k;k=()=>iu(W())}let T,E=W=>{T=j.onStop=()=>{Aa(W,m,4)}},S;if(fh)if(E=Pi,e?i&&qr(e,m,3,[k(),y?[]:void 0,E]):k(),a==="sync"){const W=VN();S=W.__watcherHandles||(W.__watcherHandles=[])}else return Pi;let R=y?new Array(n.length).fill(Hg):Hg;const V=()=>{if(j.active)if(e){const W=j.run();(o||w||(y?W.some((q,ue)=>wu(q,R[ue])):wu(W,R)))&&(T&&T(),qr(e,m,3,[W,R===Hg?void 0:y&&R[0]===Hg?[]:R,E]),R=W)}else j.run()};V.allowRecurse=!!e;let L;a==="sync"?L=V:a==="post"?L=()=>Si(V,m&&m.suspense):(V.pre=!0,m&&(V.id=m.uid),L=()=>Gb(V));const j=new _m(k,L);e?i?V():R=j.run():a==="post"?Si(j.run.bind(j),m&&m.suspense):j.run();const Y=()=>{j.stop(),m&&m.scope&&_b(m.scope.effects,j)};return S&&S.push(Y),Y}function gK(n,e,i){const o=this.proxy,a=Dt(n)?n.includes(".")?eN(o,n):()=>o[n]:n.bind(o,o);let u;St(e)?u=e:(u=e.handler,i=e);const d=si;Ol(this);const p=ym(a,u.bind(o),i);return d?Ol(d):Il(),p}function eN(n,e){const i=e.split(".");return()=>{let o=n;for(let a=0;a<i.length&&o;a++)o=o[i[a]];return o}}function iu(n,e){if(!nn(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),di(n))iu(n.value,e);else if(lt(n))for(let i=0;i<n.length;i++)iu(n[i],e);else if(Vl(n)||su(n))n.forEach(i=>{iu(i,e)});else if(Rw(n))for(const i in n)iu(n[i],e);return n}function bK(n,e){const i=yi;if(i===null)return n;const o=ik(i)||i.proxy,a=n.dirs||(n.dirs=[]);for(let u=0;u<e.length;u++){let[d,p,m,k=sn]=e[u];d&&(St(d)&&(d={mounted:d,updated:d}),d.deep&&iu(p),a.push({dir:d,instance:o,value:p,oldValue:void 0,arg:m,modifiers:k}))}return n}function ms(n,e,i,o){const a=n.dirs,u=e&&e.dirs;for(let d=0;d<a.length;d++){const p=a[d];u&&(p.oldValue=u[d].value);let m=p.dir[o];m&&(Fh(),qr(m,i,8,[n.el,p,n,e]),jh())}}function NC(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Cm(()=>{n.isMounted=!0}),Jb(()=>{n.isUnmounting=!0}),n}const oo=[Function,Array],BC={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:oo,onEnter:oo,onAfterEnter:oo,onEnterCancelled:oo,onBeforeLeave:oo,onLeave:oo,onAfterLeave:oo,onLeaveCancelled:oo,onBeforeAppear:oo,onAppear:oo,onAfterAppear:oo,onAppearCancelled:oo},kK={name:"BaseTransition",props:BC,setup(n,{slots:e}){const i=La(),o=NC();let a;return()=>{const u=e.default&&Qb(e.default(),!0);if(!u||!u.length)return;let d=u[0];if(u.length>1){for(const R of u)if(R.type!==$i){d=R;break}}const p=zt(n),{mode:m}=p;if(o.isLeaving)return M_(d);const k=E5(d);if(!k)return M_(d);const w=hh(k,p,o,i);Su(k,w);const y=i.subTree,T=y&&E5(y);let E=!1;const{getTransitionKey:S}=k.type;if(S){const R=S();a===void 0?a=R:R!==a&&(a=R,E=!0)}if(T&&T.type!==$i&&(!zo(k,T)||E)){const R=hh(T,p,o,i);if(Su(T,R),m==="out-in")return o.isLeaving=!0,R.afterLeave=()=>{o.isLeaving=!1,i.update.active!==!1&&i.update()},M_(d);m==="in-out"&&k.type!==$i&&(R.delayLeave=(V,L,j)=>{const Y=nN(o,T);Y[String(T.key)]=T,V._leaveCb=()=>{L(),V._leaveCb=void 0,delete w.delayedLeave},w.delayedLeave=j})}return d}}},tN=kK;function nN(n,e){const{leavingVNodes:i}=n;let o=i.get(e.type);return o||(o=Object.create(null),i.set(e.type,o)),o}function hh(n,e,i,o){const{appear:a,mode:u,persisted:d=!1,onBeforeEnter:p,onEnter:m,onAfterEnter:k,onEnterCancelled:w,onBeforeLeave:y,onLeave:T,onAfterLeave:E,onLeaveCancelled:S,onBeforeAppear:R,onAppear:V,onAfterAppear:L,onAppearCancelled:j}=e,Y=String(n.key),W=nN(i,n),q=(F,Q)=>{F&&qr(F,o,9,Q)},ue=(F,Q)=>{const de=Q[1];q(F,Q),lt(F)?F.every(ee=>ee.length<=1)&&de():F.length<=1&&de()},te={mode:u,persisted:d,beforeEnter(F){let Q=p;if(!i.isMounted)if(a)Q=R||p;else return;F._leaveCb&&F._leaveCb(!0);const de=W[Y];de&&zo(n,de)&&de.el._leaveCb&&de.el._leaveCb(),q(Q,[F])},enter(F){let Q=m,de=k,ee=w;if(!i.isMounted)if(a)Q=V||m,de=L||k,ee=j||w;else return;let K=!1;const J=F._enterCb=be=>{K||(K=!0,be?q(ee,[F]):q(de,[F]),te.delayedLeave&&te.delayedLeave(),F._enterCb=void 0)};Q?ue(Q,[F,J]):J()},leave(F,Q){const de=String(n.key);if(F._enterCb&&F._enterCb(!0),i.isUnmounting)return Q();q(y,[F]);let ee=!1;const K=F._leaveCb=J=>{ee||(ee=!0,Q(),J?q(S,[F]):q(E,[F]),F._leaveCb=void 0,W[de]===n&&delete W[de])};W[de]=n,T?ue(T,[F,K]):K()},clone(F){return hh(F,e,i,o)}};return te}function M_(n){if(wm(n))return n=Ns(n),n.children=null,n}function E5(n){return wm(n)?n.children?n.children[0]:void 0:n}function Su(n,e){n.shapeFlag&6&&n.component?Su(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Qb(n,e=!1,i){let o=[],a=0;for(let u=0;u<n.length;u++){let d=n[u];const p=i==null?d.key:String(i)+String(d.key!=null?d.key:u);d.type===Ii?(d.patchFlag&128&&a++,o=o.concat(Qb(d.children,e,p))):(e||d.type!==$i)&&o.push(p!=null?Ns(d,{key:p}):d)}if(a>1)for(let u=0;u<o.length;u++)o[u].patchFlag=-2;return o}function OC(n,e){return St(n)?(()=>Rt({name:n.name},e,{setup:n}))():n}const fu=n=>!!n.type.__asyncLoader;function vK(n){St(n)&&(n={loader:n});const{loader:e,loadingComponent:i,errorComponent:o,delay:a=200,timeout:u,suspensible:d=!0,onError:p}=n;let m=null,k,w=0;const y=()=>(w++,m=null,T()),T=()=>{let E;return m||(E=m=e().catch(S=>{if(S=S instanceof Error?S:new Error(String(S)),p)return new Promise((R,V)=>{p(S,()=>R(y()),()=>V(S),w+1)});throw S}).then(S=>E!==m&&m?m:(S&&(S.__esModule||S[Symbol.toStringTag]==="Module")&&(S=S.default),k=S,S)))};return OC({name:"AsyncComponentWrapper",__asyncLoader:T,get __asyncResolved(){return k},setup(){const E=si;if(k)return()=>P_(k,E);const S=j=>{m=null,Lu(j,E,13,!o)};if(d&&E.suspense||fh)return T().then(j=>()=>P_(j,E)).catch(j=>(S(j),()=>o?Mn(o,{error:j}):null));const R=Qd(!1),V=Qd(),L=Qd(!!a);return a&&setTimeout(()=>{L.value=!1},a),u!=null&&setTimeout(()=>{if(!R.value&&!V.value){const j=new Error(`Async component timed out after ${u}ms.`);S(j),V.value=j}},u),T().then(()=>{R.value=!0,E.parent&&wm(E.parent.vnode)&&Gb(E.parent.update)}).catch(j=>{S(j),V.value=j}),()=>{if(R.value&&k)return P_(k,E);if(V.value&&o)return Mn(o,{error:V.value});if(i&&!L.value)return Mn(i)}}})}function P_(n,e){const{ref:i,props:o,children:a,ce:u}=e.vnode,d=Mn(n,o,a);return d.ref=i,d.ce=u,delete e.vnode.ce,d}const wm=n=>n.type.__isKeepAlive,_K={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){const i=La(),o=i.ctx;if(!o.renderer)return()=>{const j=e.default&&e.default();return j&&j.length===1?j[0]:j};const a=new Map,u=new Set;let d=null;const p=i.suspense,{renderer:{p:m,m:k,um:w,o:{createElement:y}}}=o,T=y("div");o.activate=(j,Y,W,q,ue)=>{const te=j.component;k(j,Y,W,0,p),m(te.vnode,j,Y,W,te,p,q,j.slotScopeIds,ue),Si(()=>{te.isDeactivated=!1,te.a&&lu(te.a);const F=j.props&&j.props.onVnodeMounted;F&&mr(F,te.parent,j)},p)},o.deactivate=j=>{const Y=j.component;k(j,T,null,1,p),Si(()=>{Y.da&&lu(Y.da);const W=j.props&&j.props.onVnodeUnmounted;W&&mr(W,Y.parent,j),Y.isDeactivated=!0},p)};function E(j){N_(j),w(j,i,p,!0)}function S(j){a.forEach((Y,W)=>{const q=Vy(Y.type);q&&(!j||!j(q))&&R(W)})}function R(j){const Y=a.get(j);!d||!zo(Y,d)?E(Y):d&&N_(d),a.delete(j),u.delete(j)}hu(()=>[n.include,n.exclude],([j,Y])=>{j&&S(W=>lp(j,W)),Y&&S(W=>!lp(Y,W))},{flush:"post",deep:!0});let V=null;const L=()=>{V!=null&&a.set(V,B_(i.subTree))};return Cm(L),Xb(L),Jb(()=>{a.forEach(j=>{const{subTree:Y,suspense:W}=i,q=B_(Y);if(j.type===q.type&&j.key===q.key){N_(q);const ue=q.component.da;ue&&Si(ue,W);return}E(j)})}),()=>{if(V=null,!e.default)return null;const j=e.default(),Y=j[0];if(j.length>1)return d=null,j;if(!Bl(Y)||!(Y.shapeFlag&4)&&!(Y.shapeFlag&128))return d=null,Y;let W=B_(Y);const q=W.type,ue=Vy(fu(W)?W.type.__asyncResolved||{}:q),{include:te,exclude:F,max:Q}=n;if(te&&(!ue||!lp(te,ue))||F&&ue&&lp(F,ue))return d=W,Y;const de=W.key==null?q:W.key,ee=a.get(de);return W.el&&(W=Ns(W),Y.shapeFlag&128&&(Y.ssContent=W)),V=de,ee?(W.el=ee.el,W.component=ee.component,W.transition&&Su(W,W.transition),W.shapeFlag|=512,u.delete(de),u.add(de)):(u.add(de),Q&&u.size>parseInt(Q,10)&&R(u.values().next().value)),W.shapeFlag|=256,d=W,ZP(Y.type)?Y:W}}},yK=_K;function lp(n,e){return lt(n)?n.some(i=>lp(i,e)):Dt(n)?n.split(",").includes(e):C4(n)?n.test(e):!1}function iN(n,e){oN(n,"a",e)}function rN(n,e){oN(n,"da",e)}function oN(n,e,i=si){const o=n.__wdc||(n.__wdc=()=>{let a=i;for(;a;){if(a.isDeactivated)return;a=a.parent}return n()});if(Zb(e,o,i),i){let a=i.parent;for(;a&&a.parent;)wm(a.parent.vnode)&&wK(o,e,i,a),a=a.parent}}function wK(n,e,i,o){const a=Zb(e,n,o,!0);ek(()=>{_b(o[e],a)},i)}function N_(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function B_(n){return n.shapeFlag&128?n.ssContent:n}function Zb(n,e,i=si,o=!1){if(i){const a=i[n]||(i[n]=[]),u=e.__weh||(e.__weh=(...d)=>{if(i.isUnmounted)return;Fh(),Ol(i);const p=qr(e,i,n,d);return Il(),jh(),p});return o?a.unshift(u):a.push(u),u}}const Oa=n=>(e,i=si)=>(!fh||n==="sp")&&Zb(n,(...o)=>e(...o),i),sN=Oa("bm"),Cm=Oa("m"),aN=Oa("bu"),Xb=Oa("u"),Jb=Oa("bum"),ek=Oa("um"),lN=Oa("sp"),cN=Oa("rtg"),uN=Oa("rtc");function dN(n,e=si){Zb("ec",n,e)}const LC="components",CK="directives";function AK(n,e){return RC(LC,n,!0,e)||n}const hN=Symbol.for("v-ndc");function TK(n){return Dt(n)?RC(LC,n,!1)||n:n||hN}function xK(n){return RC(CK,n)}function RC(n,e,i=!0,o=!1){const a=yi||si;if(a){const u=a.type;if(n===LC){const p=Vy(u,!1);if(p&&(p===e||p===ti(e)||p===Ul(ti(e))))return u}const d=S5(a[n]||u[n],e)||S5(a.appContext[n],e);return!d&&o?u:d}}function S5(n,e){return n&&(n[e]||n[ti(e)]||n[Ul(ti(e))])}function EK(n,e,i,o){let a;const u=i&&i[o];if(lt(n)||Dt(n)){a=new Array(n.length);for(let d=0,p=n.length;d<p;d++)a[d]=e(n[d],d,void 0,u&&u[d])}else if(typeof n=="number"){a=new Array(n);for(let d=0;d<n;d++)a[d]=e(d+1,d,void 0,u&&u[d])}else if(nn(n))if(n[Symbol.iterator])a=Array.from(n,(d,p)=>e(d,p,void 0,u&&u[p]));else{const d=Object.keys(n);a=new Array(d.length);for(let p=0,m=d.length;p<m;p++){const k=d[p];a[p]=e(n[k],k,p,u&&u[p])}}else a=[];return i&&(i[o]=a),a}function SK(n,e){for(let i=0;i<e.length;i++){const o=e[i];if(lt(o))for(let a=0;a<o.length;a++)n[o[a].name]=o[a].fn;else o&&(n[o.name]=o.key?(...a)=>{const u=o.fn(...a);return u&&(u.key=o.key),u}:o.fn)}return n}function DK(n,e,i={},o,a){if(yi.isCE||yi.parent&&fu(yi.parent)&&yi.parent.isCE)return e!=="default"&&(i.name=e),Mn("slot",i,o&&o());let u=n[e];u&&u._c&&(u._d=!1),tk();const d=u&&fN(u(i)),p=VC(Ii,{key:i.key||d&&d.key||`_${e}`},d||(o?o():[]),d&&n._===1?64:-2);return!a&&p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),u&&u._c&&(u._d=!0),p}function fN(n){return n.some(e=>Bl(e)?!(e.type===$i||e.type===Ii&&!fN(e.children)):!0)?n:null}function IK(n,e){const i={};for(const o in n)i[e&&/[A-Z]/.test(o)?`on:${o}`:au(o)]=n[o];return i}const Py=n=>n?NN(n)?ik(n)||n.proxy:Py(n.parent):null,kp=Rt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Py(n.parent),$root:n=>Py(n.root),$emit:n=>n.emit,$options:n=>FC(n),$forceUpdate:n=>n.f||(n.f=()=>Gb(n.update)),$nextTick:n=>n.n||(n.n=SC.bind(n.proxy)),$watch:n=>gK.bind(n)}),O_=(n,e)=>n!==sn&&!n.__isScriptSetup&&qt(n,e),Ny={get({_:n},e){const{ctx:i,setupState:o,data:a,props:u,accessCache:d,type:p,appContext:m}=n;let k;if(e[0]!=="$"){const E=d[e];if(E!==void 0)switch(E){case 1:return o[e];case 2:return a[e];case 4:return i[e];case 3:return u[e]}else{if(O_(o,e))return d[e]=1,o[e];if(a!==sn&&qt(a,e))return d[e]=2,a[e];if((k=n.propsOptions[0])&&qt(k,e))return d[e]=3,u[e];if(i!==sn&&qt(i,e))return d[e]=4,i[e];By&&(d[e]=0)}}const w=kp[e];let y,T;if(w)return e==="$attrs"&&wr(n,"get",e),w(n);if((y=p.__cssModules)&&(y=y[e]))return y;if(i!==sn&&qt(i,e))return d[e]=4,i[e];if(T=m.config.globalProperties,qt(T,e))return T[e]},set({_:n},e,i){const{data:o,setupState:a,ctx:u}=n;return O_(a,e)?(a[e]=i,!0):o!==sn&&qt(o,e)?(o[e]=i,!0):qt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(u[e]=i,!0)},has({_:{data:n,setupState:e,accessCache:i,ctx:o,appContext:a,propsOptions:u}},d){let p;return!!i[d]||n!==sn&&qt(n,d)||O_(e,d)||(p=u[0])&&qt(p,d)||qt(o,d)||qt(kp,d)||qt(a.config.globalProperties,d)},defineProperty(n,e,i){return i.get!=null?n._.accessCache[e]=0:qt(i,"value")&&this.set(n,e,i.value,null),Reflect.defineProperty(n,e,i)}},MK=Rt({},Ny,{get(n,e){if(e!==Symbol.unscopables)return Ny.get(n,e,n)},has(n,e){return e[0]!=="_"&&!x4(e)}});function PK(){return null}function NK(){return null}function BK(n){}function OK(n){}function LK(){return null}function RK(){}function FK(n,e){return null}function jK(){return pN().slots}function zK(){return pN().attrs}function VK(n,e,i){const o=La();if(i&&i.local){const a=Qd(n[e]);return hu(()=>n[e],u=>a.value=u),hu(a,u=>{u!==n[e]&&o.emit(`update:${e}`,u)}),a}else return{__v_isRef:!0,get value(){return n[e]},set value(a){o.emit(`update:${e}`,a)}}}function pN(){const n=La();return n.setupContext||(n.setupContext=RN(n))}function Zp(n){return lt(n)?n.reduce((e,i)=>(e[i]=null,e),{}):n}function UK(n,e){const i=Zp(n);for(const o in e){if(o.startsWith("__skip"))continue;let a=i[o];a?lt(a)||St(a)?a=i[o]={type:a,default:e[o]}:a.default=e[o]:a===null&&(a=i[o]={default:e[o]}),a&&e[`__skip_${o}`]&&(a.skipFactory=!0)}return i}function HK(n,e){return!n||!e?n||e:lt(n)&&lt(e)?n.concat(e):Rt({},Zp(n),Zp(e))}function $K(n,e){const i={};for(const o in n)e.includes(o)||Object.defineProperty(i,o,{enumerable:!0,get:()=>n[o]});return i}function qK(n){const e=La();let i=n();return Il(),yb(i)&&(i=i.catch(o=>{throw Ol(e),o})),[i,()=>Ol(e)]}let By=!0;function WK(n){const e=FC(n),i=n.proxy,o=n.ctx;By=!1,e.beforeCreate&&D5(e.beforeCreate,n,"bc");const{data:a,computed:u,methods:d,watch:p,provide:m,inject:k,created:w,beforeMount:y,mounted:T,beforeUpdate:E,updated:S,activated:R,deactivated:V,beforeDestroy:L,beforeUnmount:j,destroyed:Y,unmounted:W,render:q,renderTracked:ue,renderTriggered:te,errorCaptured:F,serverPrefetch:Q,expose:de,inheritAttrs:ee,components:K,directives:J,filters:be}=e;if(k&&GK(k,o,null),d)for(const oe in d){const ne=d[oe];St(ne)&&(o[oe]=ne.bind(i))}if(a){const oe=a.call(i,i);nn(oe)&&(n.data=$b(oe))}if(By=!0,u)for(const oe in u){const ne=u[oe],_e=St(ne)?ne.bind(i,i):St(ne.get)?ne.get.bind(i,i):Pi,re=!St(ne)&&St(ne.set)?ne.set.bind(i):Pi,Ie=FN({get:_e,set:re});Object.defineProperty(o,oe,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:he=>Ie.value=he})}if(p)for(const oe in p)mN(p[oe],o,i,oe);if(m){const oe=St(m)?m.call(i):m;Reflect.ownKeys(oe).forEach(ne=>{bN(ne,oe[ne])})}w&&D5(w,n,"c");function ve(oe,ne){lt(ne)?ne.forEach(_e=>oe(_e.bind(i))):ne&&oe(ne.bind(i))}if(ve(sN,y),ve(Cm,T),ve(aN,E),ve(Xb,S),ve(iN,R),ve(rN,V),ve(dN,F),ve(uN,ue),ve(cN,te),ve(Jb,j),ve(ek,W),ve(lN,Q),lt(de))if(de.length){const oe=n.exposed||(n.exposed={});de.forEach(ne=>{Object.defineProperty(oe,ne,{get:()=>i[ne],set:_e=>i[ne]=_e})})}else n.exposed||(n.exposed={});q&&n.render===Pi&&(n.render=q),ee!=null&&(n.inheritAttrs=ee),K&&(n.components=K),J&&(n.directives=J)}function GK(n,e,i=Pi){lt(n)&&(n=Oy(n));for(const o in n){const a=n[o];let u;nn(a)?"default"in a?u=vp(a.from||o,a.default,!0):u=vp(a.from||o):u=vp(a),di(u)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>u.value,set:d=>u.value=d}):e[o]=u}}function D5(n,e,i){qr(lt(n)?n.map(o=>o.bind(e.proxy)):n.bind(e.proxy),e,i)}function mN(n,e,i,o){const a=o.includes(".")?eN(i,o):()=>i[o];if(Dt(n)){const u=e[n];St(u)&&hu(a,u)}else if(St(n))hu(a,n.bind(i));else if(nn(n))if(lt(n))n.forEach(u=>mN(u,e,i,o));else{const u=St(n.handler)?n.handler.bind(i):e[n.handler];St(u)&&hu(a,u,n)}}function FC(n){const e=n.type,{mixins:i,extends:o}=e,{mixins:a,optionsCache:u,config:{optionMergeStrategies:d}}=n.appContext,p=u.get(e);let m;return p?m=p:!a.length&&!i&&!o?m=e:(m={},a.length&&a.forEach(k=>M0(m,k,d,!0)),M0(m,e,d)),nn(e)&&u.set(e,m),m}function M0(n,e,i,o=!1){const{mixins:a,extends:u}=e;u&&M0(n,u,i,!0),a&&a.forEach(d=>M0(n,d,i,!0));for(const d in e)if(!(o&&d==="expose")){const p=KK[d]||i&&i[d];n[d]=p?p(n[d],e[d]):e[d]}return n}const KK={data:I5,props:M5,emits:M5,methods:cp,computed:cp,beforeCreate:Xi,created:Xi,beforeMount:Xi,mounted:Xi,beforeUpdate:Xi,updated:Xi,beforeDestroy:Xi,beforeUnmount:Xi,destroyed:Xi,unmounted:Xi,activated:Xi,deactivated:Xi,errorCaptured:Xi,serverPrefetch:Xi,components:cp,directives:cp,watch:QK,provide:I5,inject:YK};function I5(n,e){return e?n?function(){return Rt(St(n)?n.call(this,this):n,St(e)?e.call(this,this):e)}:e:n}function YK(n,e){return cp(Oy(n),Oy(e))}function Oy(n){if(lt(n)){const e={};for(let i=0;i<n.length;i++)e[n[i]]=n[i];return e}return n}function Xi(n,e){return n?[...new Set([].concat(n,e))]:e}function cp(n,e){return n?Rt(Object.create(null),n,e):e}function M5(n,e){return n?lt(n)&&lt(e)?[...new Set([...n,...e])]:Rt(Object.create(null),Zp(n),Zp(e??{})):e}function QK(n,e){if(!n)return e;if(!e)return n;const i=Rt(Object.create(null),n);for(const o in e)i[o]=Xi(n[o],e[o]);return i}function gN(){return{app:null,config:{isNativeTag:gp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ZK=0;function XK(n,e){return function(o,a=null){St(o)||(o=Rt({},o)),a!=null&&!nn(a)&&(a=null);const u=gN(),d=new Set;let p=!1;const m=u.app={_uid:ZK++,_component:o,_props:a,_container:null,_context:u,_instance:null,version:HN,get config(){return u.config},set config(k){},use(k,...w){return d.has(k)||(k&&St(k.install)?(d.add(k),k.install(m,...w)):St(k)&&(d.add(k),k(m,...w))),m},mixin(k){return u.mixins.includes(k)||u.mixins.push(k),m},component(k,w){return w?(u.components[k]=w,m):u.components[k]},directive(k,w){return w?(u.directives[k]=w,m):u.directives[k]},mount(k,w,y){if(!p){const T=Mn(o,a);return T.appContext=u,w&&e?e(T,k):n(T,k,y),p=!0,m._container=k,k.__vue_app__=m,ik(T.component)||T.component.proxy}},unmount(){p&&(n(null,m._container),delete m._container.__vue_app__)},provide(k,w){return u.provides[k]=w,m},runWithContext(k){Xp=m;try{return k()}finally{Xp=null}}};return m}}let Xp=null;function bN(n,e){if(si){let i=si.provides;const o=si.parent&&si.parent.provides;o===i&&(i=si.provides=Object.create(o)),i[n]=e}}function vp(n,e,i=!1){const o=si||yi;if(o||Xp){const a=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Xp._context.provides;if(a&&n in a)return a[n];if(arguments.length>1)return i&&St(e)?e.call(o&&o.proxy):e}}function JK(){return!!(si||yi||Xp)}function eY(n,e,i,o=!1){const a={},u={};Np(u,nk,1),n.propsDefaults=Object.create(null),kN(n,e,a,u);for(const d in n.propsOptions[0])d in a||(a[d]=void 0);i?n.props=o?a:HP(a):n.type.props?n.props=a:n.props=u,n.attrs=u}function tY(n,e,i,o){const{props:a,attrs:u,vnode:{patchFlag:d}}=n,p=zt(a),[m]=n.propsOptions;let k=!1;if((o||d>0)&&!(d&16)){if(d&8){const w=n.vnode.dynamicProps;for(let y=0;y<w.length;y++){let T=w[y];if(Kb(n.emitsOptions,T))continue;const E=e[T];if(m)if(qt(u,T))E!==u[T]&&(u[T]=E,k=!0);else{const S=ti(T);a[S]=Ly(m,p,S,E,n,!1)}else E!==u[T]&&(u[T]=E,k=!0)}}}else{kN(n,e,a,u)&&(k=!0);let w;for(const y in p)(!e||!qt(e,y)&&((w=er(y))===y||!qt(e,w)))&&(m?i&&(i[y]!==void 0||i[w]!==void 0)&&(a[y]=Ly(m,p,y,void 0,n,!0)):delete a[y]);if(u!==p)for(const y in u)(!e||!qt(e,y))&&(delete u[y],k=!0)}k&&Da(n,"set","$attrs")}function kN(n,e,i,o){const[a,u]=n.propsOptions;let d=!1,p;if(e)for(let m in e){if(Sl(m))continue;const k=e[m];let w;a&&qt(a,w=ti(m))?!u||!u.includes(w)?i[w]=k:(p||(p={}))[w]=k:Kb(n.emitsOptions,m)||(!(m in o)||k!==o[m])&&(o[m]=k,d=!0)}if(u){const m=zt(i),k=p||sn;for(let w=0;w<u.length;w++){const y=u[w];i[y]=Ly(a,m,y,k[y],n,!qt(k,y))}}return d}function Ly(n,e,i,o,a,u){const d=n[i];if(d!=null){const p=qt(d,"default");if(p&&o===void 0){const m=d.default;if(d.type!==Function&&!d.skipFactory&&St(m)){const{propsDefaults:k}=a;i in k?o=k[i]:(Ol(a),o=k[i]=m.call(null,e),Il())}else o=m}d[0]&&(u&&!p?o=!1:d[1]&&(o===""||o===er(i))&&(o=!0))}return o}function vN(n,e,i=!1){const o=e.propsCache,a=o.get(n);if(a)return a;const u=n.props,d={},p=[];let m=!1;if(!St(n)){const w=y=>{m=!0;const[T,E]=vN(y,e,!0);Rt(d,T),E&&p.push(...E)};!i&&e.mixins.length&&e.mixins.forEach(w),n.extends&&w(n.extends),n.mixins&&n.mixins.forEach(w)}if(!u&&!m)return nn(n)&&o.set(n,ou),ou;if(lt(u))for(let w=0;w<u.length;w++){const y=ti(u[w]);P5(y)&&(d[y]=sn)}else if(u)for(const w in u){const y=ti(w);if(P5(y)){const T=u[w],E=d[y]=lt(T)||St(T)?{type:T}:Rt({},T);if(E){const S=O5(Boolean,E.type),R=O5(String,E.type);E[0]=S>-1,E[1]=R<0||S<R,(S>-1||qt(E,"default"))&&p.push(y)}}}const k=[d,p];return nn(n)&&o.set(n,k),k}function P5(n){return n[0]!=="$"}function N5(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function B5(n,e){return N5(n)===N5(e)}function O5(n,e){return lt(e)?e.findIndex(i=>B5(i,n)):St(e)&&B5(e,n)?0:-1}const _N=n=>n[0]==="_"||n==="$stable",jC=n=>lt(n)?n.map(zr):[zr(n)],nY=(n,e,i)=>{if(e._n)return e;const o=IC((...a)=>jC(e(...a)),i);return o._c=!1,o},yN=(n,e,i)=>{const o=n._ctx;for(const a in n){if(_N(a))continue;const u=n[a];if(St(u))e[a]=nY(a,u,o);else if(u!=null){const d=jC(u);e[a]=()=>d}}},wN=(n,e)=>{const i=jC(e);n.slots.default=()=>i},iY=(n,e)=>{if(n.vnode.shapeFlag&32){const i=e._;i?(n.slots=zt(e),Np(e,"_",i)):yN(e,n.slots={})}else n.slots={},e&&wN(n,e);Np(n.slots,nk,1)},rY=(n,e,i)=>{const{vnode:o,slots:a}=n;let u=!0,d=sn;if(o.shapeFlag&32){const p=e._;p?i&&p===1?u=!1:(Rt(a,e),!i&&p===1&&delete a._):(u=!e.$stable,yN(e,a)),d=e}else e&&(wN(n,e),d={default:1});if(u)for(const p in a)!_N(p)&&!(p in d)&&delete a[p]};function P0(n,e,i,o,a=!1){if(lt(n)){n.forEach((T,E)=>P0(T,e&&(lt(e)?e[E]:e),i,o,a));return}if(fu(o)&&!a)return;const u=o.shapeFlag&4?ik(o.component)||o.component.proxy:o.el,d=a?null:u,{i:p,r:m}=n,k=e&&e.r,w=p.refs===sn?p.refs={}:p.refs,y=p.setupState;if(k!=null&&k!==m&&(Dt(k)?(w[k]=null,qt(y,k)&&(y[k]=null)):di(k)&&(k.value=null)),St(m))Aa(m,p,12,[d,w]);else{const T=Dt(m),E=di(m);if(T||E){const S=()=>{if(n.f){const R=T?qt(y,m)?y[m]:w[m]:m.value;a?lt(R)&&_b(R,u):lt(R)?R.includes(u)||R.push(u):T?(w[m]=[u],qt(y,m)&&(y[m]=w[m])):(m.value=[u],n.k&&(w[n.k]=m.value))}else T?(w[m]=d,qt(y,m)&&(y[m]=d)):E&&(m.value=d,n.k&&(w[n.k]=d))};d?(S.id=-1,Si(S,i)):S()}}}let kl=!1;const $g=n=>/svg/.test(n.namespaceURI)&&n.tagName!=="foreignObject",qg=n=>n.nodeType===8;function oY(n){const{mt:e,p:i,o:{patchProp:o,createText:a,nextSibling:u,parentNode:d,remove:p,insert:m,createComment:k}}=n,w=(L,j)=>{if(!j.hasChildNodes()){i(null,L,j),I0(),j._vnode=L;return}kl=!1,y(j.firstChild,L,null,null,null),I0(),j._vnode=L,kl&&console.error("Hydration completed but contains mismatches.")},y=(L,j,Y,W,q,ue=!1)=>{const te=qg(L)&&L.data==="[",F=()=>R(L,j,Y,W,q,te),{type:Q,ref:de,shapeFlag:ee,patchFlag:K}=j;let J=L.nodeType;j.el=L,K===-2&&(ue=!1,j.dynamicChildren=null);let be=null;switch(Q){case Du:J!==3?j.children===""?(m(j.el=a(""),d(L),L),be=L):be=F():(L.data!==j.children&&(kl=!0,L.data=j.children),be=u(L));break;case $i:J!==8||te?be=F():be=u(L);break;case pu:if(te&&(L=u(L),J=L.nodeType),J===1||J===3){be=L;const ke=!j.children.length;for(let ve=0;ve<j.staticCount;ve++)ke&&(j.children+=be.nodeType===1?be.outerHTML:be.data),ve===j.staticCount-1&&(j.anchor=be),be=u(be);return te?u(be):be}else F();break;case Ii:te?be=S(L,j,Y,W,q,ue):be=F();break;default:if(ee&1)J!==1||j.type.toLowerCase()!==L.tagName.toLowerCase()?be=F():be=T(L,j,Y,W,q,ue);else if(ee&6){j.slotScopeIds=q;const ke=d(L);if(e(j,ke,null,Y,W,$g(ke),ue),be=te?V(L):u(L),be&&qg(be)&&be.data==="teleport end"&&(be=u(be)),fu(j)){let ve;te?(ve=Mn(Ii),ve.anchor=be?be.previousSibling:ke.lastChild):ve=L.nodeType===3?HC(""):Mn("div"),ve.el=L,j.component.subTree=ve}}else ee&64?J!==8?be=F():be=j.type.hydrate(L,j,Y,W,q,ue,n,E):ee&128&&(be=j.type.hydrate(L,j,Y,W,$g(d(L)),q,ue,n,y))}return de!=null&&P0(de,null,W,j),be},T=(L,j,Y,W,q,ue)=>{ue=ue||!!j.dynamicChildren;const{type:te,props:F,patchFlag:Q,shapeFlag:de,dirs:ee}=j,K=te==="input"&&ee||te==="option";if(K||Q!==-1){if(ee&&ms(j,null,Y,"created"),F)if(K||!ue||Q&48)for(const be in F)(K&&be.endsWith("value")||zl(be)&&!Sl(be))&&o(L,be,null,F[be],!1,void 0,Y);else F.onClick&&o(L,"onClick",null,F.onClick,!1,void 0,Y);let J;if((J=F&&F.onVnodeBeforeMount)&&mr(J,Y,j),ee&&ms(j,null,Y,"beforeMount"),((J=F&&F.onVnodeMounted)||ee)&&XP(()=>{J&&mr(J,Y,j),ee&&ms(j,null,Y,"mounted")},W),de&16&&!(F&&(F.innerHTML||F.textContent))){let be=E(L.firstChild,j,L,Y,W,q,ue);for(;be;){kl=!0;const ke=be;be=be.nextSibling,p(ke)}}else de&8&&L.textContent!==j.children&&(kl=!0,L.textContent=j.children)}return L.nextSibling},E=(L,j,Y,W,q,ue,te)=>{te=te||!!j.dynamicChildren;const F=j.children,Q=F.length;for(let de=0;de<Q;de++){const ee=te?F[de]:F[de]=zr(F[de]);if(L)L=y(L,ee,W,q,ue,te);else{if(ee.type===Du&&!ee.children)continue;kl=!0,i(null,ee,Y,null,W,q,$g(Y),ue)}}return L},S=(L,j,Y,W,q,ue)=>{const{slotScopeIds:te}=j;te&&(q=q?q.concat(te):te);const F=d(L),Q=E(u(L),j,F,Y,W,q,ue);return Q&&qg(Q)&&Q.data==="]"?u(j.anchor=Q):(kl=!0,m(j.anchor=k("]"),F,Q),Q)},R=(L,j,Y,W,q,ue)=>{if(kl=!0,j.el=null,ue){const Q=V(L);for(;;){const de=u(L);if(de&&de!==Q)p(de);else break}}const te=u(L),F=d(L);return p(L),i(null,j,F,te,Y,W,$g(F),q),te},V=L=>{let j=0;for(;L;)if(L=u(L),L&&qg(L)&&(L.data==="["&&j++,L.data==="]")){if(j===0)return u(L);j--}return L};return[w,y]}const Si=XP;function CN(n){return TN(n)}function AN(n){return TN(n,oY)}function TN(n,e){const i=y0();i.__VUE__=!0;const{insert:o,remove:a,patchProp:u,createElement:d,createText:p,createComment:m,setText:k,setElementText:w,parentNode:y,nextSibling:T,setScopeId:E=Pi,insertStaticContent:S}=n,R=(le,ce,Se,xe=null,Oe=null,Ye=null,We=!1,ze=null,Re=!!ce.dynamicChildren)=>{if(le===ce)return;le&&!zo(le,ce)&&(xe=ft(le),he(le,Oe,Ye,!0),le=null),ce.patchFlag===-2&&(Re=!1,ce.dynamicChildren=null);const{type:He,ref:Qe,shapeFlag:Ge}=ce;switch(He){case Du:V(le,ce,Se,xe);break;case $i:L(le,ce,Se,xe);break;case pu:le==null&&j(ce,Se,xe,We);break;case Ii:K(le,ce,Se,xe,Oe,Ye,We,ze,Re);break;default:Ge&1?q(le,ce,Se,xe,Oe,Ye,We,ze,Re):Ge&6?J(le,ce,Se,xe,Oe,Ye,We,ze,Re):(Ge&64||Ge&128)&&He.process(le,ce,Se,xe,Oe,Ye,We,ze,Re,dt)}Qe!=null&&Oe&&P0(Qe,le&&le.ref,Ye,ce||le,!ce)},V=(le,ce,Se,xe)=>{if(le==null)o(ce.el=p(ce.children),Se,xe);else{const Oe=ce.el=le.el;ce.children!==le.children&&k(Oe,ce.children)}},L=(le,ce,Se,xe)=>{le==null?o(ce.el=m(ce.children||""),Se,xe):ce.el=le.el},j=(le,ce,Se,xe)=>{[le.el,le.anchor]=S(le.children,ce,Se,xe,le.el,le.anchor)},Y=({el:le,anchor:ce},Se,xe)=>{let Oe;for(;le&&le!==ce;)Oe=T(le),o(le,Se,xe),le=Oe;o(ce,Se,xe)},W=({el:le,anchor:ce})=>{let Se;for(;le&&le!==ce;)Se=T(le),a(le),le=Se;a(ce)},q=(le,ce,Se,xe,Oe,Ye,We,ze,Re)=>{We=We||ce.type==="svg",le==null?ue(ce,Se,xe,Oe,Ye,We,ze,Re):Q(le,ce,Oe,Ye,We,ze,Re)},ue=(le,ce,Se,xe,Oe,Ye,We,ze)=>{let Re,He;const{type:Qe,props:Ge,shapeFlag:it,transition:gt,dirs:Le}=le;if(Re=le.el=d(le.type,Ye,Ge&&Ge.is,Ge),it&8?w(Re,le.children):it&16&&F(le.children,Re,null,xe,Oe,Ye&&Qe!=="foreignObject",We,ze),Le&&ms(le,null,xe,"created"),te(Re,le,le.scopeId,We,xe),Ge){for(const Ce in Ge)Ce!=="value"&&!Sl(Ce)&&u(Re,Ce,null,Ge[Ce],Ye,le.children,xe,Oe,rt);"value"in Ge&&u(Re,"value",null,Ge.value),(He=Ge.onVnodeBeforeMount)&&mr(He,xe,le)}Le&&ms(le,null,xe,"beforeMount");const pe=(!Oe||Oe&&!Oe.pendingBranch)&&gt&&!gt.persisted;pe&&gt.beforeEnter(Re),o(Re,ce,Se),((He=Ge&&Ge.onVnodeMounted)||pe||Le)&&Si(()=>{He&&mr(He,xe,le),pe&&gt.enter(Re),Le&&ms(le,null,xe,"mounted")},Oe)},te=(le,ce,Se,xe,Oe)=>{if(Se&&E(le,Se),xe)for(let Ye=0;Ye<xe.length;Ye++)E(le,xe[Ye]);if(Oe){let Ye=Oe.subTree;if(ce===Ye){const We=Oe.vnode;te(le,We,We.scopeId,We.slotScopeIds,Oe.parent)}}},F=(le,ce,Se,xe,Oe,Ye,We,ze,Re=0)=>{for(let He=Re;He<le.length;He++){const Qe=le[He]=ze?Cl(le[He]):zr(le[He]);R(null,Qe,ce,Se,xe,Oe,Ye,We,ze)}},Q=(le,ce,Se,xe,Oe,Ye,We)=>{const ze=ce.el=le.el;let{patchFlag:Re,dynamicChildren:He,dirs:Qe}=ce;Re|=le.patchFlag&16;const Ge=le.props||sn,it=ce.props||sn;let gt;Se&&qc(Se,!1),(gt=it.onVnodeBeforeUpdate)&&mr(gt,Se,ce,le),Qe&&ms(ce,le,Se,"beforeUpdate"),Se&&qc(Se,!0);const Le=Oe&&ce.type!=="foreignObject";if(He?de(le.dynamicChildren,He,ze,Se,xe,Le,Ye):We||ne(le,ce,ze,null,Se,xe,Le,Ye,!1),Re>0){if(Re&16)ee(ze,ce,Ge,it,Se,xe,Oe);else if(Re&2&&Ge.class!==it.class&&u(ze,"class",null,it.class,Oe),Re&4&&u(ze,"style",Ge.style,it.style,Oe),Re&8){const pe=ce.dynamicProps;for(let Ce=0;Ce<pe.length;Ce++){const nt=pe[Ce],at=Ge[nt],wt=it[nt];(wt!==at||nt==="value")&&u(ze,nt,at,wt,Oe,le.children,Se,xe,rt)}}Re&1&&le.children!==ce.children&&w(ze,ce.children)}else!We&&He==null&&ee(ze,ce,Ge,it,Se,xe,Oe);((gt=it.onVnodeUpdated)||Qe)&&Si(()=>{gt&&mr(gt,Se,ce,le),Qe&&ms(ce,le,Se,"updated")},xe)},de=(le,ce,Se,xe,Oe,Ye,We)=>{for(let ze=0;ze<ce.length;ze++){const Re=le[ze],He=ce[ze],Qe=Re.el&&(Re.type===Ii||!zo(Re,He)||Re.shapeFlag&70)?y(Re.el):Se;R(Re,He,Qe,null,xe,Oe,Ye,We,!0)}},ee=(le,ce,Se,xe,Oe,Ye,We)=>{if(Se!==xe){if(Se!==sn)for(const ze in Se)!Sl(ze)&&!(ze in xe)&&u(le,ze,Se[ze],null,We,ce.children,Oe,Ye,rt);for(const ze in xe){if(Sl(ze))continue;const Re=xe[ze],He=Se[ze];Re!==He&&ze!=="value"&&u(le,ze,He,Re,We,ce.children,Oe,Ye,rt)}"value"in xe&&u(le,"value",Se.value,xe.value)}},K=(le,ce,Se,xe,Oe,Ye,We,ze,Re)=>{const He=ce.el=le?le.el:p(""),Qe=ce.anchor=le?le.anchor:p("");let{patchFlag:Ge,dynamicChildren:it,slotScopeIds:gt}=ce;gt&&(ze=ze?ze.concat(gt):gt),le==null?(o(He,Se,xe),o(Qe,Se,xe),F(ce.children,Se,Qe,Oe,Ye,We,ze,Re)):Ge>0&&Ge&64&&it&&le.dynamicChildren?(de(le.dynamicChildren,it,Se,Oe,Ye,We,ze),(ce.key!=null||Oe&&ce===Oe.subTree)&&zC(le,ce,!0)):ne(le,ce,Se,Qe,Oe,Ye,We,ze,Re)},J=(le,ce,Se,xe,Oe,Ye,We,ze,Re)=>{ce.slotScopeIds=ze,le==null?ce.shapeFlag&512?Oe.ctx.activate(ce,Se,xe,We,Re):be(ce,Se,xe,Oe,Ye,We,Re):ke(le,ce,Re)},be=(le,ce,Se,xe,Oe,Ye,We)=>{const ze=le.component=PN(le,xe,Oe);if(wm(le)&&(ze.ctx.renderer=dt),BN(ze),ze.asyncDep){if(Oe&&Oe.registerDep(ze,ve),!le.el){const Re=ze.subTree=Mn($i);L(null,Re,ce,Se)}return}ve(ze,le,ce,Se,Oe,Ye,We)},ke=(le,ce,Se)=>{const xe=ce.component=le.component;if(sK(le,ce,Se))if(xe.asyncDep&&!xe.asyncResolved){oe(xe,ce,Se);return}else xe.next=ce,ZG(xe.update),xe.update();else ce.el=le.el,xe.vnode=ce},ve=(le,ce,Se,xe,Oe,Ye,We)=>{const ze=()=>{if(le.isMounted){let{next:Qe,bu:Ge,u:it,parent:gt,vnode:Le}=le,pe=Qe,Ce;qc(le,!1),Qe?(Qe.el=Le.el,oe(le,Qe,We)):Qe=Le,Ge&&lu(Ge),(Ce=Qe.props&&Qe.props.onVnodeBeforeUpdate)&&mr(Ce,gt,Qe,Le),qc(le,!0);const nt=f0(le),at=le.subTree;le.subTree=nt,R(at,nt,y(at.el),ft(at),le,Oe,Ye),Qe.el=nt.el,pe===null&&MC(le,nt.el),it&&Si(it,Oe),(Ce=Qe.props&&Qe.props.onVnodeUpdated)&&Si(()=>mr(Ce,gt,Qe,Le),Oe)}else{let Qe;const{el:Ge,props:it}=ce,{bm:gt,m:Le,parent:pe}=le,Ce=fu(ce);if(qc(le,!1),gt&&lu(gt),!Ce&&(Qe=it&&it.onVnodeBeforeMount)&&mr(Qe,pe,ce),qc(le,!0),Ge&&Xe){const nt=()=>{le.subTree=f0(le),Xe(Ge,le.subTree,le,Oe,null)};Ce?ce.type.__asyncLoader().then(()=>!le.isUnmounted&&nt()):nt()}else{const nt=le.subTree=f0(le);R(null,nt,Se,xe,le,Oe,Ye),ce.el=nt.el}if(Le&&Si(Le,Oe),!Ce&&(Qe=it&&it.onVnodeMounted)){const nt=ce;Si(()=>mr(Qe,pe,nt),Oe)}(ce.shapeFlag&256||pe&&fu(pe.vnode)&&pe.vnode.shapeFlag&256)&&le.a&&Si(le.a,Oe),le.isMounted=!0,ce=Se=xe=null}},Re=le.effect=new _m(ze,()=>Gb(He),le.scope),He=le.update=()=>Re.run();He.id=le.uid,qc(le,!0),He()},oe=(le,ce,Se)=>{ce.component=le;const xe=le.vnode.props;le.vnode=ce,le.next=null,tY(le,ce.props,xe,Se),rY(le,ce.children,Se),Fh(),A5(),jh()},ne=(le,ce,Se,xe,Oe,Ye,We,ze,Re=!1)=>{const He=le&&le.children,Qe=le?le.shapeFlag:0,Ge=ce.children,{patchFlag:it,shapeFlag:gt}=ce;if(it>0){if(it&128){re(He,Ge,Se,xe,Oe,Ye,We,ze,Re);return}else if(it&256){_e(He,Ge,Se,xe,Oe,Ye,We,ze,Re);return}}gt&8?(Qe&16&&rt(He,Oe,Ye),Ge!==He&&w(Se,Ge)):Qe&16?gt&16?re(He,Ge,Se,xe,Oe,Ye,We,ze,Re):rt(He,Oe,Ye,!0):(Qe&8&&w(Se,""),gt&16&&F(Ge,Se,xe,Oe,Ye,We,ze,Re))},_e=(le,ce,Se,xe,Oe,Ye,We,ze,Re)=>{le=le||ou,ce=ce||ou;const He=le.length,Qe=ce.length,Ge=Math.min(He,Qe);let it;for(it=0;it<Ge;it++){const gt=ce[it]=Re?Cl(ce[it]):zr(ce[it]);R(le[it],gt,Se,null,Oe,Ye,We,ze,Re)}He>Qe?rt(le,Oe,Ye,!0,!1,Ge):F(ce,Se,xe,Oe,Ye,We,ze,Re,Ge)},re=(le,ce,Se,xe,Oe,Ye,We,ze,Re)=>{let He=0;const Qe=ce.length;let Ge=le.length-1,it=Qe-1;for(;He<=Ge&&He<=it;){const gt=le[He],Le=ce[He]=Re?Cl(ce[He]):zr(ce[He]);if(zo(gt,Le))R(gt,Le,Se,null,Oe,Ye,We,ze,Re);else break;He++}for(;He<=Ge&&He<=it;){const gt=le[Ge],Le=ce[it]=Re?Cl(ce[it]):zr(ce[it]);if(zo(gt,Le))R(gt,Le,Se,null,Oe,Ye,We,ze,Re);else break;Ge--,it--}if(He>Ge){if(He<=it){const gt=it+1,Le=gt<Qe?ce[gt].el:xe;for(;He<=it;)R(null,ce[He]=Re?Cl(ce[He]):zr(ce[He]),Se,Le,Oe,Ye,We,ze,Re),He++}}else if(He>it)for(;He<=Ge;)he(le[He],Oe,Ye,!0),He++;else{const gt=He,Le=He,pe=new Map;for(He=Le;He<=it;He++){const Pn=ce[He]=Re?Cl(ce[He]):zr(ce[He]);Pn.key!=null&&pe.set(Pn.key,He)}let Ce,nt=0;const at=it-Le+1;let wt=!1,It=0;const Kn=new Array(at);for(He=0;He<at;He++)Kn[He]=0;for(He=gt;He<=Ge;He++){const Pn=le[He];if(nt>=at){he(Pn,Oe,Ye,!0);continue}let Nn;if(Pn.key!=null)Nn=pe.get(Pn.key);else for(Ce=Le;Ce<=it;Ce++)if(Kn[Ce-Le]===0&&zo(Pn,ce[Ce])){Nn=Ce;break}Nn===void 0?he(Pn,Oe,Ye,!0):(Kn[Nn-Le]=He+1,Nn>=It?It=Nn:wt=!0,R(Pn,ce[Nn],Se,null,Oe,Ye,We,ze,Re),nt++)}const pn=wt?sY(Kn):ou;for(Ce=pn.length-1,He=at-1;He>=0;He--){const Pn=Le+He,Nn=ce[Pn],xn=Pn+1<Qe?ce[Pn+1].el:xe;Kn[He]===0?R(null,Nn,Se,xn,Oe,Ye,We,ze,Re):wt&&(Ce<0||He!==pn[Ce]?Ie(Nn,Se,xn,2):Ce--)}}},Ie=(le,ce,Se,xe,Oe=null)=>{const{el:Ye,type:We,transition:ze,children:Re,shapeFlag:He}=le;if(He&6){Ie(le.component.subTree,ce,Se,xe);return}if(He&128){le.suspense.move(ce,Se,xe);return}if(He&64){We.move(le,ce,Se,dt);return}if(We===Ii){o(Ye,ce,Se);for(let Ge=0;Ge<Re.length;Ge++)Ie(Re[Ge],ce,Se,xe);o(le.anchor,ce,Se);return}if(We===pu){Y(le,ce,Se);return}if(xe!==2&&He&1&&ze)if(xe===0)ze.beforeEnter(Ye),o(Ye,ce,Se),Si(()=>ze.enter(Ye),Oe);else{const{leave:Ge,delayLeave:it,afterLeave:gt}=ze,Le=()=>o(Ye,ce,Se),pe=()=>{Ge(Ye,()=>{Le(),gt&&gt()})};it?it(Ye,Le,pe):pe()}else o(Ye,ce,Se)},he=(le,ce,Se,xe=!1,Oe=!1)=>{const{type:Ye,props:We,ref:ze,children:Re,dynamicChildren:He,shapeFlag:Qe,patchFlag:Ge,dirs:it}=le;if(ze!=null&&P0(ze,null,Se,le,!0),Qe&256){ce.ctx.deactivate(le);return}const gt=Qe&1&&it,Le=!fu(le);let pe;if(Le&&(pe=We&&We.onVnodeBeforeUnmount)&&mr(pe,ce,le),Qe&6)Ne(le.component,Se,xe);else{if(Qe&128){le.suspense.unmount(Se,xe);return}gt&&ms(le,null,ce,"beforeUnmount"),Qe&64?le.type.remove(le,ce,Se,Oe,dt,xe):He&&(Ye!==Ii||Ge>0&&Ge&64)?rt(He,ce,Se,!1,!0):(Ye===Ii&&Ge&384||!Oe&&Qe&16)&&rt(Re,ce,Se),xe&&Ae(le)}(Le&&(pe=We&&We.onVnodeUnmounted)||gt)&&Si(()=>{pe&&mr(pe,ce,le),gt&&ms(le,null,ce,"unmounted")},Se)},Ae=le=>{const{type:ce,el:Se,anchor:xe,transition:Oe}=le;if(ce===Ii){Me(Se,xe);return}if(ce===pu){W(le);return}const Ye=()=>{a(Se),Oe&&!Oe.persisted&&Oe.afterLeave&&Oe.afterLeave()};if(le.shapeFlag&1&&Oe&&!Oe.persisted){const{leave:We,delayLeave:ze}=Oe,Re=()=>We(Se,Ye);ze?ze(le.el,Ye,Re):Re()}else Ye()},Me=(le,ce)=>{let Se;for(;le!==ce;)Se=T(le),a(le),le=Se;a(ce)},Ne=(le,ce,Se)=>{const{bum:xe,scope:Oe,update:Ye,subTree:We,um:ze}=le;xe&&lu(xe),Oe.stop(),Ye&&(Ye.active=!1,he(We,le,ce,Se)),ze&&Si(ze,ce),Si(()=>{le.isUnmounted=!0},ce),ce&&ce.pendingBranch&&!ce.isUnmounted&&le.asyncDep&&!le.asyncResolved&&le.suspenseId===ce.pendingId&&(ce.deps--,ce.deps===0&&ce.resolve())},rt=(le,ce,Se,xe=!1,Oe=!1,Ye=0)=>{for(let We=Ye;We<le.length;We++)he(le[We],ce,Se,xe,Oe)},ft=le=>le.shapeFlag&6?ft(le.component.subTree):le.shapeFlag&128?le.suspense.next():T(le.anchor||le.el),Ke=(le,ce,Se)=>{le==null?ce._vnode&&he(ce._vnode,null,null,!0):R(ce._vnode||null,le,ce,null,null,null,Se),A5(),I0(),ce._vnode=le},dt={p:R,um:he,m:Ie,r:Ae,mt:be,mc:F,pc:ne,pbc:de,n:ft,o:n};let Te,Xe;return e&&([Te,Xe]=e(dt)),{render:Ke,hydrate:Te,createApp:XK(Ke,Te)}}function qc({effect:n,update:e},i){n.allowRecurse=e.allowRecurse=i}function zC(n,e,i=!1){const o=n.children,a=e.children;if(lt(o)&&lt(a))for(let u=0;u<o.length;u++){const d=o[u];let p=a[u];p.shapeFlag&1&&!p.dynamicChildren&&((p.patchFlag<=0||p.patchFlag===32)&&(p=a[u]=Cl(a[u]),p.el=d.el),i||zC(d,p)),p.type===Du&&(p.el=d.el)}}function sY(n){const e=n.slice(),i=[0];let o,a,u,d,p;const m=n.length;for(o=0;o<m;o++){const k=n[o];if(k!==0){if(a=i[i.length-1],n[a]<k){e[o]=a,i.push(o);continue}for(u=0,d=i.length-1;u<d;)p=u+d>>1,n[i[p]]<k?u=p+1:d=p;k<n[i[u]]&&(u>0&&(e[o]=i[u-1]),i[u]=o)}}for(u=i.length,d=i[u-1];u-- >0;)i[u]=d,d=e[d];return i}const aY=n=>n.__isTeleport,_p=n=>n&&(n.disabled||n.disabled===""),L5=n=>typeof SVGElement<"u"&&n instanceof SVGElement,Ry=(n,e)=>{const i=n&&n.to;return Dt(i)?e?e(i):null:i},lY={__isTeleport:!0,process(n,e,i,o,a,u,d,p,m,k){const{mc:w,pc:y,pbc:T,o:{insert:E,querySelector:S,createText:R,createComment:V}}=k,L=_p(e.props);let{shapeFlag:j,children:Y,dynamicChildren:W}=e;if(n==null){const q=e.el=R(""),ue=e.anchor=R("");E(q,i,o),E(ue,i,o);const te=e.target=Ry(e.props,S),F=e.targetAnchor=R("");te&&(E(F,te),d=d||L5(te));const Q=(de,ee)=>{j&16&&w(Y,de,ee,a,u,d,p,m)};L?Q(i,ue):te&&Q(te,F)}else{e.el=n.el;const q=e.anchor=n.anchor,ue=e.target=n.target,te=e.targetAnchor=n.targetAnchor,F=_p(n.props),Q=F?i:ue,de=F?q:te;if(d=d||L5(ue),W?(T(n.dynamicChildren,W,Q,a,u,d,p),zC(n,e,!0)):m||y(n,e,Q,de,a,u,d,p,!1),L)F||Wg(e,i,q,k,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const ee=e.target=Ry(e.props,S);ee&&Wg(e,ee,null,k,0)}else F&&Wg(e,ue,te,k,1)}xN(e)},remove(n,e,i,o,{um:a,o:{remove:u}},d){const{shapeFlag:p,children:m,anchor:k,targetAnchor:w,target:y,props:T}=n;if(y&&u(w),(d||!_p(T))&&(u(k),p&16))for(let E=0;E<m.length;E++){const S=m[E];a(S,e,i,!0,!!S.dynamicChildren)}},move:Wg,hydrate:cY};function Wg(n,e,i,{o:{insert:o},m:a},u=2){u===0&&o(n.targetAnchor,e,i);const{el:d,anchor:p,shapeFlag:m,children:k,props:w}=n,y=u===2;if(y&&o(d,e,i),(!y||_p(w))&&m&16)for(let T=0;T<k.length;T++)a(k[T],e,i,2);y&&o(p,e,i)}function cY(n,e,i,o,a,u,{o:{nextSibling:d,parentNode:p,querySelector:m}},k){const w=e.target=Ry(e.props,m);if(w){const y=w._lpa||w.firstChild;if(e.shapeFlag&16)if(_p(e.props))e.anchor=k(d(n),e,p(n),i,o,a,u),e.targetAnchor=y;else{e.anchor=d(n);let T=y;for(;T;)if(T=d(T),T&&T.nodeType===8&&T.data==="teleport anchor"){e.targetAnchor=T,w._lpa=e.targetAnchor&&d(e.targetAnchor);break}k(y,e,w,i,o,a,u)}xN(e)}return e.anchor&&d(e.anchor)}const uY=lY;function xN(n){const e=n.ctx;if(e&&e.ut){let i=n.children[0].el;for(;i!==n.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",e.uid),i=i.nextSibling;e.ut()}}const Ii=Symbol.for("v-fgt"),Du=Symbol.for("v-txt"),$i=Symbol.for("v-cmt"),pu=Symbol.for("v-stc"),yp=[];let _r=null;function tk(n=!1){yp.push(_r=n?null:[])}function EN(){yp.pop(),_r=yp[yp.length-1]||null}let Iu=1;function Fy(n){Iu+=n}function SN(n){return n.dynamicChildren=Iu>0?_r||ou:null,EN(),Iu>0&&_r&&_r.push(n),n}function dY(n,e,i,o,a,u){return SN(UC(n,e,i,o,a,u,!0))}function VC(n,e,i,o,a){return SN(Mn(n,e,i,o,a,!0))}function Bl(n){return n?n.__v_isVNode===!0:!1}function zo(n,e){return n.type===e.type&&n.key===e.key}function hY(n){}const nk="__vInternal",DN=({key:n})=>n??null,p0=({ref:n,ref_key:e,ref_for:i})=>(typeof n=="number"&&(n=""+n),n!=null?Dt(n)||di(n)||St(n)?{i:yi,r:n,k:e,f:!!i}:n:null);function UC(n,e=null,i=null,o=0,a=null,u=n===Ii?0:1,d=!1,p=!1){const m={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&DN(e),ref:e&&p0(e),scopeId:Yb,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:yi};return p?($C(m,i),u&128&&n.normalize(m)):i&&(m.shapeFlag|=Dt(i)?8:16),Iu>0&&!d&&_r&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&_r.push(m),m}const Mn=fY;function fY(n,e=null,i=null,o=0,a=null,u=!1){if((!n||n===hN)&&(n=$i),Bl(n)){const p=Ns(n,e,!0);return i&&$C(p,i),Iu>0&&!u&&_r&&(p.shapeFlag&6?_r[_r.indexOf(n)]=p:_r.push(p)),p.patchFlag|=-2,p}if(yY(n)&&(n=n.__vccOpts),e){e=IN(e);let{class:p,style:m}=e;p&&!Dt(p)&&(e.class=Bh(p)),nn(m)&&(yC(m)&&!lt(m)&&(m=Rt({},m)),e.style=Nh(m))}const d=Dt(n)?1:ZP(n)?128:aY(n)?64:nn(n)?4:St(n)?2:0;return UC(n,e,i,o,a,d,u,!0)}function IN(n){return n?yC(n)||nk in n?Rt({},n):n:null}function Ns(n,e,i=!1){const{props:o,ref:a,patchFlag:u,children:d}=n,p=e?MN(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:p,key:p&&DN(p),ref:e&&e.ref?i&&a?lt(a)?a.concat(p0(e)):[a,p0(e)]:p0(e):a,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:d,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ii?u===-1?16:u|16:u,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Ns(n.ssContent),ssFallback:n.ssFallback&&Ns(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function HC(n=" ",e=0){return Mn(Du,null,n,e)}function pY(n,e){const i=Mn(pu,null,n);return i.staticCount=e,i}function mY(n="",e=!1){return e?(tk(),VC($i,null,n)):Mn($i,null,n)}function zr(n){return n==null||typeof n=="boolean"?Mn($i):lt(n)?Mn(Ii,null,n.slice()):typeof n=="object"?Cl(n):Mn(Du,null,String(n))}function Cl(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Ns(n)}function $C(n,e){let i=0;const{shapeFlag:o}=n;if(e==null)e=null;else if(lt(e))i=16;else if(typeof e=="object")if(o&65){const a=e.default;a&&(a._c&&(a._d=!1),$C(n,a()),a._c&&(a._d=!0));return}else{i=32;const a=e._;!a&&!(nk in e)?e._ctx=yi:a===3&&yi&&(yi.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else St(e)?(e={default:e,_ctx:yi},i=32):(e=String(e),o&64?(i=16,e=[HC(e)]):i=8);n.children=e,n.shapeFlag|=i}function MN(...n){const e={};for(let i=0;i<n.length;i++){const o=n[i];for(const a in o)if(a==="class")e.class!==o.class&&(e.class=Bh([e.class,o.class]));else if(a==="style")e.style=Nh([e.style,o.style]);else if(zl(a)){const u=e[a],d=o[a];d&&u!==d&&!(lt(u)&&u.includes(d))&&(e[a]=u?[].concat(u,d):d)}else a!==""&&(e[a]=o[a])}return e}function mr(n,e,i,o=null){qr(n,e,7,[i,o])}const gY=gN();let bY=0;function PN(n,e,i){const o=n.type,a=(e?e.appContext:n.appContext)||gY,u={uid:bY++,vnode:n,type:o,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new bC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vN(o,a),emitsOptions:QP(o,a),emit:null,emitted:null,propsDefaults:sn,inheritAttrs:o.inheritAttrs,ctx:sn,data:sn,props:sn,attrs:sn,slots:sn,refs:sn,setupState:sn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=e?e.root:u,u.emit=JG.bind(null,u),n.ce&&n.ce(u),u}let si=null;const La=()=>si||yi;let qC,Pd,R5="__VUE_INSTANCE_SETTERS__";(Pd=y0()[R5])||(Pd=y0()[R5]=[]),Pd.push(n=>si=n),qC=n=>{Pd.length>1?Pd.forEach(e=>e(n)):Pd[0](n)};const Ol=n=>{qC(n),n.scope.on()},Il=()=>{si&&si.scope.off(),qC(null)};function NN(n){return n.vnode.shapeFlag&4}let fh=!1;function BN(n,e=!1){fh=e;const{props:i,children:o}=n.vnode,a=NN(n);eY(n,i,a,e),iY(n,o);const u=a?kY(n,e):void 0;return fh=!1,u}function kY(n,e){const i=n.type;n.accessCache=Object.create(null),n.proxy=wC(new Proxy(n.ctx,Ny));const{setup:o}=i;if(o){const a=n.setupContext=o.length>1?RN(n):null;Ol(n),Fh();const u=Aa(o,n,0,[n.props,a]);if(jh(),Il(),yb(u)){if(u.then(Il,Il),e)return u.then(d=>{jy(n,d,e)}).catch(d=>{Lu(d,n,0)});n.asyncDep=u}else jy(n,u,e)}else LN(n,e)}function jy(n,e,i){St(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:nn(e)&&(n.setupState=xC(e)),LN(n,i)}let N0,zy;function ON(n){N0=n,zy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,MK))}}const vY=()=>!N0;function LN(n,e,i){const o=n.type;if(!n.render){if(!e&&N0&&!o.render){const a=o.template||FC(n).template;if(a){const{isCustomElement:u,compilerOptions:d}=n.appContext.config,{delimiters:p,compilerOptions:m}=o,k=Rt(Rt({isCustomElement:u,delimiters:p},d),m);o.render=N0(a,k)}}n.render=o.render||Pi,zy&&zy(n)}Ol(n),Fh(),WK(n),jh(),Il()}function _Y(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,i){return wr(n,"get","$attrs"),e[i]}}))}function RN(n){const e=i=>{n.exposed=i||{}};return{get attrs(){return _Y(n)},slots:n.slots,emit:n.emit,expose:e}}function ik(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(xC(wC(n.exposed)),{get(e,i){if(i in e)return e[i];if(i in kp)return kp[i](n)},has(e,i){return i in e||i in kp}}))}function Vy(n,e=!0){return St(n)?n.displayName||n.name:n.name||e&&n.__name}function yY(n){return St(n)&&"__vccOpts"in n}const FN=(n,e)=>WG(n,e,fh);function jN(n,e,i){const o=arguments.length;return o===2?nn(e)&&!lt(e)?Bl(e)?Mn(n,null,[e]):Mn(n,e):Mn(n,null,e):(o>3?i=Array.prototype.slice.call(arguments,2):o===3&&Bl(i)&&(i=[i]),Mn(n,e,i))}const zN=Symbol.for("v-scx"),VN=()=>vp(zN);function wY(){}function CY(n,e,i,o){const a=i[o];if(a&&UN(a,n))return a;const u=e();return u.memo=n.slice(),i[o]=u}function UN(n,e){const i=n.memo;if(i.length!=e.length)return!1;for(let o=0;o<i.length;o++)if(wu(i[o],e[o]))return!1;return Iu>0&&_r&&_r.push(n),!0}const HN="3.3.4",AY={createComponentInstance:PN,setupComponent:BN,renderComponentRoot:f0,setCurrentRenderingInstance:Yp,isVNode:Bl,normalizeVNode:zr},TY=AY,xY=null,EY=null,SY="http://www.w3.org/2000/svg",eu=typeof document<"u"?document:null,F5=eu&&eu.createElement("template"),DY={insert:(n,e,i)=>{e.insertBefore(n,i||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,i,o)=>{const a=e?eu.createElementNS(SY,n):eu.createElement(n,i?{is:i}:void 0);return n==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:n=>eu.createTextNode(n),createComment:n=>eu.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>eu.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,i,o,a,u){const d=i?i.previousSibling:e.lastChild;if(a&&(a===u||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),i),!(a===u||!(a=a.nextSibling)););else{F5.innerHTML=o?`<svg>${n}</svg>`:n;const p=F5.content;if(o){const m=p.firstChild;for(;m.firstChild;)p.appendChild(m.firstChild);p.removeChild(m)}e.insertBefore(p,i)}return[d?d.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}};function IY(n,e,i){const o=n._vtc;o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?n.removeAttribute("class"):i?n.setAttribute("class",e):n.className=e}function MY(n,e,i){const o=n.style,a=Dt(i);if(i&&!a){if(e&&!Dt(e))for(const u in e)i[u]==null&&Uy(o,u,"");for(const u in i)Uy(o,u,i[u])}else{const u=o.display;a?e!==i&&(o.cssText=i):e&&n.removeAttribute("style"),"_vod"in n&&(o.display=u)}}const j5=/\s*!important$/;function Uy(n,e,i){if(lt(i))i.forEach(o=>Uy(n,e,o));else if(i==null&&(i=""),e.startsWith("--"))n.setProperty(e,i);else{const o=PY(n,e);j5.test(i)?n.setProperty(er(o),i.replace(j5,""),"important"):n[o]=i}}const z5=["Webkit","Moz","ms"],L_={};function PY(n,e){const i=L_[e];if(i)return i;let o=ti(e);if(o!=="filter"&&o in n)return L_[e]=o;o=Ul(o);for(let a=0;a<z5.length;a++){const u=z5[a]+o;if(u in n)return L_[e]=u}return e}const V5="http://www.w3.org/1999/xlink";function NY(n,e,i,o,a){if(o&&e.startsWith("xlink:"))i==null?n.removeAttributeNS(V5,e.slice(6,e.length)):n.setAttributeNS(V5,e,i);else{const u=N4(e);i==null||u&&!zw(i)?n.removeAttribute(e):n.setAttribute(e,u?"":i)}}function BY(n,e,i,o,a,u,d){if(e==="innerHTML"||e==="textContent"){o&&d(o,a,u),n[e]=i??"";return}const p=n.tagName;if(e==="value"&&p!=="PROGRESS"&&!p.includes("-")){n._value=i;const k=p==="OPTION"?n.getAttribute("value"):n.value,w=i??"";k!==w&&(n.value=w),i==null&&n.removeAttribute(e);return}let m=!1;if(i===""||i==null){const k=typeof n[e];k==="boolean"?i=zw(i):i==null&&k==="string"?(i="",m=!0):k==="number"&&(i=0,m=!0)}try{n[e]=i}catch{}m&&n.removeAttribute(e)}function ba(n,e,i,o){n.addEventListener(e,i,o)}function OY(n,e,i,o){n.removeEventListener(e,i,o)}function LY(n,e,i,o,a=null){const u=n._vei||(n._vei={}),d=u[e];if(o&&d)d.value=o;else{const[p,m]=RY(e);if(o){const k=u[e]=zY(o,a);ba(n,p,k,m)}else d&&(OY(n,p,d,m),u[e]=void 0)}}const U5=/(?:Once|Passive|Capture)$/;function RY(n){let e;if(U5.test(n)){e={};let o;for(;o=n.match(U5);)n=n.slice(0,n.length-o[0].length),e[o[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):er(n.slice(2)),e]}let R_=0;const FY=Promise.resolve(),jY=()=>R_||(FY.then(()=>R_=0),R_=Date.now());function zY(n,e){const i=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=i.attached)return;qr(VY(o,i.value),e,5,[o])};return i.value=n,i.attached=jY(),i}function VY(n,e){if(lt(e)){const i=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{i.call(n),n._stopped=!0},e.map(o=>a=>!a._stopped&&o&&o(a))}else return e}const H5=/^on[a-z]/,UY=(n,e,i,o,a=!1,u,d,p,m)=>{e==="class"?IY(n,o,a):e==="style"?MY(n,i,o):zl(e)?vb(e)||LY(n,e,i,o,d):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):HY(n,e,o,a))?BY(n,e,o,u,d,p,m):(e==="true-value"?n._trueValue=o:e==="false-value"&&(n._falseValue=o),NY(n,e,o,a))};function HY(n,e,i,o){return o?!!(e==="innerHTML"||e==="textContent"||e in n&&H5.test(e)&&St(i)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||H5.test(e)&&Dt(i)?!1:e in n}function $N(n,e){const i=OC(n);class o extends rk{constructor(u){super(i,u,e)}}return o.def=i,o}const $Y=n=>$N(n,sB),qY=typeof HTMLElement<"u"?HTMLElement:class{};class rk extends qY{constructor(e,i={},o){super(),this._def=e,this._props=i,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&o?o(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,SC(()=>{this._connected||(qy(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);new MutationObserver(o=>{for(const a of o)this._setAttr(a.attributeName)}).observe(this,{attributes:!0});const e=(o,a=!1)=>{const{props:u,styles:d}=o;let p;if(u&&!lt(u))for(const m in u){const k=u[m];(k===Number||k&&k.type===Number)&&(m in this._props&&(this._props[m]=Op(this._props[m])),(p||(p=Object.create(null)))[ti(m)]=!0)}this._numberProps=p,a&&this._resolveProps(o),this._applyStyles(d),this._update()},i=this._def.__asyncLoader;i?i().then(o=>e(o,!0)):e(this._def)}_resolveProps(e){const{props:i}=e,o=lt(i)?i:Object.keys(i||{});for(const a of Object.keys(this))a[0]!=="_"&&o.includes(a)&&this._setProp(a,this[a],!0,!1);for(const a of o.map(ti))Object.defineProperty(this,a,{get(){return this._getProp(a)},set(u){this._setProp(a,u)}})}_setAttr(e){let i=this.getAttribute(e);const o=ti(e);this._numberProps&&this._numberProps[o]&&(i=Op(i)),this._setProp(o,i,!1)}_getProp(e){return this._props[e]}_setProp(e,i,o=!0,a=!0){i!==this._props[e]&&(this._props[e]=i,a&&this._instance&&this._update(),o&&(i===!0?this.setAttribute(er(e),""):typeof i=="string"||typeof i=="number"?this.setAttribute(er(e),i+""):i||this.removeAttribute(er(e))))}_update(){qy(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Mn(this._def,Rt({},this._props));return this._instance||(e.ce=i=>{this._instance=i,i.isCE=!0;const o=(u,d)=>{this.dispatchEvent(new CustomEvent(u,{detail:d}))};i.emit=(u,...d)=>{o(u,d),er(u)!==u&&o(er(u),d)};let a=this;for(;a=a&&(a.parentNode||a.host);)if(a instanceof rk){i.parent=a._instance,i.provides=a._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(i=>{const o=document.createElement("style");o.textContent=i,this.shadowRoot.appendChild(o)})}}function WY(n="$style"){{const e=La();if(!e)return sn;const i=e.type.__cssModules;if(!i)return sn;const o=i[n];return o||sn}}function GY(n){const e=La();if(!e)return;const i=e.ut=(a=n(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(u=>$y(u,a))},o=()=>{const a=n(e.proxy);Hy(e.subTree,a),i(a)};JP(o),Cm(()=>{const a=new MutationObserver(o);a.observe(e.subTree.el.parentNode,{childList:!0}),ek(()=>a.disconnect())})}function Hy(n,e){if(n.shapeFlag&128){const i=n.suspense;n=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{Hy(i.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)$y(n.el,e);else if(n.type===Ii)n.children.forEach(i=>Hy(i,e));else if(n.type===pu){let{el:i,anchor:o}=n;for(;i&&($y(i,e),i!==o);)i=i.nextSibling}}function $y(n,e){if(n.nodeType===1){const i=n.style;for(const o in e)i.setProperty(`--${o}`,e[o])}}const vl="transition",Gf="animation",WC=(n,{slots:e})=>jN(tN,WN(n),e);WC.displayName="Transition";const qN={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},KY=WC.props=Rt({},BC,qN),Wc=(n,e=[])=>{lt(n)?n.forEach(i=>i(...e)):n&&n(...e)},$5=n=>n?lt(n)?n.some(e=>e.length>1):n.length>1:!1;function WN(n){const e={};for(const K in n)K in qN||(e[K]=n[K]);if(n.css===!1)return e;const{name:i="v",type:o,duration:a,enterFromClass:u=`${i}-enter-from`,enterActiveClass:d=`${i}-enter-active`,enterToClass:p=`${i}-enter-to`,appearFromClass:m=u,appearActiveClass:k=d,appearToClass:w=p,leaveFromClass:y=`${i}-leave-from`,leaveActiveClass:T=`${i}-leave-active`,leaveToClass:E=`${i}-leave-to`}=n,S=YY(a),R=S&&S[0],V=S&&S[1],{onBeforeEnter:L,onEnter:j,onEnterCancelled:Y,onLeave:W,onLeaveCancelled:q,onBeforeAppear:ue=L,onAppear:te=j,onAppearCancelled:F=Y}=e,Q=(K,J,be)=>{wl(K,J?w:p),wl(K,J?k:d),be&&be()},de=(K,J)=>{K._isLeaving=!1,wl(K,y),wl(K,E),wl(K,T),J&&J()},ee=K=>(J,be)=>{const ke=K?te:j,ve=()=>Q(J,K,be);Wc(ke,[J,ve]),q5(()=>{wl(J,K?m:u),ma(J,K?w:p),$5(ke)||W5(J,o,R,ve)})};return Rt(e,{onBeforeEnter(K){Wc(L,[K]),ma(K,u),ma(K,d)},onBeforeAppear(K){Wc(ue,[K]),ma(K,m),ma(K,k)},onEnter:ee(!1),onAppear:ee(!0),onLeave(K,J){K._isLeaving=!0;const be=()=>de(K,J);ma(K,y),KN(),ma(K,T),q5(()=>{K._isLeaving&&(wl(K,y),ma(K,E),$5(W)||W5(K,o,V,be))}),Wc(W,[K,be])},onEnterCancelled(K){Q(K,!1),Wc(Y,[K])},onAppearCancelled(K){Q(K,!0),Wc(F,[K])},onLeaveCancelled(K){de(K),Wc(q,[K])}})}function YY(n){if(n==null)return null;if(nn(n))return[F_(n.enter),F_(n.leave)];{const e=F_(n);return[e,e]}}function F_(n){return Op(n)}function ma(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.add(i)),(n._vtc||(n._vtc=new Set)).add(e)}function wl(n,e){e.split(/\s+/).forEach(o=>o&&n.classList.remove(o));const{_vtc:i}=n;i&&(i.delete(e),i.size||(n._vtc=void 0))}function q5(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let QY=0;function W5(n,e,i,o){const a=n._endId=++QY,u=()=>{a===n._endId&&o()};if(i)return setTimeout(u,i);const{type:d,timeout:p,propCount:m}=GN(n,e);if(!d)return o();const k=d+"end";let w=0;const y=()=>{n.removeEventListener(k,T),u()},T=E=>{E.target===n&&++w>=m&&y()};setTimeout(()=>{w<m&&y()},p+1),n.addEventListener(k,T)}function GN(n,e){const i=window.getComputedStyle(n),o=S=>(i[S]||"").split(", "),a=o(`${vl}Delay`),u=o(`${vl}Duration`),d=G5(a,u),p=o(`${Gf}Delay`),m=o(`${Gf}Duration`),k=G5(p,m);let w=null,y=0,T=0;e===vl?d>0&&(w=vl,y=d,T=u.length):e===Gf?k>0&&(w=Gf,y=k,T=m.length):(y=Math.max(d,k),w=y>0?d>k?vl:Gf:null,T=w?w===vl?u.length:m.length:0);const E=w===vl&&/\b(transform|all)(,|$)/.test(o(`${vl}Property`).toString());return{type:w,timeout:y,propCount:T,hasTransform:E}}function G5(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((i,o)=>K5(i)+K5(n[o])))}function K5(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function KN(){return document.body.offsetHeight}const YN=new WeakMap,QN=new WeakMap,ZN={name:"TransitionGroup",props:Rt({},KY,{tag:String,moveClass:String}),setup(n,{slots:e}){const i=La(),o=NC();let a,u;return Xb(()=>{if(!a.length)return;const d=n.moveClass||`${n.name||"v"}-move`;if(!nQ(a[0].el,i.vnode.el,d))return;a.forEach(JY),a.forEach(eQ);const p=a.filter(tQ);KN(),p.forEach(m=>{const k=m.el,w=k.style;ma(k,d),w.transform=w.webkitTransform=w.transitionDuration="";const y=k._moveCb=T=>{T&&T.target!==k||(!T||/transform$/.test(T.propertyName))&&(k.removeEventListener("transitionend",y),k._moveCb=null,wl(k,d))};k.addEventListener("transitionend",y)})}),()=>{const d=zt(n),p=WN(d);let m=d.tag||Ii;a=u,u=e.default?Qb(e.default()):[];for(let k=0;k<u.length;k++){const w=u[k];w.key!=null&&Su(w,hh(w,p,o,i))}if(a)for(let k=0;k<a.length;k++){const w=a[k];Su(w,hh(w,p,o,i)),YN.set(w,w.el.getBoundingClientRect())}return Mn(m,null,u)}}},ZY=n=>delete n.mode;ZN.props;const XY=ZN;function JY(n){const e=n.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function eQ(n){QN.set(n,n.el.getBoundingClientRect())}function tQ(n){const e=YN.get(n),i=QN.get(n),o=e.left-i.left,a=e.top-i.top;if(o||a){const u=n.el.style;return u.transform=u.webkitTransform=`translate(${o}px,${a}px)`,u.transitionDuration="0s",n}}function nQ(n,e,i){const o=n.cloneNode();n._vtc&&n._vtc.forEach(d=>{d.split(/\s+/).forEach(p=>p&&o.classList.remove(p))}),i.split(/\s+/).forEach(d=>d&&o.classList.add(d)),o.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(o);const{hasTransform:u}=GN(o);return a.removeChild(o),u}const Ll=n=>{const e=n.props["onUpdate:modelValue"]||!1;return lt(e)?i=>lu(e,i):e};function iQ(n){n.target.composing=!0}function Y5(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const B0={created(n,{modifiers:{lazy:e,trim:i,number:o}},a){n._assign=Ll(a);const u=o||a.props&&a.props.type==="number";ba(n,e?"change":"input",d=>{if(d.target.composing)return;let p=n.value;i&&(p=p.trim()),u&&(p=Bp(p)),n._assign(p)}),i&&ba(n,"change",()=>{n.value=n.value.trim()}),e||(ba(n,"compositionstart",iQ),ba(n,"compositionend",Y5),ba(n,"change",Y5))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:i,trim:o,number:a}},u){if(n._assign=Ll(u),n.composing||document.activeElement===n&&n.type!=="range"&&(i||o&&n.value.trim()===e||(a||n.type==="number")&&Bp(n.value)===e))return;const d=e??"";n.value!==d&&(n.value=d)}},GC={deep:!0,created(n,e,i){n._assign=Ll(i),ba(n,"change",()=>{const o=n._modelValue,a=ph(n),u=n.checked,d=n._assign;if(lt(o)){const p=pm(o,a),m=p!==-1;if(u&&!m)d(o.concat(a));else if(!u&&m){const k=[...o];k.splice(p,1),d(k)}}else if(Vl(o)){const p=new Set(o);u?p.add(a):p.delete(a),d(p)}else d(JN(n,u))})},mounted:Q5,beforeUpdate(n,e,i){n._assign=Ll(i),Q5(n,e,i)}};function Q5(n,{value:e,oldValue:i},o){n._modelValue=e,lt(e)?n.checked=pm(e,o.props.value)>-1:Vl(e)?n.checked=e.has(o.props.value):e!==i&&(n.checked=Sa(e,JN(n,!0)))}const KC={created(n,{value:e},i){n.checked=Sa(e,i.props.value),n._assign=Ll(i),ba(n,"change",()=>{n._assign(ph(n))})},beforeUpdate(n,{value:e,oldValue:i},o){n._assign=Ll(o),e!==i&&(n.checked=Sa(e,o.props.value))}},XN={deep:!0,created(n,{value:e,modifiers:{number:i}},o){const a=Vl(e);ba(n,"change",()=>{const u=Array.prototype.filter.call(n.options,d=>d.selected).map(d=>i?Bp(ph(d)):ph(d));n._assign(n.multiple?a?new Set(u):u:u[0])}),n._assign=Ll(o)},mounted(n,{value:e}){Z5(n,e)},beforeUpdate(n,e,i){n._assign=Ll(i)},updated(n,{value:e}){Z5(n,e)}};function Z5(n,e){const i=n.multiple;if(!(i&&!lt(e)&&!Vl(e))){for(let o=0,a=n.options.length;o<a;o++){const u=n.options[o],d=ph(u);if(i)lt(e)?u.selected=pm(e,d)>-1:u.selected=e.has(d);else if(Sa(ph(u),e)){n.selectedIndex!==o&&(n.selectedIndex=o);return}}!i&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function ph(n){return"_value"in n?n._value:n.value}function JN(n,e){const i=e?"_trueValue":"_falseValue";return i in n?n[i]:e}const eB={created(n,e,i){Gg(n,e,i,null,"created")},mounted(n,e,i){Gg(n,e,i,null,"mounted")},beforeUpdate(n,e,i,o){Gg(n,e,i,o,"beforeUpdate")},updated(n,e,i,o){Gg(n,e,i,o,"updated")}};function tB(n,e){switch(n){case"SELECT":return XN;case"TEXTAREA":return B0;default:switch(e){case"checkbox":return GC;case"radio":return KC;default:return B0}}}function Gg(n,e,i,o,a){const d=tB(n.tagName,i.props&&i.props.type)[a];d&&d(n,e,i,o)}function rQ(){B0.getSSRProps=({value:n})=>({value:n}),KC.getSSRProps=({value:n},e)=>{if(e.props&&Sa(e.props.value,n))return{checked:!0}},GC.getSSRProps=({value:n},e)=>{if(lt(n)){if(e.props&&pm(n,e.props.value)>-1)return{checked:!0}}else if(Vl(n)){if(e.props&&n.has(e.props.value))return{checked:!0}}else if(n)return{checked:!0}},eB.getSSRProps=(n,e)=>{if(typeof e.type!="string")return;const i=tB(e.type.toUpperCase(),e.props&&e.props.type);if(i.getSSRProps)return i.getSSRProps(n,e)}}const oQ=["ctrl","shift","alt","meta"],sQ={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>oQ.some(i=>n[`${i}Key`]&&!e.includes(i))},aQ=(n,e)=>(i,...o)=>{for(let a=0;a<e.length;a++){const u=sQ[e[a]];if(u&&u(i,e))return}return n(i,...o)},lQ={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},cQ=(n,e)=>i=>{if(!("key"in i))return;const o=er(i.key);if(e.some(a=>a===o||lQ[a]===o))return n(i)},nB={beforeMount(n,{value:e},{transition:i}){n._vod=n.style.display==="none"?"":n.style.display,i&&e?i.beforeEnter(n):Kf(n,e)},mounted(n,{value:e},{transition:i}){i&&e&&i.enter(n)},updated(n,{value:e,oldValue:i},{transition:o}){!e!=!i&&(o?e?(o.beforeEnter(n),Kf(n,!0),o.enter(n)):o.leave(n,()=>{Kf(n,!1)}):Kf(n,e))},beforeUnmount(n,{value:e}){Kf(n,e)}};function Kf(n,e){n.style.display=e?n._vod:"none"}function uQ(){nB.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const iB=Rt({patchProp:UY},DY);let wp,X5=!1;function rB(){return wp||(wp=CN(iB))}function oB(){return wp=X5?wp:AN(iB),X5=!0,wp}const qy=(...n)=>{rB().render(...n)},sB=(...n)=>{oB().hydrate(...n)},aB=(...n)=>{const e=rB().createApp(...n),{mount:i}=e;return e.mount=o=>{const a=lB(o);if(!a)return;const u=e._component;!St(u)&&!u.render&&!u.template&&(u.template=a.innerHTML),a.innerHTML="";const d=i(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),d},e},dQ=(...n)=>{const e=oB().createApp(...n),{mount:i}=e;return e.mount=o=>{const a=lB(o);if(a)return i(a,!0,a instanceof SVGElement)},e};function lB(n){return Dt(n)?document.querySelector(n):n}let J5=!1;const hQ=()=>{J5||(J5=!0,rQ(),uQ())},cB=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:tN,BaseTransitionPropsValidators:BC,Comment:$i,EffectScope:bC,Fragment:Ii,KeepAlive:yK,ReactiveEffect:_m,Static:pu,Suspense:lK,Teleport:uY,Text:Du,Transition:WC,TransitionGroup:XY,VueElement:rk,assertNumber:KG,callWithAsyncErrorHandling:qr,callWithErrorHandling:Aa,camelize:ti,capitalize:Ul,cloneVNode:Ns,compatUtils:EY,computed:FN,createApp:aB,createBlock:VC,createCommentVNode:mY,createElementBlock:dY,createElementVNode:UC,createHydrationRenderer:AN,createPropsRestProxy:$K,createRenderer:CN,createSSRApp:dQ,createSlots:SK,createStaticVNode:pY,createTextVNode:HC,createVNode:Mn,customRef:zG,defineAsyncComponent:vK,defineComponent:OC,defineCustomElement:$N,defineEmits:NK,defineExpose:BK,defineModel:RK,defineOptions:OK,defineProps:PK,defineSSRCustomElement:$Y,defineSlots:LK,get devtools(){return Ud},effect:oG,effectScope:tG,getCurrentInstance:La,getCurrentScope:IP,getTransitionRawChildren:Qb,guardReactiveProps:IN,h:jN,handleError:Lu,hasInjectionContext:JK,hydrate:sB,initCustomFormatter:wY,initDirectivesForSSR:hQ,inject:vp,isMemoSame:UN,isProxy:yC,isReactive:du,isReadonly:Eu,isRef:di,isRuntimeOnly:vY,isShallow:qp,isVNode:Bl,markRaw:wC,mergeDefaults:UK,mergeModels:HK,mergeProps:MN,nextTick:SC,normalizeClass:Bh,normalizeProps:S4,normalizeStyle:Nh,onActivated:iN,onBeforeMount:sN,onBeforeUnmount:Jb,onBeforeUpdate:aN,onDeactivated:rN,onErrorCaptured:dN,onMounted:Cm,onRenderTracked:uN,onRenderTriggered:cN,onScopeDispose:nG,onServerPrefetch:lN,onUnmounted:ek,onUpdated:Xb,openBlock:tk,popScopeId:tK,provide:bN,proxyRefs:xC,pushScopeId:eK,queuePostFlushCb:DC,reactive:$b,readonly:_C,ref:Qd,registerRuntimeCompiler:ON,render:qy,renderList:EK,renderSlot:DK,resolveComponent:AK,resolveDirective:xK,resolveDynamicComponent:TK,resolveFilter:xY,resolveTransitionHooks:hh,setBlockTracking:Fy,setDevtoolsHook:YP,setTransitionHooks:Su,shallowReactive:HP,shallowReadonly:NG,shallowRef:BG,ssrContextKey:zN,ssrUtils:TY,stop:sG,toDisplayString:B4,toHandlerKey:au,toHandlers:IK,toRaw:zt,toRef:$G,toRefs:VG,toValue:RG,transformVNodeArgs:hY,triggerRef:LG,unref:TC,useAttrs:zK,useCssModule:WY,useCssVars:GY,useModel:VK,useSSRContext:VN,useSlots:jK,useTransitionState:NC,vModelCheckbox:GC,vModelDynamic:eB,vModelRadio:KC,vModelSelect:XN,vModelText:B0,vShow:nB,version:HN,warn:GG,watch:hu,watchEffect:pK,watchPostEffect:JP,watchSyncEffect:mK,withAsyncContext:qK,withCtx:IC,withDefaults:FK,withDirectives:bK,withKeys:cQ,withMemo:CY,withModifiers:aQ,withScopeId:nK},Symbol.toStringTag,{value:"Module"})),fQ=fm(cB),pQ=fm(_q);var e3;function mQ(){return e3||(e3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=eG,i=fQ,o=pQ;function a(m){var k=Object.create(null);if(m)for(var w in m)k[w]=m[w];return k.default=m,Object.freeze(k)}var u=a(i);const d=Object.create(null);function p(m,k){if(!o.isString(m))if(m.nodeType)m=m.innerHTML;else return o.NOOP;const w=m,y=d[w];if(y)return y;if(m[0]==="#"){const R=document.querySelector(m);m=R?R.innerHTML:""}const T=o.extend({hoistStatic:!0,onError:void 0,onWarn:o.NOOP},k);!T.isCustomElement&&typeof customElements<"u"&&(T.isCustomElement=R=>!!customElements.get(R));const{code:E}=e.compile(m,T),S=new Function("Vue",E)(u);return S._rc=!0,d[w]=S}i.registerRuntimeCompiler(p),n.compile=p,Object.keys(i).forEach(function(m){m!=="default"&&!n.hasOwnProperty(m)&&(n[m]=i[m])})}(S_)),S_}var t3;function uB(){return t3||(t3=1,E_.exports=mQ()),E_.exports}/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(n,e){(function(i,o){n.exports=o(uB())})(self,i=>(()=>{var o={976:p=>{p.exports=i}},a={};function u(p){var m=a[p];if(m!==void 0)return m.exports;var k=a[p]={exports:{}};return o[p](k,k.exports,u),k.exports}u.d=(p,m)=>{for(var k in m)u.o(m,k)&&!u.o(p,k)&&Object.defineProperty(p,k,{enumerable:!0,get:m[k]})},u.o=(p,m)=>Object.prototype.hasOwnProperty.call(p,m);var d={};return(()=>{u.d(d,{default:()=>he});var p=u(976);const m=function(Ae){var Me=typeof Ae;return Ae!=null&&(Me=="object"||Me=="function")},k=typeof lo=="object"&&lo&&lo.Object===Object&&lo;var w=typeof self=="object"&&self&&self.Object===Object&&self;const y=k||w||Function("return this")(),T=function(){return y.Date.now()};var E=/\s/;const S=function(Ae){for(var Me=Ae.length;Me--&&E.test(Ae.charAt(Me)););return Me};var R=/^\s+/;const V=function(Ae){return Ae&&Ae.slice(0,S(Ae)+1).replace(R,"")},L=y.Symbol;var j=Object.prototype,Y=j.hasOwnProperty,W=j.toString,q=L?L.toStringTag:void 0;const ue=function(Ae){var Me=Y.call(Ae,q),Ne=Ae[q];try{Ae[q]=void 0;var rt=!0}catch{}var ft=W.call(Ae);return rt&&(Me?Ae[q]=Ne:delete Ae[q]),ft};var te=Object.prototype.toString;const F=function(Ae){return te.call(Ae)};var Q=L?L.toStringTag:void 0;const de=function(Ae){return Ae==null?Ae===void 0?"[object Undefined]":"[object Null]":Q&&Q in Object(Ae)?ue(Ae):F(Ae)},ee=function(Ae){return Ae!=null&&typeof Ae=="object"},K=function(Ae){return typeof Ae=="symbol"||ee(Ae)&&de(Ae)=="[object Symbol]"};var J=/^[-+]0x[0-9a-f]+$/i,be=/^0b[01]+$/i,ke=/^0o[0-7]+$/i,ve=parseInt;const oe=function(Ae){if(typeof Ae=="number")return Ae;if(K(Ae))return NaN;if(m(Ae)){var Me=typeof Ae.valueOf=="function"?Ae.valueOf():Ae;Ae=m(Me)?Me+"":Me}if(typeof Ae!="string")return Ae===0?Ae:+Ae;Ae=V(Ae);var Ne=be.test(Ae);return Ne||ke.test(Ae)?ve(Ae.slice(2),Ne?2:8):J.test(Ae)?NaN:+Ae};var ne=Math.max,_e=Math.min;const re=function(Ae,Me,Ne){var rt,ft,Ke,dt,Te,Xe,le=0,ce=!1,Se=!1,xe=!0;if(typeof Ae!="function")throw new TypeError("Expected a function");function Oe(Qe){var Ge=rt,it=ft;return rt=ft=void 0,le=Qe,dt=Ae.apply(it,Ge)}function Ye(Qe){return le=Qe,Te=setTimeout(ze,Me),ce?Oe(Qe):dt}function We(Qe){var Ge=Qe-Xe;return Xe===void 0||Ge>=Me||Ge<0||Se&&Qe-le>=Ke}function ze(){var Qe=T();if(We(Qe))return Re(Qe);Te=setTimeout(ze,function(Ge){var it=Me-(Ge-Xe);return Se?_e(it,Ke-(Ge-le)):it}(Qe))}function Re(Qe){return Te=void 0,xe&&rt?Oe(Qe):(rt=ft=void 0,dt)}function He(){var Qe=T(),Ge=We(Qe);if(rt=arguments,ft=this,Xe=Qe,Ge){if(Te===void 0)return Ye(Xe);if(Se)return clearTimeout(Te),Te=setTimeout(ze,Me),Oe(Xe)}return Te===void 0&&(Te=setTimeout(ze,Me)),dt}return Me=oe(Me)||0,m(Ne)&&(ce=!!Ne.leading,Ke=(Se="maxWait"in Ne)?ne(oe(Ne.maxWait)||0,Me):Ke,xe="trailing"in Ne?!!Ne.trailing:xe),He.cancel=function(){Te!==void 0&&clearTimeout(Te),le=0,rt=Xe=ft=Te=void 0},He.flush=function(){return Te===void 0?dt:Re(T())},He},Ie=(0,p.defineComponent)({name:"Ckeditor",model:{prop:"modelValue",event:"update:modelValue"},props:{editor:{type:Function,required:!0},config:{type:Object,default:()=>({})},modelValue:{type:String,default:""},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1},disableTwoWayDataBinding:{type:Boolean,default:!1}},emits:["ready","destroy","blur","focus","input","update:modelValue"],data:()=>({instance:null,lastEditorData:null}),watch:{modelValue(Ae){this.instance&&Ae!==this.lastEditorData&&this.instance.data.set(Ae)},disabled(Ae){Ae?this.instance.enableReadOnlyMode("Integration Sample"):this.instance.disableReadOnlyMode("Integration Sample")}},created(){const{CKEDITOR_VERSION:Ae}=window;if(Ae){const[Me]=Ae.split(".").map(Number);Me<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')},mounted(){const Ae=Object.assign({},this.config);this.modelValue&&(Ae.initialData=this.modelValue),this.editor.create(this.$el,Ae).then(Me=>{this.instance=(0,p.markRaw)(Me),this.setUpEditorEvents(),this.modelValue!==Ae.initialData&&Me.data.set(this.modelValue),this.disabled&&Me.enableReadOnlyMode("Integration Sample"),this.$emit("ready",Me)}).catch(Me=>{console.error(Me)})},beforeUnmount(){this.instance&&(this.instance.destroy(),this.instance=null),this.$emit("destroy",this.instance)},methods:{setUpEditorEvents(){const Ae=this.instance,Me=re(Ne=>{if(this.disableTwoWayDataBinding)return;const rt=this.lastEditorData=Ae.data.get();this.$emit("update:modelValue",rt,Ne,Ae),this.$emit("input",rt,Ne,Ae)},300,{leading:!0});Ae.model.document.on("change:data",Me),Ae.editing.view.document.on("focus",Ne=>{this.$emit("focus",Ne,Ae)}),Ae.editing.view.document.on("blur",Ne=>{this.$emit("blur",Ne,Ae)})}},render(){return(0,p.h)(this.tagName)}});if(!p.version||!p.version.startsWith("3."))throw new Error("The CKEditor plugin works only with Vue 3+. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html");const he={install(Ae){Ae.component("Ckeditor",Ie)},component:Ie}})(),d=d.default})())})(w4);var gQ=w4.exports;const bQ=zs(gQ),n3=Object.create(null);function kQ(n,e){if(!Dt(n))if(n.nodeType)n=n.innerHTML;else return Pi;const i=n,o=n3[i];if(o)return o;if(n[0]==="#"){const p=document.querySelector(n);n=p?p.innerHTML:""}const a=Rt({hoistStatic:!0,onError:void 0,onWarn:Pi},e);!a.isCustomElement&&typeof customElements<"u"&&(a.isCustomElement=p=>!!customElements.get(p));const{code:u}=SP(n,a),d=new Function("Vue",u)(cB);return d._rc=!0,n3[i]=d}ON(kQ);var v=uB();const Ru=(n,e)=>{const i=n.__vccOpts||n;for(const[o,a]of e)i[o]=a;return i},vQ={props:["currentPage","lastPage"],data(){return{navigationPaginationList:this.process(this.currentPage,this.lastPage)}},computed:{},watch:{currentPage(n){this.navigationPaginationList=this.process(n,this.lastPage)},lastPage(n){this.navigationPaginationList=this.process(this.currentPage,n)}},methods:{process(n,e){return n?e<=5?[...Array(e+1).keys()].slice(1):n>=e-1&&n>=4?[1,"...",e-2,e-1,e]:n<=2&&n!==e-2?[1,2,3,"...",e]:n===3?[1,2,3,4,"...",e]:n===e-2?[1,"...",e-3,e-2,e-1,e]:[1,"...",n-1,n,n+1,"...",e]:null},isActive(n){return this.currentPage!=n&&n!="..."}}},dB=n=>(v.pushScopeId("data-v-f15bfcc0"),n=n(),v.popScopeId(),n),_Q={key:0,"aria-label":"Page navigation"},yQ={class:"pagination justify-content-center"},wQ={key:0,class:"page-item activeCursor"},CQ=dB(()=>v.createElementVNode("span",{"aria-hidden":"true"},"«",-1)),AQ=[CQ],TQ=["onClick"],xQ={key:1,class:"page-item activeCursor"},EQ=dB(()=>v.createElementVNode("span",{"aria-hidden":"true"},"»",-1)),SQ=[EQ];function DQ(n,e,i,o,a,u){return i.currentPage&&i.lastPage&&a.navigationPaginationList?(v.openBlock(),v.createElementBlock("nav",_Q,[v.createElementVNode("ul",yQ,[i.currentPage>1?(v.openBlock(),v.createElementBlock("li",wQ,[v.createElementVNode("a",{class:"page-link","aria-label":"Previous",onClick:e[0]||(e[0]=v.withModifiers(()=>{n.$emit("changeCurrentPage",i.currentPage-1)},["prevent"]))},AQ)])):v.createCommentVNode("",!0),(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(a.navigationPaginationList,(d,p)=>(v.openBlock(),v.createElementBlock("li",{class:"page-item",key:p},[v.createElementVNode("a",{class:v.normalizeClass(["page-link",{activeCursor:u.isActive(d),inactiveCursor:!u.isActive(d)}]),onClick:v.withModifiers(()=>{n.$emit("changeCurrentPage",d)},["prevent"])},v.toDisplayString(d),11,TQ)]))),128)),i.currentPage<i.lastPage?(v.openBlock(),v.createElementBlock("li",xQ,[v.createElementVNode("a",{class:"page-link","aria-label":"Next",onClick:e[1]||(e[1]=v.withModifiers(()=>{n.$emit("changeCurrentPage",i.currentPage+1)},["prevent"]))},SQ)])):v.createCommentVNode("",!0)])])):v.createCommentVNode("",!0)}const IQ=Ru(vQ,[["render",DQ],["__scopeId","data-v-f15bfcc0"]]);const MQ={components:{Pagination:IQ},props:["categoryEnum"],data(){return{keyword:"",category:"",categories:[],products:[],page:{current:1,last:1}}},created(){this.fetchProducts(this.page.current),this.processCategories()},methods:{async fetchProducts(n){await axios.get(route("api.products.index"),{params:{keyword:this.keyword,category:this.category,page:n}}).then(e=>{this.products=[],this.products=e.data.data,this.page.current=e.data.meta.current_page,this.page.last=e.data.meta.last_page}).catch(e=>{console.error("Error fetching data:",e)})},processCategories(){let n={};Object.entries(this.categoryEnum).forEach(([e,i])=>{n[e]=i}),this.categories=n},editUrl(n){return route("product.form",n)},async search(){this.page.current=1,this.fetchProducts(this.page.current)},async pageChangeHandle(n){n!=this.page.current&&n!="..."&&(this.page.current=n,this.fetchProducts(n))},async deleteProduct(n){await this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes"}).then(e=>{e.isConfirmed&&axios.delete(route("api.products.destroy",n)).then(i=>{this.fetchProducts(this.page.current)}).catch(i=>{console.error("Error fetching data:",i)})})}}},Am=n=>(v.pushScopeId("data-v-16454a52"),n=n(),v.popScopeId(),n),PQ={class:"row"},NQ={class:"col-11 mx-auto"},BQ={class:"card p-2"},OQ={class:"card-header"},LQ={class:"row flex-column flex-md-row"},RQ=Am(()=>v.createElementVNode("option",{value:""},"Select Category",-1)),FQ=["value"],jQ={class:"text-right text-md-left"},zQ=Am(()=>v.createElementVNode("i",{class:"fas fa-search"},null,-1)),VQ=[zQ],UQ={class:"card-body table-responsive"},HQ={key:0},$Q=Am(()=>v.createElementVNode("thead",{class:"text-center"},[v.createElementVNode("th",null,"Name"),v.createElementVNode("th",null,"Category"),v.createElementVNode("th",null,"Description"),v.createElementVNode("th",null,"Action")],-1)),qQ={class:"text-center"},WQ={class:"col-1"},GQ={class:"row justify-content-between"},KQ=["href"],YQ=Am(()=>v.createElementVNode("i",{class:"fas fa-edit"},null,-1)),QQ=[YQ],ZQ=["onClick"],XQ=Am(()=>v.createElementVNode("i",{class:"fas fa-trash"},null,-1)),JQ=[XQ],eZ={key:1,class:"text-center"},tZ={class:"card-footer"};function nZ(n,e,i,o,a,u){const d=v.resolveComponent("pagination");return v.openBlock(),v.createElementBlock("div",PQ,[v.createElementVNode("div",NQ,[v.createElementVNode("div",BQ,[v.createElementVNode("div",OQ,[v.createElementVNode("div",LQ,[v.withDirectives(v.createElementVNode("input",{"onUpdate:modelValue":e[0]||(e[0]=p=>a.keyword=p),onKeypress:e[1]||(e[1]=v.withKeys((...p)=>u.search&&u.search(...p),["enter"])),class:"form-control col-12 col-md-6",type:"text",placeholder:"Search Product..."},null,544),[[v.vModelText,a.keyword]]),v.withDirectives(v.createElementVNode("select",{"onUpdate:modelValue":e[2]||(e[2]=p=>a.category=p),class:"form-control col-12 col-md-3 mx-md-1 my-1 my-md-0"},[RQ,(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(a.categories,(p,m)=>(v.openBlock(),v.createElementBlock("option",{key:m,value:m},v.toDisplayString(p),9,FQ))),128))],512),[[v.vModelSelect,a.category]]),v.createElementVNode("div",jQ,[v.createElementVNode("a",{class:"btn btn-secondary btn-circle",onClick:e[3]||(e[3]=(...p)=>u.search&&u.search(...p))},VQ)])])]),v.createElementVNode("div",UQ,[a.products.length>0?(v.openBlock(),v.createElementBlock("table",HQ,[$Q,v.createElementVNode("tbody",qQ,[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(a.products,(p,m)=>(v.openBlock(),v.createElementBlock("tr",{key:m},[v.createElementVNode("td",null,v.toDisplayString(p.name),1),v.createElementVNode("td",null,v.toDisplayString(p.category),1),v.createElementVNode("td",null,v.toDisplayString(p.description),1),v.createElementVNode("td",WQ,[v.createElementVNode("div",GQ,[v.createElementVNode("a",{href:u.editUrl(p),class:"btn btn-dark my-1"},QQ,8,KQ),v.createElementVNode("a",{class:"btn btn-danger my-1",onClick:v.withModifiers(k=>u.deleteProduct(p),["prevent"])},JQ,8,ZQ)])])]))),128))])])):(v.openBlock(),v.createElementBlock("div",eZ," No Results "))]),v.createElementVNode("div",tZ,[v.createVNode(d,{"current-page":a.page.current,"last-page":a.page.last,onChangeCurrentPage:u.pageChangeHandle},null,8,["current-page","last-page","onChangeCurrentPage"])])])])])}const iZ=Ru(MQ,[["render",nZ],["__scopeId","data-v-16454a52"]]);var O0={exports:{}};O0.exports;(function(n,e){(function(i){const o=i.en=i.en||{};o.dictionary=Object.assign(o.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(i,o){n.exports=o()}(self,()=>(()=>{var i={4959:(d,p,m)=>{const k=m(1103),w={};for(const T of Object.keys(k))w[k[T]]=T;const y={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};d.exports=y;for(const T of Object.keys(y)){if(!("channels"in y[T]))throw new Error("missing channels property: "+T);if(!("labels"in y[T]))throw new Error("missing channel labels property: "+T);if(y[T].labels.length!==y[T].channels)throw new Error("channel and label counts mismatch: "+T);const{channels:E,labels:S}=y[T];delete y[T].channels,delete y[T].labels,Object.defineProperty(y[T],"channels",{value:E}),Object.defineProperty(y[T],"labels",{value:S})}y.rgb.hsl=function(T){const E=T[0]/255,S=T[1]/255,R=T[2]/255,V=Math.min(E,S,R),L=Math.max(E,S,R),j=L-V;let Y,W;L===V?Y=0:E===L?Y=(S-R)/j:S===L?Y=2+(R-E)/j:R===L&&(Y=4+(E-S)/j),Y=Math.min(60*Y,360),Y<0&&(Y+=360);const q=(V+L)/2;return W=L===V?0:q<=.5?j/(L+V):j/(2-L-V),[Y,100*W,100*q]},y.rgb.hsv=function(T){let E,S,R,V,L;const j=T[0]/255,Y=T[1]/255,W=T[2]/255,q=Math.max(j,Y,W),ue=q-Math.min(j,Y,W),te=function(F){return(q-F)/6/ue+.5};return ue===0?(V=0,L=0):(L=ue/q,E=te(j),S=te(Y),R=te(W),j===q?V=R-S:Y===q?V=.3333333333333333+E-R:W===q&&(V=.6666666666666666+S-E),V<0?V+=1:V>1&&(V-=1)),[360*V,100*L,100*q]},y.rgb.hwb=function(T){const E=T[0],S=T[1];let R=T[2];const V=y.rgb.hsl(T)[0],L=1/255*Math.min(E,Math.min(S,R));return R=1-.00392156862745098*Math.max(E,Math.max(S,R)),[V,100*L,100*R]},y.rgb.cmyk=function(T){const E=T[0]/255,S=T[1]/255,R=T[2]/255,V=Math.min(1-E,1-S,1-R);return[100*((1-E-V)/(1-V)||0),100*((1-S-V)/(1-V)||0),100*((1-R-V)/(1-V)||0),100*V]},y.rgb.keyword=function(T){const E=w[T];if(E)return E;let S,R=1/0;for(const j of Object.keys(k)){const Y=k[j],W=(L=Y,((V=T)[0]-L[0])**2+(V[1]-L[1])**2+(V[2]-L[2])**2);W<R&&(R=W,S=j)}var V,L;return S},y.keyword.rgb=function(T){return k[T]},y.rgb.xyz=function(T){let E=T[0]/255,S=T[1]/255,R=T[2]/255;return E=E>.04045?((E+.055)/1.055)**2.4:E/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,R=R>.04045?((R+.055)/1.055)**2.4:R/12.92,[100*(.4124*E+.3576*S+.1805*R),100*(.2126*E+.7152*S+.0722*R),100*(.0193*E+.1192*S+.9505*R)]},y.rgb.lab=function(T){const E=y.rgb.xyz(T);let S=E[0],R=E[1],V=E[2];return S/=95.047,R/=100,V/=108.883,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,[116*R-16,500*(S-R),200*(R-V)]},y.hsl.rgb=function(T){const E=T[0]/360,S=T[1]/100,R=T[2]/100;let V,L,j;if(S===0)return j=255*R,[j,j,j];V=R<.5?R*(1+S):R+S-R*S;const Y=2*R-V,W=[0,0,0];for(let q=0;q<3;q++)L=E+.3333333333333333*-(q-1),L<0&&L++,L>1&&L--,j=6*L<1?Y+6*(V-Y)*L:2*L<1?V:3*L<2?Y+(V-Y)*(.6666666666666666-L)*6:Y,W[q]=255*j;return W},y.hsl.hsv=function(T){const E=T[0];let S=T[1]/100,R=T[2]/100,V=S;const L=Math.max(R,.01);return R*=2,S*=R<=1?R:2-R,V*=L<=1?L:2-L,[E,100*(R===0?2*V/(L+V):2*S/(R+S)),100*((R+S)/2)]},y.hsv.rgb=function(T){const E=T[0]/60,S=T[1]/100;let R=T[2]/100;const V=Math.floor(E)%6,L=E-Math.floor(E),j=255*R*(1-S),Y=255*R*(1-S*L),W=255*R*(1-S*(1-L));switch(R*=255,V){case 0:return[R,W,j];case 1:return[Y,R,j];case 2:return[j,R,W];case 3:return[j,Y,R];case 4:return[W,j,R];case 5:return[R,j,Y]}},y.hsv.hsl=function(T){const E=T[0],S=T[1]/100,R=T[2]/100,V=Math.max(R,.01);let L,j;j=(2-S)*R;const Y=(2-S)*V;return L=S*V,L/=Y<=1?Y:2-Y,L=L||0,j/=2,[E,100*L,100*j]},y.hwb.rgb=function(T){const E=T[0]/360;let S=T[1]/100,R=T[2]/100;const V=S+R;let L;V>1&&(S/=V,R/=V);const j=Math.floor(6*E),Y=1-R;L=6*E-j,1&j&&(L=1-L);const W=S+L*(Y-S);let q,ue,te;switch(j){default:case 6:case 0:q=Y,ue=W,te=S;break;case 1:q=W,ue=Y,te=S;break;case 2:q=S,ue=Y,te=W;break;case 3:q=S,ue=W,te=Y;break;case 4:q=W,ue=S,te=Y;break;case 5:q=Y,ue=S,te=W}return[255*q,255*ue,255*te]},y.cmyk.rgb=function(T){const E=T[0]/100,S=T[1]/100,R=T[2]/100,V=T[3]/100;return[255*(1-Math.min(1,E*(1-V)+V)),255*(1-Math.min(1,S*(1-V)+V)),255*(1-Math.min(1,R*(1-V)+V))]},y.xyz.rgb=function(T){const E=T[0]/100,S=T[1]/100,R=T[2]/100;let V,L,j;return V=3.2406*E+-1.5372*S+-.4986*R,L=-.9689*E+1.8758*S+.0415*R,j=.0557*E+-.204*S+1.057*R,V=V>.0031308?1.055*V**.4166666666666667-.055:12.92*V,L=L>.0031308?1.055*L**.4166666666666667-.055:12.92*L,j=j>.0031308?1.055*j**.4166666666666667-.055:12.92*j,V=Math.min(Math.max(0,V),1),L=Math.min(Math.max(0,L),1),j=Math.min(Math.max(0,j),1),[255*V,255*L,255*j]},y.xyz.lab=function(T){let E=T[0],S=T[1],R=T[2];return E/=95.047,S/=100,R/=108.883,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,[116*S-16,500*(E-S),200*(S-R)]},y.lab.xyz=function(T){let E,S,R;S=(T[0]+16)/116,E=T[1]/500+S,R=S-T[2]/200;const V=S**3,L=E**3,j=R**3;return S=V>.008856?V:(S-.13793103448275862)/7.787,E=L>.008856?L:(E-.13793103448275862)/7.787,R=j>.008856?j:(R-.13793103448275862)/7.787,E*=95.047,S*=100,R*=108.883,[E,S,R]},y.lab.lch=function(T){const E=T[0],S=T[1],R=T[2];let V;return V=360*Math.atan2(R,S)/2/Math.PI,V<0&&(V+=360),[E,Math.sqrt(S*S+R*R),V]},y.lch.lab=function(T){const E=T[0],S=T[1],R=T[2]/360*2*Math.PI;return[E,S*Math.cos(R),S*Math.sin(R)]},y.rgb.ansi16=function(T,E=null){const[S,R,V]=T;let L=E===null?y.rgb.hsv(T)[2]:E;if(L=Math.round(L/50),L===0)return 30;let j=30+(Math.round(V/255)<<2|Math.round(R/255)<<1|Math.round(S/255));return L===2&&(j+=60),j},y.hsv.ansi16=function(T){return y.rgb.ansi16(y.hsv.rgb(T),T[2])},y.rgb.ansi256=function(T){const E=T[0],S=T[1],R=T[2];return E===S&&S===R?E<8?16:E>248?231:Math.round((E-8)/247*24)+232:16+36*Math.round(E/255*5)+6*Math.round(S/255*5)+Math.round(R/255*5)},y.ansi16.rgb=function(T){let E=T%10;if(E===0||E===7)return T>50&&(E+=3.5),E=E/10.5*255,[E,E,E];const S=.5*(1+~~(T>50));return[(1&E)*S*255,(E>>1&1)*S*255,(E>>2&1)*S*255]},y.ansi256.rgb=function(T){if(T>=232){const S=10*(T-232)+8;return[S,S,S]}let E;return T-=16,[Math.floor(T/36)/5*255,Math.floor((E=T%36)/6)/5*255,E%6/5*255]},y.rgb.hex=function(T){const E=(((255&Math.round(T[0]))<<16)+((255&Math.round(T[1]))<<8)+(255&Math.round(T[2]))).toString(16).toUpperCase();return"000000".substring(E.length)+E},y.hex.rgb=function(T){const E=T.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!E)return[0,0,0];let S=E[0];E[0].length===3&&(S=S.split("").map(V=>V+V).join(""));const R=parseInt(S,16);return[R>>16&255,R>>8&255,255&R]},y.rgb.hcg=function(T){const E=T[0]/255,S=T[1]/255,R=T[2]/255,V=Math.max(Math.max(E,S),R),L=Math.min(Math.min(E,S),R),j=V-L;let Y,W;return Y=j<1?L/(1-j):0,W=j<=0?0:V===E?(S-R)/j%6:V===S?2+(R-E)/j:4+(E-S)/j,W/=6,W%=1,[360*W,100*j,100*Y]},y.hsl.hcg=function(T){const E=T[1]/100,S=T[2]/100,R=S<.5?2*E*S:2*E*(1-S);let V=0;return R<1&&(V=(S-.5*R)/(1-R)),[T[0],100*R,100*V]},y.hsv.hcg=function(T){const E=T[1]/100,S=T[2]/100,R=E*S;let V=0;return R<1&&(V=(S-R)/(1-R)),[T[0],100*R,100*V]},y.hcg.rgb=function(T){const E=T[0]/360,S=T[1]/100,R=T[2]/100;if(S===0)return[255*R,255*R,255*R];const V=[0,0,0],L=E%1*6,j=L%1,Y=1-j;let W=0;switch(Math.floor(L)){case 0:V[0]=1,V[1]=j,V[2]=0;break;case 1:V[0]=Y,V[1]=1,V[2]=0;break;case 2:V[0]=0,V[1]=1,V[2]=j;break;case 3:V[0]=0,V[1]=Y,V[2]=1;break;case 4:V[0]=j,V[1]=0,V[2]=1;break;default:V[0]=1,V[1]=0,V[2]=Y}return W=(1-S)*R,[255*(S*V[0]+W),255*(S*V[1]+W),255*(S*V[2]+W)]},y.hcg.hsv=function(T){const E=T[1]/100,S=E+T[2]/100*(1-E);let R=0;return S>0&&(R=E/S),[T[0],100*R,100*S]},y.hcg.hsl=function(T){const E=T[1]/100,S=T[2]/100*(1-E)+.5*E;let R=0;return S>0&&S<.5?R=E/(2*S):S>=.5&&S<1&&(R=E/(2*(1-S))),[T[0],100*R,100*S]},y.hcg.hwb=function(T){const E=T[1]/100,S=E+T[2]/100*(1-E);return[T[0],100*(S-E),100*(1-S)]},y.hwb.hcg=function(T){const E=T[1]/100,S=1-T[2]/100,R=S-E;let V=0;return R<1&&(V=(S-R)/(1-R)),[T[0],100*R,100*V]},y.apple.rgb=function(T){return[T[0]/65535*255,T[1]/65535*255,T[2]/65535*255]},y.rgb.apple=function(T){return[T[0]/255*65535,T[1]/255*65535,T[2]/255*65535]},y.gray.rgb=function(T){return[T[0]/100*255,T[0]/100*255,T[0]/100*255]},y.gray.hsl=function(T){return[0,0,T[0]]},y.gray.hsv=y.gray.hsl,y.gray.hwb=function(T){return[0,100,T[0]]},y.gray.cmyk=function(T){return[0,0,0,T[0]]},y.gray.lab=function(T){return[T[0],0,0]},y.gray.hex=function(T){const E=255&Math.round(T[0]/100*255),S=((E<<16)+(E<<8)+E).toString(16).toUpperCase();return"000000".substring(S.length)+S},y.rgb.gray=function(T){return[(T[0]+T[1]+T[2])/3/255*100]}},841:(d,p,m)=>{const k=m(4959),w=m(9325),y={};Object.keys(k).forEach(T=>{y[T]={},Object.defineProperty(y[T],"channels",{value:k[T].channels}),Object.defineProperty(y[T],"labels",{value:k[T].labels});const E=w(T);Object.keys(E).forEach(S=>{const R=E[S];y[T][S]=function(V){const L=function(...j){const Y=j[0];if(Y==null)return Y;Y.length>1&&(j=Y);const W=V(j);if(typeof W=="object")for(let q=W.length,ue=0;ue<q;ue++)W[ue]=Math.round(W[ue]);return W};return"conversion"in V&&(L.conversion=V.conversion),L}(R),y[T][S].raw=function(V){const L=function(...j){const Y=j[0];return Y==null?Y:(Y.length>1&&(j=Y),V(j))};return"conversion"in V&&(L.conversion=V.conversion),L}(R)})}),d.exports=y},9325:(d,p,m)=>{const k=m(4959);function w(E){const S=function(){const V={},L=Object.keys(k);for(let j=L.length,Y=0;Y<j;Y++)V[L[Y]]={distance:-1,parent:null};return V}(),R=[E];for(S[E].distance=0;R.length;){const V=R.pop(),L=Object.keys(k[V]);for(let j=L.length,Y=0;Y<j;Y++){const W=L[Y],q=S[W];q.distance===-1&&(q.distance=S[V].distance+1,q.parent=V,R.unshift(W))}}return S}function y(E,S){return function(R){return S(E(R))}}function T(E,S){const R=[S[E].parent,E];let V=k[S[E].parent][E],L=S[E].parent;for(;S[L].parent;)R.unshift(S[L].parent),V=y(k[S[L].parent][L],V),L=S[L].parent;return V.conversion=R,V}d.exports=function(E){const S=w(E),R={},V=Object.keys(S);for(let L=V.length,j=0;j<L;j++){const Y=V[j];S[Y].parent!==null&&(R[Y]=T(Y,S))}return R}},1103:d=>{d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const E=T},3062:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const E=T},903:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const E=T},3143:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=T},4717:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const E=T},9315:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const E=T},8733:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const E=T},3508:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const E=T},2640:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const E=T},3535:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const E=T},1568:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const E=T},6270:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const E=T},5083:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const E=T},4036:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const E=T},3773:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const E=T},3689:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const E=T},1905:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=T},9773:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const E=T},2347:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const E=T},7754:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const E=T},111:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const E=T},4721:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const E=T},5730:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const E=T},4564:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const E=T},6082:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const E=T},2417:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const E=T},1199:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const E=T},4652:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const E=T},7442:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const E=T},9292:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=T},7368:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=T},4070:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const E=T},9247:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const E=T},1613:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const E=T},6306:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const E=T},2128:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const E=T},5087:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const E=T},4101:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAC/D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const E=T},3881:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const E=T},6237:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=T},7341:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const E=T},6945:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const E=T},4906:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const E=T},5332:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const E=T},6781:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const E=T},3398:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const E=T},4157:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const E=T},5485:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=T},3949:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=T},7686:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=T},7339:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const E=T},9688:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=T},8847:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const E=T},6574:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const E=T},4879:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=T},3662:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const E=T},2577:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=T},1046:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=T},8793:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=T},4650:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const E=T},7676:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=T},5868:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=T},6764:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const E=T},9695:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const E=T},5542:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=T},3332:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const E=T},4793:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const E=T},3488:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=T},8506:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const E=T},4921:(d,p,m)=>{m.d(p,{Z:()=>E});var k=m(1799),w=m.n(k),y=m(2609),T=m.n(y)()(w());T.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const E=T},2609:d=>{d.exports=function(p){var m=[];return m.toString=function(){return this.map(function(k){var w=p(k);return k[2]?"@media ".concat(k[2]," {").concat(w,"}"):w}).join("")},m.i=function(k,w,y){typeof k=="string"&&(k=[[null,k,""]]);var T={};if(y)for(var E=0;E<this.length;E++){var S=this[E][0];S!=null&&(T[S]=!0)}for(var R=0;R<k.length;R++){var V=[].concat(k[R]);y&&T[V[0]]||(w&&(V[2]?V[2]="".concat(w," and ").concat(V[2]):V[2]=w),m.push(V))}},m}},1799:d=>{function p(k,w){return function(y){if(Array.isArray(y))return y}(k)||function(y,T){var E=y&&(typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"]);if(E!=null){var S,R,V=[],L=!0,j=!1;try{for(E=E.call(y);!(L=(S=E.next()).done)&&(V.push(S.value),!T||V.length!==T);L=!0);}catch(Y){j=!0,R=Y}finally{try{L||E.return==null||E.return()}finally{if(j)throw R}}return V}}(k,w)||function(y,T){if(y){if(typeof y=="string")return m(y,T);var E=Object.prototype.toString.call(y).slice(8,-1);if(E==="Object"&&y.constructor&&(E=y.constructor.name),E==="Map"||E==="Set")return Array.from(y);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return m(y,T)}}(k,w)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(k,w){(w==null||w>k.length)&&(w=k.length);for(var y=0,T=new Array(w);y<w;y++)T[y]=k[y];return T}d.exports=function(k){var w=p(k,4),y=w[1],T=w[3];if(!T)return y;if(typeof btoa=="function"){var E=btoa(unescape(encodeURIComponent(JSON.stringify(T)))),S="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E),R="/*# ".concat(S," */"),V=T.sources.map(function(L){return"/*# sourceURL=".concat(T.sourceRoot||"").concat(L," */")});return[y].concat(V).concat([R]).join(`
`)}return[y].join(`
`)}},6062:(d,p,m)=>{var k,w=function(){return k===void 0&&(k=!!(window&&document&&document.all&&!window.atob)),k},y=function(){var te={};return function(F){if(te[F]===void 0){var Q=document.querySelector(F);if(window.HTMLIFrameElement&&Q instanceof window.HTMLIFrameElement)try{Q=Q.contentDocument.head}catch{Q=null}te[F]=Q}return te[F]}}(),T=[];function E(te){for(var F=-1,Q=0;Q<T.length;Q++)if(T[Q].identifier===te){F=Q;break}return F}function S(te,F){for(var Q={},de=[],ee=0;ee<te.length;ee++){var K=te[ee],J=F.base?K[0]+F.base:K[0],be=Q[J]||0,ke="".concat(J," ").concat(be);Q[J]=be+1;var ve=E(ke),oe={css:K[1],media:K[2],sourceMap:K[3]};ve!==-1?(T[ve].references++,T[ve].updater(oe)):T.push({identifier:ke,updater:ue(oe,F),references:1}),de.push(ke)}return de}function R(te){var F=document.createElement("style"),Q=te.attributes||{};if(Q.nonce===void 0){var de=m.nc;de&&(Q.nonce=de)}if(Object.keys(Q).forEach(function(K){F.setAttribute(K,Q[K])}),typeof te.insert=="function")te.insert(F);else{var ee=y(te.insert||"head");if(!ee)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ee.appendChild(F)}return F}var V,L=(V=[],function(te,F){return V[te]=F,V.filter(Boolean).join(`
`)});function j(te,F,Q,de){var ee=Q?"":de.media?"@media ".concat(de.media," {").concat(de.css,"}"):de.css;if(te.styleSheet)te.styleSheet.cssText=L(F,ee);else{var K=document.createTextNode(ee),J=te.childNodes;J[F]&&te.removeChild(J[F]),J.length?te.insertBefore(K,J[F]):te.appendChild(K)}}function Y(te,F,Q){var de=Q.css,ee=Q.media,K=Q.sourceMap;if(ee?te.setAttribute("media",ee):te.removeAttribute("media"),K&&typeof btoa<"u"&&(de+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(K))))," */")),te.styleSheet)te.styleSheet.cssText=de;else{for(;te.firstChild;)te.removeChild(te.firstChild);te.appendChild(document.createTextNode(de))}}var W=null,q=0;function ue(te,F){var Q,de,ee;if(F.singleton){var K=q++;Q=W||(W=R(F)),de=j.bind(null,Q,K,!1),ee=j.bind(null,Q,K,!0)}else Q=R(F),de=Y.bind(null,Q,F),ee=function(){(function(J){if(J.parentNode===null)return!1;J.parentNode.removeChild(J)})(Q)};return de(te),function(J){if(J){if(J.css===te.css&&J.media===te.media&&J.sourceMap===te.sourceMap)return;de(te=J)}else ee()}}d.exports=function(te,F){(F=F||{}).singleton||typeof F.singleton=="boolean"||(F.singleton=w());var Q=S(te=te||[],F);return function(de){if(de=de||[],Object.prototype.toString.call(de)==="[object Array]"){for(var ee=0;ee<Q.length;ee++){var K=E(Q[ee]);T[K].references--}for(var J=S(de,F),be=0;be<Q.length;be++){var ke=E(Q[be]);T[ke].references===0&&(T[ke].updater(),T.splice(ke,1))}Q=J}}}}},o={};function a(d){var p=o[d];if(p!==void 0)return p.exports;var m=o[d]={id:d,exports:{}};return i[d](m,m.exports,a),m.exports}a.n=d=>{var p=d&&d.__esModule?()=>d.default:()=>d;return a.d(p,{a:p}),p},a.d=(d,p)=>{for(var m in p)a.o(p,m)&&!a.o(d,m)&&Object.defineProperty(d,m,{enumerable:!0,get:p[m]})},a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),a.o=(d,p)=>Object.prototype.hasOwnProperty.call(d,p),a.nc=void 0;var u={};return(()=>{function d({emitter:l,activator:t,callback:r,contextElements:s}){l.listenTo(document,"mousedown",(c,h)=>{if(!t())return;const f=typeof h.composedPath=="function"?h.composedPath():[],g=typeof s=="function"?s():s;for(const b of g)if(b.contains(h.target)||f.includes(b))return;r()})}function p(l){return class extends l{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...t){super(...t),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function m({view:l}){l.listenTo(l.element,"submit",(t,r)=>{r.preventDefault(),l.fire("submit")},{useCapture:!0})}a.d(u,{default:()=>w_});const k=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var w;const y={isMac:T(k),isWindows:(w=k,w.indexOf("windows")>-1),isGecko:function(l){return!!l.match(/gecko\/\d+/)}(k),isSafari:function(l){return l.indexOf(" applewebkit/")>-1&&l.indexOf("chrome")===-1}(k),isiOS:function(l){return!!l.match(/iphone|ipad/i)||T(l)&&navigator.maxTouchPoints>0}(k),isAndroid:function(l){return l.indexOf("android")>-1}(k),isBlink:function(l){return l.indexOf("chrome/")>-1&&l.indexOf("edge/")<0}(k),features:{isRegExpUnicodePropertySupported:function(){let l=!1;try{l="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return l}()}};function T(l){return l.indexOf("macintosh")>-1}function E(l,t,r,s){r=r||function(b,_){return b===_};const c=Array.isArray(l)?l:Array.prototype.slice.call(l),h=Array.isArray(t)?t:Array.prototype.slice.call(t),f=function(b,_,C){const x=S(b,_,C);if(x===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const M=R(b,x),z=R(_,x),H=S(M,z,C),G=b.length-H,Z=_.length-H;return{firstIndex:x,lastIndexOld:G,lastIndexNew:Z}}(c,h,r);return s?function(b,_){const{firstIndex:C,lastIndexOld:x,lastIndexNew:M}=b;if(C===-1)return Array(_).fill("equal");let z=[];return C>0&&(z=z.concat(Array(C).fill("equal"))),M-C>0&&(z=z.concat(Array(M-C).fill("insert"))),x-C>0&&(z=z.concat(Array(x-C).fill("delete"))),M<_&&(z=z.concat(Array(_-M).fill("equal"))),z}(f,h.length):function(b,_){const C=[],{firstIndex:x,lastIndexOld:M,lastIndexNew:z}=_;return z-x>0&&C.push({index:x,type:"insert",values:b.slice(x,z)}),M-x>0&&C.push({index:x+(z-x),type:"delete",howMany:M-x}),C}(h,f)}function S(l,t,r){for(let s=0;s<Math.max(l.length,t.length);s++)if(l[s]===void 0||t[s]===void 0||!r(l[s],t[s]))return s;return-1}function R(l,t){return l.slice(t).reverse()}function V(l,t,r){r=r||function(G,Z){return G===Z};const s=l.length,c=t.length;if(s>200||c>200||s+c>300)return V.fastDiff(l,t,r,!0);let h,f;if(c<s){const G=l;l=t,t=G,h="delete",f="insert"}else h="insert",f="delete";const g=l.length,b=t.length,_=b-g,C={},x={};function M(G){const Z=(x[G-1]!==void 0?x[G-1]:-1)+1,se=x[G+1]!==void 0?x[G+1]:-1,ye=Z>se?-1:1;C[G+ye]&&(C[G]=C[G+ye].slice(0)),C[G]||(C[G]=[]),C[G].push(Z>se?h:f);let Be=Math.max(Z,se),ot=Be-G;for(;ot<g&&Be<b&&r(l[ot],t[Be]);)ot++,Be++,C[G].push("equal");return Be}let z,H=0;do{for(z=-H;z<_;z++)x[z]=M(z);for(z=_+H;z>_;z--)x[z]=M(z);x[_]=M(_),H++}while(x[_]!==b);return C[_].slice(1)}V.fastDiff=E;const L=function(){return function l(){l.called=!0}};class j{constructor(t,r){this.source=t,this.name=r,this.path=[],this.stop=L(),this.off=L()}}const Y=new Array(256).fill("").map((l,t)=>("0"+t.toString(16)).slice(-2));function W(){const l=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0;return"e"+Y[l>>0&255]+Y[l>>8&255]+Y[l>>16&255]+Y[l>>24&255]+Y[t>>0&255]+Y[t>>8&255]+Y[t>>16&255]+Y[t>>24&255]+Y[r>>0&255]+Y[r>>8&255]+Y[r>>16&255]+Y[r>>24&255]+Y[s>>0&255]+Y[s>>8&255]+Y[s>>16&255]+Y[s>>24&255]}const q={get(l="normal"){return typeof l!="number"?this[l]||this.normal:l},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function ue(l,t){const r=q.get(t.priority);for(let s=0;s<l.length;s++)if(q.get(l[s].priority)<r)return void l.splice(s,0,t);l.push(t)}const te="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class F extends Error{constructor(t,r,s){super(function(c,h){const f=new WeakSet,g=(C,x)=>{if(typeof x=="object"&&x!==null){if(f.has(x))return`[object ${x.constructor.name}]`;f.add(x)}return x},b=h?` ${JSON.stringify(h,g)}`:"",_=ee(c);return c+b+_}(t,s)),this.name="CKEditorError",this.context=r,this.data=s}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,r){if(t.is&&t.is("CKEditorError"))throw t;const s=new F(t.message,r);throw s.stack=t.stack,s}}function Q(l,t){console.warn(...K(l,t))}function de(l,t){console.error(...K(l,t))}function ee(l){return`
Read more: ${te}#error-${l}`}function K(l,t){const r=ee(l);return t?[l,t,r]:[l,r]}const J="39.0.1",be=new Date(2023,7,10),ke=typeof window=="object"?window:a.g;if(ke.CKEDITOR_VERSION)throw new F("ckeditor-duplicated-modules",null);ke.CKEDITOR_VERSION=J;const ve=Symbol("listeningTo"),oe=Symbol("emitterId"),ne=Symbol("delegations"),_e=re(Object);function re(l){return l?class extends l{on(t,r,s){this.listenTo(this,t,r,s)}once(t,r,s){let c=!1;this.listenTo(this,t,(h,...f)=>{c||(c=!0,h.off(),r.call(this,h,...f))},s)}off(t,r){this.stopListening(this,t,r)}listenTo(t,r,s,c={}){let h,f;this[ve]||(this[ve]={});const g=this[ve];he(t)||Ie(t);const b=he(t);(h=g[b])||(h=g[b]={emitter:t,callbacks:{}}),(f=h.callbacks[r])||(f=h.callbacks[r]=[]),f.push(s),function(_,C,x,M,z){C._addEventListener?C._addEventListener(x,M,z):_._addEventListener.call(C,x,M,z)}(this,t,r,s,c)}stopListening(t,r,s){const c=this[ve];let h=t&&he(t);const f=c&&h?c[h]:void 0,g=f&&r?f.callbacks[r]:void 0;if(!(!c||t&&!f||r&&!g))if(s)ft(this,t,r,s),g.indexOf(s)!==-1&&(g.length===1?delete f.callbacks[r]:ft(this,t,r,s));else if(g){for(;s=g.pop();)ft(this,t,r,s);delete f.callbacks[r]}else if(f){for(r in f.callbacks)this.stopListening(t,r);delete c[h]}else{for(h in c)this.stopListening(c[h].emitter);delete this[ve]}}fire(t,...r){try{const s=t instanceof j?t:new j(this,t),c=s.name;let h=Ne(this,c);if(s.path.push(this),h){const g=[s,...r];h=Array.from(h);for(let b=0;b<h.length&&(h[b].callback.apply(this,g),s.off.called&&(delete s.off.called,this._removeEventListener(c,h[b].callback)),!s.stop.called);b++);}const f=this[ne];if(f){const g=f.get(c),b=f.get("*");g&&rt(g,s,r),b&&rt(b,s,r)}return s.return}catch(s){F.rethrowUnexpectedError(s,this)}}delegate(...t){return{to:(r,s)=>{this[ne]||(this[ne]=new Map),t.forEach(c=>{const h=this[ne].get(c);h?h.set(r,s):this[ne].set(c,new Map([[r,s]]))})}}}stopDelegating(t,r){if(this[ne])if(t)if(r){const s=this[ne].get(t);s&&s.delete(r)}else this[ne].delete(t);else this[ne].clear()}_addEventListener(t,r,s){(function(f,g){const b=Ae(f);if(b[g])return;let _=g,C=null;const x=[];for(;_!==""&&!b[_];)b[_]={callbacks:[],childEvents:[]},x.push(b[_]),C&&b[_].childEvents.push(C),C=_,_=_.substr(0,_.lastIndexOf(":"));if(_!==""){for(const M of x)M.callbacks=b[_].callbacks.slice();b[_].childEvents.push(C)}})(this,t);const c=Me(this,t),h={callback:r,priority:q.get(s.priority)};for(const f of c)ue(f,h)}_removeEventListener(t,r){const s=Me(this,t);for(const c of s)for(let h=0;h<c.length;h++)c[h].callback==r&&(c.splice(h,1),h--)}}:_e}function Ie(l,t){l[oe]||(l[oe]=t||W())}function he(l){return l[oe]}function Ae(l){return l._events||Object.defineProperty(l,"_events",{value:{}}),l._events}function Me(l,t){const r=Ae(l)[t];if(!r)return[];let s=[r.callbacks];for(let c=0;c<r.childEvents.length;c++){const h=Me(l,r.childEvents[c]);s=s.concat(h)}return s}function Ne(l,t){let r;return l._events&&(r=l._events[t])&&r.callbacks.length?r.callbacks:t.indexOf(":")>-1?Ne(l,t.substr(0,t.lastIndexOf(":"))):null}function rt(l,t,r){for(let[s,c]of l){c?typeof c=="function"&&(c=c(t.name)):c=t.name;const h=new j(t.source,c);h.path=[...t.path],s.fire(h,...r)}}function ft(l,t,r,s){t._removeEventListener?t._removeEventListener(r,s):l._removeEventListener.call(t,r,s)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{re[l]=_e.prototype[l]});const Ke=function(l){var t=typeof l;return l!=null&&(t=="object"||t=="function")},dt=Symbol("observableProperties"),Te=Symbol("boundObservables"),Xe=Symbol("boundProperties"),le=Symbol("decoratedMethods"),ce=Symbol("decoratedOriginal"),Se=xe(re());function xe(l){return l?class extends l{set(t,r){if(Ke(t))return void Object.keys(t).forEach(c=>{this.set(c,t[c])},this);Oe(this);const s=this[dt];if(t in this&&!s.has(t))throw new F("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>s.get(t),set(c){const h=s.get(t);let f=this.fire(`set:${t}`,t,c,h);f===void 0&&(f=c),h===f&&s.has(t)||(s.set(t,f),this.fire(`change:${t}`,t,f,h))}}),this[t]=r}bind(...t){if(!t.length||!ze(t))throw new F("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new F("observable-bind-duplicate-properties",this);Oe(this);const r=this[Xe];t.forEach(c=>{if(r.has(c))throw new F("observable-bind-rebind",this)});const s=new Map;return t.forEach(c=>{const h={property:c,to:[]};r.set(c,h),s.set(c,h)}),{to:Ye,toMany:We,_observable:this,_bindProperties:t,_to:[],_bindings:s}}unbind(...t){if(!this[dt])return;const r=this[Xe],s=this[Te];if(t.length){if(!ze(t))throw new F("observable-unbind-wrong-properties",this);t.forEach(c=>{const h=r.get(c);h&&(h.to.forEach(([f,g])=>{const b=s.get(f),_=b[g];_.delete(h),_.size||delete b[g],Object.keys(b).length||(s.delete(f),this.stopListening(f,"change"))}),r.delete(c))})}else s.forEach((c,h)=>{this.stopListening(h,"change")}),s.clear(),r.clear()}decorate(t){Oe(this);const r=this[t];if(!r)throw new F("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,(s,c)=>{s.return=r.apply(this,c)}),this[t]=function(...s){return this.fire(t,s)},this[t][ce]=r,this[le]||(this[le]=[]),this[le].push(t)}stopListening(t,r,s){if(!t&&this[le]){for(const c of this[le])this[c]=this[c][ce];delete this[le]}super.stopListening(t,r,s)}}:Se}function Oe(l){l[dt]||(Object.defineProperty(l,dt,{value:new Map}),Object.defineProperty(l,Te,{value:new Map}),Object.defineProperty(l,Xe,{value:new Map}))}function Ye(...l){const t=function(...h){if(!h.length)throw new F("observable-bind-to-parse-error",null);const f={to:[]};let g;return typeof h[h.length-1]=="function"&&(f.callback=h.pop()),h.forEach(b=>{if(typeof b=="string")g.properties.push(b);else{if(typeof b!="object")throw new F("observable-bind-to-parse-error",null);g={observable:b,properties:[]},f.to.push(g)}}),f}(...l),r=Array.from(this._bindings.keys()),s=r.length;if(!t.callback&&t.to.length>1)throw new F("observable-bind-to-no-callback",this);if(s>1&&t.callback)throw new F("observable-bind-to-extra-callback",this);var c;t.to.forEach(h=>{if(h.properties.length&&h.properties.length!==s)throw new F("observable-bind-to-properties-length",this);h.properties.length||(h.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(r[0]).callback=t.callback),c=this._observable,this._to.forEach(h=>{const f=c[Te];let g;f.get(h.observable)||c.listenTo(h.observable,"change",(b,_)=>{g=f.get(h.observable)[_],g&&g.forEach(C=>{Re(c,C.property)})})}),function(h){let f;h._bindings.forEach((g,b)=>{h._to.forEach(_=>{f=_.properties[g.callback?0:h._bindProperties.indexOf(b)],g.to.push([_.observable,f]),function(C,x,M,z){const H=C[Te],G=H.get(M),Z=G||{};Z[z]||(Z[z]=new Set),Z[z].add(x),G||H.set(M,Z)}(h._observable,g,_.observable,f)})})}(this),this._bindProperties.forEach(h=>{Re(this._observable,h)})}function We(l,t,r){if(this._bindings.size>1)throw new F("observable-bind-to-many-not-one-binding",this);this.to(...function(s,c){const h=s.map(f=>[f,c]);return Array.prototype.concat.apply([],h)}(l,t),r)}function ze(l){return l.every(t=>typeof t=="string")}function Re(l,t){const r=l[Xe].get(t);let s;r.callback?s=r.callback.apply(l,r.to.map(c=>c[0][c[1]])):(s=r.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(l,t)?l[t]=s:l.set(t,s)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{xe[l]=Se.prototype[l]});class He{constructor(){this._replacedElements=[]}replace(t,r){this._replacedElements.push({element:t,newElement:r}),t.style.display="none",r&&t.parentNode.insertBefore(r,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:r})=>{t.style.display="",r&&r.remove()}),this._replacedElements=[]}}function Qe(l){let t=0;for(const r of l)t++;return t}function Ge(l,t){const r=Math.min(l.length,t.length);for(let s=0;s<r;s++)if(l[s]!=t[s])return s;return l.length==t.length?"same":l.length<t.length?"prefix":"extension"}function it(l){return!(!l||!l[Symbol.iterator])}const gt=typeof lo=="object"&&lo&&lo.Object===Object&&lo;var Le=typeof self=="object"&&self&&self.Object===Object&&self;const pe=gt||Le||Function("return this")(),Ce=pe.Symbol;var nt=Object.prototype,at=nt.hasOwnProperty,wt=nt.toString,It=Ce?Ce.toStringTag:void 0;const Kn=function(l){var t=at.call(l,It),r=l[It];try{l[It]=void 0;var s=!0}catch{}var c=wt.call(l);return s&&(t?l[It]=r:delete l[It]),c};var pn=Object.prototype.toString;const Pn=function(l){return pn.call(l)};var Nn=Ce?Ce.toStringTag:void 0;const xn=function(l){return l==null?l===void 0?"[object Undefined]":"[object Null]":Nn&&Nn in Object(l)?Kn(l):Pn(l)},En=Array.isArray,pi=function(l){return l!=null&&typeof l=="object"},Wl=function(l){return typeof l=="string"||!En(l)&&pi(l)&&xn(l)=="[object String]"};function ju(l,t,r={},s=[]){const c=r&&r.xmlns,h=c?l.createElementNS(c,t):l.createElement(t);for(const f in r)h.setAttribute(f,r[f]);!Wl(s)&&it(s)||(s=[s]);for(let f of s)Wl(f)&&(f=l.createTextNode(f)),h.appendChild(f);return h}const Tt=function(l,t){return function(r){return l(t(r))}},Gl=Tt(Object.getPrototypeOf,Object);var Kh=Function.prototype,Yh=Object.prototype,Kl=Kh.toString,ko=Yh.hasOwnProperty,Qh=Kl.call(Object);const Ai=function(l){if(!pi(l)||xn(l)!="[object Object]")return!1;var t=Gl(l);if(t===null)return!0;var r=ko.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Kl.call(r)==Qh},Zh=function(){this.__data__=[],this.size=0},Us=function(l,t){return l===t||l!=l&&t!=t},Hs=function(l,t){for(var r=l.length;r--;)if(Us(l[r][0],t))return r;return-1};var $s=Array.prototype.splice;const ja=function(l){var t=this.__data__,r=Hs(t,l);return!(r<0)&&(r==t.length-1?t.pop():$s.call(t,r,1),--this.size,!0)},mi=function(l){var t=this.__data__,r=Hs(t,l);return r<0?void 0:t[r][1]},qs=function(l){return Hs(this.__data__,l)>-1},Xh=function(l,t){var r=this.__data__,s=Hs(r,l);return s<0?(++this.size,r.push([l,t])):r[s][1]=t,this};function Tr(l){var t=-1,r=l==null?0:l.length;for(this.clear();++t<r;){var s=l[t];this.set(s[0],s[1])}}Tr.prototype.clear=Zh,Tr.prototype.delete=ja,Tr.prototype.get=mi,Tr.prototype.has=qs,Tr.prototype.set=Xh;const Bi=Tr,za=function(){this.__data__=new Bi,this.size=0},Wt=function(l){var t=this.__data__,r=t.delete(l);return this.size=t.size,r},Jh=function(l){return this.__data__.get(l)},Va=function(l){return this.__data__.has(l)},ar=function(l){if(!Ke(l))return!1;var t=xn(l);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Yl=pe["__core-js_shared__"];var Ct=function(){var l=/[^.]+$/.exec(Yl&&Yl.keys&&Yl.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();const mn=function(l){return!!Ct&&Ct in l};var zu=Function.prototype.toString;const lr=function(l){if(l!=null){try{return zu.call(l)}catch{}try{return l+""}catch{}}return""};var ef=/^\[object .+?Constructor\]$/,tf=Function.prototype,nf=Object.prototype,Ua=tf.toString,vo=nf.hasOwnProperty,Ha=RegExp("^"+Ua.call(vo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const li=function(l){return!(!Ke(l)||mn(l))&&(ar(l)?Ha:ef).test(lr(l))},rf=function(l,t){return l==null?void 0:l[t]},_o=function(l,t){var r=rf(l,t);return li(r)?r:void 0},Kr=_o(pe,"Map"),Yr=_o(Object,"create"),Ql=function(){this.__data__=Yr?Yr(null):{},this.size=0},Ws=function(l){var t=this.has(l)&&delete this.__data__[l];return this.size-=t?1:0,t};var Gs=Object.prototype.hasOwnProperty;const Ks=function(l){var t=this.__data__;if(Yr){var r=t[l];return r==="__lodash_hash_undefined__"?void 0:r}return Gs.call(t,l)?t[l]:void 0};var Go=Object.prototype.hasOwnProperty;const of=function(l){var t=this.__data__;return Yr?t[l]!==void 0:Go.call(t,l)},Zl=function(l,t){var r=this.__data__;return this.size+=this.has(l)?0:1,r[l]=Yr&&t===void 0?"__lodash_hash_undefined__":t,this};function Ko(l){var t=-1,r=l==null?0:l.length;for(this.clear();++t<r;){var s=l[t];this.set(s[0],s[1])}}Ko.prototype.clear=Ql,Ko.prototype.delete=Ws,Ko.prototype.get=Ks,Ko.prototype.has=of,Ko.prototype.set=Zl;const Vu=Ko,Qr=function(){this.size=0,this.__data__={hash:new Vu,map:new(Kr||Bi),string:new Vu}},$a=function(l){var t=typeof l;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?l!=="__proto__":l===null},qa=function(l,t){var r=l.__data__;return $a(t)?r[typeof t=="string"?"string":"hash"]:r.map},Xl=function(l){var t=qa(this,l).delete(l);return this.size-=t?1:0,t},Jl=function(l){return qa(this,l).get(l)},Oi=function(l){return qa(this,l).has(l)},Yo=function(l,t){var r=qa(this,l),s=r.size;return r.set(l,t),this.size+=r.size==s?0:1,this};function xr(l){var t=-1,r=l==null?0:l.length;for(this.clear();++t<r;){var s=l[t];this.set(s[0],s[1])}}xr.prototype.clear=Qr,xr.prototype.delete=Xl,xr.prototype.get=Jl,xr.prototype.has=Oi,xr.prototype.set=Yo;const Er=xr,Ys=function(l,t){var r=this.__data__;if(r instanceof Bi){var s=r.__data__;if(!Kr||s.length<199)return s.push([l,t]),this.size=++r.size,this;r=this.__data__=new Er(s)}return r.set(l,t),this.size=r.size,this};function Gi(l){var t=this.__data__=new Bi(l);this.size=t.size}Gi.prototype.clear=za,Gi.prototype.delete=Wt,Gi.prototype.get=Jh,Gi.prototype.has=Va,Gi.prototype.set=Ys;const yo=Gi,Uu=function(l,t){for(var r=-1,s=l==null?0:l.length;++r<s&&t(l[r],r,l)!==!1;);return l},Qo=function(){try{var l=_o(Object,"defineProperty");return l({},"",{}),l}catch{}}(),ec=function(l,t,r){t=="__proto__"&&Qo?Qo(l,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):l[t]=r};var sf=Object.prototype.hasOwnProperty;const tc=function(l,t,r){var s=l[t];sf.call(l,t)&&Us(s,r)&&(r!==void 0||t in l)||ec(l,t,r)},Sr=function(l,t,r,s){var c=!r;r||(r={});for(var h=-1,f=t.length;++h<f;){var g=t[h],b=s?s(r[g],l[g],g,r,l):void 0;b===void 0&&(b=l[g]),c?ec(r,g,b):tc(r,g,b)}return r},Zr=function(l,t){for(var r=-1,s=Array(l);++r<l;)s[r]=t(r);return s},nc=function(l){return pi(l)&&xn(l)=="[object Arguments]"};var ic=Object.prototype,af=ic.hasOwnProperty,Hu=ic.propertyIsEnumerable;const rc=nc(function(){return arguments}())?nc:function(l){return pi(l)&&af.call(l,"callee")&&!Hu.call(l,"callee")},Wa=function(){return!1};var Zo=e&&!e.nodeType&&e,oc=Zo&&!0&&n&&!n.nodeType&&n,$u=oc&&oc.exports===Zo?pe.Buffer:void 0;const Qs=($u?$u.isBuffer:void 0)||Wa;var qu=/^(?:0|[1-9]\d*)$/;const Ga=function(l,t){var r=typeof l;return!!(t=t??9007199254740991)&&(r=="number"||r!="symbol"&&qu.test(l))&&l>-1&&l%1==0&&l<t},Wu=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991};var on={};on["[object Float32Array]"]=on["[object Float64Array]"]=on["[object Int8Array]"]=on["[object Int16Array]"]=on["[object Int32Array]"]=on["[object Uint8Array]"]=on["[object Uint8ClampedArray]"]=on["[object Uint16Array]"]=on["[object Uint32Array]"]=!0,on["[object Arguments]"]=on["[object Array]"]=on["[object ArrayBuffer]"]=on["[object Boolean]"]=on["[object DataView]"]=on["[object Date]"]=on["[object Error]"]=on["[object Function]"]=on["[object Map]"]=on["[object Number]"]=on["[object Object]"]=on["[object RegExp]"]=on["[object Set]"]=on["[object String]"]=on["[object WeakMap]"]=!1;const Gu=function(l){return pi(l)&&Wu(l.length)&&!!on[xn(l)]},sc=function(l){return function(t){return l(t)}};var ac=e&&!e.nodeType&&e,Zs=ac&&!0&&n&&!n.nodeType&&n,lc=Zs&&Zs.exports===ac&&gt.process;const Xo=function(){try{var l=Zs&&Zs.require&&Zs.require("util").types;return l||lc&&lc.binding&&lc.binding("util")}catch{}}();var Dr=Xo&&Xo.isTypedArray;const cc=Dr?sc(Dr):Gu;var Ku=Object.prototype.hasOwnProperty;const Xs=function(l,t){var r=En(l),s=!r&&rc(l),c=!r&&!s&&Qs(l),h=!r&&!s&&!c&&cc(l),f=r||s||c||h,g=f?Zr(l.length,String):[],b=g.length;for(var _ in l)!t&&!Ku.call(l,_)||f&&(_=="length"||c&&(_=="offset"||_=="parent")||h&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||Ga(_,b))||g.push(_);return g};var lf=Object.prototype;const uc=function(l){var t=l&&l.constructor;return l===(typeof t=="function"&&t.prototype||lf)},cf=Tt(Object.keys,Object);var uf=Object.prototype.hasOwnProperty;const df=function(l){if(!uc(l))return cf(l);var t=[];for(var r in Object(l))uf.call(l,r)&&r!="constructor"&&t.push(r);return t},wo=function(l){return l!=null&&Wu(l.length)&&!ar(l)},Ir=function(l){return wo(l)?Xs(l):df(l)},Jo=function(l,t){return l&&Sr(t,Ir(t),l)},Ka=function(l){var t=[];if(l!=null)for(var r in Object(l))t.push(r);return t};var Ki=Object.prototype.hasOwnProperty;const Mr=function(l){if(!Ke(l))return Ka(l);var t=uc(l),r=[];for(var s in l)(s!="constructor"||!t&&Ki.call(l,s))&&r.push(s);return r},cr=function(l){return wo(l)?Xs(l,!0):Mr(l)},Yu=function(l,t){return l&&Sr(t,cr(t),l)};var Ya=e&&!e.nodeType&&e,dc=Ya&&!0&&n&&!n.nodeType&&n,hc=dc&&dc.exports===Ya?pe.Buffer:void 0,Qa=hc?hc.allocUnsafe:void 0;const Za=function(l,t){if(t)return l.slice();var r=l.length,s=Qa?Qa(r):new l.constructor(r);return l.copy(s),s},Xa=function(l,t){var r=-1,s=l.length;for(t||(t=Array(s));++r<s;)t[r]=l[r];return t},Js=function(l,t){for(var r=-1,s=l==null?0:l.length,c=0,h=[];++r<s;){var f=l[r];t(f,r,l)&&(h[c++]=f)}return h},ur=function(){return[]};var Ja=Object.prototype.propertyIsEnumerable,Xr=Object.getOwnPropertySymbols;const fc=Xr?function(l){return l==null?[]:(l=Object(l),Js(Xr(l),function(t){return Ja.call(l,t)}))}:ur,Qu=function(l,t){return Sr(l,fc(l),t)},el=function(l,t){for(var r=-1,s=t.length,c=l.length;++r<s;)l[c+r]=t[r];return l},tl=Object.getOwnPropertySymbols?function(l){for(var t=[];l;)el(t,fc(l)),l=Gl(l);return t}:ur,hf=function(l,t){return Sr(l,tl(l),t)},Zu=function(l,t,r){var s=t(l);return En(l)?s:el(s,r(l))},ea=function(l){return Zu(l,Ir,fc)},ta=function(l){return Zu(l,cr,tl)},pc=_o(pe,"DataView"),nl=_o(pe,"Promise"),mc=_o(pe,"Set"),gc=_o(pe,"WeakMap");var bc="[object Map]",kc="[object Promise]",Xu="[object Set]",vc="[object WeakMap]",Ju="[object DataView]",ed=lr(pc),ff=lr(Kr),pf=lr(nl),_c=lr(mc),td=lr(gc),Jr=xn;(pc&&Jr(new pc(new ArrayBuffer(1)))!=Ju||Kr&&Jr(new Kr)!=bc||nl&&Jr(nl.resolve())!=kc||mc&&Jr(new mc)!=Xu||gc&&Jr(new gc)!=vc)&&(Jr=function(l){var t=xn(l),r=t=="[object Object]"?l.constructor:void 0,s=r?lr(r):"";if(s)switch(s){case ed:return Ju;case ff:return bc;case pf:return kc;case _c:return Xu;case td:return vc}return t});const na=Jr;var nd=Object.prototype.hasOwnProperty;const es=function(l){var t=l.length,r=new l.constructor(t);return t&&typeof l[0]=="string"&&nd.call(l,"index")&&(r.index=l.index,r.input=l.input),r},Co=pe.Uint8Array,yc=function(l){var t=new l.constructor(l.byteLength);return new Co(t).set(new Co(l)),t},mf=function(l,t){var r=t?yc(l.buffer):l.buffer;return new l.constructor(r,l.byteOffset,l.byteLength)};var ia=/\w*$/;const id=function(l){var t=new l.constructor(l.source,ia.exec(l));return t.lastIndex=l.lastIndex,t};var rd=Ce?Ce.prototype:void 0,od=rd?rd.valueOf:void 0;const ts=function(l){return od?Object(od.call(l)):{}},wc=function(l,t){var r=t?yc(l.buffer):l.buffer;return new l.constructor(r,l.byteOffset,l.length)},gf=function(l,t,r){var s=l.constructor;switch(t){case"[object ArrayBuffer]":return yc(l);case"[object Boolean]":case"[object Date]":return new s(+l);case"[object DataView]":return mf(l,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wc(l,r);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(l);case"[object RegExp]":return id(l);case"[object Symbol]":return ts(l)}};var ra=Object.create;const bf=function(){function l(){}return function(t){if(!Ke(t))return{};if(ra)return ra(t);l.prototype=t;var r=new l;return l.prototype=void 0,r}}(),sd=function(l){return typeof l.constructor!="function"||uc(l)?{}:bf(Gl(l))},kf=function(l){return pi(l)&&na(l)=="[object Map]"};var Cc=Xo&&Xo.isMap;const vf=Cc?sc(Cc):kf,_f=function(l){return pi(l)&&na(l)=="[object Set]"};var oa=Xo&&Xo.isSet;const ad=oa?sc(oa):_f;var Ac="[object Arguments]",Tc="[object Function]",ld="[object Object]",en={};en[Ac]=en["[object Array]"]=en["[object ArrayBuffer]"]=en["[object DataView]"]=en["[object Boolean]"]=en["[object Date]"]=en["[object Float32Array]"]=en["[object Float64Array]"]=en["[object Int8Array]"]=en["[object Int16Array]"]=en["[object Int32Array]"]=en["[object Map]"]=en["[object Number]"]=en[ld]=en["[object RegExp]"]=en["[object Set]"]=en["[object String]"]=en["[object Symbol]"]=en["[object Uint8Array]"]=en["[object Uint8ClampedArray]"]=en["[object Uint16Array]"]=en["[object Uint32Array]"]=!0,en["[object Error]"]=en[Tc]=en["[object WeakMap]"]=!1;const xc=function l(t,r,s,c,h,f){var g,b=1&r,_=2&r,C=4&r;if(s&&(g=h?s(t,c,h,f):s(t)),g!==void 0)return g;if(!Ke(t))return t;var x=En(t);if(x){if(g=es(t),!b)return Xa(t,g)}else{var M=na(t),z=M==Tc||M=="[object GeneratorFunction]";if(Qs(t))return Za(t,b);if(M==ld||M==Ac||z&&!h){if(g=_||z?{}:sd(t),!b)return _?hf(t,Yu(g,t)):Qu(t,Jo(g,t))}else{if(!en[M])return h?t:{};g=gf(t,M,b)}}f||(f=new yo);var H=f.get(t);if(H)return H;f.set(t,g),ad(t)?t.forEach(function(Z){g.add(l(Z,r,s,Z,t,f))}):vf(t)&&t.forEach(function(Z,se){g.set(se,l(Z,r,s,se,t,f))});var G=x?void 0:(C?_?ta:ea:_?cr:Ir)(t);return Uu(G||t,function(Z,se){G&&(Z=t[se=Z]),tc(g,se,l(Z,r,s,se,t,f))}),g},ns=function(l,t){return xc(l,5,t=typeof t=="function"?t:void 0)},Yi=function(l){return pi(l)&&l.nodeType===1&&!Ai(l)};class _n{constructor(t,r){this._config={},r&&this.define(Ao(r)),t&&this._setObjectToTarget(this._config,t)}set(t,r){this._setToTarget(this._config,t,r)}define(t,r){this._setToTarget(this._config,t,r,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,r,s,c=!1){if(Ai(r))return void this._setObjectToTarget(t,r,c);const h=r.split(".");r=h.pop();for(const f of h)Ai(t[f])||(t[f]={}),t=t[f];if(Ai(s))return Ai(t[r])||(t[r]={}),t=t[r],void this._setObjectToTarget(t,s,c);c&&t[r]!==void 0||(t[r]=s)}_getFromSource(t,r){const s=r.split(".");r=s.pop();for(const c of s){if(!Ai(t[c])){t=null;break}t=t[c]}return t?Ao(t[r]):void 0}_setObjectToTarget(t,r,s){Object.keys(r).forEach(c=>{this._setToTarget(t,c,r[c],s)})}}function Ao(l){return ns(l,Ec)}function Ec(l){return Yi(l)?l:void 0}function eo(l){if(l){if(l.defaultView)return l instanceof l.defaultView.Document;if(l.ownerDocument&&l.ownerDocument.defaultView)return l instanceof l.ownerDocument.defaultView.Node}return!1}function il(l){const t=Object.prototype.toString.apply(l);return t=="[object Window]"||t=="[object global]"}const cd=Pr(re());function Pr(l){return l?class extends l{listenTo(t,r,s,c={}){if(eo(t)||il(t)){const h={capture:!!c.useCapture,passive:!!c.usePassive},f=this._getProxyEmitter(t,h)||new rl(t,h);this.listenTo(f,r,s,c)}else super.listenTo(t,r,s,c)}stopListening(t,r,s){if(eo(t)||il(t)){const c=this._getAllProxyEmitters(t);for(const h of c)this.stopListening(h,r,s)}else super.stopListening(t,r,s)}_getProxyEmitter(t,r){return function(s,c){const h=s[ve];return h&&h[c]?h[c].emitter:null}(this,ol(t,r))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(r=>this._getProxyEmitter(t,r)).filter(r=>!!r)}}:cd}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{Pr[l]=cd.prototype[l]});class rl extends re(){constructor(t,r){super(),Ie(this,ol(t,r)),this._domNode=t,this._options=r}attach(t){if(this._domListeners&&this._domListeners[t])return;const r=this._createDomListener(t);this._domNode.addEventListener(t,r,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=r}detach(t){let r;!this._domListeners[t]||(r=this._events[t])&&r.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,r,s){this.attach(t),re().prototype._addEventListener.call(this,t,r,s)}_removeEventListener(t,r){re().prototype._removeEventListener.call(this,t,r),this.detach(t)}_createDomListener(t){const r=s=>{this.fire(t,s)};return r.removeListener=()=>{this._domNode.removeEventListener(t,r,this._options),delete this._domListeners[t]},r}}function ol(l,t){let r=function(s){return s["data-ck-expando"]||(s["data-ck-expando"]=W())}(l);for(const s of Object.keys(t).sort())t[s]&&(r+="-"+s);return r}let is;try{is={window,document}}catch{is={window:{},document:{}}}const _t=is;function sl(l){let t=l.parentElement;if(!t)return null;for(;t.tagName!="BODY";){const r=t.style.overflowY||_t.window.getComputedStyle(t).overflowY;if(r==="auto"||r==="scroll")break;if(t=t.parentElement,!t)return null}return t}function rs(l){return Object.prototype.toString.apply(l)=="[object Range]"}function Sc(l){const t=l.ownerDocument.defaultView.getComputedStyle(l);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function yn(l){return Object.prototype.toString.call(l)=="[object Text]"}const ud=["top","right","bottom","left","width","height"];class Ht{constructor(t){const r=rs(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),N(t)||r)if(r){const s=Ht.getDomRangeRects(t);os(this,Ht.getBoundingRect(s))}else os(this,t.getBoundingClientRect());else if(il(t)){const{innerWidth:s,innerHeight:c}=t;os(this,{top:0,right:s,bottom:c,left:0,width:s,height:c})}else os(this,t)}clone(){return new Ht(this)}moveTo(t,r){return this.top=r,this.right=t+this.width,this.bottom=r+this.height,this.left=t,this}moveBy(t,r){return this.top+=r,this.right+=t,this.left+=t,this.bottom+=r,this}getIntersection(t){const r={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};return r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<0||r.height<0?null:new Ht(r)}getIntersectionArea(t){const r=this.getIntersection(t);return r?r.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let r=this.clone();if(ss(t))return r;let s,c=t,h=t.parentNode||t.commonAncestorContainer;for(;h&&!ss(h);){if(c instanceof HTMLElement&&B(c)==="absolute"&&(s=c),s&&(B(h)!=="relative"||(f=h).ownerDocument.defaultView.getComputedStyle(f).overflow==="visible")){c=h,h=h.parentNode;continue}const g=new Ht(h),b=r.getIntersection(g);if(!b)return null;b.getArea()<r.getArea()&&(r=b),c=h,h=h.parentNode}var f;return r}isEqual(t){for(const r of ud)if(this[r]!==t[r])return!1;return!0}contains(t){const r=this.getIntersection(t);return!(!r||!r.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let r,s,c;if(il(t))r=t.innerWidth-t.document.documentElement.clientWidth,s=t.innerHeight-t.document.documentElement.clientHeight,c=t.getComputedStyle(t.document.documentElement).direction;else{const h=Sc(t);r=t.offsetWidth-t.clientWidth-h.left-h.right,s=t.offsetHeight-t.clientHeight-h.top-h.bottom,c=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=h.left,this.top+=h.top,this.right-=h.right,this.bottom-=h.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=r,c==="ltr"?this.right-=r:this.left+=r,this.height-=s,this.bottom-=s,this}static getDomRangeRects(t){const r=[],s=Array.from(t.getClientRects());if(s.length)for(const c of s)r.push(new Ht(c));else{let c=t.startContainer;yn(c)&&(c=c.parentNode);const h=new Ht(c.getBoundingClientRect());h.right=h.left,h.width=0,r.push(h)}return r}static getBoundingRect(t){const r={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let s=0;for(const c of t)s++,r.left=Math.min(r.left,c.left),r.top=Math.min(r.top,c.top),r.right=Math.max(r.right,c.right),r.bottom=Math.max(r.bottom,c.bottom);return s==0?null:(r.width=r.right-r.left,r.height=r.bottom-r.top,new Ht(r))}}function os(l,t){for(const r of ud)l[r]=t[r]}function ss(l){return!!N(l)&&l===l.ownerDocument.body}function N(l){return l!==null&&typeof l=="object"&&l.nodeType===1&&typeof l.getBoundingClientRect=="function"}function B(l){return l.ownerDocument.defaultView.getComputedStyle(l).position}const $=class{constructor(l,t){$._observerInstance||$._createObserver(),this._element=l,this._callback=t,$._addElementCallback(l,t),$._observerInstance.observe(l)}get element(){return this._element}destroy(){$._deleteElementCallback(this._element,this._callback)}static _addElementCallback(l,t){$._elementCallbacks||($._elementCallbacks=new Map);let r=$._elementCallbacks.get(l);r||(r=new Set,$._elementCallbacks.set(l,r)),r.add(t)}static _deleteElementCallback(l,t){const r=$._getElementCallbacks(l);r&&(r.delete(t),r.size||($._elementCallbacks.delete(l),$._observerInstance.unobserve(l))),$._elementCallbacks&&!$._elementCallbacks.size&&($._observerInstance=null,$._elementCallbacks=null)}static _getElementCallbacks(l){return $._elementCallbacks?$._elementCallbacks.get(l):null}static _createObserver(){$._observerInstance=new _t.window.ResizeObserver(l=>{for(const t of l){const r=$._getElementCallbacks(t.target);if(r)for(const s of r)s(t)}})}};let fe=$;function Ue(l,t){l instanceof HTMLTextAreaElement&&(l.value=t),l.innerHTML=t}function mt(l){return t=>t+l}function Sn(l){let t=0;for(;l.previousSibling;)l=l.previousSibling,t++;return t}function ni(l,t,r){l.insertBefore(r,l.childNodes[t]||null)}function Fn(l){return l&&l.nodeType===Node.COMMENT_NODE}function Li(l){return!!(l&&l.getClientRects&&l.getClientRects().length)}fe._observerInstance=null,fe._elementCallbacks=null;var sa=Math.pow;function aa({element:l,target:t,positions:r,limiter:s,fitInViewport:c,viewportOffsetConfig:h}){ar(t)&&(t=t()),ar(s)&&(s=s());const f=function(M){return M&&M.parentNode?M.offsetParent===_t.document.body?null:M.offsetParent:null}(l),g=new Ht(l),b=new Ht(t);let _;const C=c&&function(M){M=Object.assign({top:0,bottom:0,left:0,right:0},M);const z=new Ht(_t.window);return z.top+=M.top,z.height-=M.top,z.bottom-=M.bottom,z.height-=M.bottom,z}(h)||null,x={targetRect:b,elementRect:g,positionedElementAncestor:f,viewportRect:C};if(s||c){const M=s&&new Ht(s).getVisible();Object.assign(x,{limiterRect:M,viewportRect:C}),_=function(z,H){const{elementRect:G}=H,Z=G.getArea(),se=z.map(ot=>new To(ot,H)).filter(ot=>!!ot.name);let ye=0,Be=null;for(const ot of se){const{limiterIntersectionArea:yt,viewportIntersectionArea:cn}=ot;if(yt===Z)return ot;const Ft=sa(cn,2)+sa(yt,2);Ft>ye&&(ye=Ft,Be=ot)}return Be}(r,x)||new To(r[0],x)}else _=new To(r[0],x);return _}function Zt(l){const{scrollX:t,scrollY:r}=_t.window;return l.clone().moveBy(t,r)}class To{constructor(t,r){const s=t(r.targetRect,r.elementRect,r.viewportRect);if(!s)return;const{left:c,top:h,name:f,config:g}=s;this.name=f,this.config=g,this._positioningFunctionCorrdinates={left:c,top:h},this._options=r}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;if(t){const r=this._options.viewportRect;if(!r)return t.getIntersectionArea(this._rect);{const s=t.getIntersection(r);if(s)return s.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const t=this._options.viewportRect;return t?t.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=Zt(this._rect),this._options.positionedElementAncestor&&function(t,r){const s=Zt(new Ht(r)),c=Sc(r);let h=0,f=0;h-=s.left,f-=s.top,h+=r.scrollLeft,f+=r.scrollTop,h-=c.left,f-=c.top,t.moveBy(h,f)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function gi(l){const t=l.parentNode;t&&t.removeChild(l)}function to({window:l,rect:t,alignToTop:r,forceScroll:s,viewportOffset:c}){const h=t.clone().moveBy(0,c.bottom),f=t.clone().moveBy(0,-c.top),g=new Ht(l).excludeScrollbarsAndBorders(),b=r&&s,_=[f,h].every(H=>g.contains(H));let{scrollX:C,scrollY:x}=l;const M=C,z=x;b?x-=g.top-t.top+c.top:_||(Fm(f,g)?x-=g.top-t.top+c.top:yf(h,g)&&(x+=r?t.top-g.top-c.top:t.bottom-g.bottom+c.bottom)),_||(jm(t,g)?C-=g.left-t.left+c.left:zm(t,g)&&(C+=t.right-g.right+c.right)),C==M&&x===z||l.scrollTo(C,x)}function Nk({parent:l,getRect:t,alignToTop:r,forceScroll:s,ancestorOffset:c=0,limiterElement:h}){const f=wf(l),g=r&&s;let b,_,C;const x=h||f.document.body;for(;l!=x;)_=t(),b=new Ht(l).excludeScrollbarsAndBorders(),C=b.contains(_),g?l.scrollTop-=b.top-_.top+c:C||(Fm(_,b)?l.scrollTop-=b.top-_.top+c:yf(_,b)&&(l.scrollTop+=r?_.top-b.top-c:_.bottom-b.bottom+c)),C||(jm(_,b)?l.scrollLeft-=b.left-_.left+c:zm(_,b)&&(l.scrollLeft+=_.right-b.right+c)),l=l.parentNode}function yf(l,t){return l.bottom>t.bottom}function Fm(l,t){return l.top<t.top}function jm(l,t){return l.left<t.left}function zm(l,t){return l.right>t.right}function wf(l){return rs(l)?l.startContainer.ownerDocument.defaultView:l.ownerDocument.defaultView}function Bk(l){if(rs(l)){let t=l.commonAncestorContainer;return yn(t)&&(t=t.parentNode),t}return l.parentNode}function Vm(l,t){const r=wf(l),s=new Ht(l);if(r===t)return s;{let c=r;for(;c!=t;){const h=c.frameElement,f=new Ht(h).excludeScrollbarsAndBorders();s.moveBy(f.left,f.top),c=c.parent}}return s}const Ok={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},Um={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},A=function(){const l={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++)l[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)l[t-48]=t;for(let t=112;t<=123;t++)l["f"+(t-111)]=t;for(const t of"`-=[];',./\\")l[t]=t.charCodeAt(0);return l}(),D=Object.fromEntries(Object.entries(A).map(([l,t])=>[t,l.charAt(0).toUpperCase()+l.slice(1)]));function P(l){let t;if(typeof l=="string"){if(t=A[l.toLowerCase()],!t)throw new F("keyboard-unknown-key",null,{key:l})}else t=l.keyCode+(l.altKey?A.alt:0)+(l.ctrlKey?A.ctrl:0)+(l.shiftKey?A.shift:0)+(l.metaKey?A.cmd:0);return t}function I(l){return typeof l=="string"&&(l=function(t){return t.split("+").map(r=>r.trim())}(l)),l.map(t=>typeof t=="string"?function(r){if(r.endsWith("!"))return P(r.slice(0,-1));const s=P(r);return y.isMac&&s==A.ctrl?A.cmd:s}(t):t).reduce((t,r)=>r+t,0)}function O(l){let t=I(l);return Object.entries(y.isMac?Ok:Um).reduce((r,[s,c])=>(t&A[s]&&(t&=~A[s],r+=c),r),"")+(t?D[t]:"")}function U(l,t){const r=t==="ltr";switch(l){case A.arrowleft:return r?"left":"right";case A.arrowright:return r?"right":"left";case A.arrowup:return"up";case A.arrowdown:return"down"}}function X(l){return Array.isArray(l)?l:[l]}function ie(l,t,r=1){if(typeof r!="number")throw new F("translation-service-quantity-not-a-number",null,{quantity:r});const s=Object.keys(_t.window.CKEDITOR_TRANSLATIONS).length;s===1&&(l=Object.keys(_t.window.CKEDITOR_TRANSLATIONS)[0]);const c=t.id||t.string;if(s===0||!function(b,_){return!!_t.window.CKEDITOR_TRANSLATIONS[b]&&!!_t.window.CKEDITOR_TRANSLATIONS[b].dictionary[_]}(l,c))return r!==1?t.plural:t.string;const h=_t.window.CKEDITOR_TRANSLATIONS[l].dictionary,f=_t.window.CKEDITOR_TRANSLATIONS[l].getPluralForm||(b=>b===1?0:1),g=h[c];return typeof g=="string"?g:g[Number(f(r))]}_t.window.CKEDITOR_TRANSLATIONS||(_t.window.CKEDITOR_TRANSLATIONS={});const ae=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function ge(l){return ae.includes(l)?"rtl":"ltr"}class we{constructor({uiLanguage:t="en",contentLanguage:r}={}){this.uiLanguage=t,this.contentLanguage=r||this.uiLanguage,this.uiLanguageDirection=ge(this.uiLanguage),this.contentLanguageDirection=ge(this.contentLanguage),this.t=(s,c)=>this._t(s,c)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,r=[]){r=X(r),typeof t=="string"&&(t={string:t});const s=t.plural?r[0]:1;return function(c,h){return c.replace(/%(\d+)/g,(f,g)=>g<h.length?h[g]:f)}(ie(this.uiLanguage,t,s),r)}}class Ee extends re(){constructor(t={},r={}){super();const s=it(t);if(s||(r=t),this._items=[],this._itemMap=new Map,this._idProperty=r.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const c of t)this._items.push(c),this._itemMap.set(this._getItemIdBeforeAdding(c),c)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,r){return this.addMany([t],r)}addMany(t,r){if(r===void 0)r=this._items.length;else if(r>this._items.length||r<0)throw new F("collection-add-item-invalid-index",this);let s=0;for(const c of t){const h=this._getItemIdBeforeAdding(c),f=r+s;this._items.splice(f,0,c),this._itemMap.set(h,c),this.fire("add",c,f),s++}return this.fire("change",{added:t,removed:[],index:r}),this}get(t){let r;if(typeof t=="string")r=this._itemMap.get(t);else{if(typeof t!="number")throw new F("collection-get-invalid-arg",this);r=this._items[t]}return r||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{const r=t[this._idProperty];return r&&this._itemMap.has(r)}}getIndex(t){let r;return r=typeof t=="string"?this._itemMap.get(t):t,r?this._items.indexOf(r):-1}remove(t){const[r,s]=this._remove(t);return this.fire("change",{added:[],removed:[r],index:s}),r}map(t,r){return this._items.map(t,r)}find(t,r){return this._items.find(t,r)}filter(t,r){return this._items.filter(t,r)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new F("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:r=>{this._setUpBindToBinding(s=>new r(s))},using:r=>{typeof r=="function"?this._setUpBindToBinding(r):this._setUpBindToBinding(s=>s[r])}}}_setUpBindToBinding(t){const r=this._bindToCollection,s=(c,h,f)=>{const g=r._bindToCollection==this,b=r._bindToInternalToExternalMap.get(h);if(g&&b)this._bindToExternalToInternalMap.set(h,b),this._bindToInternalToExternalMap.set(b,h);else{const _=t(h);if(!_)return void this._skippedIndexesFromExternal.push(f);let C=f;for(const x of this._skippedIndexesFromExternal)f>x&&C--;for(const x of r._skippedIndexesFromExternal)C>=x&&C++;this._bindToExternalToInternalMap.set(h,_),this._bindToInternalToExternalMap.set(_,h),this.add(_,C);for(let x=0;x<r._skippedIndexesFromExternal.length;x++)C<=r._skippedIndexesFromExternal[x]&&r._skippedIndexesFromExternal[x]++}};for(const c of r)s(0,c,r.getIndex(c));this.listenTo(r,"add",s),this.listenTo(r,"remove",(c,h,f)=>{const g=this._bindToExternalToInternalMap.get(h);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((b,_)=>(f<_&&b.push(_-1),f>_&&b.push(_),b),[])})}_getItemIdBeforeAdding(t){const r=this._idProperty;let s;if(r in t){if(s=t[r],typeof s!="string")throw new F("collection-add-invalid-id",this);if(this.get(s))throw new F("collection-add-item-already-exists",this)}else t[r]=s=W();return s}_remove(t){let r,s,c,h=!1;const f=this._idProperty;if(typeof t=="string"?(s=t,c=this._itemMap.get(s),h=!c,c&&(r=this._items.indexOf(c))):typeof t=="number"?(r=t,c=this._items[r],h=!c,c&&(s=c[f])):(c=t,s=c[f],r=this._items.indexOf(c),h=r==-1||!this._itemMap.get(s)),h)throw new F("collection-remove-404",this);this._items.splice(r,1),this._itemMap.delete(s);const g=this._bindToInternalToExternalMap.get(c);return this._bindToInternalToExternalMap.delete(c),this._bindToExternalToInternalMap.delete(g),this.fire("remove",c,r),[c,r]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Je(l){const t=l.next();return t.done?null:t.value}class Fe extends Pr(xe()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new F("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class pt{constructor(){this._listener=new(Pr())}listenTo(t){this._listener.listenTo(t,"keydown",(r,s)=>{this._listener.fire("_keydown:"+P(s),s)})}set(t,r,s={}){const c=I(t),h=s.priority;this._listener.listenTo(this._listener,"_keydown:"+c,(f,g)=>{r(g,()=>{g.preventDefault(),g.stopPropagation(),f.stop()}),f.return=!0},{priority:h})}press(t){return!!this._listener.fire("_keydown:"+P(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}function kt(l){return it(l)?new Map(l):function(t){const r=new Map;for(const s in t)r.set(s,t[s]);return r}(l)}function jn(l,t){let r;function s(...c){s.cancel(),r=setTimeout(()=>l(...c),t)}return s.cancel=()=>{clearTimeout(r)},s}function Ri(l,t){return!!(r=l.charAt(t-1))&&r.length==1&&/[\ud800-\udbff]/.test(r)&&function(s){return!!s&&s.length==1&&/[\udc00-\udfff]/.test(s)}(l.charAt(t));var r}function xo(l,t){return!!(r=l.charAt(t))&&r.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(r);var r}const Hm=function(){const l=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],t=new RegExp("\\p{Regional_Indicator}{2}","u").source,r="(?:"+l.map(s=>s.source).join("|")+")";return new RegExp(`${t}|${r}(?:‍${r})*`,"ug")}();function Cf(l,t){const r=String(l).matchAll(Hm);return Array.from(r).some(s=>s.index<t&&t<s.index+s[0].length)}class Eo extends Ee{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",(r,s,c)=>{this._renderViewIntoCollectionParent(s,c)}),this.on("remove",(r,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(const r of this)this._renderViewIntoCollectionParent(r)}delegate(...t){if(!t.length||!t.every(r=>typeof r=="string"))throw new F("ui-viewcollection-delegate-wrong-events",this);return{to:r=>{for(const s of this)for(const c of t)s.delegate(c).to(r);this.on("add",(s,c)=>{for(const h of t)c.delegate(h).to(r)}),this.on("remove",(s,c)=>{for(const h of t)c.stopDelegating(h,r)})}}}_renderViewIntoCollectionParent(t,r){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[r])}remove(t){return super.remove(t)}}var Af=a(6062),st=a.n(Af),Bn=a(4793),$m={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(Bn.Z,$m),Bn.Z.locals;class Mt extends Pr(xe()){constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Ee,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(r,s)=>{s.locale=t,s.t=t&&t.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=So.bind(this,this)}createCollection(t){const r=new Eo(t);return this._viewCollections.add(r),r}registerChild(t){it(t)||(t=[t]);for(const r of t)this._unboundChildren.add(r)}deregisterChild(t){it(t)||(t=[t]);for(const r of t)this._unboundChildren.remove(r)}setTemplate(t){this.template=new So(t)}extendTemplate(t){So.extend(this.template,t)}render(){if(this.isRendered)throw new F("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class So extends re(){constructor(t){super(),Object.assign(this,wA(yA(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new F("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(r){if(r.children)for(const s of r.children)Wm(s)?yield s:Lk(s)&&(yield*t(s))}(this)}static bind(t,r){return{to:(s,c)=>new c6({eventNameOrFunction:s,attribute:s,observable:t,emitter:r,callback:c}),if:(s,c,h)=>new vA({observable:t,emitter:r,attribute:s,valueIfTrue:c,callback:h})}}static extend(t,r){if(t._isRendered)throw new F("template-extend-render",[this,t]);xA(t,wA(yA(r)))}_renderNode(t){let r;if(r=t.node?this.tag&&this.text:this.tag?this.text:!this.text,r)throw new F("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let r=t.node;return r||(r=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),r}_renderText(t){let r=t.node;return r?t.revertData.text=r.textContent:r=t.node=document.createTextNode(""),qm(this.text)?this._bindToObservable({schema:this.text,updater:u6(r),data:t}):r.textContent=this.text.join(""),r}_renderAttributes(t){if(!this.attributes)return;const r=t.node,s=t.revertData;for(const c in this.attributes){const h=r.getAttribute(c),f=this.attributes[c];s&&(s.attributes[c]=h);const g=EA(f)?f[0].ns:null;if(qm(f)){const b=EA(f)?f[0].value:f;s&&SA(c)&&b.unshift(h),this._bindToObservable({schema:b,updater:d6(r,c,g),data:t})}else if(c=="style"&&typeof f[0]!="string")this._renderStyleAttribute(f[0],t);else{s&&h&&SA(c)&&f.unshift(h);const b=f.map(_=>_&&_.value||_).reduce((_,C)=>_.concat(C),[]).reduce(AA,"");dd(b)||r.setAttributeNS(g,c,b)}}}_renderStyleAttribute(t,r){const s=r.node;for(const c in t){const h=t[c];qm(h)?this._bindToObservable({schema:[h],updater:h6(s,c),data:r}):s.style[c]=h}}_renderElementChildren(t){const r=t.node,s=t.intoFragment?document.createDocumentFragment():r,c=t.isApplying;let h=0;for(const f of this.children)if(Rk(f)){if(!c){f.setParent(r);for(const g of f)s.appendChild(g.element)}}else if(Wm(f))c||(f.isRendered||f.render(),s.appendChild(f.element));else if(eo(f))s.appendChild(f);else if(c){const g={children:[],bindings:[],attributes:{}};t.revertData.children.push(g),f._renderNode({intoFragment:!1,node:s.childNodes[h++],isApplying:!0,revertData:g})}else s.appendChild(f.render());t.intoFragment&&r.appendChild(s)}_setUpListeners(t){if(this.eventListeners)for(const r in this.eventListeners){const s=this.eventListeners[r].map(c=>{const[h,f]=r.split("@");return c.activateDomEventListener(h,f,t)});t.revertData&&t.revertData.bindings.push(s)}}_bindToObservable({schema:t,updater:r,data:s}){const c=s.revertData;_A(t,r,s);const h=t.filter(f=>!dd(f)).filter(f=>f.observable).map(f=>f.activateAttributeListener(t,r,s));c&&c.bindings.push(h)}_revertTemplateFromNode(t,r){for(const c of r.bindings)for(const h of c)h();if(r.text)return void(t.textContent=r.text);const s=t;for(const c in r.attributes){const h=r.attributes[c];h===null?s.removeAttribute(c):s.setAttribute(c,h)}for(let c=0;c<r.children.length;++c)this._revertTemplateFromNode(s.childNodes[c],r.children[c])}}class Tf{constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const r=this.observable[this.attribute];return this.callback?this.callback(r,t):r}activateAttributeListener(t,r,s){const c=()=>_A(t,r,s);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,c),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,c)}}}class c6 extends Tf{constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,r,s){const c=(h,f)=>{r&&!f.target.matches(r)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(f):this.observable.fire(this.eventNameOrFunction,f))};return this.emitter.listenTo(s.node,t,c),()=>{this.emitter.stopListening(s.node,t,c)}}}class vA extends Tf{constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){return!dd(super.getValue(t))&&(this.valueIfTrue||!0)}}function qm(l){return!!l&&(l.value&&(l=l.value),Array.isArray(l)?l.some(qm):l instanceof Tf)}function _A(l,t,{node:r}){const s=function(h,f){return h.map(g=>g instanceof Tf?g.getValue(f):g)}(l,r);let c;c=l.length==1&&l[0]instanceof vA?s[0]:s.reduce(AA,""),dd(c)?t.remove():t.set(c)}function u6(l){return{set(t){l.textContent=t},remove(){l.textContent=""}}}function d6(l,t,r){return{set(s){l.setAttributeNS(r,t,s)},remove(){l.removeAttributeNS(r,t)}}}function h6(l,t){return{set(r){l.style[t]=r},remove(){l.style[t]=null}}}function yA(l){return ns(l,t=>{if(t&&(t instanceof Tf||Lk(t)||Wm(t)||Rk(t)))return t})}function wA(l){if(typeof l=="string"?l=function(t){return{text:[t]}}(l):l.text&&function(t){t.text=X(t.text)}(l),l.on&&(l.eventListeners=function(t){for(const r in t)CA(t,r);return t}(l.on),delete l.on),!l.text){l.attributes&&function(r){for(const s in r)r[s].value&&(r[s].value=X(r[s].value)),CA(r,s)}(l.attributes);const t=[];if(l.children)if(Rk(l.children))t.push(l.children);else for(const r of l.children)Lk(r)||Wm(r)||eo(r)?t.push(r):t.push(new So(r));l.children=t}return l}function CA(l,t){l[t]=X(l[t])}function AA(l,t){return dd(t)?l:dd(l)?t:`${l} ${t}`}function TA(l,t){for(const r in t)l[r]?l[r].push(...t[r]):l[r]=t[r]}function xA(l,t){if(t.attributes&&(l.attributes||(l.attributes={}),TA(l.attributes,t.attributes)),t.eventListeners&&(l.eventListeners||(l.eventListeners={}),TA(l.eventListeners,t.eventListeners)),t.text&&l.text.push(...t.text),t.children&&t.children.length){if(l.children.length!=t.children.length)throw new F("ui-template-extend-children-mismatch",l);let r=0;for(const s of t.children)xA(l.children[r++],s)}}function dd(l){return!l&&l!==0}function Wm(l){return l instanceof Mt}function Lk(l){return l instanceof So}function Rk(l){return l instanceof Eo}function EA(l){return Ke(l[0])&&l[0].ns}function SA(l){return l=="class"||l=="style"}class f6 extends Eo{constructor(t,r=[]){super(r),this.locale=t}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new So({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=ju(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&t.childElementCount==0&&t.remove()}}var DA=a(6574),p6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(DA.Z,p6),DA.Z.locals;const IA=class extends Mt{constructor(){super();const l=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",l.if("isColorInherited","ck-icon_inherit-color")],viewBox:l.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const l=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=l.getAttribute("viewBox");t&&(this.viewBox=t);for(const{name:r,value:s}of Array.from(l.attributes))IA.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;l.childNodes.length>0;)this.element.appendChild(l.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(l=>{l.style.fill=this.fillColor})}};let hd=IA;hd.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var MA=a(4906),m6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(MA.Z,m6),MA.Z.locals;class wn extends Mt{constructor(t){super(t),this._focusDelayed=null;const r=this.bindTemplate,s=W();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new hd,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const c={tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",h=>!h),r.if("isVisible","ck-hidden",h=>!h),r.to("isOn",h=>h?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],role:r.to("role"),type:r.to("type",h=>h||"button"),tabindex:r.to("tabindex"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy"),"aria-disabled":r.if("isEnabled",!0,h=>!h),"aria-checked":r.to("isOn"),"aria-pressed":r.to("isOn",h=>!!this.isToggleable&&String(!!h)),"data-cke-tooltip-text":r.to("_tooltipString"),"data-cke-tooltip-position":r.to("tooltipPosition")},children:this.children,on:{click:r.to(h=>{this.isEnabled?this.fire("execute"):h.preventDefault()})}};y.isSafari&&(this._focusDelayed||(this._focusDelayed=jn(()=>this.focus(),0)),c.on.mousedown=r.to(()=>{this._focusDelayed()}),c.on.mouseup=r.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(c)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const t=new Mt,r=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:r.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:r.to("label")}]}),t}_createKeystrokeView(){const t=new Mt;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",r=>O(r))}]}),t}_getTooltipString(t,r,s){return t?typeof t=="string"?t:(s&&(s=O(s)),t instanceof Function?t(r,s):`${r}${s?` (${s})`:""}`):""}}var PA=a(5332),g6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(PA.Z,g6),PA.Z.locals;class Gm extends wn{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Mt;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}var NA=a(6781),b6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(NA.Z,b6),NA.Z.locals,a(1103),a(841);var BA=a(3662),k6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(BA.Z,k6),BA.Z.locals;class OA extends Mt{constructor(t){super(t),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${W()}`;const r=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:r.to("for")},children:[{text:r.to("text")}]})}}var LA=a(2577),v6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(LA.Z,v6),LA.Z.locals;class Fk extends Mt{constructor(t,r){super(t);const s=`ck-labeled-field-view-${W()}`,c=`ck-labeled-field-view-status-${W()}`;this.fieldView=r(this,s,c),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(c),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(f,g)=>f||g);const h=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",h.to("class"),h.if("isEnabled","ck-disabled",f=>!f),h.if("isEmpty","ck-labeled-field-view_empty"),h.if("isFocused","ck-labeled-field-view_focused"),h.if("placeholder","ck-labeled-field-view_placeholder"),h.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const r=new OA(this.locale);return r.for=t,r.bind("text").to(this,"label"),r}_createStatusView(t){const r=new Mt(this.locale),s=this.bindTemplate;return r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",c=>!c)],id:t,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),r}focus(){this.fieldView.focus()}}var RA=a(4879),_6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(RA.Z,_6),RA.Z.locals;class y6 extends Mt{constructor(t){super(t),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Fe,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",r.if("isFocused","ck-input_focused"),r.if("isEmpty","ck-input-text_empty"),r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),readonly:r.to("isReadOnly"),inputmode:r.to("inputMode"),"aria-invalid":r.if("hasError",!0),"aria-describedby":r.to("ariaDescribedById")},on:{input:r.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:r.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(t,r,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||t===0?t:""}}class w6 extends y6{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class C6 extends Mt{constructor(t){super(t);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",r.to("position",s=>`ck-dropdown__panel_${s}`),r.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:r.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(){if(this.children.length){const t=this.children.first;typeof t.focus=="function"?t.focus():Q("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}var FA=a(5485),A6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(FA.Z,A6),FA.Z.locals;const jk=class extends Mt{constructor(l,t,r){super(l);const s=this.bindTemplate;this.buttonView=t,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new pt,this.focusTracker=new Fe,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",c=>!c)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,r]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,r,s)=>{s&&(this.panelPosition==="auto"?this.panelView.position=jk._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const l=(t,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(t,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(t,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",l),this.keystrokes.set("esc",l)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:l,north:t,southEast:r,southWest:s,northEast:c,northWest:h,southMiddleEast:f,southMiddleWest:g,northMiddleEast:b,northMiddleWest:_}=jk.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,s,f,g,l,c,h,b,_,t]:[s,r,g,f,l,h,c,_,b,t]}};let zk=jk;zk.defaultPanelPositions={south:(l,t)=>({top:l.bottom,left:l.left-(t.width-l.width)/2,name:"s"}),southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,t)=>({top:l.bottom,left:l.left-t.width+l.width,name:"sw"}),southMiddleEast:(l,t)=>({top:l.bottom,left:l.left-(t.width-l.width)/4,name:"sme"}),southMiddleWest:(l,t)=>({top:l.bottom,left:l.left-3*(t.width-l.width)/4,name:"smw"}),north:(l,t)=>({top:l.top-t.height,left:l.left-(t.width-l.width)/2,name:"n"}),northEast:(l,t)=>({top:l.top-t.height,left:l.left,name:"ne"}),northWest:(l,t)=>({top:l.top-t.height,left:l.left-t.width+l.width,name:"nw"}),northMiddleEast:(l,t)=>({top:l.top-t.height,left:l.left-(t.width-l.width)/4,name:"nme"}),northMiddleWest:(l,t)=>({top:l.top-t.height,left:l.left-3*(t.width-l.width)/4,name:"nmw"})},zk._getOptimalPosition=aa;const jA='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class T6 extends wn{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new hd;return t.content=jA,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}class fd{constructor(t){if(this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const r in t.actions){let s=t.actions[r];typeof s=="string"&&(s=[s]);for(const c of s)t.keystrokeHandler.set(c,(h,f)=>{this[r](),f()})}}get first(){return this.focusables.find(Vk)||null}get last(){return this.focusables.filter(Vk).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((r,s)=>{const c=r.element===this.focusTracker.focusedElement;return c&&(t=s),c}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const r=this.current,s=this.focusables.length;if(!s)return null;if(r===null)return this[t===1?"first":"last"];let c=(r+s+t)%s;do{const h=this.focusables.get(c);if(Vk(h))return h;c=(c+s+t)%s}while(c!==r);return null}}function Vk(l){return!(!l.focus||!Li(l.element))}class zA extends Mt{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class x6 extends Mt{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function VA(l){return Array.isArray(l)?{items:l,removeItems:[]}:l?Object.assign({items:[],removeItems:[]},l):{items:[],removeItems:[]}}class Ze extends xe(){constructor(t){super(),this._disableStack=new Set,this.editor=t,this.set("isEnabled",!0)}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",UA,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",UA),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function UA(l){l.return=!1,l.stop()}class Lt extends xe(){constructor(t){super(),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(t,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",r=>{if(!this.affectsData)return;const s=t.model.document.selection,c=s.getFirstPosition().root.rootName!="$graveyard"&&t.model.canEditAt(s);(t.isReadOnly||this._isEnabledBasedOnSelection&&!c)&&(r.return=!1,r.stop())},{priority:"highest"}),this.on("execute",r=>{this.isEnabled||r.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",HA,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",HA),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function HA(l){l.return=!1,l.stop()}class $A extends Lt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...t){const r=this._getFirstEnabledCommand();return!!r&&r.execute(t)}registerChildCommand(t,r={}){ue(this._childCommandsDefinitions,{command:t,priority:r.priority||"normal"}),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find(({command:r})=>r.isEnabled);return t&&t.command}}class qA extends re(){constructor(t,r=[],s=[]){super(),this._plugins=new Map,this._context=t,this._availablePlugins=new Map;for(const c of r)c.pluginName&&this._availablePlugins.set(c.pluginName,c);this._contextPlugins=new Map;for(const[c,h]of s)this._contextPlugins.set(c,h),this._contextPlugins.set(h,c),c.pluginName&&this._availablePlugins.set(c.pluginName,c)}*[Symbol.iterator](){for(const t of this._plugins)typeof t[0]=="function"&&(yield t)}get(t){const r=this._plugins.get(t);if(!r){let s=t;throw typeof t=="function"&&(s=t.pluginName||t.name),new F("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return r}has(t){return this._plugins.has(t)}init(t,r=[],s=[]){const c=this,h=this._context;(function H(G,Z=new Set){G.forEach(se=>{b(se)&&(Z.has(se)||(Z.add(se),se.pluginName&&!c._availablePlugins.has(se.pluginName)&&c._availablePlugins.set(se.pluginName,se),se.requires&&H(se.requires,Z)))})})(t),M(t);const f=[...function H(G,Z=new Set){return G.map(se=>b(se)?se:c._availablePlugins.get(se)).reduce((se,ye)=>Z.has(ye)?se:(Z.add(ye),ye.requires&&(M(ye.requires,ye),H(ye.requires,Z).forEach(Be=>se.add(Be))),se.add(ye)),new Set)}(t.filter(H=>!C(H,r)))];(function(H,G){for(const Z of G){if(typeof Z!="function")throw new F("plugincollection-replace-plugin-invalid-type",null,{pluginItem:Z});const se=Z.pluginName;if(!se)throw new F("plugincollection-replace-plugin-missing-name",null,{pluginItem:Z});if(Z.requires&&Z.requires.length)throw new F("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:se});const ye=c._availablePlugins.get(se);if(!ye)throw new F("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:se});const Be=H.indexOf(ye);if(Be===-1){if(c._contextPlugins.has(ye))return;throw new F("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:se})}if(ye.requires&&ye.requires.length)throw new F("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:se});H.splice(Be,1,Z),c._availablePlugins.set(se,Z)}})(f,s);const g=f.map(H=>{let G=c._contextPlugins.get(H);return G=G||new H(h),c._add(H,G),G});return z(g,"init").then(()=>z(g,"afterInit")).then(()=>g);function b(H){return typeof H=="function"}function _(H){return b(H)&&!!H.isContextPlugin}function C(H,G){return G.some(Z=>Z===H||x(H)===Z||x(Z)===H)}function x(H){return b(H)?H.pluginName||H.name:H}function M(H,G=null){H.map(Z=>b(Z)?Z:c._availablePlugins.get(Z)||Z).forEach(Z=>{(function(se,ye){if(!b(se))throw ye?new F("plugincollection-soft-required",h,{missingPlugin:se,requiredBy:x(ye)}):new F("plugincollection-plugin-not-found",h,{plugin:se})})(Z,G),function(se,ye){if(_(ye)&&!_(se))throw new F("plugincollection-context-required",h,{plugin:x(se),requiredBy:x(ye)})}(Z,G),function(se,ye){if(ye&&C(se,r))throw new F("plugincollection-required",h,{plugin:x(se),requiredBy:x(ye)})}(Z,G)})}function z(H,G){return H.reduce((Z,se)=>se[G]?c._contextPlugins.has(se)?Z:Z.then(se[G].bind(se)):Z,Promise.resolve())}}destroy(){const t=[];for(const[,r]of this)typeof r.destroy!="function"||this._contextPlugins.has(r)||t.push(r.destroy());return Promise.all(t)}_add(t,r){this._plugins.set(t,r);const s=t.pluginName;if(s){if(this._plugins.has(s))throw new F("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:t});this._plugins.set(s,r)}}}class WA{constructor(t){this._contextOwner=null,this.config=new _n(t,this.constructor.defaultConfig);const r=this.constructor.builtinPlugins;this.config.define("plugins",r),this.plugins=new qA(this,r);const s=this.config.get("language")||{};this.locale=new we({uiLanguage:typeof s=="string"?s:s.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Ee}initPlugins(){const t=this.config.get("plugins")||[],r=this.config.get("substitutePlugins")||[];for(const s of t.concat(r)){if(typeof s!="function")throw new F("context-initplugins-constructor-only",null,{Plugin:s});if(s.isContextPlugin!==!0)throw new F("context-initplugins-invalid-plugin",null,{Plugin:s})}return this.plugins.init(t,[],r)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,r){if(this._contextOwner)throw new F("context-addeditor-private-context");this.editors.add(t),r&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const r of this.config.names())["plugins","removePlugins","extraPlugins"].includes(r)||(t[r]=this.config.get(r));return t}static create(t){return new Promise(r=>{const s=new this(t);r(s.initPlugins().then(()=>s))})}}class Km extends xe(){constructor(t){super(),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class E6 extends pt{constructor(t){super(),this.editor=t}set(t,r,s={}){if(typeof r=="string"){const c=r;r=(h,f)=>{this.editor.execute(c),f()}}super.set(t,r,s)}}var GA=a(4717),S6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(GA.Z,S6),GA.Z.locals;const Ym=new WeakMap;let KA=!1;function YA({view:l,element:t,text:r,isDirectHost:s=!0,keepOnFocus:c=!1}){const h=l.document;function f(g){Ym.get(h).set(t,{text:g,isDirectHost:s,keepOnFocus:c,hostElement:s?t:null}),l.change(b=>Uk(h,b))}Ym.has(h)||(Ym.set(h,new Map),h.registerPostFixer(g=>Uk(h,g)),h.on("change:isComposing",()=>{l.change(g=>Uk(h,g))},{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",(g,b,_)=>{f(_)}),t.placeholder?f(t.placeholder):r&&f(r),r&&function(){KA||Q("enableplaceholder-deprecated-text-option"),KA=!0}()}function D6(l,t){return!!t.hasClass("ck-placeholder")&&(l.removeClass("ck-placeholder",t),!0)}function Uk(l,t){const r=Ym.get(l),s=[];let c=!1;for(const[h,f]of r)f.isDirectHost&&(s.push(h),QA(t,h,f)&&(c=!0));for(const[h,f]of r){if(f.isDirectHost)continue;const g=I6(h);g&&(s.includes(g)||(f.hostElement=g,QA(t,h,f)&&(c=!0)))}return c}function QA(l,t,r){const{text:s,isDirectHost:c,hostElement:h}=r;let f=!1;return h.getAttribute("data-placeholder")!==s&&(l.setAttribute("data-placeholder",s,h),f=!0),(c||t.childCount==1)&&function(g,b){if(!g.isAttached()||Array.from(g.getChildren()).some(x=>!x.is("uiElement")))return!1;const _=g.document,C=_.selection.anchor;return!(_.isComposing&&C&&C.parent===g||!b&&_.isFocused&&(!C||C.parent===g))}(h,r.keepOnFocus)?function(g,b){return!b.hasClass("ck-placeholder")&&(g.addClass("ck-placeholder",b),!0)}(l,h)&&(f=!0):D6(l,h)&&(f=!0),f}function I6(l){if(l.childCount){const t=l.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}class Dc{is(){throw new Error("is() method is abstract")}}const ZA=function(l){return xc(l,4)};class Ic extends re(Dc){constructor(t){super(),this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))==-1)throw new F("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let r=this;for(;r.parent;)t.unshift(r.index),r=r.parent;return t}getAncestors(t={}){const r=[];let s=t.includeSelf?this:this.parent;for(;s;)r[t.parentFirst?"push":"unshift"](s),s=s.parent;return r}getCommonAncestor(t,r={}){const s=this.getAncestors(r),c=t.getAncestors(r);let h=0;for(;s[h]==c[h]&&s[h];)h++;return h===0?null:s[h-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const r=this.getPath(),s=t.getPath(),c=Ge(r,s);switch(c){case"prefix":return!0;case"extension":return!1;default:return r[c]<s[c]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,r){this.fire(`change:${t}`,r),this.parent&&this.parent._fireChange(t,r)}toJSON(){const t=ZA(this);return delete t.parent,t}}Ic.prototype.is=function(l){return l==="node"||l==="view:node"};class gn extends Ic{constructor(t,r){super(t),this._textData=r}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof gn&&(this===t||this.data===t.data)}_clone(){return new gn(this.document,this.data)}}gn.prototype.is=function(l){return l==="$text"||l==="view:$text"||l==="text"||l==="view:text"||l==="node"||l==="view:node"};class as extends Dc{constructor(t,r,s){if(super(),this.textNode=t,r<0||r>t.data.length)throw new F("view-textproxy-wrong-offsetintext",this);if(s<0||r+s>t.data.length)throw new F("view-textproxy-wrong-length",this);this.data=t.data.substring(r,r+s),this.offsetInText=r}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(t={}){const r=[];let s=t.includeSelf?this.textNode:this.parent;for(;s!==null;)r[t.parentFirst?"push":"unshift"](s),s=s.parent;return r}}as.prototype.is=function(l){return l==="$textProxy"||l==="view:$textProxy"||l==="textProxy"||l==="view:textProxy"};class Do{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let r of t)(typeof r=="string"||r instanceof RegExp)&&(r={name:r}),this._patterns.push(r)}match(...t){for(const r of t)for(const s of this._patterns){const c=XA(r,s);if(c)return{element:r,pattern:s,match:c}}return null}matchAll(...t){const r=[];for(const s of t)for(const c of this._patterns){const h=XA(s,c);h&&r.push({element:s,pattern:c,match:h})}return r.length>0?r:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],r=t.name;return typeof t=="function"||!r||r instanceof RegExp?null:r}}function XA(l,t){if(typeof t=="function")return t(l);const r={};return t.name&&(r.name=function(s,c){return s instanceof RegExp?!!c.match(s):s===c}(t.name,l.name),!r.name)||t.attributes&&(r.attributes=function(s,c){const h=new Set(c.getAttributeKeys());return Ai(s)?(s.style!==void 0&&Q("matcher-pattern-deprecated-attributes-style-key",s),s.class!==void 0&&Q("matcher-pattern-deprecated-attributes-class-key",s)):(h.delete("style"),h.delete("class")),Hk(s,h,f=>c.getAttribute(f))}(t.attributes,l),!r.attributes)||t.classes&&(r.classes=function(s,c){return Hk(s,c.getClassNames(),()=>{})}(t.classes,l),!r.classes)||t.styles&&(r.styles=function(s,c){return Hk(s,c.getStyleNames(!0),h=>c.getStyle(h))}(t.styles,l),!r.styles)?null:r}function Hk(l,t,r){const s=function(f){return Array.isArray(f)?f.map(g=>Ai(g)?(g.key!==void 0&&g.value!==void 0||Q("matcher-pattern-missing-key-or-value",g),[g.key,g.value]):[g,!0]):Ai(f)?Object.entries(f):[[f,!0]]}(l),c=Array.from(t),h=[];if(s.forEach(([f,g])=>{c.forEach(b=>{(function(_,C){return _===!0||_===C||_ instanceof RegExp&&C.match(_)})(f,b)&&function(_,C,x){if(_===!0)return!0;const M=x(C);return _===M||_ instanceof RegExp&&!!String(M).match(_)}(g,b,r)&&h.push(b)})}),s.length&&!(h.length<s.length))return h}const Qm=function(l){return typeof l=="symbol"||pi(l)&&xn(l)=="[object Symbol]"};var M6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P6=/^\w*$/;const N6=function(l,t){if(En(l))return!1;var r=typeof l;return!(r!="number"&&r!="symbol"&&r!="boolean"&&l!=null&&!Qm(l))||P6.test(l)||!M6.test(l)||t!=null&&l in Object(t)};function $k(l,t){if(typeof l!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=function(){var s=arguments,c=t?t.apply(this,s):s[0],h=r.cache;if(h.has(c))return h.get(c);var f=l.apply(this,s);return r.cache=h.set(c,f)||h,f};return r.cache=new($k.Cache||Er),r}$k.Cache=Er;const B6=$k,O6=function(l){var t=B6(l,function(s){return r.size===500&&r.clear(),s}),r=t.cache;return t};var L6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R6=/\\(\\)?/g,F6=O6(function(l){var t=[];return l.charCodeAt(0)===46&&t.push(""),l.replace(L6,function(r,s,c,h){t.push(c?h.replace(R6,"$1"):s||r)}),t});const j6=F6,z6=function(l,t){for(var r=-1,s=l==null?0:l.length,c=Array(s);++r<s;)c[r]=t(l[r],r,l);return c};var JA=Ce?Ce.prototype:void 0,e2=JA?JA.toString:void 0;const V6=function l(t){if(typeof t=="string")return t;if(En(t))return z6(t,l)+"";if(Qm(t))return e2?e2.call(t):"";var r=t+"";return r=="0"&&1/t==-1/0?"-0":r},qk=function(l){return l==null?"":V6(l)},Wk=function(l,t){return En(l)?l:N6(l,t)?[l]:j6(qk(l))},U6=function(l){var t=l==null?0:l.length;return t?l[t-1]:void 0},Gk=function(l){if(typeof l=="string"||Qm(l))return l;var t=l+"";return t=="0"&&1/l==-1/0?"-0":t},t2=function(l,t){for(var r=0,s=(t=Wk(t,l)).length;l!=null&&r<s;)l=l[Gk(t[r++])];return r&&r==s?l:void 0},n2=function(l,t,r){var s=-1,c=l.length;t<0&&(t=-t>c?0:c+t),(r=r>c?c:r)<0&&(r+=c),c=t>r?0:r-t>>>0,t>>>=0;for(var h=Array(c);++s<c;)h[s]=l[s+t];return h},H6=function(l,t){return t.length<2?l:t2(l,n2(t,0,-1))},$6=function(l,t){return t=Wk(t,l),(l=H6(l,t))==null||delete l[Gk(U6(t))]},q6=function(l,t){return l==null||$6(l,t)},Zm=function(l,t,r){var s=l==null?void 0:t2(l,t);return s===void 0?r:s},Kk=function(l,t,r){(r!==void 0&&!Us(l[t],r)||r===void 0&&!(t in l))&&ec(l,t,r)},W6=function(l){return function(t,r,s){for(var c=-1,h=Object(t),f=s(t),g=f.length;g--;){var b=f[l?g:++c];if(r(h[b],b,h)===!1)break}return t}}(),G6=function(l){return pi(l)&&wo(l)},Yk=function(l,t){if((t!=="constructor"||typeof l[t]!="function")&&t!="__proto__")return l[t]},K6=function(l){return Sr(l,cr(l))},Y6=function(l,t,r,s,c,h,f){var g=Yk(l,r),b=Yk(t,r),_=f.get(b);if(_)Kk(l,r,_);else{var C=h?h(g,b,r+"",l,t,f):void 0,x=C===void 0;if(x){var M=En(b),z=!M&&Qs(b),H=!M&&!z&&cc(b);C=b,M||z||H?En(g)?C=g:G6(g)?C=Xa(g):z?(x=!1,C=Za(b,!0)):H?(x=!1,C=wc(b,!0)):C=[]:Ai(b)||rc(b)?(C=g,rc(g)?C=K6(g):Ke(g)&&!ar(g)||(C=sd(b))):x=!1}x&&(f.set(b,C),c(C,b,s,h,f),f.delete(b)),Kk(l,r,C)}},Q6=function l(t,r,s,c,h){t!==r&&W6(r,function(f,g){if(h||(h=new yo),Ke(f))Y6(t,r,g,s,l,c,h);else{var b=c?c(Yk(t,g),f,g+"",t,r,h):void 0;b===void 0&&(b=f),Kk(t,g,b)}},cr)},Mc=function(l){return l},Z6=function(l,t,r){switch(r.length){case 0:return l.call(t);case 1:return l.call(t,r[0]);case 2:return l.call(t,r[0],r[1]);case 3:return l.call(t,r[0],r[1],r[2])}return l.apply(t,r)};var i2=Math.max;const X6=function(l,t,r){return t=i2(t===void 0?l.length-1:t,0),function(){for(var s=arguments,c=-1,h=i2(s.length-t,0),f=Array(h);++c<h;)f[c]=s[t+c];c=-1;for(var g=Array(t+1);++c<t;)g[c]=s[c];return g[t]=r(f),Z6(l,this,g)}},J6=function(l){return function(){return l}},e8=Qo?function(l,t){return Qo(l,"toString",{configurable:!0,enumerable:!1,value:J6(t),writable:!0})}:Mc;var t8=Date.now;const n8=function(l){var t=0,r=0;return function(){var s=t8(),c=16-(s-r);if(r=s,c>0){if(++t>=800)return arguments[0]}else t=0;return l.apply(void 0,arguments)}}(e8),i8=function(l,t){return n8(X6(l,t,Mc),l+"")},r8=function(l,t,r){if(!Ke(r))return!1;var s=typeof t;return!!(s=="number"?wo(r)&&Ga(t,r.length):s=="string"&&t in r)&&Us(r[t],l)},r2=function(l){return i8(function(t,r){var s=-1,c=r.length,h=c>1?r[c-1]:void 0,f=c>2?r[2]:void 0;for(h=l.length>3&&typeof h=="function"?(c--,h):void 0,f&&r8(r[0],r[1],f)&&(h=c<3?void 0:h,c=1),t=Object(t);++s<c;){var g=r[s];g&&l(t,g,s,h)}return t})},o2=r2(function(l,t,r){Q6(l,t,r)}),o8=function(l,t,r,s){if(!Ke(l))return l;for(var c=-1,h=(t=Wk(t,l)).length,f=h-1,g=l;g!=null&&++c<h;){var b=Gk(t[c]),_=r;if(b==="__proto__"||b==="constructor"||b==="prototype")return l;if(c!=f){var C=g[b];(_=s?s(C,b,g):void 0)===void 0&&(_=Ke(C)?C:Ga(t[c+1])?[]:{})}tc(g,b,_),g=g[b]}return l},s8=function(l,t,r){return l==null?l:o8(l,t,r)};class a8{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const r=Array.from(function(s){let c=null,h=0,f=0,g=null;const b=new Map;if(s==="")return b;s.charAt(s.length-1)!=";"&&(s+=";");for(let _=0;_<s.length;_++){const C=s.charAt(_);if(c===null)switch(C){case":":g||(g=s.substr(h,_-h),f=_+1);break;case'"':case"'":c=C;break;case";":{const x=s.substr(f,_-f);g&&b.set(g.trim(),x.trim()),g=null,h=_+1;break}}else C===c&&(c=null)}return b}(t).entries());for(const[s,c]of r)this._styleProcessor.toNormalizedForm(s,c,this._styles)}has(t){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(t,this._styles).find(([s])=>s===t);return Array.isArray(r)}set(t,r){if(Ke(t))for(const[s,c]of Object.entries(t))this._styleProcessor.toNormalizedForm(s,c,this._styles);else this._styleProcessor.toNormalizedForm(t,r,this._styles)}remove(t){const r=Qk(t);q6(this._styles,r),delete this._styles[t],this._cleanEmptyObjectsOnPath(r)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!Ke(this._styles[t]))return this._styles[t];const r=this._styleProcessor.getReducedForm(t,this._styles).find(([s])=>s===t);return Array.isArray(r)?r[1]:void 0}getStyleNames(t=!1){return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([r])=>r)}clear(){this._styles={}}_getStylesEntries(){const t=[],r=Object.keys(this._styles);for(const s of r)t.push(...this._styleProcessor.getReducedForm(s,this._styles));return t}_cleanEmptyObjectsOnPath(t){const r=t.split(".");if(!(r.length>1))return;const s=r.splice(0,r.length-1).join("."),c=Zm(this._styles,s);c&&!Array.from(Object.keys(c)).length&&this.remove(s)}}class l8{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,r,s){if(Ke(r))Zk(s,Qk(t),r);else if(this._normalizers.has(t)){const c=this._normalizers.get(t),{path:h,value:f}=c(r);Zk(s,h,f)}else Zk(s,t,r)}getNormalized(t,r){if(!t)return o2({},r);if(r[t]!==void 0)return r[t];if(this._extractors.has(t)){const s=this._extractors.get(t);if(typeof s=="string")return Zm(r,s);const c=s(t,r);if(c)return c}return Zm(r,Qk(t))}getReducedForm(t,r){const s=this.getNormalized(t,r);return s===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(s):[[t,s]]}getStyleNames(t){const r=Array.from(this._consumables.keys()).filter(c=>{const h=this.getNormalized(c,t);return h&&typeof h=="object"?Object.keys(h).length:h}),s=new Set([...r,...Object.keys(t)]);return Array.from(s.values())}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,r){this._normalizers.set(t,r)}setExtractor(t,r){this._extractors.set(t,r)}setReducer(t,r){this._reducers.set(t,r)}setStyleRelation(t,r){this._mapStyleNames(t,r);for(const s of r)this._mapStyleNames(s,[t])}_mapStyleNames(t,r){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...r)}}function Qk(l){return l.replace("-",".")}function Zk(l,t,r){let s=r;Ke(r)&&(s=o2({},Zm(l,t),r)),s8(l,t,s)}class Nr extends Ic{constructor(t,r,s,c){if(super(t),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=r,this._attrs=function(h){const f=kt(h);for(const[g,b]of f)b===null?f.delete(g):typeof b!="string"&&f.set(g,String(b));return f}(s),this._children=[],c&&this._insertChild(0,c),this._classes=new Set,this._attrs.has("class")){const h=this._attrs.get("class");s2(this._classes,h),this._attrs.delete("class")}this._styles=new a8(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if(t=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(t=="style"){const r=this._styles.toString();return r==""?void 0:r}return this._attrs.get(t)}hasAttribute(t){return t=="class"?this._classes.size>0:t=="style"?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Nr))return!1;if(this===t)return!0;if(this.name!=t.name||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[r,s]of this._attrs)if(!t._attrs.has(r)||t._attrs.get(r)!==s)return!1;for(const r of this._classes)if(!t._classes.has(r))return!1;for(const r of this._styles.getStyleNames())if(!t._styles.has(r)||t._styles.getAsString(r)!==this._styles.getAsString(r))return!1;return!0}hasClass(...t){for(const r of t)if(!this._classes.has(r))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t){return this._styles.getStyleNames(t)}hasStyle(...t){for(const r of t)if(!this._styles.has(r))return!1;return!0}findAncestor(...t){const r=new Do(...t);let s=this.parent;for(;s&&!s.is("documentFragment");){if(r.match(s))return s;s=s.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),r=this._styles.toString(),s=Array.from(this._attrs).map(c=>`${c[0]}="${c[1]}"`).sort().join(" ");return this.name+(t==""?"":` class="${t}"`)+(r?` style="${r}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const r=[];if(t)for(const c of this.getChildren())r.push(c._clone(t));const s=new this.constructor(this.document,this.name,this._attrs,r);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,r){this._fireChange("children",this);let s=0;const c=function(h,f){return typeof f=="string"?[new gn(h,f)]:(it(f)||(f=[f]),Array.from(f).map(g=>typeof g=="string"?new gn(h,g):g instanceof as?new gn(h,g.data):g))}(this.document,r);for(const h of c)h.parent!==null&&h._remove(),h.parent=this,h.document=this.document,this._children.splice(t,0,h),t++,s++;return s}_removeChildren(t,r=1){this._fireChange("children",this);for(let s=t;s<t+r;s++)this._children[s].parent=null;return this._children.splice(t,r)}_setAttribute(t,r){const s=String(r);this._fireChange("attributes",this),t=="class"?s2(this._classes,s):t=="style"?this._styles.setTo(s):this._attrs.set(t,s)}_removeAttribute(t){return this._fireChange("attributes",this),t=="class"?this._classes.size>0&&(this._classes.clear(),!0):t=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const r of X(t))this._classes.add(r)}_removeClass(t){this._fireChange("attributes",this);for(const r of X(t))this._classes.delete(r)}_setStyle(t,r){this._fireChange("attributes",this),typeof t!="string"?this._styles.set(t):this._styles.set(t,r)}_removeStyle(t){this._fireChange("attributes",this);for(const r of X(t))this._styles.remove(r)}_setCustomProperty(t,r){this._customProperties.set(t,r)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function s2(l,t){const r=t.split(/\s+/);l.clear(),r.forEach(s=>l.add(s))}Nr.prototype.is=function(l,t){return t?t===this.name&&(l==="element"||l==="view:element"):l==="element"||l==="view:element"||l==="node"||l==="view:node"};class xf extends Nr{constructor(t,r,s,c){super(t,r,s,c),this.getFillerOffset=a2}}function a2(){const l=[...this.getChildren()],t=l[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const r of l)if(!r.is("uiElement"))return null;return this.childCount}xf.prototype.is=function(l,t){return t?t===this.name&&(l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Xm extends xe(xf){constructor(t,r,s,c){super(t,r,s,c),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",h=>h&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}Xm.prototype.is=function(l,t){return t?t===this.name&&(l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};const l2=Symbol("rootName");class c2 extends Xm{constructor(t,r){super(t,r),this.rootName="main"}get rootName(){return this.getCustomProperty(l2)}set rootName(t){this._setCustomProperty(l2,t)}set _name(t){this.name=t}}c2.prototype.is=function(l,t){return t?t===this.name&&(l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Pc{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new F("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new F("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=tt._createAt(t.startPosition):this._position=tt._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let r,s;do s=this.position,r=this.next();while(!r.done&&t(r.value));r.done||(this._position=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const r=this.position,s=t.parent;if(s.parent===null&&t.offset===s.childCount)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let c;if(s instanceof gn){if(t.isAtEnd)return this._position=tt._createAfter(s),this._next();c=s.data[t.offset]}else c=s.getChild(t.offset);if(c instanceof Nr){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t=new tt(c,0);return this._position=t,this._formatReturnValue("elementStart",c,r,t,1)}if(c instanceof gn){if(this.singleCharacters)return t=new tt(c,0),this._position=t,this._next();let h,f=c.data.length;return c==this._boundaryEndParent?(f=this.boundaries.end.offset,h=new as(c,0,f),t=tt._createAfter(h)):(h=new as(c,0,c.data.length),t.offset++),this._position=t,this._formatReturnValue("text",h,r,t,f)}if(typeof c=="string"){let h;this.singleCharacters?h=1:h=(s===this._boundaryEndParent?this.boundaries.end.offset:s.data.length)-t.offset;const f=new as(s,t.offset,h);return t.offset+=h,this._position=t,this._formatReturnValue("text",f,r,t,h)}return t=tt._createAfter(s),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",s,r,t)}_previous(){let t=this.position.clone();const r=this.position,s=t.parent;if(s.parent===null&&t.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let c;if(s instanceof gn){if(t.isAtStart)return this._position=tt._createBefore(s),this._previous();c=s.data[t.offset-1]}else c=s.getChild(t.offset-1);if(c instanceof Nr)return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",c,r,t,1)):(t=new tt(c,c.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",c,r,t));if(c instanceof gn){if(this.singleCharacters)return t=new tt(c,c.data.length),this._position=t,this._previous();let h,f=c.data.length;if(c==this._boundaryStartParent){const g=this.boundaries.start.offset;h=new as(c,g,c.data.length-g),f=h.data.length,t=tt._createBefore(h)}else h=new as(c,0,c.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",h,r,t,f)}if(typeof c=="string"){let h;if(this.singleCharacters)h=1;else{const g=s===this._boundaryStartParent?this.boundaries.start.offset:0;h=t.offset-g}t.offset-=h;const f=new as(s,t.offset,h);return this._position=t,this._formatReturnValue("text",f,r,t,h)}return t=tt._createBefore(s),this._position=t,this._formatReturnValue("elementStart",s,r,t,1)}_formatReturnValue(t,r,s,c,h){return r instanceof as&&(r.offsetInText+r.data.length==r.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?s=tt._createAfter(r.textNode):(c=tt._createAfter(r.textNode),this._position=c)),r.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?s=tt._createBefore(r.textNode):(c=tt._createBefore(r.textNode),this._position=c))),{done:!1,value:{type:t,item:r,previousPosition:s,nextPosition:c,length:h}}}}class tt extends Dc{constructor(t,r){super(),this.parent=t,this.offset=r}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof Xm);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const r=tt._createAt(this),s=r.offset+t;return r.offset=s<0?0:s,r}getLastMatchingPosition(t,r={}){r.startPosition=this;const s=new Pc(r);return s.skip(t),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const r=this.getAncestors(),s=t.getAncestors();let c=0;for(;r[c]==s[c]&&r[c];)c++;return c===0?null:r[c-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return this.compareWith(t)=="before"}isAfter(t){return this.compareWith(t)=="after"}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const r=this.parent.is("node")?this.parent.getPath():[],s=t.parent.is("node")?t.parent.getPath():[];r.push(this.offset),s.push(t.offset);const c=Ge(r,s);switch(c){case"prefix":return"before";case"extension":return"after";default:return r[c]<s[c]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new Pc(t)}clone(){return new tt(this.parent,this.offset)}static _createAt(t,r){if(t instanceof tt)return new this(t.parent,t.offset);{const s=t;if(r=="end")r=s.is("$text")?s.data.length:s.childCount;else{if(r=="before")return this._createBefore(s);if(r=="after")return this._createAfter(s);if(r!==0&&!r)throw new F("view-createpositionat-offset-required",s)}return new tt(s,r)}}static _createAfter(t){if(t.is("$textProxy"))return new tt(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new F("view-position-after-root",t,{root:t});return new tt(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new tt(t.textNode,t.offsetInText);if(!t.parent)throw new F("view-position-before-root",t,{root:t});return new tt(t.parent,t.index)}}tt.prototype.is=function(l){return l==="position"||l==="view:position"};class xt extends Dc{constructor(t,r=null){super(),this.start=t.clone(),this.end=r?r.clone():t.clone()}*[Symbol.iterator](){yield*new Pc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Jm,{direction:"backward"}),r=this.end.getLastMatchingPosition(Jm);return t.parent.is("$text")&&t.isAtStart&&(t=tt._createBefore(t.parent)),r.parent.is("$text")&&r.isAtEnd&&(r=tt._createAfter(r.parent)),new xt(t,r)}getTrimmed(){let t=this.start.getLastMatchingPosition(Jm);if(t.isAfter(this.end)||t.isEqual(this.end))return new xt(t,t);let r=this.end.getLastMatchingPosition(Jm,{direction:"backward"});const s=t.nodeAfter,c=r.nodeBefore;return s&&s.is("$text")&&(t=new tt(s,0)),c&&c.is("$text")&&(r=new tt(c,c.data.length)),new xt(t,r)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,r=!1){t.isCollapsed&&(r=!1);const s=this.containsPosition(t.start)||r&&this.start.isEqual(t.start),c=this.containsPosition(t.end)||r&&this.end.isEqual(t.end);return s&&c}getDifference(t){const r=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&r.push(new xt(this.start,t.start)),this.containsPosition(t.end)&&r.push(new xt(t.end,this.end))):r.push(this.clone()),r}getIntersection(t){if(this.isIntersecting(t)){let r=this.start,s=this.end;return this.containsPosition(t.start)&&(r=t.start),this.containsPosition(t.end)&&(s=t.end),new xt(r,s)}return null}getWalker(t={}){return t.boundaries=this,new Pc(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),t&&t.is("element")&&t===r?t:null}clone(){return new xt(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const r=new Pc(t);for(const s of r)yield s.item}*getPositions(t={}){t.boundaries=this;const r=new Pc(t);yield r.position;for(const s of r)yield s.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,r,s,c){return new this(new tt(t,r),new tt(s,c))}static _createFromPositionAndShift(t,r){const s=t,c=t.getShiftedBy(r);return r>0?new this(s,c):new this(c,s)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const r=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(tt._createBefore(t),r)}}function Jm(l){return!(!l.item.is("attributeElement")&&!l.item.is("uiElement"))}xt.prototype.is=function(l){return l==="range"||l==="view:range"};class ls extends re(Dc){constructor(...t){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const r of this._ranges)t&&!r.start.isBefore(t.start)||(t=r);return t?t.clone():null}getLastRange(){let t=null;for(const r of this._ranges)t&&!r.end.isAfter(t.end)||(t=r);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake||this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel||this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const r of this._ranges){let s=!1;for(const c of t._ranges)if(r.isEqual(c)){s=!0;break}if(!s)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const r=Qe(this.getRanges());if(r!=Qe(t.getRanges()))return!1;if(r==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let c=!1;for(let h of t.getRanges())if(h=h.getTrimmed(),s.start.isEqual(h.start)&&s.end.isEqual(h.end)){c=!0;break}if(!c)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...t){let[r,s,c]=t;if(typeof s=="object"&&(c=s,s=void 0),r===null)this._setRanges([]),this._setFakeOptions(c);else if(r instanceof ls||r instanceof Xk)this._setRanges(r.getRanges(),r.isBackward),this._setFakeOptions({fake:r.isFake,label:r.fakeSelectionLabel});else if(r instanceof xt)this._setRanges([r],c&&c.backward),this._setFakeOptions(c);else if(r instanceof tt)this._setRanges([new xt(r)]),this._setFakeOptions(c);else if(r instanceof Ic){const h=!!c&&!!c.backward;let f;if(s===void 0)throw new F("view-selection-setto-required-second-parameter",this);f=s=="in"?xt._createIn(r):s=="on"?xt._createOn(r):new xt(tt._createAt(r,s)),this._setRanges([f],h),this._setFakeOptions(c)}else{if(!it(r))throw new F("view-selection-setto-not-selectable",this);this._setRanges(r,c&&c.backward),this._setFakeOptions(c)}this.fire("change")}setFocus(t,r){if(this.anchor===null)throw new F("view-selection-setfocus-no-ranges",this);const s=tt._createAt(t,r);if(s.compareWith(this.focus)=="same")return;const c=this.anchor;this._ranges.pop(),s.compareWith(c)=="before"?this._addRange(new xt(s,c),!0):this._addRange(new xt(c,s)),this.fire("change")}_setRanges(t,r=!1){t=Array.from(t),this._ranges=[];for(const s of t)this._addRange(s);this._lastRangeBackward=!!r}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,r=!1){if(!(t instanceof xt))throw new F("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!r}_pushRange(t){for(const r of this._ranges)if(t.isIntersecting(r))throw new F("view-selection-range-intersects",this,{addedRange:t,intersectingRange:r});this._ranges.push(new xt(t.start,t.end))}}ls.prototype.is=function(l){return l==="selection"||l==="view:selection"};class Xk extends re(Dc){constructor(...t){super(),this._selection=new ls,this._selection.delegate("change").to(this),t.length&&this._selection.setTo(...t)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(...t){this._selection.setTo(...t)}_setFocus(t,r){this._selection.setFocus(t,r)}}Xk.prototype.is=function(l){return l==="selection"||l=="documentSelection"||l=="view:selection"||l=="view:documentSelection"};class pd extends j{constructor(t,r,s){super(t,r),this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Jk=Symbol("bubbling contexts");function ev(l){return class extends l{fire(t,...r){try{const s=t instanceof j?t:new j(this,t),c=tv(this);if(!c.size)return;if(Ef(s,"capturing",this),md(c,"$capture",s,...r))return s.return;const h=s.startRange||this.selection.getFirstRange(),f=h?h.getContainedElement():null,g=!!f&&!!u2(c,f);let b=f||function(_){if(!_)return null;const C=_.start.parent,x=_.end.parent,M=C.getPath(),z=x.getPath();return M.length>z.length?C:x}(h);if(Ef(s,"atTarget",b),!g){if(md(c,"$text",s,...r))return s.return;Ef(s,"bubbling",b)}for(;b;){if(b.is("rootElement")){if(md(c,"$root",s,...r))return s.return}else if(b.is("element")&&md(c,b.name,s,...r))return s.return;if(md(c,b,s,...r))return s.return;b=b.parent,Ef(s,"bubbling",b)}return Ef(s,"bubbling",this),md(c,"$document",s,...r),s.return}catch(s){F.rethrowUnexpectedError(s,this)}}_addEventListener(t,r,s){const c=X(s.context||"$document"),h=tv(this);for(const f of c){let g=h.get(f);g||(g=new(re()),h.set(f,g)),this.listenTo(g,t,r,s)}}_removeEventListener(t,r){const s=tv(this);for(const c of s.values())this.stopListening(c,t,r)}}}{const l=ev(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{ev[t]=l.prototype[t]})}function Ef(l,t,r){l instanceof pd&&(l._eventPhase=t,l._currentTarget=r)}function md(l,t,r,...s){const c=typeof t=="string"?l.get(t):u2(l,t);return!!c&&(c.fire(r,...s),r.stop.called)}function u2(l,t){for(const[r,s]of l)if(typeof r=="function"&&r(t))return s;return null}function tv(l){return l[Jk]||(l[Jk]=new Map),l[Jk]}class eg extends ev(xe()){constructor(t){super(),this._postFixers=new Set,this.selection=new Xk,this.roots=new Ee({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let r=!1;do for(const s of this._postFixers)if(r=s(t),r)break;while(r)}}class Nc extends Nr{constructor(t,r,s,c){super(t,r,s,c),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=c8}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new F("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return this.id!==null||t.id!==null?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const r=super._clone(t);return r._priority=this._priority,r._id=this._id,r}}function c8(){if(nv(this))return null;let l=this.parent;for(;l&&l.is("attributeElement");){if(nv(l)>1)return null;l=l.parent}return!l||nv(l)>1?null:this.childCount}function nv(l){return Array.from(l.getChildren()).filter(t=>!t.is("uiElement")).length}Nc.DEFAULT_PRIORITY=10,Nc.prototype.is=function(l,t){return t?t===this.name&&(l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"):l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class iv extends Nr{constructor(t,r,s,c){super(t,r,s,c),this.getFillerOffset=u8}_insertChild(t,r){if(r&&(r instanceof Ic||Array.from(r).length>0))throw new F("view-emptyelement-cannot-add",[this,r]);return 0}}function u8(){return null}iv.prototype.is=function(l,t){return t?t===this.name&&(l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"):l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class tg extends Nr{constructor(t,r,s,c){super(t,r,s,c),this.getFillerOffset=h8}_insertChild(t,r){if(r&&(r instanceof Ic||Array.from(r).length>0))throw new F("view-uielement-cannot-add",[this,r]);return 0}render(t,r){return this.toDomElement(t)}toDomElement(t){const r=t.createElement(this.name);for(const s of this.getAttributeKeys())r.setAttribute(s,this.getAttribute(s));return r}}function d8(l){l.document.on("arrowKey",(t,r)=>function(s,c,h){if(c.keyCode==A.arrowright){const f=c.domTarget.ownerDocument.defaultView.getSelection(),g=f.rangeCount==1&&f.getRangeAt(0).collapsed;if(g||c.shiftKey){const b=f.focusNode,_=f.focusOffset,C=h.domPositionToView(b,_);if(C===null)return;let x=!1;const M=C.getLastMatchingPosition(z=>(z.item.is("uiElement")&&(x=!0),!(!z.item.is("uiElement")&&!z.item.is("attributeElement"))));if(x){const z=h.viewPositionToDom(M);g?f.collapse(z.parent,z.offset):f.extend(z.parent,z.offset)}}}}(0,r,l.domConverter),{priority:"low"})}function h8(){return null}tg.prototype.is=function(l,t){return t?t===this.name&&(l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"):l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class rv extends Nr{constructor(t,r,s,c){super(t,r,s,c),this.getFillerOffset=f8}_insertChild(t,r){if(r&&(r instanceof Ic||Array.from(r).length>0))throw new F("view-rawelement-cannot-add",[this,r]);return 0}render(t,r){}}function f8(){return null}rv.prototype.is=function(l,t){return t?t===this.name&&(l==="rawElement"||l==="view:rawElement"||l==="element"||l==="view:element"):l==="rawElement"||l==="view:rawElement"||l===this.name||l==="view:"+this.name||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Bc extends re(Dc){constructor(t,r){super(),this._children=[],this._customProperties=new Map,this.document=t,r&&this._insertChild(0,r)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,r){this._fireChange("children",this);let s=0;const c=function(h,f){return typeof f=="string"?[new gn(h,f)]:(it(f)||(f=[f]),Array.from(f).map(g=>typeof g=="string"?new gn(h,g):g instanceof as?new gn(h,g.data):g))}(this.document,r);for(const h of c)h.parent!==null&&h._remove(),h.parent=this,this._children.splice(t,0,h),t++,s++;return s}_removeChildren(t,r=1){this._fireChange("children",this);for(let s=t;s<t+r;s++)this._children[s].parent=null;return this._children.splice(t,r)}_fireChange(t,r){this.fire("change:"+t,r)}_setCustomProperty(t,r){this._customProperties.set(t,r)}_removeCustomProperty(t){return this._customProperties.delete(t)}}Bc.prototype.is=function(l){return l==="documentFragment"||l==="view:documentFragment"};class d2{constructor(t){this._cloneGroups=new Map,this._slotFactory=null,this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,r){this.document.selection._setFocus(t,r)}createDocumentFragment(t){return new Bc(this.document,t)}createText(t){return new gn(this.document,t)}createAttributeElement(t,r,s={}){const c=new Nc(this.document,t,r);return typeof s.priority=="number"&&(c._priority=s.priority),s.id&&(c._id=s.id),s.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),c}createContainerElement(t,r,s={},c={}){let h=null;Ai(s)?c=s:h=s;const f=new xf(this.document,t,r,h);return c.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),f}createEditableElement(t,r,s={}){const c=new Xm(this.document,t,r);return s.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),c}createEmptyElement(t,r,s={}){const c=new iv(this.document,t,r);return s.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),c}createUIElement(t,r,s){const c=new tg(this.document,t,r);return s&&(c.render=s),c}createRawElement(t,r,s,c={}){const h=new rv(this.document,t,r);return s&&(h.render=s),c.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),h}setAttribute(t,r,s){s._setAttribute(t,r)}removeAttribute(t,r){r._removeAttribute(t)}addClass(t,r){r._addClass(t)}removeClass(t,r){r._removeClass(t)}setStyle(t,r,s){Ai(t)&&s===void 0?r._setStyle(t):s._setStyle(t,r)}removeStyle(t,r){r._removeStyle(t)}setCustomProperty(t,r,s){s._setCustomProperty(t,r)}removeCustomProperty(t,r){return r._removeCustomProperty(t)}breakAttributes(t){return t instanceof tt?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const r=t.parent;if(!r.is("containerElement"))throw new F("view-writer-break-non-container-element",this.document);if(!r.parent)throw new F("view-writer-break-root",this.document);if(t.isAtStart)return tt._createBefore(r);if(!t.isAtEnd){const s=r._clone(!1);this.insert(tt._createAfter(r),s);const c=new xt(t,tt._createAt(r,"end")),h=new tt(s,0);this.move(c,h)}return tt._createAfter(r)}mergeAttributes(t){const r=t.offset,s=t.parent;if(s.is("$text"))return t;if(s.is("attributeElement")&&s.childCount===0){const f=s.parent,g=s.index;return s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new tt(f,g))}const c=s.getChild(r-1),h=s.getChild(r);if(!c||!h)return t;if(c.is("$text")&&h.is("$text"))return f2(c,h);if(c.is("attributeElement")&&h.is("attributeElement")&&c.isSimilar(h)){const f=c.childCount;return c._appendChild(h.getChildren()),h._remove(),this._removeFromClonedElementsGroup(h),this.mergeAttributes(new tt(c,f))}return t}mergeContainers(t){const r=t.nodeBefore,s=t.nodeAfter;if(!(r&&s&&r.is("containerElement")&&s.is("containerElement")))throw new F("view-writer-merge-containers-invalid-position",this.document);const c=r.getChild(r.childCount-1),h=c instanceof gn?tt._createAt(c,"end"):tt._createAt(r,"end");return this.move(xt._createIn(s),tt._createAt(r,"end")),this.remove(xt._createOn(s)),h}insert(t,r){p2(r=it(r)?[...r]:[r],this.document);const s=r.reduce((f,g)=>{const b=f[f.length-1],_=!g.is("uiElement");return b&&b.breakAttributes==_?b.nodes.push(g):f.push({breakAttributes:_,nodes:[g]}),f},[]);let c=null,h=t;for(const{nodes:f,breakAttributes:g}of s){const b=this._insertNodes(h,f,g);c||(c=b.start),h=b.end}return c?new xt(c,h):new xt(t)}remove(t){const r=t instanceof xt?t:xt._createOn(t);if(Sf(r,this.document),r.isCollapsed)return new Bc(this.document);const{start:s,end:c}=this._breakAttributesRange(r,!0),h=s.parent,f=c.offset-s.offset,g=h._removeChildren(s.offset,f);for(const _ of g)this._removeFromClonedElementsGroup(_);const b=this.mergeAttributes(s);return r.start=b,r.end=b.clone(),new Bc(this.document,g)}clear(t,r){Sf(t,this.document);const s=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const c of s){const h=c.item;let f;if(h.is("element")&&r.isSimilar(h))f=xt._createOn(h);else if(!c.nextPosition.isAfter(t.start)&&h.is("$textProxy")){const g=h.getAncestors().find(b=>b.is("element")&&r.isSimilar(b));g&&(f=xt._createIn(g))}f&&(f.end.isAfter(t.end)&&(f.end=t.end),f.start.isBefore(t.start)&&(f.start=t.start),this.remove(f))}}move(t,r){let s;if(r.isAfter(t.end)){const c=(r=this._breakAttributes(r,!0)).parent,h=c.childCount;t=this._breakAttributesRange(t,!0),s=this.remove(t),r.offset+=c.childCount-h}else s=this.remove(t);return this.insert(r,s)}wrap(t,r){if(!(r instanceof Nc))throw new F("view-writer-wrap-invalid-attribute",this.document);if(Sf(t,this.document),t.isCollapsed){let c=t.start;c.parent.is("element")&&(s=c.parent,!Array.from(s.getChildren()).some(f=>!f.is("uiElement")))&&(c=c.getLastMatchingPosition(f=>f.item.is("uiElement"))),c=this._wrapPosition(c,r);const h=this.document.selection;return h.isCollapsed&&h.getFirstPosition().isEqual(t.start)&&this.setSelection(c),new xt(c)}return this._wrapRange(t,r);var s}unwrap(t,r){if(!(r instanceof Nc))throw new F("view-writer-unwrap-invalid-attribute",this.document);if(Sf(t,this.document),t.isCollapsed)return t;const{start:s,end:c}=this._breakAttributesRange(t,!0),h=s.parent,f=this._unwrapChildren(h,s.offset,c.offset,r),g=this.mergeAttributes(f.start);g.isEqual(f.start)||f.end.offset--;const b=this.mergeAttributes(f.end);return new xt(g,b)}rename(t,r){const s=new xf(this.document,t,r.getAttributes());return this.insert(tt._createAfter(r),s),this.move(xt._createIn(r),tt._createAt(s,0)),this.remove(xt._createOn(r)),s}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,r){return tt._createAt(t,r)}createPositionAfter(t){return tt._createAfter(t)}createPositionBefore(t){return tt._createBefore(t)}createRange(t,r){return new xt(t,r)}createRangeOn(t){return xt._createOn(t)}createRangeIn(t){return xt._createIn(t)}createSelection(...t){return new ls(...t)}createSlot(t="children"){if(!this._slotFactory)throw new F("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,r,s){let c,h;if(c=s?ov(t):t.parent.is("$text")?t.parent.parent:t.parent,!c)throw new F("view-writer-invalid-position-container",this.document);h=s?this._breakAttributes(t,!0):t.parent.is("$text")?sv(t):t;const f=c._insertChild(h.offset,r);for(const C of r)this._addToClonedElementsGroup(C);const g=h.getShiftedBy(f),b=this.mergeAttributes(h);b.isEqual(h)||g.offset--;const _=this.mergeAttributes(g);return new xt(b,_)}_wrapChildren(t,r,s,c){let h=r;const f=[];for(;h<s;){const b=t.getChild(h),_=b.is("$text"),C=b.is("attributeElement");if(C&&this._wrapAttributeElement(c,b))f.push(new tt(t,h));else if(_||!C||p8(c,b)){const x=c._clone();b._remove(),x._appendChild(b),t._insertChild(h,x),this._addToClonedElementsGroup(x),f.push(new tt(t,h))}else this._wrapChildren(b,0,b.childCount,c);h++}let g=0;for(const b of f)b.offset-=g,b.offset!=r&&(this.mergeAttributes(b).isEqual(b)||(g++,s--));return xt._createFromParentsAndOffsets(t,r,t,s)}_unwrapChildren(t,r,s,c){let h=r;const f=[];for(;h<s;){const b=t.getChild(h);if(b.is("attributeElement"))if(b.isSimilar(c)){const _=b.getChildren(),C=b.childCount;b._remove(),t._insertChild(h,_),this._removeFromClonedElementsGroup(b),f.push(new tt(t,h),new tt(t,h+C)),h+=C,s+=C-1}else this._unwrapAttributeElement(c,b)?(f.push(new tt(t,h),new tt(t,h+1)),h++):(this._unwrapChildren(b,0,b.childCount,c),h++);else h++}let g=0;for(const b of f)b.offset-=g,!(b.offset==r||b.offset==s)&&(this.mergeAttributes(b).isEqual(b)||(g++,s--));return xt._createFromParentsAndOffsets(t,r,t,s)}_wrapRange(t,r){const{start:s,end:c}=this._breakAttributesRange(t,!0),h=s.parent,f=this._wrapChildren(h,s.offset,c.offset,r),g=this.mergeAttributes(f.start);g.isEqual(f.start)||f.end.offset--;const b=this.mergeAttributes(f.end);return new xt(g,b)}_wrapPosition(t,r){if(r.isSimilar(t.parent))return h2(t.clone());t.parent.is("$text")&&(t=sv(t));const s=this.createAttributeElement("_wrapPosition-fake-element");s._priority=Number.POSITIVE_INFINITY,s.isSimilar=()=>!1,t.parent._insertChild(t.offset,s);const c=new xt(t,t.getShiftedBy(1));this.wrap(c,r);const h=new tt(s.parent,s.index);s._remove();const f=h.nodeBefore,g=h.nodeAfter;return f instanceof gn&&g instanceof gn?f2(f,g):h2(h)}_wrapAttributeElement(t,r){if(!m2(t,r)||t.name!==r.name||t.priority!==r.priority)return!1;for(const s of t.getAttributeKeys())if(s!=="class"&&s!=="style"&&r.hasAttribute(s)&&r.getAttribute(s)!==t.getAttribute(s))return!1;for(const s of t.getStyleNames())if(r.hasStyle(s)&&r.getStyle(s)!==t.getStyle(s))return!1;for(const s of t.getAttributeKeys())s!=="class"&&s!=="style"&&(r.hasAttribute(s)||this.setAttribute(s,t.getAttribute(s),r));for(const s of t.getStyleNames())r.hasStyle(s)||this.setStyle(s,t.getStyle(s),r);for(const s of t.getClassNames())r.hasClass(s)||this.addClass(s,r);return!0}_unwrapAttributeElement(t,r){if(!m2(t,r)||t.name!==r.name||t.priority!==r.priority)return!1;for(const s of t.getAttributeKeys())if(s!=="class"&&s!=="style"&&(!r.hasAttribute(s)||r.getAttribute(s)!==t.getAttribute(s)))return!1;if(!r.hasClass(...t.getClassNames()))return!1;for(const s of t.getStyleNames())if(!r.hasStyle(s)||r.getStyle(s)!==t.getStyle(s))return!1;for(const s of t.getAttributeKeys())s!=="class"&&s!=="style"&&this.removeAttribute(s,r);return this.removeClass(Array.from(t.getClassNames()),r),this.removeStyle(Array.from(t.getStyleNames()),r),!0}_breakAttributesRange(t,r=!1){const s=t.start,c=t.end;if(Sf(t,this.document),t.isCollapsed){const b=this._breakAttributes(t.start,r);return new xt(b,b)}const h=this._breakAttributes(c,r),f=h.parent.childCount,g=this._breakAttributes(s,r);return h.offset+=h.parent.childCount-f,new xt(g,h)}_breakAttributes(t,r=!1){const s=t.offset,c=t.parent;if(t.parent.is("emptyElement"))throw new F("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new F("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new F("view-writer-cannot-break-raw-element",this.document);if(!r&&c.is("$text")&&av(c.parent)||av(c))return t.clone();if(c.is("$text"))return this._breakAttributes(sv(t),r);if(s==c.childCount){const h=new tt(c.parent,c.index+1);return this._breakAttributes(h,r)}if(s===0){const h=new tt(c.parent,c.index);return this._breakAttributes(h,r)}{const h=c.index+1,f=c._clone();c.parent._insertChild(h,f),this._addToClonedElementsGroup(f);const g=c.childCount-s,b=c._removeChildren(s,g);f._appendChild(b);const _=new tt(c.parent,h);return this._breakAttributes(_,r)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const c of t.getChildren())this._addToClonedElementsGroup(c);const r=t.id;if(!r)return;let s=this._cloneGroups.get(r);s||(s=new Set,this._cloneGroups.set(r,s)),s.add(t),t._clonesGroup=s}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const c of t.getChildren())this._removeFromClonedElementsGroup(c);const r=t.id;if(!r)return;const s=this._cloneGroups.get(r);s&&s.delete(t)}}function ov(l){let t=l.parent;for(;!av(t);){if(!t)return;t=t.parent}return t}function p8(l,t){return l.priority<t.priority||!(l.priority>t.priority)&&l.getIdentity()<t.getIdentity()}function h2(l){const t=l.nodeBefore;if(t&&t.is("$text"))return new tt(t,t.data.length);const r=l.nodeAfter;return r&&r.is("$text")?new tt(r,0):l}function sv(l){if(l.offset==l.parent.data.length)return new tt(l.parent.parent,l.parent.index+1);if(l.offset===0)return new tt(l.parent.parent,l.parent.index);const t=l.parent.data.slice(l.offset);return l.parent._data=l.parent.data.slice(0,l.offset),l.parent.parent._insertChild(l.parent.index+1,new gn(l.root.document,t)),new tt(l.parent.parent,l.parent.index+1)}function f2(l,t){const r=l.data.length;return l._data+=t.data,t._remove(),new tt(l,r)}const m8=[gn,Nc,xf,iv,rv,tg];function p2(l,t){for(const r of l){if(!m8.some(s=>r instanceof s))throw new F("view-writer-insert-invalid-node-type",t);r.is("$text")||p2(r.getChildren(),t)}}function av(l){return l&&(l.is("containerElement")||l.is("documentFragment"))}function Sf(l,t){const r=ov(l.start),s=ov(l.end);if(!r||!s||r!==s)throw new F("view-writer-invalid-range-container",t)}function m2(l,t){return l.id===null&&t.id===null}const g2=l=>l.createTextNode(" "),b2=l=>{const t=l.createElement("span");return t.dataset.ckeFiller="true",t.innerText=" ",t},k2=l=>{const t=l.createElement("br");return t.dataset.ckeFiller="true",t},Io=7,Df="⁠".repeat(Io);function Br(l){return typeof l=="string"?l.substr(0,Io)===Df:yn(l)&&l.data.substr(0,Io)===Df}function If(l){return l.data.length==Io&&Br(l)}function v2(l){const t=typeof l=="string"?l:l.data;return Br(l)?t.slice(Io):t}function g8(l,t){if(t.keyCode==A.arrowleft){const r=t.domTarget.ownerDocument.defaultView.getSelection();if(r.rangeCount==1&&r.getRangeAt(0).collapsed){const s=r.getRangeAt(0).startContainer,c=r.getRangeAt(0).startOffset;Br(s)&&c<=Io&&r.collapse(s,0)}}}var _2=a(9315),b8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(_2.Z,b8),_2.Z.locals;class k8 extends xe(){constructor(t,r){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=t,this.selection=r,this.set("isFocused",!1),this.set("isSelecting",!1),y.isBlink&&!y.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(t,r){if(t==="text")this.domConverter.mapViewToDom(r.parent)&&this.markedTexts.add(r);else{if(!this.domConverter.mapViewToDom(r))return;if(t==="attributes")this.markedAttributes.add(r);else{if(t!=="children")throw new F("view-renderer-unknown-type",this);this.markedChildren.add(r)}}}render(){if(this.isComposing&&!y.isAndroid)return;let t=null;const r=!(y.isBlink&&!y.isAndroid)||!this.isSelecting;for(const s of this.markedChildren)this._updateChildrenMappings(s);r?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller),t&&t.parent.is("$text")&&(t=tt._createBefore(t.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:t});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:t});if(r)if(t){const s=this.domConverter.viewPositionToDom(t),c=s.parent.ownerDocument;Br(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=y2(c,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){if(!this.domConverter.mapViewToDom(t))return;const r=Array.from(this.domConverter.mapViewToDom(t).childNodes),s=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren:!1})),c=this._diffNodeLists(r,s),h=this._findUpdateActions(c,r,s,v8);if(h.indexOf("update")!==-1){const f={equal:0,insert:0,delete:0};for(const g of h)if(g==="update"){const b=f.equal+f.insert,_=f.equal+f.delete,C=t.getChild(b);!C||C.is("uiElement")||C.is("rawElement")||this._updateElementMappings(C,r[_]),gi(s[b]),f.equal++}else f[g]++}}_updateElementMappings(t,r){this.domConverter.unbindDomElement(r),this.domConverter.bindElements(r,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?tt._createBefore(t.parent):t}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),r=this.domConverter.viewPositionToDom(t);return!!(r&&yn(r.parent)&&Br(r.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Br(t))throw new F("view-renderer-filler-was-lost",this);If(t)?t.remove():t.data=t.data.substr(Io),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),r=t.parent,s=t.offset;if(!this.domConverter.mapViewToDom(r.root)||!r.is("element")||!function(f){if(f.getAttribute("contenteditable")=="false")return!1;const g=f.findAncestor(b=>b.hasAttribute("contenteditable"));return!g||g.getAttribute("contenteditable")=="true"}(r)||s===r.getFillerOffset())return!1;const c=t.nodeBefore,h=t.nodeAfter;return!(c instanceof gn||h instanceof gn)&&(!y.isAndroid||!c&&!h)}_updateText(t,r){const s=this.domConverter.findCorrespondingDomText(t);let c=this.domConverter.viewToDom(t).data;const h=r.inlineFillerPosition;h&&h.parent==t.parent&&h.offset==t.index&&(c=Df+c),w2(s,c)}_updateAttrs(t){const r=this.domConverter.mapViewToDom(t);if(!r)return;const s=Array.from(r.attributes).map(h=>h.name),c=t.getAttributeKeys();for(const h of c)this.domConverter.setDomElementAttribute(r,h,t.getAttribute(h),t);for(const h of s)t.hasAttribute(h)||this.domConverter.removeDomElementAttribute(r,h)}_updateChildren(t,r){const s=this.domConverter.mapViewToDom(t);if(!s)return;if(y.isAndroid){let x=null;for(const M of Array.from(s.childNodes)){if(x&&yn(x)&&yn(M)){s.normalize();break}x=M}}const c=r.inlineFillerPosition,h=s.childNodes,f=Array.from(this.domConverter.viewChildrenToDom(t,{bind:!0}));c&&c.parent===t&&y2(s.ownerDocument,f,c.offset);const g=this._diffNodeLists(h,f),b=this._findUpdateActions(g,h,f,_8);let _=0;const C=new Set;for(const x of b)x==="delete"?(C.add(h[_]),gi(h[_])):x!=="equal"&&x!=="update"||_++;_=0;for(const x of b)x==="insert"?(ni(s,_,f[_]),_++):x==="update"?(w2(h[_],f[_].data),_++):x==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(f[_])),_++);for(const x of C)x.parentNode||this.domConverter.unbindDomElement(x)}_diffNodeLists(t,r){return t=function(s,c){const h=Array.from(s);return h.length==0||!c||h[h.length-1]==c&&h.pop(),h}(t,this._fakeSelectionContainer),V(t,r,y8.bind(null,this.domConverter))}_findUpdateActions(t,r,s,c){if(t.indexOf("insert")===-1||t.indexOf("delete")===-1)return t;let h=[],f=[],g=[];const b={equal:0,insert:0,delete:0};for(const _ of t)_==="insert"?g.push(s[b.equal+b.insert]):_==="delete"?f.push(r[b.equal+b.delete]):(h=h.concat(V(f,g,c).map(C=>C==="equal"?"update":C)),h.push("equal"),f=[],g=[]),b[_]++;return h.concat(V(f,g,c).map(_=>_==="equal"?"update":_))}_markDescendantTextToSync(t){if(t){if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const r of t.getChildren())this._markDescendantTextToSync(r)}}_updateSelection(){if(y.isBlink&&!y.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(t)):this.isComposing&&y.isAndroid||this._updateDomSelection(t))}_updateFakeSelection(t){const r=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(f){const g=f.createElement("div");return g.className="ck-fake-selection-container",Object.assign(g.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),g.textContent=" ",g}(r));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(t))return;s.parentElement&&s.parentElement==t||t.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||" ";const c=r.getSelection(),h=r.createRange();c.removeAllRanges(),h.selectNodeContents(s),c.addRange(h)}_updateDomSelection(t){const r=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(r))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),c=this.domConverter.viewPositionToDom(this.selection.focus);r.setBaseAndExtent(s.parent,s.offset,c.parent,c.offset),y.isGecko&&function(h,f){const g=h.parent;if(g.nodeType!=Node.ELEMENT_NODE||h.offset!=g.childNodes.length-1)return;const b=g.childNodes[h.offset];b&&b.tagName=="BR"&&f.addRange(f.getRangeAt(0))}(c,r)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const r=t&&this.domConverter.domSelectionToView(t);return(!r||!this.selection.isEqual(r))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(r))}_fakeSelectionNeedsUpdate(t){const r=this._fakeSelectionContainer,s=t.ownerDocument.getSelection();return!r||r.parentElement!==t||s.anchorNode!==r&&!r.contains(s.anchorNode)||r.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments){const r=t.getSelection();if(r.rangeCount){const s=t.activeElement,c=this.domConverter.mapDomToView(s);s&&c&&r.removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function y2(l,t,r){const s=t instanceof Array?t:t.childNodes,c=s[r];if(yn(c))return c.data=Df+c.data,c;{const h=l.createTextNode(Df);return Array.isArray(t)?s.splice(r,0,h):ni(t,r,h),h}}function v8(l,t){return eo(l)&&eo(t)&&!yn(l)&&!yn(t)&&!Fn(l)&&!Fn(t)&&l.tagName.toLowerCase()===t.tagName.toLowerCase()}function _8(l,t){return eo(l)&&eo(t)&&yn(l)&&yn(t)}function y8(l,t,r){return t===r||(yn(t)&&yn(r)?t.data===r.data:!(!l.isBlockFiller(t)||!l.isBlockFiller(r)))}function w2(l,t){const r=l.data;if(r==t)return;const s=E(r,t);for(const c of s)c.type==="insert"?l.insertData(c.index,c.values.join("")):l.deleteData(c.index,c.howMany)}const w8=k2(_t.document),C8=g2(_t.document),A8=b2(_t.document),ng="data-ck-unsafe-attribute-",C2="data-ck-unsafe-element";class ig{constructor(t,{blockFillerMode:r,renderingMode:s="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Do,this._inlineObjectElementMatcher=new Do,this.document=t,this.renderingMode=s,this.blockFillerMode=r||(s==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?_t.document:_t.document.implementation.createHTMLDocument("")}bindFakeSelection(t,r){this._fakeSelectionMapping.set(t,new ls(r))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,r){this._domToViewMapping.set(t,r),this._viewToDomMapping.set(r,t)}unbindDomElement(t){const r=this._domToViewMapping.get(t);if(r){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(r);for(const s of Array.from(t.children))this.unbindDomElement(s)}}bindDocumentFragments(t,r){this._domToViewMapping.set(t,r),this._viewToDomMapping.set(r,t)}shouldRenderAttribute(t,r,s){return this.renderingMode==="data"||!(t=t.toLowerCase()).startsWith("on")&&(t!=="srcdoc"||!r.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(s==="img"&&(t==="src"||t==="srcset")||s==="source"&&t==="srcset"||!r.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,r){if(this.renderingMode==="data")return void(t.innerHTML=r);const s=new DOMParser().parseFromString(r,"text/html"),c=s.createDocumentFragment(),h=s.body.childNodes;for(;h.length>0;)c.appendChild(h[0]);const f=s.createTreeWalker(c,NodeFilter.SHOW_ELEMENT),g=[];let b;for(;b=f.nextNode();)g.push(b);for(const _ of g){for(const x of _.getAttributeNames())this.setDomElementAttribute(_,x,_.getAttribute(x));const C=_.tagName.toLowerCase();this._shouldRenameElement(C)&&(x2(C),_.replaceWith(this._createReplacementDomElement(C,_)))}for(;t.firstChild;)t.firstChild.remove();t.append(c)}viewToDom(t,r={}){if(t.is("$text")){const s=this._processDataFromViewText(t);return this._domDocument.createTextNode(s)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let s;if(t.is("documentFragment"))s=this._domDocument.createDocumentFragment(),r.bind&&this.bindDocumentFragments(s,t);else{if(t.is("uiElement"))return s=t.name==="$comment"?this._domDocument.createComment(t.getCustomProperty("$rawContent")):t.render(this._domDocument,this),r.bind&&this.bindElements(s,t),s;this._shouldRenameElement(t.name)?(x2(t.name),s=this._createReplacementDomElement(t.name)):s=t.hasAttribute("xmlns")?this._domDocument.createElementNS(t.getAttribute("xmlns"),t.name):this._domDocument.createElement(t.name),t.is("rawElement")&&t.render(s,this),r.bind&&this.bindElements(s,t);for(const c of t.getAttributeKeys())this.setDomElementAttribute(s,c,t.getAttribute(c),t)}if(r.withChildren!==!1)for(const c of this.viewChildrenToDom(t,r))s.appendChild(c);return s}}setDomElementAttribute(t,r,s,c){const h=this.shouldRenderAttribute(r,s,t.tagName.toLowerCase())||c&&c.shouldRenderUnsafeAttribute(r);h||Q("domconverter-unsafe-attribute-detected",{domElement:t,key:r,value:s}),function(f){try{_t.document.createAttribute(f)}catch{return!1}return!0}(r)?(t.hasAttribute(r)&&!h?t.removeAttribute(r):t.hasAttribute(ng+r)&&h&&t.removeAttribute(ng+r),t.setAttribute(h?r:ng+r,s)):Q("domconverter-invalid-attribute-detected",{domElement:t,key:r,value:s})}removeDomElementAttribute(t,r){r!=C2&&(t.removeAttribute(r),t.removeAttribute(ng+r))}*viewChildrenToDom(t,r={}){const s=t.getFillerOffset&&t.getFillerOffset();let c=0;for(const h of t.getChildren()){s===c&&(yield this._getBlockFiller());const f=h.is("element")&&!!h.getCustomProperty("dataPipeline:transparentRendering")&&!Je(h.getAttributes());f&&this.renderingMode=="data"?yield*this.viewChildrenToDom(h,r):(f&&Q("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:h}),yield this.viewToDom(h,r)),c++}s===c&&(yield this._getBlockFiller())}viewRangeToDom(t){const r=this.viewPositionToDom(t.start),s=this.viewPositionToDom(t.end),c=this._domDocument.createRange();return c.setStart(r.parent,r.offset),c.setEnd(s.parent,s.offset),c}viewPositionToDom(t){const r=t.parent;if(r.is("$text")){const s=this.findCorrespondingDomText(r);if(!s)return null;let c=t.offset;return Br(s)&&(c+=Io),{parent:s,offset:c}}{let s,c,h;if(t.offset===0){if(s=this.mapViewToDom(r),!s)return null;h=s.childNodes[0]}else{const f=t.nodeBefore;if(c=f.is("$text")?this.findCorrespondingDomText(f):this.mapViewToDom(f),!c)return null;s=c.parentNode,h=c.nextSibling}return yn(h)&&Br(h)?{parent:h,offset:Io}:{parent:s,offset:c?Sn(c)+1:0}}}domToView(t,r={}){const s=[],c=this._domToView(t,r,s),h=c.next().value;return h?(c.next(),this._processDomInlineNodes(null,s,r),h.is("$text")&&h.data.length==0?null:h):null}*domChildrenToView(t,r={},s=[]){for(let c=0;c<t.childNodes.length;c++){const h=t.childNodes[c],f=this._domToView(h,r,s),g=f.next().value;g!==null&&(this._isBlockViewElement(g)&&this._processDomInlineNodes(t,s,r),yield g,f.next())}this._processDomInlineNodes(t,s,r)}domSelectionToView(t){if(t.rangeCount===1){let c=t.getRangeAt(0).startContainer;yn(c)&&(c=c.parentNode);const h=this.fakeSelectionToView(c);if(h)return h}const r=this.isDomSelectionBackward(t),s=[];for(let c=0;c<t.rangeCount;c++){const h=t.getRangeAt(c),f=this.domRangeToView(h);f&&s.push(f)}return new ls(s,{backward:r})}domRangeToView(t){const r=this.domPositionToView(t.startContainer,t.startOffset),s=this.domPositionToView(t.endContainer,t.endOffset);return r&&s?new xt(r,s):null}domPositionToView(t,r=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Sn(t));const s=this.mapDomToView(t);if(s&&(s.is("uiElement")||s.is("rawElement")))return tt._createBefore(s);if(yn(t)){if(If(t))return this.domPositionToView(t.parentNode,Sn(t));const c=this.findCorrespondingViewText(t);let h=r;return c?(Br(t)&&(h-=Io,h=h<0?0:h),new tt(c,h)):null}if(r===0){const c=this.mapDomToView(t);if(c)return new tt(c,0)}else{const c=t.childNodes[r-1];if(yn(c)&&If(c)||c&&this.isBlockFiller(c))return this.domPositionToView(c.parentNode,Sn(c));const h=yn(c)?this.findCorrespondingViewText(c):this.mapDomToView(c);if(h&&h.parent)return new tt(h.parent,h.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(If(t))return null;const r=this.getHostViewElement(t);if(r)return r;const s=t.previousSibling;if(s){if(!this.isElement(s))return null;const c=this.mapDomToView(s);if(c){const h=c.nextSibling;return h instanceof gn?h:null}}else{const c=this.mapDomToView(t.parentNode);if(c){const h=c.getChild(0);return h instanceof gn?h:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const r=t.previousSibling;return r&&this.mapViewToDom(r)?this.mapViewToDom(r).nextSibling:!r&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const r=this.mapViewToDom(t);if(r&&r.ownerDocument.activeElement!==r){const{scrollX:s,scrollY:c}=_t.window,h=[];A2(r,f=>{const{scrollLeft:g,scrollTop:b}=f;h.push([g,b])}),r.focus(),A2(r,f=>{const[g,b]=h.shift();f.scrollLeft=g,f.scrollTop=b}),_t.window.scrollTo(s,c)}}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const r=t.ownerDocument.defaultView.getSelection(),s=this.domSelectionToView(r);s&&s.rangeCount>0&&r.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(w8):!(t.tagName!=="BR"||!T2(t,this.blockElements)||t.parentNode.childNodes.length!==1)||t.isEqualNode(A8)||function(r,s){return r.isEqualNode(C8)&&T2(r,s)&&r.parentNode.childNodes.length===1}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const r=this._domDocument.createRange();try{r.setStart(t.anchorNode,t.anchorOffset),r.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const s=r.collapsed;return r.detach(),s}getHostViewElement(t){const r=function(s){const c=[];let h=s;for(;h&&h.nodeType!=Node.DOCUMENT_NODE;)c.unshift(h),h=h.parentNode;return c}(t);for(r.pop();r.length;){const s=r.pop(),c=this._domToViewMapping.get(s);if(c&&(c.is("uiElement")||c.is("rawElement")))return c}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return g2(this._domDocument);case"markedNbsp":return b2(this._domDocument);case"br":return k2(this._domDocument)}}_isDomSelectionPositionCorrect(t,r){if(yn(t)&&Br(t)&&r<Io||this.isElement(t)&&Br(t.childNodes[r]))return!1;const s=this.mapDomToView(t);return!s||!s.is("uiElement")&&!s.is("rawElement")}*_domToView(t,r,s){if(this.isBlockFiller(t))return null;const c=this.getHostViewElement(t);if(c)return c;if(Fn(t)&&r.skipComments)return null;if(yn(t)){if(If(t))return null;{const h=t.data;if(h==="")return null;const f=new gn(this.document,h);return s.push(f),f}}{let h=this.mapDomToView(t);if(h)return this._isInlineObjectElement(h)&&s.push(h),h;if(this.isDocumentFragment(t))h=new Bc(this.document),r.bind&&this.bindDocumentFragments(t,h);else{h=this._createViewElement(t,r),r.bind&&this.bindElements(t,h);const g=t.attributes;if(g)for(let b=g.length,_=0;_<b;_++)h._setAttribute(g[_].name,g[_].value);if(this._isViewElementWithRawContent(h,r))return h._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(h)||s.push(h),h;if(Fn(t))return h._setCustomProperty("$rawContent",t.data),h}yield h;const f=[];if(r.withChildren!==!1)for(const g of this.domChildrenToView(t,r,f))h._appendChild(g);if(this._isInlineObjectElement(h))s.push(h);else for(const g of f)s.push(g)}}_processDomInlineNodes(t,r,s){if(!r.length||t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let c=!1;for(let h=0;h<r.length;h++){const f=r[h];if(!f.is("$text")){c=!1;continue}let g,b=!1;if(T8(f,this.preElements))g=v2(f.data);else{g=f.data.replace(/[ \n\t\r]{1,}/g," "),b=/[^\S\u00A0]/.test(g.charAt(g.length-1));const _=h>0?r[h-1]:null,C=h+1<r.length?r[h+1]:null,x=!_||_.is("element")&&_.name=="br"||c,M=!C&&!Br(f.data);s.withChildren!==!1&&(x&&(g=g.replace(/^ /,"")),M&&(g=g.replace(/ $/,""))),g=v2(g),g=g.replace(/ \u00A0/g,"  ");const z=C&&C.is("element")&&C.name!="br",H=C&&C.is("$text")&&C.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(g)||!C||z||H)&&(g=g.replace(/\u00A0$/," ")),(x||_&&_.is("element")&&_.name!="br")&&(g=g.replace(/^\u00A0/," "))}g.length==0&&f.parent?(f._remove(),r.splice(h,1),h--):(f._data=g,c=b)}r.length=0}_processDataFromViewText(t){let r=t.data;if(t.getAncestors().some(s=>this.preElements.includes(s.name)))return r;if(r.charAt(0)==" "){const s=this._getTouchingInlineViewNode(t,!1);!(s&&s.is("$textProxy")&&this._nodeEndsWithSpace(s))&&s||(r=" "+r.substr(1))}if(r.charAt(r.length-1)==" "){const s=this._getTouchingInlineViewNode(t,!0),c=s&&s.is("$textProxy")&&s.data.charAt(0)==" ";r.charAt(r.length-2)!=" "&&s&&!c||(r=r.substr(0,r.length-1)+" ")}return r.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(t.getAncestors().some(s=>this.preElements.includes(s.name)))return!1;const r=this._processDataFromViewText(t);return r.charAt(r.length-1)==" "}_getTouchingInlineViewNode(t,r){const s=new Pc({startPosition:r?tt._createAfter(t):tt._createBefore(t),direction:r?"forward":"backward"});for(const c of s){if(c.item.is("element","br"))return null;if(this._isInlineObjectElement(c.item))return c.item;if(c.item.is("containerElement"))return null;if(c.item.is("$textProxy"))return c.item}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return!!t.is("element")&&(t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t))}_createViewElement(t,r){if(Fn(t))return new tg(this.document,"$comment");const s=r.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Nr(this.document,s)}_isViewElementWithRawContent(t,r){return r.withChildren!==!1&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const r=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(r)}_createReplacementDomElement(t,r){const s=this._domDocument.createElement("span");if(s.setAttribute(C2,t),r){for(;r.firstChild;)s.appendChild(r.firstChild);for(const c of r.getAttributeNames())s.setAttribute(c,r.getAttribute(c))}return s}}function T8(l,t){return l.getAncestors().some(r=>r.is("element")&&t.includes(r.name))}function A2(l,t){let r=l;for(;r;)t(r),r=r.parentElement}function T2(l,t){const r=l.parentNode;return!!r&&!!r.tagName&&t.includes(r.tagName.toLowerCase())}function x2(l){l==="script"&&Q("domconverter-unsafe-script-element-detected"),l==="style"&&Q("domconverter-unsafe-style-element-detected")}class cs extends Pr(){constructor(t){super(),this._isEnabled=!1,this.view=t,this.document=t.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&t.nodeType===3&&(t=t.parentNode),!(!t||t.nodeType!==1)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const E2=r2(function(l,t){Sr(t,cr(t),l)});class gd{constructor(t,r,s){this.view=t,this.document=t.document,this.domEvent=r,this.domTarget=r.target,E2(this,s)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class al extends cs{constructor(){super(...arguments),this.useCapture=!1}observe(t){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(t,r,(s,c)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(c.target)&&this.onDomEvent(c)},{useCapture:this.useCapture})})}stopObserving(t){this.stopListening(t)}fire(t,r,s){this.isEnabled&&this.document.fire(t,new gd(this.view,r,s))}}class x8 extends al{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(t){const r={keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return P(this)}};this.fire(t.type,t,r)}}const lv=function(){return pe.Date.now()};var E8=/\s/;const S8=function(l){for(var t=l.length;t--&&E8.test(l.charAt(t)););return t};var D8=/^\s+/;const I8=function(l){return l&&l.slice(0,S8(l)+1).replace(D8,"")};var M8=/^[-+]0x[0-9a-f]+$/i,P8=/^0b[01]+$/i,N8=/^0o[0-7]+$/i,B8=parseInt;const S2=function(l){if(typeof l=="number")return l;if(Qm(l))return NaN;if(Ke(l)){var t=typeof l.valueOf=="function"?l.valueOf():l;l=Ke(t)?t+"":t}if(typeof l!="string")return l===0?l:+l;l=I8(l);var r=P8.test(l);return r||N8.test(l)?B8(l.slice(2),r?2:8):M8.test(l)?NaN:+l};var O8=Math.max,L8=Math.min;const Mf=function(l,t,r){var s,c,h,f,g,b,_=0,C=!1,x=!1,M=!0;if(typeof l!="function")throw new TypeError("Expected a function");function z(ye){var Be=s,ot=c;return s=c=void 0,_=ye,f=l.apply(ot,Be)}function H(ye){var Be=ye-b;return b===void 0||Be>=t||Be<0||x&&ye-_>=h}function G(){var ye=lv();if(H(ye))return Z(ye);g=setTimeout(G,function(Be){var ot=t-(Be-b);return x?L8(ot,h-(Be-_)):ot}(ye))}function Z(ye){return g=void 0,M&&s?z(ye):(s=c=void 0,f)}function se(){var ye=lv(),Be=H(ye);if(s=arguments,c=this,b=ye,Be){if(g===void 0)return function(ot){return _=ot,g=setTimeout(G,t),C?z(ot):f}(b);if(x)return clearTimeout(g),g=setTimeout(G,t),z(b)}return g===void 0&&(g=setTimeout(G,t)),f}return t=S2(t)||0,Ke(r)&&(C=!!r.leading,h=(x="maxWait"in r)?O8(S2(r.maxWait)||0,t):h,M="trailing"in r?!!r.trailing:M),se.cancel=function(){g!==void 0&&clearTimeout(g),_=0,s=b=c=g=void 0},se.flush=function(){return g===void 0?f:Z(lv())},se};class R8 extends cs{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=Mf(r=>{this.document.fire("selectionChangeDone",r)},200)}observe(){const t=this.document;t.on("arrowKey",(r,s)=>{t.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),t.on("arrowKey",(r,s)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const r=this.document.selection,s=new ls(r.getRanges(),{backward:r.isBackward,fake:!1});t!=A.arrowleft&&t!=A.arrowup||s.setTo(s.getFirstPosition()),t!=A.arrowright&&t!=A.arrowdown||s.setTo(s.getLastPosition());const c={oldSelection:r,newSelection:s,domSelection:null};this.document.fire("selectionChange",c),this._fireSelectionChangeDoneDebounced(c)}}const F8=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this},j8=function(l){return this.__data__.has(l)};function rg(l){var t=-1,r=l==null?0:l.length;for(this.__data__=new Er;++t<r;)this.add(l[t])}rg.prototype.add=rg.prototype.push=F8,rg.prototype.has=j8;const z8=rg,V8=function(l,t){for(var r=-1,s=l==null?0:l.length;++r<s;)if(t(l[r],r,l))return!0;return!1},U8=function(l,t){return l.has(t)},D2=function(l,t,r,s,c,h){var f=1&r,g=l.length,b=t.length;if(g!=b&&!(f&&b>g))return!1;var _=h.get(l),C=h.get(t);if(_&&C)return _==t&&C==l;var x=-1,M=!0,z=2&r?new z8:void 0;for(h.set(l,t),h.set(t,l);++x<g;){var H=l[x],G=t[x];if(s)var Z=f?s(G,H,x,t,l,h):s(H,G,x,l,t,h);if(Z!==void 0){if(Z)continue;M=!1;break}if(z){if(!V8(t,function(se,ye){if(!U8(z,ye)&&(H===se||c(H,se,r,s,h)))return z.push(ye)})){M=!1;break}}else if(H!==G&&!c(H,G,r,s,h)){M=!1;break}}return h.delete(l),h.delete(t),M},H8=function(l){var t=-1,r=Array(l.size);return l.forEach(function(s,c){r[++t]=[c,s]}),r},$8=function(l){var t=-1,r=Array(l.size);return l.forEach(function(s){r[++t]=s}),r};var I2=Ce?Ce.prototype:void 0,cv=I2?I2.valueOf:void 0;const q8=function(l,t,r,s,c,h,f){switch(r){case"[object DataView]":if(l.byteLength!=t.byteLength||l.byteOffset!=t.byteOffset)return!1;l=l.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(l.byteLength!=t.byteLength||!h(new Co(l),new Co(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Us(+l,+t);case"[object Error]":return l.name==t.name&&l.message==t.message;case"[object RegExp]":case"[object String]":return l==t+"";case"[object Map]":var g=H8;case"[object Set]":var b=1&s;if(g||(g=$8),l.size!=t.size&&!b)return!1;var _=f.get(l);if(_)return _==t;s|=2,f.set(l,t);var C=D2(g(l),g(t),s,c,h,f);return f.delete(l),C;case"[object Symbol]":if(cv)return cv.call(l)==cv.call(t)}return!1};var W8=Object.prototype.hasOwnProperty;const G8=function(l,t,r,s,c,h){var f=1&r,g=ea(l),b=g.length;if(b!=ea(t).length&&!f)return!1;for(var _=b;_--;){var C=g[_];if(!(f?C in t:W8.call(t,C)))return!1}var x=h.get(l),M=h.get(t);if(x&&M)return x==t&&M==l;var z=!0;h.set(l,t),h.set(t,l);for(var H=f;++_<b;){var G=l[C=g[_]],Z=t[C];if(s)var se=f?s(Z,G,C,t,l,h):s(G,Z,C,l,t,h);if(!(se===void 0?G===Z||c(G,Z,r,s,h):se)){z=!1;break}H||(H=C=="constructor")}if(z&&!H){var ye=l.constructor,Be=t.constructor;ye==Be||!("constructor"in l)||!("constructor"in t)||typeof ye=="function"&&ye instanceof ye&&typeof Be=="function"&&Be instanceof Be||(z=!1)}return h.delete(l),h.delete(t),z};var M2="[object Arguments]",P2="[object Array]",og="[object Object]",N2=Object.prototype.hasOwnProperty;const K8=function(l,t,r,s,c,h){var f=En(l),g=En(t),b=f?P2:na(l),_=g?P2:na(t),C=(b=b==M2?og:b)==og,x=(_=_==M2?og:_)==og,M=b==_;if(M&&Qs(l)){if(!Qs(t))return!1;f=!0,C=!1}if(M&&!C)return h||(h=new yo),f||cc(l)?D2(l,t,r,s,c,h):q8(l,t,b,r,s,c,h);if(!(1&r)){var z=C&&N2.call(l,"__wrapped__"),H=x&&N2.call(t,"__wrapped__");if(z||H){var G=z?l.value():l,Z=H?t.value():t;return h||(h=new yo),c(G,Z,r,s,h)}}return!!M&&(h||(h=new yo),G8(l,t,r,s,c,h))},B2=function l(t,r,s,c,h){return t===r||(t==null||r==null||!pi(t)&&!pi(r)?t!=t&&r!=r:K8(t,r,s,c,l,h))},Y8=function(l,t,r){var s=(r=typeof r=="function"?r:void 0)?r(l,t):void 0;return s===void 0?B2(l,t,void 0,r):!!s};class O2 extends cs{constructor(t){super(t),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.add(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}stopObserving(t){if(this._domElements.delete(t),this.isEnabled){this._mutationObserver.disconnect();for(const r of this._domElements)this._mutationObserver.observe(r,this._config)}}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(t.length===0)return;const r=this.domConverter,s=new Set,c=new Set;for(const f of t){const g=r.mapDomToView(f.target);g&&(g.is("uiElement")||g.is("rawElement")||f.type!=="childList"||this._isBogusBrMutation(f)||c.add(g))}for(const f of t){const g=r.mapDomToView(f.target);if((!g||!g.is("uiElement")&&!g.is("rawElement"))&&f.type==="characterData"){const b=r.findCorrespondingViewText(f.target);b&&!c.has(b.parent)?s.add(b):!b&&Br(f.target)&&c.add(r.mapDomToView(f.target.parentNode))}}let h=!1;for(const f of s)h=!0,this.renderer.markToSync("text",f);for(const f of c){const g=r.mapViewToDom(f),b=Array.from(f.getChildren()),_=Array.from(r.domChildrenToView(g,{withChildren:!1}));Y8(b,_,Q8)||(h=!0,this.renderer.markToSync("children",f))}h&&this.view.forceRender()}_isBogusBrMutation(t){let r=null;return t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1&&(r=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),r&&r.is("element","br")}}function Q8(l,t){if(!Array.isArray(l))return l===t||!(!l.is("$text")||!t.is("$text"))&&l.data===t.data}class sg extends al{constructor(t){super(t),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const r=this.document;r.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),t.change(()=>{})},50)}),r.on("blur",(s,c)=>{const h=r.selection.editableElement;h!==null&&h!==c.target||(r.isFocused=!1,this._isFocusChanging=!1,t.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Z8 extends cs{constructor(t){super(t),this.mutationObserver=t.getObserver(O2),this.focusObserver=t.getObserver(sg),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Mf(r=>{this.document.fire("selectionChangeDone",r)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Mf(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(t){const r=t.ownerDocument,s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,r),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(t,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",s,{priority:"highest",useCapture:!0}),this._documents.has(r)||(this.listenTo(r,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(r,"selectionchange",(c,h)=>{this.document.isComposing&&!y.isAndroid||(this._handleSelectionChange(h,r),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(r))}stopObserving(t){this.stopListening(t)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(t,r){if(!this.isEnabled)return;const s=r.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(s.anchorNode))return;this.mutationObserver.flush();const c=this.domConverter.domSelectionToView(s);if(c.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(c)||!this.domConverter.isDomSelectionCorrect(s))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(c))this.view.forceRender();else{const h={oldSelection:this.selection,newSelection:c,domSelection:s};this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class X8 extends al{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const r=this.document;r.on("compositionstart",()=>{r.isComposing=!0},{priority:"low"}),r.on("compositionend",()=>{r.isComposing=!1},{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class L2{constructor(t,r={}){this._files=r.cacheFiles?R2(t):null,this._native=t}get files(){return this._files||(this._files=R2(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,r){this._native.setData(t,r)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,r,s){this._native.setDragImage(t,r,s)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function R2(l){const t=Array.from(l.files||[]),r=Array.from(l.items||[]);return t.length?t:r.filter(s=>s.kind==="file").map(s=>s.getAsFile())}class J8 extends al{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(t){const r=t.getTargetRanges(),s=this.view,c=s.document;let h=null,f=null,g=[];if(t.dataTransfer&&(h=new L2(t.dataTransfer)),t.data!==null?f=t.data:h&&(f=h.getData("text/plain")),c.selection.isFake)g=Array.from(c.selection.getRanges());else if(r.length)g=r.map(b=>{const _=s.domConverter.domPositionToView(b.startContainer,b.startOffset),C=s.domConverter.domPositionToView(b.endContainer,b.endOffset);return _?s.createRange(_,C):C?s.createRange(C):void 0}).filter(b=>!!b);else if(y.isAndroid){const b=t.target.ownerDocument.defaultView.getSelection();g=Array.from(s.domConverter.domSelectionToView(b).getRanges())}if(y.isAndroid&&t.inputType=="insertCompositionText"&&f&&f.endsWith(`
`))this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[s.createRange(g[0].end)]});else if(t.inputType=="insertText"&&f&&f.includes(`
`)){const b=f.split(/\n{1,2}/g);let _=g;for(let C=0;C<b.length;C++){const x=b[C];x!=""&&(this.fire(t.type,t,{data:x,dataTransfer:h,targetRanges:_,inputType:t.inputType,isComposing:t.isComposing}),_=[c.selection.getFirstRange()]),C+1<b.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:_}),_=[c.selection.getFirstRange()])}}else this.fire(t.type,t,{data:f,dataTransfer:h,targetRanges:g,inputType:t.inputType,isComposing:t.isComposing})}}class e7 extends cs{constructor(t){super(t),this.document.on("keydown",(r,s)=>{if(this.isEnabled&&((c=s.keyCode)==A.arrowright||c==A.arrowleft||c==A.arrowup||c==A.arrowdown)){const h=new pd(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(h,s),h.stop.called&&r.stop()}var c})}observe(){}stopObserving(){}}class t7 extends cs{constructor(t){super(t);const r=this.document;r.on("keydown",(s,c)=>{if(!this.isEnabled||c.keyCode!=A.tab||c.ctrlKey)return;const h=new pd(r,"tab",r.selection.getFirstRange());r.fire(h,c),h.stop.called&&s.stop()})}observe(){}stopObserving(){}}const ll=function(l){return xc(l,5)};class n7 extends xe(){constructor(t){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new eg(t),this.domConverter=new ig(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new k8(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new d2(this.document),this.addObserver(O2),this.addObserver(sg),this.addObserver(Z8),this.addObserver(x8),this.addObserver(R8),this.addObserver(X8),this.addObserver(e7),this.addObserver(J8),this.addObserver(t7),this.document.on("arrowKey",g8,{priority:"low"}),d8(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),y.isiOS&&this.listenTo(this.document,"blur",(r,s)=>{this.domConverter.mapDomToView(s.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(t,r="main"){const s=this.document.getRoot(r);s._name=t.tagName.toLowerCase();const c={};for(const{name:f,value:g}of Array.from(t.attributes))c[f]=g,f==="class"?this._writer.addClass(g.split(" "),s):this._writer.setAttribute(f,g,s);this._initialDomRootAttributes.set(t,c);const h=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};h(),this.domRoots.set(r,t),this.domConverter.bindElements(t,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(t.ownerDocument),s.on("change:children",(f,g)=>this._renderer.markToSync("children",g)),s.on("change:attributes",(f,g)=>this._renderer.markToSync("attributes",g)),s.on("change:text",(f,g)=>this._renderer.markToSync("text",g)),s.on("change:isReadOnly",()=>this.change(h)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const f of this._observers.values())f.observe(t,r)}detachDomRoot(t){const r=this.domRoots.get(t);Array.from(r.attributes).forEach(({name:c})=>r.removeAttribute(c));const s=this._initialDomRootAttributes.get(r);for(const c in s)r.setAttribute(c,s[c]);this.domRoots.delete(t),this.domConverter.unbindDomElement(r);for(const c of this._observers.values())c.stopObserving(r)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let r=this._observers.get(t);if(r)return r;r=new t(this),this._observers.set(t,r);for(const[s,c]of this.domRoots)r.observe(c,s);return r.enable(),r}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection({alignToTop:t,forceScroll:r,viewportOffset:s=20,ancestorOffset:c=20}={}){const h=this.document.selection.getFirstRange();if(!h)return;const f=ll({alignToTop:t,forceScroll:r,viewportOffset:s,ancestorOffset:c});typeof s=="number"&&(s={top:s,bottom:s,left:s,right:s});const g={target:this.domConverter.viewRangeToDom(h),viewportOffset:s,ancestorOffset:c,alignToTop:t,forceScroll:r};this.fire("scrollToTheSelection",g,f),function({target:b,viewportOffset:_=0,ancestorOffset:C=0,alignToTop:x,forceScroll:M}){const z=wf(b);let H=z,G=null;for(_=function(Z){return typeof Z=="number"?{top:Z,bottom:Z,left:Z,right:Z}:Z}(_);H;){let Z;Z=Bk(H==z?b:G),Nk({parent:Z,getRect:()=>Vm(b,H),alignToTop:x,ancestorOffset:C,forceScroll:M});const se=Vm(b,H);if(to({window:H,rect:se,viewportOffset:_,alignToTop:x,forceScroll:M}),H.parent!=H){if(G=H.frameElement,H=H.parent,!G)return}else H=null}}(g)}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new F("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const r=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),r}catch(r){F.rethrowUnexpectedError(r,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(sg).flush(),this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,r){return tt._createAt(t,r)}createPositionAfter(t){return tt._createAfter(t)}createPositionBefore(t){return tt._createBefore(t)}createRange(t,r){return new xt(t,r)}createRangeOn(t){return xt._createOn(t)}createRangeIn(t){return xt._createIn(t)}createSelection(...t){return new ls(...t)}_disableRendering(t){this._renderingDisabled=t,t==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class cl{is(){throw new Error("is() method is abstract")}}class Oc extends cl{constructor(t){super(),this.parent=null,this._attrs=kt(t)}get document(){return null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))===null)throw new F("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if((t=this.parent.getChildStartOffset(this))===null)throw new F("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const t=[];let r=this;for(;r.parent;)t.unshift(r.startOffset),r=r.parent;return t}getAncestors(t={}){const r=[];let s=t.includeSelf?this:this.parent;for(;s;)r[t.parentFirst?"push":"unshift"](s),s=s.parent;return r}getCommonAncestor(t,r={}){const s=this.getAncestors(r),c=t.getAncestors(r);let h=0;for(;s[h]==c[h]&&s[h];)h++;return h===0?null:s[h-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const r=this.getPath(),s=t.getPath(),c=Ge(r,s);switch(c){case"prefix":return!0;case"extension":return!1;default:return r[c]<s[c]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((r,s)=>(r[s[0]]=s[1],r),{})),t}_clone(t){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,r){this._attrs.set(t,r)}_setAttributesTo(t){this._attrs=kt(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}Oc.prototype.is=function(l){return l==="node"||l==="model:node"};class Pf{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,r)=>t+r.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const r=this._nodes.indexOf(t);return r==-1?null:r}getNodeStartOffset(t){const r=this.getNodeIndex(t);return r===null?null:this._nodes.slice(0,r).reduce((s,c)=>s+c.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const r=this._nodes[t];if(!r)throw new F("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(r)}offsetToIndex(t){let r=0;for(const s of this._nodes){if(t>=r&&t<r+s.offsetSize)return this.getNodeIndex(s);r+=s.offsetSize}if(r!=t)throw new F("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,r){for(const s of r)if(!(s instanceof Oc))throw new F("model-nodelist-insertnodes-not-node",this);this._nodes=function(s,c,h,f){if(Math.max(c.length,s.length)>1e4)return s.slice(0,h).concat(c).concat(s.slice(h+f,s.length));{const g=Array.from(s);return g.splice(h,f,...c),g}}(this._nodes,Array.from(r),t,0)}_removeNodes(t,r=1){return this._nodes.splice(t,r)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class bn extends Oc{constructor(t,r){super(r),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new bn(this.data,this.getAttributes())}static fromJSON(t){return new bn(t.data,t.attributes)}}bn.prototype.is=function(l){return l==="$text"||l==="model:$text"||l==="text"||l==="model:text"||l==="node"||l==="model:node"};class Mo extends cl{constructor(t,r,s){if(super(),this.textNode=t,r<0||r>t.offsetSize)throw new F("model-textproxy-wrong-offsetintext",this);if(s<0||r+s>t.offsetSize)throw new F("model-textproxy-wrong-length",this);this.data=t.data.substring(r,r+s),this.offsetInText=r}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const r=[];let s=t.includeSelf?this:this.parent;for(;s;)r[t.parentFirst?"push":"unshift"](s),s=s.parent;return r}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Mo.prototype.is=function(l){return l==="$textProxy"||l==="model:$textProxy"||l==="textProxy"||l==="model:textProxy"};class an extends Oc{constructor(t,r,s){super(r),this._children=new Pf,this.name=t,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let r=this;for(const s of t)r=r.getChild(r.offsetToIndex(s));return r}findAncestor(t,r={}){let s=r.includeSelf?this:this.parent;for(;s;){if(s.name===t)return s;s=s.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const r of this._children)t.children.push(r.toJSON())}return t}_clone(t=!1){const r=t?Array.from(this._children).map(s=>s._clone(!0)):void 0;return new an(this.name,this.getAttributes(),r)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,r){const s=function(c){return typeof c=="string"?[new bn(c)]:(it(c)||(c=[c]),Array.from(c).map(h=>typeof h=="string"?new bn(h):h instanceof Mo?new bn(h.data,h.getAttributes()):h))}(r);for(const c of s)c.parent!==null&&c._remove(),c.parent=this;this._children._insertNodes(t,s)}_removeChildren(t,r=1){const s=this._children._removeNodes(t,r);for(const c of s)c.parent=null;return s}static fromJSON(t){let r;if(t.children){r=[];for(const s of t.children)s.name?r.push(an.fromJSON(s)):r.push(bn.fromJSON(s))}return new an(t.name,t.attributes,r)}}an.prototype.is=function(l,t){return t?t===this.name&&(l==="element"||l==="model:element"):l==="element"||l==="model:element"||l==="node"||l==="model:node"};class us{constructor(t){if(!t||!t.boundaries&&!t.startPosition)throw new F("model-tree-walker-no-start-position",null);const r=t.direction||"forward";if(r!="forward"&&r!="backward")throw new F("model-tree-walker-unknown-direction",t,{direction:r});this.direction=r,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=$e._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let r,s,c,h;do c=this.position,h=this._visitedParent,{done:r,value:s}=this.next();while(!r&&t(s));r||(this._position=c,this._visitedParent=h)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,r=this.position.clone(),s=this._visitedParent;if(s.parent===null&&r.offset===s.maxOffset)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const c=Nf(r,s),h=c||F2(r,s,c);if(h instanceof an){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(r))return{done:!0,value:void 0};r.offset++}else r.path.push(0),this._visitedParent=h;return this._position=r,Lc("elementStart",h,t,r,1)}if(h instanceof bn){let f;if(this.singleCharacters)f=1;else{let _=h.endOffset;this._boundaryEndParent==s&&this.boundaries.end.offset<_&&(_=this.boundaries.end.offset),f=_-r.offset}const g=r.offset-h.startOffset,b=new Mo(h,g,f);return r.offset+=f,this._position=r,Lc("text",b,t,r,f)}return r.path.pop(),r.offset++,this._position=r,this._visitedParent=s.parent,this.ignoreElementEnd?this._next():Lc("elementEnd",s,t,r)}_previous(){const t=this.position,r=this.position.clone(),s=this._visitedParent;if(s.parent===null&&r.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const c=r.parent,h=Nf(r,c),f=h||j2(r,c,h);if(f instanceof an)return r.offset--,this.shallow?(this._position=r,Lc("elementStart",f,t,r,1)):(r.path.push(f.maxOffset),this._position=r,this._visitedParent=f,this.ignoreElementEnd?this._previous():Lc("elementEnd",f,t,r));if(f instanceof bn){let g;if(this.singleCharacters)g=1;else{let C=f.startOffset;this._boundaryStartParent==s&&this.boundaries.start.offset>C&&(C=this.boundaries.start.offset),g=r.offset-C}const b=r.offset-f.startOffset,_=new Mo(f,b-g,g);return r.offset-=g,this._position=r,Lc("text",_,t,r,g)}return r.path.pop(),this._position=r,this._visitedParent=s.parent,Lc("elementStart",s,t,r,1)}}function Lc(l,t,r,s,c){return{done:!1,value:{type:l,item:t,previousPosition:r,nextPosition:s,length:c}}}class $e extends cl{constructor(t,r,s="toNone"){if(super(),!t.is("element")&&!t.is("documentFragment"))throw new F("model-position-root-invalid",t);if(!(r instanceof Array)||r.length===0)throw new F("model-position-path-incorrect-format",t,{path:r});t.is("rootElement")?r=r.slice():(r=[...t.getPath(),...r],t=t.root),this.root=t,this.path=r,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let r=0;r<this.path.length-1;r++)if(t=t.getChild(t.offsetToIndex(this.path[r])),!t)throw new F("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new F("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Nf(this,this.parent)}get nodeAfter(){const t=this.parent;return F2(this,t,Nf(this,t))}get nodeBefore(){const t=this.parent;return j2(this,t,Nf(this,t))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const r=Ge(this.path,t.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<t.path[r]?"before":"after"}}getLastMatchingPosition(t,r={}){r.startPosition=this;const s=new us(r);return s.skip(t),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const r=this.parent;return r.is("element")?r.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const r=Ge(this.path,t.path),s=typeof r=="string"?Math.min(this.path.length,t.path.length):r;return this.path.slice(0,s)}getCommonAncestor(t){const r=this.getAncestors(),s=t.getAncestors();let c=0;for(;r[c]==s[c]&&r[c];)c++;return c===0?null:r[c-1]}getShiftedBy(t){const r=this.clone(),s=r.offset+t;return r.offset=s<0?0:s,r}isAfter(t){return this.compareWith(t)=="after"}isBefore(t){return this.compareWith(t)=="before"}isEqual(t){return this.compareWith(t)=="same"}isTouching(t){if(this.root!==t.root)return!1;const r=Math.min(this.path.length,t.path.length);for(let s=0;s<r;s++){const c=this.path[s]-t.path[s];if(c<-1||c>1)return!1;if(c===1)return z2(t,this,s);if(c===-1)return z2(this,t,s)}return this.path.length===t.path.length||(this.path.length>t.path.length?uv(this.path,r):uv(t.path,r))}hasSameParentAs(t){return this.root!==t.root?!1:Ge(this.getParentPath(),t.getParentPath())=="same"}getTransformedByOperation(t){let r;switch(t.type){case"insert":r=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(t);break;case"split":r=this._getTransformedBySplitOperation(t);break;case"merge":r=this._getTransformedByMergeOperation(t);break;default:r=$e._createAt(this)}return r}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const r=t.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const r=t.movedRange;let s;return r.containsPosition(this)||r.start.isEqual(this)?(s=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(s=s._getTransformedByDeletion(t.deletionPosition,1))):s=this.isEqual(t.deletionPosition)?$e._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),s}_getTransformedByDeletion(t,r){const s=$e._createAt(this);if(this.root!=t.root)return s;if(Ge(t.getParentPath(),this.getParentPath())=="same"){if(t.offset<this.offset){if(t.offset+r>this.offset)return null;s.offset-=r}}else if(Ge(t.getParentPath(),this.getParentPath())=="prefix"){const c=t.path.length-1;if(t.offset<=this.path[c]){if(t.offset+r>this.path[c])return null;s.path[c]-=r}}return s}_getTransformedByInsertion(t,r){const s=$e._createAt(this);if(this.root!=t.root)return s;if(Ge(t.getParentPath(),this.getParentPath())=="same")(t.offset<this.offset||t.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=r);else if(Ge(t.getParentPath(),this.getParentPath())=="prefix"){const c=t.path.length-1;t.offset<=this.path[c]&&(s.path[c]+=r)}return s}_getTransformedByMove(t,r,s){if(r=r._getTransformedByDeletion(t,s),t.isEqual(r))return $e._createAt(this);const c=this._getTransformedByDeletion(t,s);return c===null||t.isEqual(this)&&this.stickiness=="toNext"||t.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(t,r):c._getTransformedByInsertion(r,s)}_getCombined(t,r){const s=t.path.length-1,c=$e._createAt(r);return c.stickiness=this.stickiness,c.offset=c.offset+this.path[s]-t.offset,c.path=[...c.path,...this.path.slice(s+1)],c}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,r,s="toNone"){if(t instanceof $e)return new $e(t.root,t.path,t.stickiness);{const c=t;if(r=="end")r=c.maxOffset;else{if(r=="before")return this._createBefore(c,s);if(r=="after")return this._createAfter(c,s);if(r!==0&&!r)throw new F("model-createpositionat-offset-required",[this,t])}if(!c.is("element")&&!c.is("documentFragment"))throw new F("model-position-parent-incorrect",[this,t]);const h=c.getPath();return h.push(r),new this(c.root,h,s)}}static _createAfter(t,r){if(!t.parent)throw new F("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,r)}static _createBefore(t,r){if(!t.parent)throw new F("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,r)}static fromJSON(t,r){if(t.root==="$graveyard"){const s=new $e(r.graveyard,t.path);return s.stickiness=t.stickiness,s}if(!r.getRoot(t.root))throw new F("model-position-fromjson-no-root",r,{rootName:t.root});return new $e(r.getRoot(t.root),t.path,t.stickiness)}}function Nf(l,t){const r=t.getChild(t.offsetToIndex(l.offset));return r&&r.is("$text")&&r.startOffset<l.offset?r:null}function F2(l,t,r){return r!==null?null:t.getChild(t.offsetToIndex(l.offset))}function j2(l,t,r){return r!==null?null:t.getChild(t.offsetToIndex(l.offset)-1)}function z2(l,t,r){return r+1!==l.path.length&&!!uv(t.path,r+1)&&!!function(s,c){let h=s.parent,f=s.path.length-1,g=0;for(;f>=c;){if(s.path[f]+g!==h.maxOffset)return!1;g=1,f--,h=h.parent}return!0}(l,r+1)}function uv(l,t){for(;t<l.length;){if(l[t]!==0)return!1;t++}return!0}$e.prototype.is=function(l){return l==="position"||l==="model:position"};class De extends cl{constructor(t,r){super(),this.start=$e._createAt(t),this.end=r?$e._createAt(r):$e._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new us({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Ge(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,r=!1){t.isCollapsed&&(r=!1);const s=this.containsPosition(t.start)||r&&this.start.isEqual(t.start),c=this.containsPosition(t.end)||r&&this.end.isEqual(t.end);return s&&c}containsItem(t){const r=$e._createBefore(t);return this.containsPosition(r)||this.start.isEqual(r)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const r=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&r.push(new De(this.start,t.start)),this.containsPosition(t.end)&&r.push(new De(t.end,this.end))):r.push(new De(this.start,this.end)),r}getIntersection(t){if(this.isIntersecting(t)){let r=this.start,s=this.end;return this.containsPosition(t.start)&&(r=t.start),this.containsPosition(t.end)&&(s=t.end),new De(r,s)}return null}getJoined(t,r=!1){let s=this.isIntersecting(t);if(s||(s=this.start.isBefore(t.start)?r?this.end.isTouching(t.start):this.end.isEqual(t.start):r?t.end.isTouching(this.start):t.end.isEqual(this.start)),!s)return null;let c=this.start,h=this.end;return t.start.isBefore(c)&&(c=t.start),t.end.isAfter(h)&&(h=t.end),new De(c,h)}getMinimalFlatRanges(){const t=[],r=this.start.getCommonPath(this.end).length,s=$e._createAt(this.start);let c=s.parent;for(;s.path.length>r+1;){const h=c.maxOffset-s.offset;h!==0&&t.push(new De(s,s.getShiftedBy(h))),s.path=s.path.slice(0,-1),s.offset++,c=c.parent}for(;s.path.length<=this.end.path.length;){const h=this.end.path[s.path.length-1],f=h-s.offset;f!==0&&t.push(new De(s,s.getShiftedBy(f))),s.offset=h,s.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new us(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const r=new us(t);for(const s of r)yield s.item}*getPositions(t={}){t.boundaries=this;const r=new us(t);yield r.position;for(const s of r)yield s.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new De(this.start,this.end)]}getTransformedByOperations(t){const r=[new De(this.start,this.end)];for(const s of t)for(let c=0;c<r.length;c++){const h=r[c].getTransformedByOperation(s);r.splice(c,1,...h),c+=h.length-1}for(let s=0;s<r.length;s++){const c=r[s];for(let h=s+1;h<r.length;h++){const f=r[h];(c.containsRange(f)||f.containsRange(c)||c.isEqual(f))&&r.splice(h,1)}}return r}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,r=this.end.nodeBefore;return t&&t.is("element")&&t===r?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,r=!1){return this._getTransformedByInsertion(t.position,t.howMany,r)}_getTransformedByMoveOperation(t,r=!1){const s=t.sourcePosition,c=t.howMany,h=t.targetPosition;return this._getTransformedByMove(s,h,c,r)}_getTransformedBySplitOperation(t){const r=this.start._getTransformedBySplitOperation(t);let s=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(s=this.end.getShiftedBy(1)),r.root!=s.root&&(s=this.end.getShiftedBy(-1)),new De(r,s)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new De(this.start);let r=this.start._getTransformedByMergeOperation(t),s=this.end._getTransformedByMergeOperation(t);return r.root!=s.root&&(s=this.end.getShiftedBy(-1)),r.isAfter(s)?(t.sourcePosition.isBefore(t.targetPosition)?(r=$e._createAt(s),r.offset=0):(t.deletionPosition.isEqual(r)||(s=t.deletionPosition),r=t.targetPosition),new De(r,s)):new De(r,s)}_getTransformedByInsertion(t,r,s=!1){if(s&&this.containsPosition(t))return[new De(this.start,t),new De(t.getShiftedBy(r),this.end._getTransformedByInsertion(t,r))];{const c=new De(this.start,this.end);return c.start=c.start._getTransformedByInsertion(t,r),c.end=c.end._getTransformedByInsertion(t,r),[c]}}_getTransformedByMove(t,r,s,c=!1){if(this.isCollapsed){const x=this.start._getTransformedByMove(t,r,s);return[new De(x)]}const h=De._createFromPositionAndShift(t,s),f=r._getTransformedByDeletion(t,s);if(this.containsPosition(r)&&!c&&(h.containsPosition(this.start)||h.containsPosition(this.end))){const x=this.start._getTransformedByMove(t,r,s),M=this.end._getTransformedByMove(t,r,s);return[new De(x,M)]}let g;const b=this.getDifference(h);let _=null;const C=this.getIntersection(h);if(b.length==1?_=new De(b[0].start._getTransformedByDeletion(t,s),b[0].end._getTransformedByDeletion(t,s)):b.length==2&&(_=new De(this.start,this.end._getTransformedByDeletion(t,s))),g=_?_._getTransformedByInsertion(f,s,C!==null||c):[],C){const x=new De(C.start._getCombined(h.start,f),C.end._getCombined(h.start,f));g.length==2?g.splice(1,0,x):g.push(x)}return g}_getTransformedByDeletion(t,r){let s=this.start._getTransformedByDeletion(t,r),c=this.end._getTransformedByDeletion(t,r);return s==null&&c==null?null:(s==null&&(s=t),c==null&&(c=t),new De(s,c))}static _createFromPositionAndShift(t,r){const s=t,c=t.getShiftedBy(r);return r>0?new this(s,c):new this(c,s)}static _createIn(t){return new this($e._createAt(t,0),$e._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift($e._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(t.length===0)throw new F("range-create-from-ranges-empty-array",null);if(t.length==1)return t[0].clone();const r=t[0];t.sort((h,f)=>h.start.isAfter(f.start)?1:-1);const s=t.indexOf(r),c=new this(r.start,r.end);if(s>0)for(let h=s-1;t[h].end.isEqual(c.start);h++)c.start=$e._createAt(t[h].start);for(let h=s+1;h<t.length&&t[h].start.isEqual(c.end);h++)c.end=$e._createAt(t[h].end);return c}static fromJSON(t,r){return new this($e.fromJSON(t.start,r),$e.fromJSON(t.end,r))}}De.prototype.is=function(l){return l==="range"||l==="model:range"};class V2 extends re(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,r)=>{if(r.viewPosition)return;const s=this._modelToViewMapping.get(r.modelPosition.parent);if(!s)throw new F("mapping-model-position-view-parent-not-found",this,{modelPosition:r.modelPosition});r.viewPosition=this.findPositionIn(s,r.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,r)=>{if(r.modelPosition)return;const s=this.findMappedViewAncestor(r.viewPosition),c=this._viewToModelMapping.get(s),h=this._toModelOffset(r.viewPosition.parent,r.viewPosition.offset,s);r.modelPosition=$e._createAt(c,h)},{priority:"low"})}bindElements(t,r){this._modelToViewMapping.set(t,r),this._viewToModelMapping.set(r,t)}unbindViewElement(t,r={}){const s=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const c of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(c);r.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(s)==t&&this._modelToViewMapping.delete(s))}unbindModelElement(t){const r=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(r)==t&&this._viewToModelMapping.delete(r)}bindElementToMarker(t,r){const s=this._markerNameToElements.get(r)||new Set;s.add(t);const c=this._elementToMarkerNames.get(t)||new Set;c.add(r),this._markerNameToElements.set(r,s),this._elementToMarkerNames.set(t,c)}unbindElementFromMarkerName(t,r){const s=this._markerNameToElements.get(r);s&&(s.delete(t),s.size==0&&this._markerNameToElements.delete(r));const c=this._elementToMarkerNames.get(t);c&&(c.delete(r),c.size==0&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,r]of this._deferredBindingRemovals)t.root==r&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new De(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new xt(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const r={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",r),r.modelPosition}toViewPosition(t,r={}){const s={modelPosition:t,mapper:this,isPhantom:r.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(t){const r=this._markerNameToElements.get(t);if(!r)return null;const s=new Set;for(const c of r)if(c.is("attributeElement"))for(const h of c.getElementsWithSameId())s.add(h);else s.add(c);return s}registerViewToModelLength(t,r){this._viewToModelLengthCallbacks.set(t,r)}findMappedViewAncestor(t){let r=t.parent;for(;!this._viewToModelMapping.has(r);)r=r.parent;return r}_toModelOffset(t,r,s){if(s!=t)return this._toModelOffset(t.parent,t.index,s)+this._toModelOffset(t,r,t);if(t.is("$text"))return r;let c=0;for(let h=0;h<r;h++)c+=this.getModelLength(t.getChild(h));return c}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let r=0;for(const s of t.getChildren())r+=this.getModelLength(s);return r}}findPositionIn(t,r){let s,c=0,h=0,f=0;if(t.is("$text"))return new tt(t,r);for(;h<r;)s=t.getChild(f),c=this.getModelLength(s),h+=c,f++;return h==r?this._moveViewPositionToTextNode(new tt(t,f)):this.findPositionIn(s,r-(h-c))}_moveViewPositionToTextNode(t){const r=t.nodeBefore,s=t.nodeAfter;return r instanceof gn?new tt(r,r.data.length):s instanceof gn?new tt(s,0):t}}class i7{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,r){r=ag(r),t instanceof Mo&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(r,!0)}consume(t,r){return r=ag(r),t instanceof Mo&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,r)&&(this._consumable.get(t).set(r,!1),!0)}test(t,r){r=ag(r),t instanceof Mo&&(t=this._getSymbolForTextProxy(t));const s=this._consumable.get(t);if(s===void 0)return null;const c=s.get(r);return c===void 0?null:c}revert(t,r){r=ag(r),t instanceof Mo&&(t=this._getSymbolForTextProxy(t));const s=this.test(t,r);return s===!1?(this._consumable.get(t).set(r,!0),!0):s!==!0&&null}verifyAllConsumed(t){const r=[];for(const[s,c]of this._consumable)for(const[h,f]of c){const g=h.split(":")[0];f&&t==g&&r.push({event:h,item:s.name||s.description})}if(r.length)throw new F("conversion-model-consumable-not-consumed",null,{items:r})}_getSymbolForTextProxy(t){let r=null;const s=this._textProxyRegistry.get(t.startOffset);if(s){const c=s.get(t.endOffset);c&&(r=c.get(t.parent))}return r||(r=this._addSymbolForTextProxy(t)),r}_addSymbolForTextProxy(t){const r=t.startOffset,s=t.endOffset,c=t.parent,h=Symbol("$textProxy:"+t.data);let f,g;return f=this._textProxyRegistry.get(r),f||(f=new Map,this._textProxyRegistry.set(r,f)),g=f.get(s),g||(g=new Map,f.set(s,g)),g.set(c,h),h}}function ag(l){const t=l.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?l:t.length>1?t[0]+":"+t[1]:t[0]}var r7=Object.defineProperty,o7=Object.defineProperties,s7=Object.getOwnPropertyDescriptors,U2=Object.getOwnPropertySymbols,a7=Object.prototype.hasOwnProperty,l7=Object.prototype.propertyIsEnumerable,H2=(l,t,r)=>t in l?r7(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,dv=(l,t)=>{for(var r in t||(t={}))a7.call(t,r)&&H2(l,r,t[r]);if(U2)for(var r of U2(t))l7.call(t,r)&&H2(l,r,t[r]);return l},$2=(l,t)=>o7(l,s7(t));class q2 extends re(){constructor(t){super(),this._conversionApi=dv({dispatcher:this},t),this._firedEventsMap=new WeakMap}convertChanges(t,r,s){const c=this._createConversionApi(s,t.getRefreshedItems());for(const f of t.getMarkersToRemove())this._convertMarkerRemove(f.name,f.range,c);const h=this._reduceChanges(t.getChanges());for(const f of h)f.type==="insert"?this._convertInsert(De._createFromPositionAndShift(f.position,f.length),c):f.type==="reinsert"?this._convertReinsert(De._createFromPositionAndShift(f.position,f.length),c):f.type==="remove"?this._convertRemove(f.position,f.length,f.name,c):this._convertAttribute(f.range,f.attributeKey,f.attributeOldValue,f.attributeNewValue,c);for(const f of c.mapper.flushUnboundMarkerNames()){const g=r.get(f).getRange();this._convertMarkerRemove(f,g,c),this._convertMarkerAdd(f,g,c)}for(const f of t.getMarkersToAdd())this._convertMarkerAdd(f.name,f.range,c);c.mapper.flushDeferredBindings(),c.consumable.verifyAllConsumed("insert")}convert(t,r,s,c={}){const h=this._createConversionApi(s,void 0,c);this._convertInsert(t,h);for(const[f,g]of r)this._convertMarkerAdd(f,g,h);h.consumable.verifyAllConsumed("insert")}convertSelection(t,r,s){const c=this._createConversionApi(s);this.fire("cleanSelection",{selection:t},c);const h=t.getFirstPosition().root;if(!c.mapper.toViewElement(h))return;const f=Array.from(r.getMarkersAtPosition(t.getFirstPosition()));if(this._addConsumablesForSelection(c.consumable,t,f),this.fire("selection",{selection:t},c),t.isCollapsed){for(const g of f)if(c.consumable.test(t,"addMarker:"+g.name)){const b=g.getRange();if(!c7(t.getFirstPosition(),g,c.mapper))continue;const _={item:t,markerName:g.name,markerRange:b};this.fire(`addMarker:${g.name}`,_,c)}for(const g of t.getAttributeKeys())if(c.consumable.test(t,"attribute:"+g)){const b={item:t,range:t.getFirstRange(),attributeKey:g,attributeOldValue:null,attributeNewValue:t.getAttribute(g)};this.fire(`attribute:${g}:$text`,b,c)}}}_convertInsert(t,r,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(r.consumable,Array.from(t));for(const c of Array.from(t.getWalker({shallow:!0})).map(W2))this._testAndFire("insert",c,r)}_convertRemove(t,r,s,c){this.fire(`remove:${s}`,{position:t,length:r},c)}_convertAttribute(t,r,s,c,h){this._addConsumablesForRange(h.consumable,t,`attribute:${r}`);for(const f of t){const g={item:f.item,range:De._createFromPositionAndShift(f.previousPosition,f.length),attributeKey:r,attributeOldValue:s,attributeNewValue:c};this._testAndFire(`attribute:${r}`,g,h)}}_convertReinsert(t,r){const s=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(r.consumable,s);for(const c of s.map(W2))this._testAndFire("insert",$2(dv({},c),{reconversion:!0}),r)}_convertMarkerAdd(t,r,s){if(r.root.rootName=="$graveyard")return;const c=`addMarker:${t}`;if(s.consumable.add(r,c),this.fire(c,{markerName:t,markerRange:r},s),s.consumable.consume(r,c)){this._addConsumablesForRange(s.consumable,r,c);for(const h of r.getItems()){if(!s.consumable.test(h,c))continue;const f={item:h,range:De._createOn(h),markerName:t,markerRange:r};this.fire(c,f,s)}}}_convertMarkerRemove(t,r,s){r.root.rootName!="$graveyard"&&this.fire(`removeMarker:${t}`,{markerName:t,markerRange:r},s)}_reduceChanges(t){const r={changes:t};return this.fire("reduceChanges",r),r.changes}_addConsumablesForInsert(t,r){for(const s of r){const c=s.item;if(t.test(c,"insert")===null){t.add(c,"insert");for(const h of c.getAttributeKeys())t.add(c,"attribute:"+h)}}return t}_addConsumablesForRange(t,r,s){for(const c of r.getItems())t.add(c,s);return t}_addConsumablesForSelection(t,r,s){t.add(r,"selection");for(const c of s)t.add(r,"addMarker:"+c.name);for(const c of r.getAttributeKeys())t.add(r,"attribute:"+c);return t}_testAndFire(t,r,s){const c=function(b,_){const C=_.item.is("element")?_.item.name:"$text";return`${b}:${C}`}(t,r),h=r.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(r.item):r.item,f=this._firedEventsMap.get(s),g=f.get(h);if(g){if(g.has(c))return;g.add(c)}else f.set(h,new Set([c]));this.fire(c,r,s)}_testAndFireAddAttributes(t,r){const s={item:t,range:De._createOn(t)};for(const c of s.item.getAttributeKeys())s.attributeKey=c,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(c),this._testAndFire(`attribute:${c}`,s,r)}_createConversionApi(t,r=new Set,s={}){const c=$2(dv({},this._conversionApi),{consumable:new i7,writer:t,options:s,convertItem:h=>this._convertInsert(De._createOn(h),c),convertChildren:h=>this._convertInsert(De._createIn(h),c,{doNotAddConsumables:!0}),convertAttributes:h=>this._testAndFireAddAttributes(h,c),canReuseView:h=>!r.has(c.mapper.toModelElement(h))});return this._firedEventsMap.set(c,new Map),c}}function c7(l,t,r){const s=t.getRange(),c=Array.from(l.getAncestors());return c.shift(),c.reverse(),!c.some(h=>{if(s.containsItem(h))return!!r.toViewElement(h).getCustomProperty("addHighlight")})}function W2(l){return{item:l.item,range:De._createFromPositionAndShift(l.previousPosition,l.length)}}class Or extends re(cl){constructor(...t){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const r of this._ranges){let s=!1;for(const c of t._ranges)if(r.isEqual(c)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new De(t.start,t.end)}getFirstRange(){let t=null;for(const r of this._ranges)t&&!r.start.isBefore(t.start)||(t=r);return t?new De(t.start,t.end):null}getLastRange(){let t=null;for(const r of this._ranges)t&&!r.end.isAfter(t.end)||(t=r);return t?new De(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[r,s,c]=t;if(typeof s=="object"&&(c=s,s=void 0),r===null)this._setRanges([]);else if(r instanceof Or)this._setRanges(r.getRanges(),r.isBackward);else if(r&&typeof r.getRanges=="function")this._setRanges(r.getRanges(),r.isBackward);else if(r instanceof De)this._setRanges([r],!!c&&!!c.backward);else if(r instanceof $e)this._setRanges([new De(r)]);else if(r instanceof Oc){const h=!!c&&!!c.backward;let f;if(s=="in")f=De._createIn(r);else if(s=="on")f=De._createOn(r);else{if(s===void 0)throw new F("model-selection-setto-required-second-parameter",[this,r]);f=new De($e._createAt(r,s))}this._setRanges([f],h)}else{if(!it(r))throw new F("model-selection-setto-not-selectable",[this,r]);this._setRanges(r,c&&!!c.backward)}}_setRanges(t,r=!1){const s=Array.from(t),c=s.some(h=>{if(!(h instanceof De))throw new F("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every(f=>!f.isEqual(h))});(s.length!==this._ranges.length||c)&&(this._replaceAllRanges(s),this._lastRangeBackward=!!r,this.fire("change:range",{directChange:!0}))}setFocus(t,r){if(this.anchor===null)throw new F("model-selection-setfocus-no-ranges",[this,t]);const s=$e._createAt(t,r);if(s.compareWith(this.focus)=="same")return;const c=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(c)=="before"?(this._pushRange(new De(s,c)),this._lastRangeBackward=!0):(this._pushRange(new De(c,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,r){this.getAttribute(t)!==r&&(this._attrs.set(t,r),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const r of this.getRanges()){const s=K2(r.start,t);d7(s,r)&&(yield s);for(const h of r.getWalker()){const f=h.item;h.type=="elementEnd"&&u7(f,t,r)&&(yield f)}const c=K2(r.end,t);h7(c,r)&&(yield c)}}containsEntireContent(t=this.anchor.root){const r=$e._createAt(t,0),s=$e._createAt(t,"end");return r.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new De(t.start,t.end))}_checkRange(t){for(let r=0;r<this._ranges.length;r++)if(t.isIntersecting(this._ranges[r]))throw new F("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[r]})}_replaceAllRanges(t){this._removeAllRanges();for(const r of t)this._pushRange(r)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function G2(l,t){return!t.has(l)&&(t.add(l),l.root.document.model.schema.isBlock(l)&&!!l.parent)}function u7(l,t,r){return G2(l,t)&&hv(l,r)}function K2(l,t){const r=l.parent.root.document.model.schema,s=l.parent.getAncestors({parentFirst:!0,includeSelf:!0});let c=!1;const h=s.find(f=>!c&&(c=r.isLimit(f),!c&&G2(f,t)));return s.forEach(f=>t.add(f)),h}function hv(l,t){const r=function(s){const c=s.root.document.model.schema;let h=s.parent;for(;h;){if(c.isBlock(h))return h;h=h.parent}}(l);return r?!t.containsRange(De._createOn(r),!0):!0}function d7(l,t){return!!l&&(!(!t.isCollapsed&&!l.isEmpty)||!t.start.isTouching($e._createAt(l,l.maxOffset))&&hv(l,t))}function h7(l,t){return!!l&&(!(!t.isCollapsed&&!l.isEmpty)||!t.end.isTouching($e._createAt(l,0))&&hv(l,t))}Or.prototype.is=function(l){return l==="selection"||l==="model:selection"};class Po extends re(De){constructor(t,r){super(t,r),f7.call(this)}detach(){this.stopListening()}toRange(){return new De(this.start,this.end)}static fromRange(t){return new Po(t.start,t.end)}}function f7(){this.listenTo(this.root.document.model,"applyOperation",(l,t)=>{const r=t[0];r.isDocumentOperation&&p7.call(this,r)},{priority:"low"})}function p7(l){const t=this.getTransformedByOperation(l),r=De._createFromRanges(t),s=!r.isEqual(this),c=function(f,g){switch(g.type){case"insert":return f.containsPosition(g.position);case"move":case"remove":case"reinsert":case"merge":return f.containsPosition(g.sourcePosition)||f.start.isEqual(g.sourcePosition)||f.containsPosition(g.targetPosition);case"split":return f.containsPosition(g.splitPosition)||f.containsPosition(g.insertionPosition)}return!1}(this,l);let h=null;if(s){r.root.rootName=="$graveyard"&&(h=l.type=="remove"?l.sourcePosition:l.deletionPosition);const f=this.toRange();this.start=r.start,this.end=r.end,this.fire("change:range",f,{deletionPosition:h})}else c&&this.fire("change:content",this.toRange(),{deletionPosition:h})}Po.prototype.is=function(l){return l==="liveRange"||l==="model:liveRange"||l=="range"||l==="model:range"};const lg="selection:";class No extends re(cl){constructor(t){super(),this._selection=new m7(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,r){this._selection.setFocus(t,r)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,r){this._selection.setAttribute(t,r)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return lg+t}static _isStoreAttributeKey(t){return t.startsWith(lg)}}No.prototype.is=function(l){return l==="selection"||l=="model:selection"||l=="documentSelection"||l=="model:documentSelection"};class m7 extends Or{constructor(t){super(),this.markers=new Ee({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=t.model,this._document=t,this.listenTo(this._model,"applyOperation",(r,s)=>{const c=s[0];c.isDocumentOperation&&c.type!="marker"&&c.type!="rename"&&c.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(r,s,c,h)=>{this._updateMarker(s,h)}),this.listenTo(this._document,"change",(r,s)=>{(function(c,h){const f=c.document.differ;for(const g of f.getChanges()){if(g.type!="insert")continue;const b=g.position.parent;g.length===b.maxOffset&&c.enqueueChange(h,_=>{const C=Array.from(b.getAttributeKeys()).filter(x=>x.startsWith(lg));for(const x of C)_.removeAttribute(x,b)})}})(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,r){super.setFocus(t,r),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,r){if(this._setAttribute(t,r)){const s=[t];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const r=[t];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}overrideGravity(){const t=W();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new F("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const r=this._prepareRange(t);r&&this._ranges.push(r)}_validateSelectionRanges(t){for(const r of t)if(!this._document._validateSelectionRange(r))throw new F("document-selection-wrong-position",this,{range:r})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const r=Po.fromRange(t);return r.on("change:range",(s,c,h)=>{if(this._hasChangedRange=!0,r.root==this._document.graveyard){this._selectionRestorePosition=h.deletionPosition;const f=this._ranges.indexOf(r);this._ranges.splice(f,1),r.detach()}}),r}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let r=!1;for(const c of this._model.markers){const h=c.name.split(":",1)[0];if(!this._observedMarkers.has(h))continue;const f=c.getRange();for(const g of this.getRanges())f.containsRange(g,!g.isCollapsed)&&t.push(c)}const s=Array.from(this.markers);for(const c of t)this.markers.has(c)||(this.markers.add(c),r=!0);for(const c of Array.from(this.markers))t.includes(c)||(this.markers.remove(c),r=!0);r&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(t,r){const s=t.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let c=!1;const h=Array.from(this.markers),f=this.markers.has(t);if(r){let g=!1;for(const b of this.getRanges())if(r.containsRange(b,!b.isCollapsed)){g=!0;break}g&&!f?(this.markers.add(t),c=!0):!g&&f&&(this.markers.remove(t),c=!0)}else f&&(this.markers.remove(t),c=!0);c&&this.fire("change:marker",{oldMarkers:h,directChange:!1})}_updateAttributes(t){const r=kt(this._getSurroundingAttributes()),s=kt(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[h,f]of this._attributePriority)f=="low"&&(this._attrs.delete(h),this._attributePriority.delete(h));this._setAttributesTo(r);const c=[];for(const[h,f]of this.getAttributes())s.has(h)&&s.get(h)===f||c.push(h);for(const[h]of s)this.hasAttribute(h)||c.push(h);c.length>0&&this.fire("change:attribute",{attributeKeys:c,directChange:!1})}_setAttribute(t,r,s=!0){const c=s?"normal":"low";return c=="low"&&this._attributePriority.get(t)=="normal"?!1:super.getAttribute(t)!==r&&(this._attrs.set(t,r),this._attributePriority.set(t,c),!0)}_removeAttribute(t,r=!0){const s=r?"normal":"low";return(s!="low"||this._attributePriority.get(t)!="normal")&&(this._attributePriority.set(t,s),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const r=new Set;for(const[s,c]of this.getAttributes())t.get(s)!==c&&this._removeAttribute(s,!1);for(const[s,c]of t)this._setAttribute(s,c,!1)&&r.add(s);return r}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const r of t.getAttributeKeys())r.startsWith(lg)&&(yield[r.substr(10),t.getAttribute(r)])}_getSurroundingAttributes(){const t=this.getFirstPosition(),r=this._model.schema;if(t.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const c=t.textNode?t.textNode:t.nodeBefore,h=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(s=Bf(c,r)),s||(s=Bf(h,r)),!this.isGravityOverridden&&!s){let f=c;for(;f&&!s;)f=f.previousSibling,s=Bf(f,r)}if(!s){let f=h;for(;f&&!s;)f=f.nextSibling,s=Bf(f,r)}s||(s=this.getStoredAttributes())}else{const c=this.getFirstRange();for(const h of c){if(h.item.is("element")&&r.isObject(h.item)){s=Bf(h.item,r);break}if(h.type=="text"){s=h.item.getAttributes();break}}}return s}_fixGraveyardSelection(t){const r=this._model.schema.getNearestSelectionRange(t);r&&this._pushRange(r)}}function Bf(l,t){if(!l)return null;if(l instanceof Mo||l instanceof bn)return l.getAttributes();if(!t.isInline(l))return null;if(!t.isObject(l))return[];const r=[];for(const[s,c]of l.getAttributes())t.checkAttribute("$text",s)&&t.getAttributeProperties(s).copyFromObject!==!1&&r.push([s,c]);return r}class Y2{constructor(t){this._dispatchers=t}add(t){for(const r of this._dispatchers)t(r);return this}}class g7 extends Y2{elementToElement(t){return this.add(function(r){const s=X2(r.model),c=Of(r.view,"container");return s.attributes.length&&(s.children=!0),h=>{h.on(`insert:${s.name}`,function(f,g=k7){return(b,_,C)=>{if(!g(_.item,C.consumable,{preflight:!0}))return;const x=f(_.item,C,_);if(!x)return;g(_.item,C.consumable);const M=C.mapper.toViewPosition(_.range.start);C.mapper.bindElements(_.item,x),C.writer.insert(M,x),C.convertAttributes(_.item),iT(x,_.item.getChildren(),C,{reconversion:_.reconversion})}}(c,nT(s)),{priority:r.converterPriority||"normal"}),(s.children||s.attributes.length)&&h.on("reduceChanges",tT(s),{priority:"low"})}}(t))}elementToStructure(t){return this.add(function(r){const s=X2(r.model),c=Of(r.view,"container");return s.children=!0,h=>{if(h._conversionApi.schema.checkChild(s.name,"$text"))throw new F("conversion-element-to-structure-disallowed-text",h,{elementName:s.name});var f,g;h.on(`insert:${s.name}`,(f=c,g=nT(s),(b,_,C)=>{if(!g(_.item,C.consumable,{preflight:!0}))return;const x=new Map;C.writer._registerSlotFactory(function(H,G,Z){return(se,ye)=>{const Be=se.createContainerElement("$slot");let ot=null;if(ye==="children")ot=Array.from(H.getChildren());else{if(typeof ye!="function")throw new F("conversion-slot-mode-unknown",Z.dispatcher,{modeOrFilter:ye});ot=Array.from(H.getChildren()).filter(yt=>ye(yt))}return G.set(Be,ot),Be}}(_.item,x,C));const M=f(_.item,C,_);if(C.writer._clearSlotFactory(),!M)return;(function(H,G,Z){const se=Array.from(G.values()).flat(),ye=new Set(se);if(ye.size!=se.length)throw new F("conversion-slot-filter-overlap",Z.dispatcher,{element:H});if(ye.size!=H.childCount)throw new F("conversion-slot-filter-incomplete",Z.dispatcher,{element:H})})(_.item,x,C),g(_.item,C.consumable);const z=C.mapper.toViewPosition(_.range.start);C.mapper.bindElements(_.item,M),C.writer.insert(z,M),C.convertAttributes(_.item),function(H,G,Z,se){Z.mapper.on("modelToViewPosition",ot,{priority:"highest"});let ye=null,Be=null;for([ye,Be]of G)iT(H,Be,Z,se),Z.writer.move(Z.writer.createRangeIn(ye),Z.writer.createPositionBefore(ye)),Z.writer.remove(ye);function ot(yt,cn){const Ft=cn.modelPosition.nodeAfter,ci=Be.indexOf(Ft);ci<0||(cn.viewPosition=cn.mapper.findPositionIn(ye,ci))}Z.mapper.off("modelToViewPosition",ot)}(M,x,C,{reconversion:_.reconversion})}),{priority:r.converterPriority||"normal"}),h.on("reduceChanges",tT(s),{priority:"low"})}}(t))}attributeToElement(t){return this.add(function(r){r=ll(r);let s=r.model;typeof s=="string"&&(s={key:s});let c=`attribute:${s.key}`;if(s.name&&(c+=":"+s.name),s.values)for(const f of s.values)r.view[f]=Of(r.view[f],"attribute");else r.view=Of(r.view,"attribute");const h=J2(r);return f=>{f.on(c,function(g){return(b,_,C)=>{if(!C.consumable.test(_.item,b.name))return;const x=g(_.attributeOldValue,C,_),M=g(_.attributeNewValue,C,_);if(!x&&!M)return;C.consumable.consume(_.item,b.name);const z=C.writer,H=z.document.selection;if(_.item instanceof Or||_.item instanceof No)z.wrap(H.getFirstRange(),M);else{let G=C.mapper.toViewRange(_.range);_.attributeOldValue!==null&&x&&(G=z.unwrap(G,x)),_.attributeNewValue!==null&&M&&z.wrap(G,M)}}}(h),{priority:r.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(r){r=ll(r);let s=r.model;typeof s=="string"&&(s={key:s});let c=`attribute:${s.key}`;if(s.name&&(c+=":"+s.name),s.values)for(const f of s.values)r.view[f]=eT(r.view[f]);else r.view=eT(r.view);const h=J2(r);return f=>{var g;f.on(c,(g=h,(b,_,C)=>{if(!C.consumable.test(_.item,b.name))return;const x=g(_.attributeOldValue,C,_),M=g(_.attributeNewValue,C,_);if(!x&&!M)return;C.consumable.consume(_.item,b.name);const z=C.mapper.toViewElement(_.item),H=C.writer;if(!z)throw new F("conversion-attribute-to-attribute-on-text",C.dispatcher,_);if(_.attributeOldValue!==null&&x)if(x.key=="class"){const G=X(x.value);for(const Z of G)H.removeClass(Z,z)}else if(x.key=="style"){const G=Object.keys(x.value);for(const Z of G)H.removeStyle(Z,z)}else H.removeAttribute(x.key,z);if(_.attributeNewValue!==null&&M)if(M.key=="class"){const G=X(M.value);for(const Z of G)H.addClass(Z,z)}else if(M.key=="style"){const G=Object.keys(M.value);for(const Z of G)H.setStyle(Z,M.value[Z],z)}else H.setAttribute(M.key,M.value,z)}),{priority:r.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(r){const s=Of(r.view,"ui");return c=>{var h;c.on(`addMarker:${r.model}`,(h=s,(f,g,b)=>{g.isOpening=!0;const _=h(g,b);g.isOpening=!1;const C=h(g,b);if(!_||!C)return;const x=g.markerRange;if(x.isCollapsed&&!b.consumable.consume(x,f.name))return;for(const H of x)if(!b.consumable.consume(H.item,f.name))return;const M=b.mapper,z=b.writer;z.insert(M.toViewPosition(x.start),_),b.mapper.bindElementToMarker(_,g.markerName),x.isCollapsed||(z.insert(M.toViewPosition(x.end),C),b.mapper.bindElementToMarker(C,g.markerName)),f.stop()}),{priority:r.converterPriority||"normal"}),c.on(`removeMarker:${r.model}`,(f,g,b)=>{const _=b.mapper.markerNameToElements(g.markerName);if(_){for(const C of _)b.mapper.unbindElementFromMarkerName(C,g.markerName),b.writer.clear(b.writer.createRangeOn(C),C);b.writer.clearClonedElementsGroup(g.markerName),f.stop()}},{priority:r.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(r){return s=>{var c;s.on(`addMarker:${r.model}`,(c=r.view,(h,f,g)=>{if(!f.item||!(f.item instanceof Or||f.item instanceof No||f.item.is("$textProxy")))return;const b=fv(c,f,g);if(!b||!g.consumable.consume(f.item,h.name))return;const _=g.writer,C=Q2(_,b),x=_.document.selection;if(f.item instanceof Or||f.item instanceof No)_.wrap(x.getFirstRange(),C);else{const M=g.mapper.toViewRange(f.range),z=_.wrap(M,C);for(const H of z.getItems())if(H.is("attributeElement")&&H.isSimilar(C)){g.mapper.bindElementToMarker(H,f.markerName);break}}}),{priority:r.converterPriority||"normal"}),s.on(`addMarker:${r.model}`,function(h){return(f,g,b)=>{if(!g.item||!(g.item instanceof an))return;const _=fv(h,g,b);if(!_||!b.consumable.test(g.item,f.name))return;const C=b.mapper.toViewElement(g.item);if(C&&C.getCustomProperty("addHighlight")){b.consumable.consume(g.item,f.name);for(const x of De._createIn(g.item))b.consumable.consume(x.item,f.name);C.getCustomProperty("addHighlight")(C,_,b.writer),b.mapper.bindElementToMarker(C,g.markerName)}}}(r.view),{priority:r.converterPriority||"normal"}),s.on(`removeMarker:${r.model}`,function(h){return(f,g,b)=>{if(g.markerRange.isCollapsed)return;const _=fv(h,g,b);if(!_)return;const C=Q2(b.writer,_),x=b.mapper.markerNameToElements(g.markerName);if(x){for(const M of x)b.mapper.unbindElementFromMarkerName(M,g.markerName),M.is("attributeElement")?b.writer.unwrap(b.writer.createRangeOn(M),C):M.getCustomProperty("removeHighlight")(M,_.id,b.writer);b.writer.clearClonedElementsGroup(g.markerName),f.stop()}}}(r.view),{priority:r.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(r){r=ll(r);const s=r.model;let c=r.view;return c||(c=h=>({group:s,name:h.substr(r.model.length+1)})),h=>{var f;h.on(`addMarker:${s}`,(f=c,(g,b,_)=>{const C=f(b.markerName,_);if(!C)return;const x=b.markerRange;_.consumable.consume(x,g.name)&&(Z2(x,!1,_,b,C),Z2(x,!0,_,b,C),g.stop())}),{priority:r.converterPriority||"normal"}),h.on(`removeMarker:${s}`,function(g){return(b,_,C)=>{const x=g(_.markerName,C);if(!x)return;const M=C.mapper.markerNameToElements(_.markerName);if(M){for(const H of M)C.mapper.unbindElementFromMarkerName(H,_.markerName),H.is("containerElement")?(z(`data-${x.group}-start-before`,H),z(`data-${x.group}-start-after`,H),z(`data-${x.group}-end-before`,H),z(`data-${x.group}-end-after`,H)):C.writer.clear(C.writer.createRangeOn(H),H);C.writer.clearClonedElementsGroup(_.markerName),b.stop()}function z(H,G){if(G.hasAttribute(H)){const Z=new Set(G.getAttribute(H).split(","));Z.delete(x.name),Z.size==0?C.writer.removeAttribute(H,G):C.writer.setAttribute(H,Array.from(Z).join(","),G)}}}}(c),{priority:r.converterPriority||"normal"})}}(t))}}function Q2(l,t){const r=l.createAttributeElement("span",t.attributes);return t.classes&&r._addClass(t.classes),typeof t.priority=="number"&&(r._priority=t.priority),r._id=t.id,r}function Z2(l,t,r,s,c){const h=t?l.start:l.end,f=h.nodeAfter&&h.nodeAfter.is("element")?h.nodeAfter:null,g=h.nodeBefore&&h.nodeBefore.is("element")?h.nodeBefore:null;if(f||g){let b,_;t&&f||!t&&!g?(b=f,_=!0):(b=g,_=!1);const C=r.mapper.toViewElement(b);if(C)return void function(x,M,z,H,G,Z){const se=`data-${Z.group}-${M?"start":"end"}-${z?"before":"after"}`,ye=x.hasAttribute(se)?x.getAttribute(se).split(","):[];ye.unshift(Z.name),H.writer.setAttribute(se,ye.join(","),x),H.mapper.bindElementToMarker(x,G.markerName)}(C,t,_,r,s,c)}(function(b,_,C,x,M){const z=`${M.group}-${_?"start":"end"}`,H=M.name?{name:M.name}:null,G=C.writer.createUIElement(z,H);C.writer.insert(b,G),C.mapper.bindElementToMarker(G,x.markerName)})(r.mapper.toViewPosition(h),t,r,s,c)}function X2(l){return typeof l=="string"&&(l={name:l}),l.attributes?Array.isArray(l.attributes)||(l.attributes=[l.attributes]):l.attributes=[],l.children=!!l.children,l}function Of(l,t){return typeof l=="function"?l:(r,s)=>function(c,h,f){typeof c=="string"&&(c={name:c});let g;const b=h.writer,_=Object.assign({},c.attributes);if(f=="container")g=b.createContainerElement(c.name,_);else if(f=="attribute"){const C={priority:c.priority||Nc.DEFAULT_PRIORITY};g=b.createAttributeElement(c.name,_,C)}else g=b.createUIElement(c.name,_);if(c.styles){const C=Object.keys(c.styles);for(const x of C)b.setStyle(x,c.styles[x],g)}if(c.classes){const C=c.classes;if(typeof C=="string")b.addClass(C,g);else for(const x of C)b.addClass(x,g)}return g}(l,s,t)}function J2(l){return l.model.values?(t,r,s)=>{const c=l.view[t];return c?c(t,r,s):null}:l.view}function eT(l){return typeof l=="string"?t=>({key:l,value:t}):typeof l=="object"?l.value?()=>l:t=>({key:l.key,value:t}):l}function fv(l,t,r){const s=typeof l=="function"?l(t,r):l;return s?(s.priority||(s.priority=10),s.id||(s.id=t.markerName),s):null}function tT(l){const t=function(r){return(s,c)=>{if(!s.is("element",r.name))return!1;if(c.type=="attribute"){if(r.attributes.includes(c.attributeKey))return!0}else if(r.children)return!0;return!1}}(l);return(r,s)=>{const c=[];s.reconvertedElements||(s.reconvertedElements=new Set);for(const h of s.changes){const f=h.type=="attribute"?h.range.start.nodeAfter:h.position.parent;if(f&&t(f,h)){if(!s.reconvertedElements.has(f)){s.reconvertedElements.add(f);const g=$e._createBefore(f);let b=c.length;for(let _=c.length-1;_>=0;_--){const C=c[_],x=(C.type=="attribute"?C.range.start:C.position).compareWith(g);if(x=="before"||C.type=="remove"&&x=="same")break;b=_}c.splice(b,0,{type:"remove",name:f.name,position:g,length:1},{type:"reinsert",name:f.name,position:g,length:1})}}else c.push(h)}s.changes=c}}function nT(l){return(t,r,s={})=>{const c=["insert"];for(const h of l.attributes)t.hasAttribute(h)&&c.push(`attribute:${h}`);return!!c.every(h=>r.test(t,h))&&(s.preflight||c.forEach(h=>r.consume(t,h)),!0)}}function iT(l,t,r,s){for(const c of t)b7(l.root,c,r,s)||r.convertItem(c)}function b7(l,t,r,s){const{writer:c,mapper:h}=r;if(!s.reconversion)return!1;const f=h.toViewElement(t);return!(!f||f.root==l)&&!!r.canReuseView(f)&&(c.move(c.createRangeOn(f),h.toViewPosition($e._createBefore(t))),!0)}function k7(l,t,{preflight:r}={}){return r?t.test(l,"insert"):t.consume(l,"insert")}function rT(l){const{schema:t,document:r}=l.model;for(const s of r.getRoots())if(s.isEmpty&&!t.checkChild(s,"$text")&&t.checkChild(s,"paragraph"))return l.insertElement("paragraph",s),!0;return!1}function oT(l,t,r){const s=r.createContext(l);return!!r.checkChild(s,"paragraph")&&!!r.checkChild(s.push("paragraph"),t)}function sT(l,t){const r=t.createElement("paragraph");return t.insert(r,l),t.createPositionAt(r,0)}var v7=Object.defineProperty,_7=Object.defineProperties,y7=Object.getOwnPropertyDescriptors,aT=Object.getOwnPropertySymbols,w7=Object.prototype.hasOwnProperty,C7=Object.prototype.propertyIsEnumerable,lT=(l,t,r)=>t in l?v7(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r;class A7 extends Y2{elementToElement(t){return this.add(cT(t))}elementToAttribute(t){return this.add(function(r){r=ll(r),uT(r);const s=dT(r,!1),c=pv(r.view),h=c?`element:${c}`:"element";return f=>{f.on(h,s,{priority:r.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(r){r=ll(r);let s=null;(typeof r.view=="string"||r.view.key)&&(s=function(h){typeof h.view=="string"&&(h.view={key:h.view});const f=h.view.key;let g;return f=="class"||f=="style"?g={[f=="class"?"classes":"styles"]:h.view.value}:g={attributes:{[f]:h.view.value===void 0?/[\s\S]*/:h.view.value}},h.view.name&&(g.name=h.view.name),h.view=g,f}(r)),uT(r,s);const c=dT(r,!0);return h=>{h.on("element",c,{priority:r.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(r){const s=function(f){return(g,b)=>{const _=typeof f=="string"?f:f(g,b);return b.writer.createElement("$marker",{"data-name":_})}}(r.model);return cT((c=((f,g)=>{for(var b in g||(g={}))w7.call(g,b)&&lT(f,b,g[b]);if(aT)for(var b of aT(g))C7.call(g,b)&&lT(f,b,g[b]);return f})({},r),h={model:s},_7(c,y7(h))));var c,h}(t))}dataToMarker(t){return this.add(function(r){r=ll(r),r.model||(r.model=f=>f?r.view+":"+f:r.view);const s={view:r.view,model:r.model},c=mv(hT(s,"start")),h=mv(hT(s,"end"));return f=>{f.on(`element:${r.view}-start`,c,{priority:r.converterPriority||"normal"}),f.on(`element:${r.view}-end`,h,{priority:r.converterPriority||"normal"});const g=q.low,b=q.highest,_=q.get(r.converterPriority)/b;f.on("element",function(C){return(x,M,z)=>{const H=`data-${C.view}`;function G(Z,se){for(const ye of se){const Be=C.model(ye,z),ot=z.writer.createElement("$marker",{"data-name":Be});z.writer.insert(ot,Z),M.modelCursor.isEqual(Z)?M.modelCursor=M.modelCursor.getShiftedBy(1):M.modelCursor=M.modelCursor._getTransformedByInsertion(Z,1),M.modelRange=M.modelRange._getTransformedByInsertion(Z,1)[0]}}(z.consumable.test(M.viewItem,{attributes:H+"-end-after"})||z.consumable.test(M.viewItem,{attributes:H+"-start-after"})||z.consumable.test(M.viewItem,{attributes:H+"-end-before"})||z.consumable.test(M.viewItem,{attributes:H+"-start-before"}))&&(M.modelRange||Object.assign(M,z.convertChildren(M.viewItem,M.modelCursor)),z.consumable.consume(M.viewItem,{attributes:H+"-end-after"})&&G(M.modelRange.end,M.viewItem.getAttribute(H+"-end-after").split(",")),z.consumable.consume(M.viewItem,{attributes:H+"-start-after"})&&G(M.modelRange.end,M.viewItem.getAttribute(H+"-start-after").split(",")),z.consumable.consume(M.viewItem,{attributes:H+"-end-before"})&&G(M.modelRange.start,M.viewItem.getAttribute(H+"-end-before").split(",")),z.consumable.consume(M.viewItem,{attributes:H+"-start-before"})&&G(M.modelRange.start,M.viewItem.getAttribute(H+"-start-before").split(",")))}}(s),{priority:g+_})}}(t))}}function cT(l){const t=mv(l=ll(l)),r=pv(l.view),s=r?`element:${r}`:"element";return c=>{c.on(s,t,{priority:l.converterPriority||"normal"})}}function pv(l){return typeof l=="string"?l:typeof l=="object"&&typeof l.name=="string"?l.name:null}function mv(l){const t=new Do(l.view);return(r,s,c)=>{const h=t.match(s.viewItem);if(!h)return;const f=h.match;if(f.name=!0,!c.consumable.test(s.viewItem,f))return;const g=function(b,_,C){return b instanceof Function?b(_,C):C.writer.createElement(b)}(l.model,s.viewItem,c);g&&c.safeInsert(g,s.modelCursor)&&(c.consumable.consume(s.viewItem,f),c.convertChildren(s.viewItem,g),c.updateConversionResult(g,s))}}function uT(l,t=null){const r=t===null||(h=>h.getAttribute(t)),s=typeof l.model!="object"?l.model:l.model.key,c=typeof l.model!="object"||l.model.value===void 0?r:l.model.value;l.model={key:s,value:c}}function dT(l,t){const r=new Do(l.view);return(s,c,h)=>{if(!c.modelRange&&t)return;const f=r.match(c.viewItem);if(!f||(function(C,x){const M=typeof C=="function"?C(x):C;return typeof M=="object"&&!pv(M)?!1:!M.classes&&!M.attributes&&!M.styles}(l.view,c.viewItem)?f.match.name=!0:delete f.match.name,!h.consumable.test(c.viewItem,f.match)))return;const g=l.model.key,b=typeof l.model.value=="function"?l.model.value(c.viewItem,h):l.model.value;if(b===null)return;c.modelRange||Object.assign(c,h.convertChildren(c.viewItem,c.modelCursor)),function(C,x,M,z){let H=!1;for(const G of Array.from(C.getItems({shallow:M})))z.schema.checkAttribute(G,x.key)&&(H=!0,G.hasAttribute(x.key)||z.writer.setAttribute(x.key,x.value,G));return H}(c.modelRange,{key:g,value:b},t,h)&&(h.consumable.test(c.viewItem,{name:!0})&&(f.match.name=!0),h.consumable.consume(c.viewItem,f.match))}}function hT(l,t){return{view:`${l.view}-${t}`,model:(r,s)=>{const c=r.getAttribute("name"),h=l.model(c,s);return s.writer.createElement("$marker",{"data-name":h})}}}function T7(l){l.document.registerPostFixer(t=>function(r,s){const c=s.document.selection,h=s.schema,f=[];let g=!1;for(const b of c.getRanges()){const _=fT(b,h);_&&!_.isEqual(b)?(f.push(_),g=!0):f.push(b)}return g&&r.setSelection(function(b){const _=[...b],C=new Set;let x=1;for(;x<_.length;){const M=_[x],z=_.slice(0,x);for(const[H,G]of z.entries())if(!C.has(H)){if(M.isEqual(G))C.add(H);else if(M.isIntersecting(G)){C.add(H),C.add(x);const Z=M.getJoined(G);_.push(Z)}}x++}return _.filter((M,z)=>!C.has(z))}(f),{backward:c.isBackward}),!1}(t,l))}function fT(l,t){return l.isCollapsed?function(r,s){const c=r.start,h=s.getNearestSelectionRange(c);if(!h){const g=c.getAncestors().reverse().find(b=>s.isObject(b));return g?De._createOn(g):null}if(!h.isCollapsed)return h;const f=h.start;return c.isEqual(f)?null:new De(f)}(l,t):function(r,s){const{start:c,end:h}=r,f=s.checkChild(c,"$text"),g=s.checkChild(h,"$text"),b=s.getLimitElement(c),_=s.getLimitElement(h);if(b===_){if(f&&g)return null;if(function(M,z,H){const G=M.nodeAfter&&!H.isLimit(M.nodeAfter)||H.checkChild(M,"$text"),Z=z.nodeBefore&&!H.isLimit(z.nodeBefore)||H.checkChild(z,"$text");return G||Z}(c,h,s)){const M=c.nodeAfter&&s.isSelectable(c.nodeAfter)?null:s.getNearestSelectionRange(c,"forward"),z=h.nodeBefore&&s.isSelectable(h.nodeBefore)?null:s.getNearestSelectionRange(h,"backward"),H=M?M.start:c,G=z?z.end:h;return new De(H,G)}}const C=b&&!b.is("rootElement"),x=_&&!_.is("rootElement");if(C||x){const M=c.nodeAfter&&h.nodeBefore&&c.nodeAfter.parent===h.nodeBefore.parent,z=C&&(!M||!mT(c.nodeAfter,s)),H=x&&(!M||!mT(h.nodeBefore,s));let G=c,Z=h;return z&&(G=$e._createBefore(pT(b,s))),H&&(Z=$e._createAfter(pT(_,s))),new De(G,Z)}return null}(l,t)}function pT(l,t){let r=l,s=r;for(;t.isLimit(s)&&s.parent;)r=s,s=s.parent;return r}function mT(l,t){return l&&t.isSelectable(l)}class x7 extends xe(){constructor(t,r){super(),this.model=t,this.view=new n7(r),this.mapper=new V2,this.downcastDispatcher=new q2({mapper:this.mapper,schema:t.schema});const s=this.model.document,c=s.selection,h=this.model.markers;var f,g,b;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(_=>{this.downcastDispatcher.convertChanges(s.differ,h,_),this.downcastDispatcher.convertSelection(c,h,_)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(_,C){return(x,M)=>{const z=M.newSelection,H=[];for(const Z of z.getRanges())H.push(C.toModelRange(Z));const G=_.createSelection(H,{backward:z.isBackward});G.isEqual(_.document.selection)||_.change(Z=>{Z.setSelection(G)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(f=this.mapper,g=this.model.schema,b=this.view,(_,C)=>{if(!b.document.isComposing||y.isAndroid)for(let x=0;x<C.targetRanges.length;x++){const M=C.targetRanges[x],z=f.toModelRange(M),H=fT(z,g);H&&!H.isEqual(z)&&(C.targetRanges[x]=f.toViewRange(H))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(_,C,x)=>{if(!x.consumable.consume(C.item,_.name))return;const M=x.writer,z=x.mapper.toViewPosition(C.range.start),H=M.createText(C.item.data);M.insert(z,H)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(_,C,x)=>{x.convertAttributes(C.item),C.reconversion||!C.item.is("element")||C.item.isEmpty||x.convertChildren(C.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(_,C,x)=>{const M=x.mapper.toViewPosition(C.position),z=C.position.getShiftedBy(C.length),H=x.mapper.toViewPosition(z,{isPhantom:!0}),G=x.writer.createRange(M,H),Z=x.writer.remove(G.getTrimmed());for(const se of x.writer.createRangeIn(Z).getItems())x.mapper.unbindViewElement(se,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(_,C,x)=>{const M=x.writer,z=M.document.selection;for(const H of z.getRanges())H.isCollapsed&&H.end.parent.isAttached()&&x.writer.mergeAttributes(H.start);M.setSelection(null)}),this.downcastDispatcher.on("selection",(_,C,x)=>{const M=C.selection;if(M.isCollapsed||!x.consumable.consume(M,"selection"))return;const z=[];for(const H of M.getRanges())z.push(x.mapper.toViewRange(H));x.writer.setSelection(z,{backward:M.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(_,C,x)=>{const M=C.selection;if(!M.isCollapsed||!x.consumable.consume(M,"selection"))return;const z=x.writer,H=M.getFirstPosition(),G=x.mapper.toViewPosition(H),Z=z.breakAttributes(G);z.setSelection(Z)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(_=>{if(_.rootName=="$graveyard")return null;const C=new c2(this.view.document,_.name);return C.rootName=_.rootName,this.mapper.bindElements(_,C),C})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const r=typeof t=="string"?t:t.name,s=this.model.markers.get(r);if(!s)throw new F("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:r});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(t){this.model.change(()=>{this.model.document.differ._refreshItem(t)})}}class Lf{constructor(){this._consumables=new Map}add(t,r){let s;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?s=this._consumables.get(t):(s=new E7(t),this._consumables.set(t,s)),s.add(r))}test(t,r){const s=this._consumables.get(t);return s===void 0?null:t.is("$text")||t.is("documentFragment")?s:s.test(r)}consume(t,r){return!!this.test(t,r)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(r),!0)}revert(t,r){const s=this._consumables.get(t);s!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):s.revert(r))}static consumablesFromElement(t){const r={element:t,name:!0,attributes:[],classes:[],styles:[]},s=t.getAttributeKeys();for(const f of s)f!="style"&&f!="class"&&r.attributes.push(f);const c=t.getClassNames();for(const f of c)r.classes.push(f);const h=t.getStyleNames();for(const f of h)r.styles.push(f);return r}static createFrom(t,r){if(r||(r=new Lf),t.is("$text"))return r.add(t),r;t.is("element")&&r.add(t,Lf.consumablesFromElement(t)),t.is("documentFragment")&&r.add(t);for(const s of t.getChildren())r=Lf.createFrom(s,r);return r}}const cg=["attributes","classes","styles"];class E7{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const r of cg)r in t&&this._add(r,t[r])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const r of cg)if(r in t){const s=this._test(r,t[r]);if(s!==!0)return s}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const r of cg)r in t&&this._consume(r,t[r])}revert(t){t.name&&(this._canConsumeName=!0);for(const r of cg)r in t&&this._revert(r,t[r])}_add(t,r){const s=En(r)?r:[r],c=this._consumables[t];for(const h of s){if(t==="attributes"&&(h==="class"||h==="style"))throw new F("viewconsumable-invalid-attribute",this);if(c.set(h,!0),t==="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(h))c.set(f,!0)}}_test(t,r){const s=En(r)?r:[r],c=this._consumables[t];for(const h of s)if(t!=="attributes"||h!=="class"&&h!=="style"){const f=c.get(h);if(f===void 0)return null;if(!f)return!1}else{const f=h=="class"?"classes":"styles",g=this._test(f,[...this._consumables[f].keys()]);if(g!==!0)return g}return!0}_consume(t,r){const s=En(r)?r:[r],c=this._consumables[t];for(const h of s)if(t!=="attributes"||h!=="class"&&h!=="style"){if(c.set(h,!1),t=="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(h))c.set(f,!1)}else{const f=h=="class"?"classes":"styles";this._consume(f,[...this._consumables[f].keys()])}}_revert(t,r){const s=En(r)?r:[r],c=this._consumables[t];for(const h of s)if(t!=="attributes"||h!=="class"&&h!=="style")c.get(h)===!1&&c.set(h,!0);else{const f=h=="class"?"classes":"styles";this._revert(f,[...this._consumables[f].keys()])}}}class S7 extends xe(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,r)=>{r[0]=new Rc(r[0])},{priority:"highest"}),this.on("checkChild",(t,r)=>{r[0]=new Rc(r[0]),r[1]=this.getDefinition(r[1])},{priority:"highest"})}register(t,r){if(this._sourceDefinitions[t])throw new F("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},r)],this._clearCache()}extend(t,r){if(!this._sourceDefinitions[t])throw new F("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},r)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let r;return r=typeof t=="string"?t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[r]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const r=this.getDefinition(t);return!(!r||!r.isBlock)}isLimit(t){const r=this.getDefinition(t);return!!r&&!(!r.isLimit&&!r.isObject)}isObject(t){const r=this.getDefinition(t);return!!r&&!!(r.isObject||r.isLimit&&r.isSelectable&&r.isContent)}isInline(t){const r=this.getDefinition(t);return!(!r||!r.isInline)}isSelectable(t){const r=this.getDefinition(t);return!!r&&!(!r.isSelectable&&!r.isObject)}isContent(t){const r=this.getDefinition(t);return!!r&&!(!r.isContent&&!r.isObject)}checkChild(t,r){return!!r&&this._checkContextMatch(r,t)}checkAttribute(t,r){const s=this.getDefinition(t.last);return!!s&&s.allowAttributes.includes(r)}checkMerge(t,r){if(t instanceof $e){const s=t.nodeBefore,c=t.nodeAfter;if(!(s instanceof an))throw new F("schema-check-merge-no-element-before",this);if(!(c instanceof an))throw new F("schema-check-merge-no-element-after",this);return this.checkMerge(s,c)}for(const s of r.getChildren())if(!this.checkChild(t,s))return!1;return!0}addChildCheck(t){this.on("checkChild",(r,[s,c])=>{if(!c)return;const h=t(s,c);typeof h=="boolean"&&(r.stop(),r.return=h)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(r,[s,c])=>{const h=t(s,c);typeof h=="boolean"&&(r.stop(),r.return=h)},{priority:"high"})}setAttributeProperties(t,r){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),r)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let r;for(t instanceof $e?r=t.parent:r=(t instanceof De?[t]:Array.from(t.getRanges())).reduce((s,c)=>{const h=c.getCommonAncestor();return s?s.getCommonAncestor(h,{includeSelf:!0}):h},null);!this.isLimit(r)&&r.parent;)r=r.parent;return r}checkAttributeInSelection(t,r){if(t.isCollapsed){const s=[...t.getFirstPosition().getAncestors(),new bn("",t.getAttributes())];return this.checkAttribute(s,r)}{const s=t.getRanges();for(const c of s)for(const h of c)if(this.checkAttribute(h.item,r))return!0}return!1}*getValidRanges(t,r){t=function*(s){for(const c of s)yield*c.getMinimalFlatRanges()}(t);for(const s of t)yield*this._getValidRangesForRange(s,r)}getNearestSelectionRange(t,r="both"){if(t.root.rootName=="$graveyard")return null;if(this.checkChild(t,"$text"))return new De(t);let s,c;const h=t.getAncestors().reverse().find(f=>this.isLimit(f))||t.root;r!="both"&&r!="backward"||(s=new us({boundaries:De._createIn(h),startPosition:t,direction:"backward"})),r!="both"&&r!="forward"||(c=new us({boundaries:De._createIn(h),startPosition:t}));for(const f of function*(g,b){let _=!1;for(;!_;){if(_=!0,g){const C=g.next();C.done||(_=!1,yield{walker:g,value:C.value})}if(b){const C=b.next();C.done||(_=!1,yield{walker:b,value:C.value})}}}(s,c)){const g=f.walker==s?"elementEnd":"elementStart",b=f.value;if(b.type==g&&this.isObject(b.item))return De._createOn(b.item);if(this.checkChild(b.nextPosition,"$text"))return new De(b.nextPosition)}return null}findAllowedParent(t,r){let s=t.parent;for(;s;){if(this.checkChild(s,r))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(t,r,s){const c=s.model;for(const[h,f]of Object.entries(r))c.schema.checkAttribute(t,h)&&s.setAttribute(h,f,t)}removeDisallowedAttributes(t,r){for(const s of t)if(s.is("$text"))gT(this,s,r);else{const c=De._createIn(s).getPositions();for(const h of c)gT(this,h.nodeBefore||h.parent,r)}}getAttributesWithProperty(t,r,s){const c={};for(const[h,f]of t.getAttributes()){const g=this.getAttributeProperties(h);g[r]!==void 0&&(s!==void 0&&s!==g[r]||(c[h]=f))}return c}createContext(t){return new Rc(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},r=this._sourceDefinitions,s=Object.keys(r);for(const c of s)t[c]=D7(r[c],c);for(const c of s)I7(t,c);for(const c of s)M7(t,c);for(const c of s)P7(t,c);for(const c of s)N7(t,c),B7(t,c);for(const c of s)O7(t,c),L7(t,c),R7(t,c);this._compiledDefinitions=t}_checkContextMatch(t,r,s=r.length-1){const c=r.getItem(s);if(t.allowIn.includes(c.name)){if(s==0)return!0;{const h=this.getDefinition(c);return this._checkContextMatch(h,r,s-1)}}return!1}*_getValidRangesForRange(t,r){let s=t.start,c=t.start;for(const h of t.getItems({shallow:!0}))h.is("element")&&(yield*this._getValidRangesForRange(De._createIn(h),r)),this.checkAttribute(h,r)||(s.isEqual(c)||(yield new De(s,c)),s=$e._createAfter(h)),c=$e._createAfter(h);s.isEqual(c)||(yield new De(s,c))}}class Rc{constructor(t){if(t instanceof Rc)return t;let r;r=typeof t=="string"?[t]:Array.isArray(t)?t:t.getAncestors({includeSelf:!0}),this._items=r.map(j7)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const r=new Rc([t]);return r._items=[...this._items,...r._items],r}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function D7(l,t){const r={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(s,c){for(const h of s){const f=Object.keys(h).filter(g=>g.startsWith("is"));for(const g of f)c[g]=!!h[g]}}(l,r),Fc(l,r,"allowIn"),Fc(l,r,"allowContentOf"),Fc(l,r,"allowWhere"),Fc(l,r,"allowAttributes"),Fc(l,r,"allowAttributesOf"),Fc(l,r,"allowChildren"),Fc(l,r,"inheritTypesFrom"),function(s,c){for(const h of s){const f=h.inheritAllFrom;f&&(c.allowContentOf.push(f),c.allowWhere.push(f),c.allowAttributesOf.push(f),c.inheritTypesFrom.push(f))}}(l,r),r}function I7(l,t){const r=l[t];for(const s of r.allowChildren){const c=l[s];c&&c.allowIn.push(t)}r.allowChildren.length=0}function M7(l,t){for(const r of l[t].allowContentOf)l[r]&&F7(l,r).forEach(s=>{s.allowIn.push(t)});delete l[t].allowContentOf}function P7(l,t){for(const r of l[t].allowWhere){const s=l[r];if(s){const c=s.allowIn;l[t].allowIn.push(...c)}}delete l[t].allowWhere}function N7(l,t){for(const r of l[t].allowAttributesOf){const s=l[r];if(s){const c=s.allowAttributes;l[t].allowAttributes.push(...c)}}delete l[t].allowAttributesOf}function B7(l,t){const r=l[t];for(const s of r.inheritTypesFrom){const c=l[s];if(c){const h=Object.keys(c).filter(f=>f.startsWith("is"));for(const f of h)f in r||(r[f]=c[f])}}delete r.inheritTypesFrom}function O7(l,t){const r=l[t],s=r.allowIn.filter(c=>l[c]);r.allowIn=Array.from(new Set(s))}function L7(l,t){const r=l[t];for(const s of r.allowIn)l[s].allowChildren.push(t)}function R7(l,t){const r=l[t];r.allowAttributes=Array.from(new Set(r.allowAttributes))}function Fc(l,t,r){for(const s of l){const c=s[r];typeof c=="string"?t[r].push(c):Array.isArray(c)&&t[r].push(...c)}}function F7(l,t){const r=l[t];return(s=l,Object.keys(s).map(c=>s[c])).filter(c=>c.allowIn.includes(r.name));var s}function j7(l){return typeof l=="string"||l.is("documentFragment")?{name:typeof l=="string"?l:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:l.is("element")?l.name:"$text",*getAttributeKeys(){yield*l.getAttributeKeys()},getAttribute:t=>l.getAttribute(t)}}function gT(l,t,r){for(const s of t.getAttributeKeys())l.checkAttribute(t,s)||r.removeAttribute(s,t)}var z7=Object.defineProperty,V7=Object.defineProperties,U7=Object.getOwnPropertyDescriptors,bT=Object.getOwnPropertySymbols,H7=Object.prototype.hasOwnProperty,$7=Object.prototype.propertyIsEnumerable,kT=(l,t,r)=>t in l?z7(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r;class q7 extends re(){constructor(t){var r;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(r=((s,c)=>{for(var h in c||(c={}))H7.call(c,h)&&kT(s,h,c[h]);if(bT)for(var h of bT(c))$7.call(c,h)&&kT(s,h,c[h]);return s})({},t),V7(r,U7({consumable:null,writer:null,store:null,convertItem:(s,c)=>this._convertItem(s,c),convertChildren:(s,c)=>this._convertChildren(s,c),safeInsert:(s,c)=>this._safeInsert(s,c),updateConversionResult:(s,c)=>this._updateConversionResult(s,c),splitToAllowedParent:(s,c)=>this._splitToAllowedParent(s,c),getSplitParts:s=>this._getSplitParts(s),keepEmptyElement:s=>this._keepEmptyElement(s)})))}convert(t,r,s=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(f,g){let b;for(const _ of new Rc(f)){const C={};for(const M of _.getAttributeKeys())C[M]=_.getAttribute(M);const x=g.createElement(_.name,C);b&&g.insert(x,b),b=$e._createAt(x,0)}return b}(s,r),this.conversionApi.writer=r,this.conversionApi.consumable=Lf.createFrom(t),this.conversionApi.store={};const{modelRange:c}=this._convertItem(t,this._modelCursor),h=r.createDocumentFragment();if(c){this._removeEmptyElements();for(const f of Array.from(this._modelCursor.parent.getChildren()))r.append(f,h);h.markers=function(f,g){const b=new Set,_=new Map,C=De._createIn(f).getItems();for(const x of C)x.is("element","$marker")&&b.add(x);for(const x of b){const M=x.getAttribute("data-name"),z=g.createPositionBefore(x);_.has(M)?_.get(M).end=z.clone():_.set(M,new De(z.clone())),g.remove(x)}return _}(h,r)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,h}_convertItem(t,r){const s={viewItem:t,modelCursor:r,modelRange:null};if(t.is("element")?this.fire(`element:${t.name}`,s,this.conversionApi):t.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof De))throw new F("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(t,r){let s=r.is("position")?r:$e._createAt(r,0);const c=new De(s);for(const h of Array.from(t.getChildren())){const f=this._convertItem(h,s);f.modelRange instanceof De&&(c.end=f.modelRange.end,s=f.modelCursor)}return{modelRange:c,modelCursor:s}}_safeInsert(t,r){const s=this._splitToAllowedParent(t,r);return!!s&&(this.conversionApi.writer.insert(t,s.position),!0)}_updateConversionResult(t,r){const s=this._getSplitParts(t),c=this.conversionApi.writer;r.modelRange||(r.modelRange=c.createRange(c.createPositionBefore(t),c.createPositionAfter(s[s.length-1])));const h=this._cursorParents.get(t);r.modelCursor=h?c.createPositionAt(h,0):r.modelRange.end}_splitToAllowedParent(t,r){const{schema:s,writer:c}=this.conversionApi;let h=s.findAllowedParent(r,t);if(h){if(h===r.parent)return{position:r};this._modelCursor.parent.getAncestors().includes(h)&&(h=null)}if(!h)return oT(r,t,s)?{position:sT(r,c)}:null;const f=this.conversionApi.writer.split(r,h),g=[];for(const _ of f.range.getWalker())if(_.type=="elementEnd")g.push(_.item);else{const C=g.pop(),x=_.item;this._registerSplitPair(C,x)}const b=f.range.end.parent;return this._cursorParents.set(t,b),{position:f.position,cursorParent:b}}_registerSplitPair(t,r){this._splitParts.has(t)||this._splitParts.set(t,[t]);const s=this._splitParts.get(t);this._splitParts.set(r,s),s.push(r)}_getSplitParts(t){let r;return r=this._splitParts.has(t)?this._splitParts.get(t):[t],r}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){let t=!1;for(const r of this._splitParts.keys())r.isEmpty&&!this._emptyElementsToKeep.has(r)&&(this.conversionApi.writer.remove(r),this._splitParts.delete(r),t=!0);t&&this._removeEmptyElements()}}class W7{getHtml(t){const r=document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(t),r.innerHTML}}class G7{constructor(t){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new ig(t,{renderingMode:"data"}),this.htmlWriter=new W7}toData(t){const r=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(r)}toView(t){const r=this._toDom(t);return this.domConverter.domToView(r,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t=`<body>${t}</body>`);const r=this.domParser.parseFromString(t,"text/html"),s=r.createDocumentFragment(),c=r.body.childNodes;for(;c.length>0;)s.appendChild(c[0]);return s}}class K7 extends re(){constructor(t,r){super(),this.model=t,this.mapper=new V2,this.downcastDispatcher=new q2({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(s,c,h)=>{if(!h.consumable.consume(c.item,s.name))return;const f=h.writer,g=h.mapper.toViewPosition(c.range.start),b=f.createText(c.item.data);f.insert(g,b)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(s,c,h)=>{h.convertAttributes(c.item),c.reconversion||!c.item.is("element")||c.item.isEmpty||h.convertChildren(c.item)},{priority:"lowest"}),this.upcastDispatcher=new q7({schema:t.schema}),this.viewDocument=new eg(r),this.stylesProcessor=r,this.htmlProcessor=new G7(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new d2(this.viewDocument),this.upcastDispatcher.on("text",(s,c,{schema:h,consumable:f,writer:g})=>{let b=c.modelCursor;if(!f.test(c.viewItem))return;if(!h.checkChild(b,"$text")){if(!oT(b,"$text",h)||c.viewItem.data.trim().length==0)return;const C=b.nodeBefore;b=sT(b,g),C&&C.is("element","$marker")&&(g.move(g.createRangeOn(C),b),b=g.createPositionAfter(C))}f.consume(c.viewItem);const _=g.createText(c.viewItem.data);g.insert(_,b),c.modelRange=g.createRange(b,b.getShiftedBy(_.offsetSize)),c.modelCursor=c.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(s,c,h)=>{if(!c.modelRange&&h.consumable.consume(c.viewItem,{name:!0})){const{modelRange:f,modelCursor:g}=h.convertChildren(c.viewItem,c.modelCursor);c.modelRange=f,c.modelCursor=g}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(s,c,h)=>{if(!c.modelRange&&h.consumable.consume(c.viewItem,{name:!0})){const{modelRange:f,modelCursor:g}=h.convertChildren(c.viewItem,c.modelCursor);c.modelRange=f,c.modelCursor=g}},{priority:"lowest"}),xe().prototype.decorate.call(this,"init"),xe().prototype.decorate.call(this,"set"),xe().prototype.decorate.call(this,"get"),xe().prototype.decorate.call(this,"toView"),xe().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},rT)},{priority:"lowest"})}get(t={}){const{rootName:r="main",trim:s="empty"}=t;if(!this._checkIfRootsExists([r]))throw new F("datacontroller-get-non-existent-root",this);const c=this.model.document.getRoot(r);return c.isAttached()||Q("datacontroller-get-detached-root",this),s!=="empty"||this.model.hasContent(c,{ignoreWhitespaces:!0})?this.stringify(c,t):""}stringify(t,r={}){const s=this.toView(t,r);return this.processor.toData(s)}toView(t,r={}){const s=this.viewDocument,c=this._viewWriter;this.mapper.clearBindings();const h=De._createIn(t),f=new Bc(s);this.mapper.bindElements(t,f);const g=t.is("documentFragment")?t.markers:function(b){const _=[],C=b.root.document;if(!C)return new Map;const x=De._createIn(b);for(const M of C.model.markers){const z=M.getRange(),H=z.isCollapsed,G=z.start.isEqual(x.start)||z.end.isEqual(x.end);if(H&&G)_.push([M.name,z]);else{const Z=x.getIntersection(z);Z&&_.push([M.name,Z])}}return _.sort(([M,z],[H,G])=>{if(z.end.compareWith(G.start)!=="after")return 1;if(z.start.compareWith(G.end)!=="before")return-1;switch(z.start.compareWith(G.start)){case"before":return 1;case"after":return-1;default:switch(z.end.compareWith(G.end)){case"before":return 1;case"after":return-1;default:return H.localeCompare(M)}}}),new Map(_)}(t);return this.downcastDispatcher.convert(h,g,c,r),f}init(t){if(this.model.document.version)throw new F("datacontroller-init-document-not-empty",this);let r={};if(typeof t=="string"?r.main=t:r=t,!this._checkIfRootsExists(Object.keys(r)))throw new F("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const c of Object.keys(r)){const h=this.model.document.getRoot(c);s.insert(this.parse(r[c],h),h,0)}}),Promise.resolve()}set(t,r={}){let s={};if(typeof t=="string"?s.main=t:s=t,!this._checkIfRootsExists(Object.keys(s)))throw new F("datacontroller-set-non-existent-root",this);this.model.enqueueChange(r.batchType||{},c=>{c.setSelection(null),c.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const h of Object.keys(s)){const f=this.model.document.getRoot(h);c.remove(c.createRangeIn(f)),c.insert(this.parse(s[h],f),f,0)}})}parse(t,r="$root"){const s=this.processor.toView(t);return this.toModel(s,r)}toModel(t,r="$root"){return this.model.change(s=>this.upcastDispatcher.convert(t,s,r))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const r of t)if(!this.model.document.getRoot(r))return!1;return!0}}class Y7{constructor(t,r){this._helpers=new Map,this._downcast=X(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=X(r),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,r){const s=this._downcast.includes(r);if(!this._upcast.includes(r)&&!s)throw new F("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[r],isDowncast:s})}for(t){if(!this._helpers.has(t))throw new F("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:r,view:s}of gv(t))this.for("upcast").elementToElement({model:r,view:s,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:r,view:s}of gv(t))this.for("upcast").elementToAttribute({view:s,model:r,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:r,view:s}of gv(t))this.for("upcast").attributeToAttribute({view:s,model:r})}_createConversionHelpers({name:t,dispatchers:r,isDowncast:s}){if(this._helpers.has(t))throw new F("conversion-group-exists",this);const c=s?new g7(r):new A7(r);this._helpers.set(t,c)}}function*gv(l){if(l.model.values)for(const t of l.model.values){const r={key:l.model.key,value:t},s=l.view[t],c=l.upcastAlso?l.upcastAlso[t]:void 0;yield*vT(r,s,c)}else yield*vT(l.model,l.view,l.upcastAlso)}function*vT(l,t,r){if(yield{model:l,view:t},r)for(const s of X(r))yield{model:l,view:s}}class Lr{constructor(t){this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,r){return new this(t.baseVersion)}}function bv(l,t){const r=yT(t),s=r.reduce((f,g)=>f+g.offsetSize,0),c=l.parent;jf(l);const h=l.index;return c._insertChild(h,r),Ff(c,h+r.length),Ff(c,h),new De(l,l.getShiftedBy(s))}function _T(l){if(!l.isFlat)throw new F("operation-utils-remove-range-not-flat",this);const t=l.start.parent;jf(l.start),jf(l.end);const r=t._removeChildren(l.start.index,l.end.index-l.start.index);return Ff(t,l.start.index),r}function Rf(l,t){if(!l.isFlat)throw new F("operation-utils-move-range-not-flat",this);const r=_T(l);return bv(t=t._getTransformedByDeletion(l.start,l.end.offset-l.start.offset),r)}function yT(l){const t=[];(function r(s){if(typeof s=="string")t.push(new bn(s));else if(s instanceof Mo)t.push(new bn(s.data,s.getAttributes()));else if(s instanceof Oc)t.push(s);else if(it(s))for(const c of s)r(c)})(l);for(let r=1;r<t.length;r++){const s=t[r],c=t[r-1];s instanceof bn&&c instanceof bn&&wT(s,c)&&(t.splice(r-1,2,new bn(c.data+s.data,c.getAttributes())),r--)}return t}function Ff(l,t){const r=l.getChild(t-1),s=l.getChild(t);if(r&&s&&r.is("$text")&&s.is("$text")&&wT(r,s)){const c=new bn(r.data+s.data,r.getAttributes());l._removeChildren(t-1,2),l._insertChild(t-1,c)}}function jf(l){const t=l.textNode,r=l.parent;if(t){const s=l.offset-t.startOffset,c=t.index;r._removeChildren(c,1);const h=new bn(t.data.substr(0,s),t.getAttributes()),f=new bn(t.data.substr(s),t.getAttributes());r._insertChild(c,[h,f])}}function wT(l,t){const r=l.getAttributes(),s=t.getAttributes();for(const c of r){if(c[1]!==t.getAttribute(c[0]))return!1;s.next()}return s.next().done}class Xt extends Lr{constructor(t,r,s,c){super(c),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=r,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[De._createFromPositionAndShift(this.sourcePosition,this.howMany),De._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Xt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Xt(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,r=this.targetPosition.parent,s=this.sourcePosition.offset,c=this.targetPosition.offset;if(s+this.howMany>t.maxOffset)throw new F("move-operation-nodes-do-not-exist",this);if(t===r&&s<c&&c<s+this.howMany)throw new F("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Ge(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const h=this.sourcePosition.path.length-1;if(this.targetPosition.path[h]>=s&&this.targetPosition.path[h]<s+this.howMany)throw new F("move-operation-node-into-itself",this)}}_execute(){Rf(De._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,r){const s=$e.fromJSON(t.sourcePosition,r),c=$e.fromJSON(t.targetPosition,r);return new this(s,t.howMany,c,t.baseVersion)}}class bi extends Lr{constructor(t,r,s){super(s),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new Pf(yT(r)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const t=new Pf([...this.nodes].map(s=>s._clone(!0))),r=new bi(this.position,t,this.baseVersion);return r.shouldReceiveAttributes=this.shouldReceiveAttributes,r}getReversed(){const t=this.position.root.document.graveyard,r=new $e(t,[0]);return new Xt(this.position,this.nodes.maxOffset,r,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new F("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new Pf([...t].map(r=>r._clone(!0))),bv(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,r){const s=[];for(const h of t.nodes)h.name?s.push(an.fromJSON(h)):s.push(bn.fromJSON(h));const c=new bi($e.fromJSON(t.position,r),s,t.baseVersion);return c.shouldReceiveAttributes=t.shouldReceiveAttributes,c}}class kn extends Lr{constructor(t,r,s,c,h){super(h),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=r,this.insertionPosition=s,this.graveyardPosition=c?c.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new $e(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new De(this.splitPosition,t)}get affectedSelectable(){const t=[De._createFromPositionAndShift(this.splitPosition,0),De._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&t.push(De._createFromPositionAndShift(this.graveyardPosition,0)),t}clone(){return new kn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,r=new $e(t,[0]);return new $n(this.moveTargetPosition,this.howMany,this.splitPosition,r,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,r=this.splitPosition.offset;if(!t||t.maxOffset<r)throw new F("split-operation-position-invalid",this);if(!t.parent)throw new F("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new F("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new F("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)Rf(De._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=t._clone();bv(this.insertionPosition,r)}Rf(new De($e._createAt(t,this.splitPosition.offset),$e._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const r=t.path.slice(0,-1);return r[r.length-1]++,new $e(t.root,r,"toPrevious")}static fromJSON(t,r){const s=$e.fromJSON(t.splitPosition,r),c=$e.fromJSON(t.insertionPosition,r),h=t.graveyardPosition?$e.fromJSON(t.graveyardPosition,r):null;return new this(s,t.howMany,c,h,t.baseVersion)}}class $n extends Lr{constructor(t,r,s,c,h){super(h),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=r,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=c.clone()}get type(){return"merge"}get deletionPosition(){return new $e(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new De(this.sourcePosition,t)}get affectedSelectable(){const t=this.sourcePosition.parent;return[De._createOn(t),De._createFromPositionAndShift(this.targetPosition,0),De._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new $n(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),r=this.sourcePosition.path.slice(0,-1),s=new $e(this.sourcePosition.root,r)._getTransformedByMergeOperation(this);return new kn(t,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,r=this.targetPosition.parent;if(!t.parent)throw new F("merge-operation-source-position-invalid",this);if(!r.parent)throw new F("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new F("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;Rf(De._createIn(t),this.targetPosition),Rf(De._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,r){const s=$e.fromJSON(t.sourcePosition,r),c=$e.fromJSON(t.targetPosition,r),h=$e.fromJSON(t.graveyardPosition,r);return new this(s,t.howMany,c,h,t.baseVersion)}}class dr extends Lr{constructor(t,r,s,c,h,f){super(f),this.name=t,this.oldRange=r?r.clone():null,this.newRange=s?s.clone():null,this.affectsData=h,this._markers=c}get type(){return"marker"}get affectedSelectable(){const t=[];return this.oldRange&&t.push(this.oldRange.clone()),this.newRange&&(this.oldRange?t.push(...this.newRange.getDifference(this.oldRange)):t.push(this.newRange.clone())),t}clone(){return new dr(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new dr(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,r){return new dr(t.name,t.oldRange?De.fromJSON(t.oldRange,r):null,t.newRange?De.fromJSON(t.newRange,r):null,r.model.markers,t.affectsData,t.baseVersion)}}const CT=function(l,t){return B2(l,t)};class Yn extends Lr{constructor(t,r,s,c,h){super(h),this.range=t.clone(),this.key=r,this.oldValue=s===void 0?null:s,this.newValue=c===void 0?null:c}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Yn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Yn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new F("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!CT(t.getAttribute(this.key),this.oldValue))throw new F("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&t.hasAttribute(this.key))throw new F("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){CT(this.oldValue,this.newValue)||function(t,r,s){jf(t.start),jf(t.end);for(const c of t.getItems({shallow:!0})){const h=c.is("$textProxy")?c.textNode:c;s!==null?h._setAttribute(r,s):h._removeAttribute(r),Ff(h.parent,h.index)}Ff(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,r){return new Yn(De.fromJSON(t.range,r),t.key,t.oldValue,t.newValue,t.baseVersion)}}class ii extends Lr{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new ii(this.baseVersion)}getReversed(){return new ii(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class hr extends Lr{constructor(t,r,s,c){super(c),this.position=t,this.position.stickiness="toNext",this.oldName=r,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new hr(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new hr(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof an))throw new F("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new F("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,r){return new hr($e.fromJSON(t.position,r),t.oldName,t.newName,t.baseVersion)}}class la extends Lr{constructor(t,r,s,c,h){super(h),this.root=t,this.key=r,this.oldValue=s===void 0?null:s,this.newValue=c===void 0?null:c}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new la(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new la(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new F("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new F("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new F("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,r){if(!r.getRoot(t.root))throw new F("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new la(r.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class ds extends Lr{constructor(t,r,s,c,h){super(h),this.rootName=t,this.elementName=r,this.isAdd=s,this._document=c,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new ds(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new ds(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const t=super.toJSON();return delete t._document,t}static get className(){return"RootOperation"}static fromJSON(t,r){return new ds(t.rootName,t.elementName,t.isAdd,r,t.baseVersion)}}const no={};no[Yn.className]=Yn,no[bi.className]=bi,no[dr.className]=dr,no[Xt.className]=Xt,no[ii.className]=ii,no[Lr.className]=Lr,no[hr.className]=hr,no[la.className]=la,no[ds.className]=ds,no[kn.className]=kn,no[$n.className]=$n;class Q7{static fromJSON(t,r){return no[t.__className].fromJSON(t,r)}}const kv=new Map;function $t(l,t,r){let s=kv.get(l);s||(s=new Map,kv.set(l,s)),s.set(t,r)}function Z7(l){return[l]}function AT(l,t,r={}){const s=function(c,h){const f=kv.get(c);return f&&f.has(h)?f.get(h):Z7}(l.constructor,t.constructor);try{return s(l=l.clone(),t,r)}catch(c){throw c}}function X7(l,t,r){l=l.slice(),t=t.slice();const s=new J7(r.document,r.useRelations,r.forceWeakRemove);s.setOriginalOperations(l),s.setOriginalOperations(t);const c=s.originalOperations;if(l.length==0||t.length==0)return{operationsA:l,operationsB:t,originalOperations:c};const h=new WeakMap;for(const b of l)h.set(b,0);const f={nextBaseVersionA:l[l.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:l.length,originalOperationsBCount:t.length};let g=0;for(;g<l.length;){const b=l[g],_=h.get(b);if(_==t.length){g++;continue}const C=t[_],x=AT(b,C,s.getContext(b,C,!0)),M=AT(C,b,s.getContext(C,b,!1));s.updateRelation(b,C),s.setOriginalOperations(x,b),s.setOriginalOperations(M,C);for(const z of x)h.set(z,_+M.length);l.splice(g,1,...x),t.splice(_,1,...M)}if(r.padWithNoOps){const b=l.length-f.originalOperationsACount,_=t.length-f.originalOperationsBCount;xT(l,_-b),xT(t,b-_)}return TT(l,f.nextBaseVersionB),TT(t,f.nextBaseVersionA),{operationsA:l,operationsB:t,originalOperations:c}}class J7{constructor(t,r,s=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=r,this._forceWeakRemove=!!s,this._relations=new Map}setOriginalOperations(t,r=null){const s=r?this.originalOperations.get(r):null;for(const c of t)this.originalOperations.set(c,s||c)}updateRelation(t,r){if(t instanceof Xt)r instanceof $n?t.targetPosition.isEqual(r.sourcePosition)||r.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,r,"insertAtSource"):t.targetPosition.isEqual(r.deletionPosition)?this._setRelation(t,r,"insertBetween"):t.targetPosition.isAfter(r.sourcePosition)&&this._setRelation(t,r,"moveTargetAfter"):r instanceof Xt&&(t.targetPosition.isEqual(r.sourcePosition)||t.targetPosition.isBefore(r.sourcePosition)?this._setRelation(t,r,"insertBefore"):this._setRelation(t,r,"insertAfter"));else if(t instanceof kn){if(r instanceof $n)t.splitPosition.isBefore(r.sourcePosition)&&this._setRelation(t,r,"splitBefore");else if(r instanceof Xt)if(t.splitPosition.isEqual(r.sourcePosition)||t.splitPosition.isBefore(r.sourcePosition))this._setRelation(t,r,"splitBefore");else{const s=De._createFromPositionAndShift(r.sourcePosition,r.howMany);if(t.splitPosition.hasSameParentAs(r.sourcePosition)&&s.containsPosition(t.splitPosition)){const c=s.end.offset-t.splitPosition.offset,h=t.splitPosition.offset-s.start.offset;this._setRelation(t,r,{howMany:c,offset:h})}}}else if(t instanceof $n)r instanceof $n?(t.targetPosition.isEqual(r.sourcePosition)||this._setRelation(t,r,"mergeTargetNotMoved"),t.sourcePosition.isEqual(r.targetPosition)&&this._setRelation(t,r,"mergeSourceNotMoved"),t.sourcePosition.isEqual(r.sourcePosition)&&this._setRelation(t,r,"mergeSameElement")):r instanceof kn&&t.sourcePosition.isEqual(r.splitPosition)&&this._setRelation(t,r,"splitAtSource");else if(t instanceof dr){const s=t.newRange;if(!s)return;if(r instanceof Xt){const c=De._createFromPositionAndShift(r.sourcePosition,r.howMany),h=c.containsPosition(s.start)||c.start.isEqual(s.start),f=c.containsPosition(s.end)||c.end.isEqual(s.end);!h&&!f||c.containsRange(s)||this._setRelation(t,r,{side:h?"left":"right",path:h?s.start.path.slice():s.end.path.slice()})}else if(r instanceof $n){const c=s.start.isEqual(r.targetPosition),h=s.start.isEqual(r.deletionPosition),f=s.end.isEqual(r.deletionPosition),g=s.end.isEqual(r.sourcePosition);(c||h||f||g)&&this._setRelation(t,r,{wasInLeftElement:c,wasStartBeforeMergedElement:h,wasEndBeforeMergedElement:f,wasInRightElement:g})}}}getContext(t,r,s){return{aIsStrong:s,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(r),abRelation:this._useRelations?this._getRelation(t,r):null,baRelation:this._useRelations?this._getRelation(r,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const r=this.originalOperations.get(t);return r.wasUndone||this._history.isUndoneOperation(r)}_getRelation(t,r){const s=this.originalOperations.get(r),c=this._history.getUndoneOperation(s);if(!c)return null;const h=this.originalOperations.get(t),f=this._relations.get(h);return f&&f.get(c)||null}_setRelation(t,r,s){const c=this.originalOperations.get(t),h=this.originalOperations.get(r);let f=this._relations.get(c);f||(f=new Map,this._relations.set(c,f)),f.set(h,s)}}function TT(l,t){for(const r of l)r.baseVersion=t++}function xT(l,t){for(let r=0;r<t;r++)l.push(new ii(0))}function ET(l,t,r){const s=l.nodes.getNode(0).getAttribute(t);if(s==r)return null;const c=new De(l.position,l.position.getShiftedBy(l.howMany));return new Yn(c,t,s,r,0)}function ST(l,t){return l.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function bd(l,t){const r=[];for(let s=0;s<l.length;s++){const c=l[s],h=new Xt(c.start,c.end.offset-c.start.offset,t,0);r.push(h);for(let f=s+1;f<l.length;f++)l[f]=l[f]._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)[0];t=t._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)}return r}$t(Yn,Yn,(l,t,r)=>{if(l.key===t.key&&l.range.start.hasSameParentAs(t.range.start)){const s=l.range.getDifference(t.range).map(h=>new Yn(h,l.key,l.oldValue,l.newValue,0)),c=l.range.getIntersection(t.range);return c&&r.aIsStrong&&s.push(new Yn(c,t.key,t.newValue,l.newValue,0)),s.length==0?[new ii(0)]:s}return[l]}),$t(Yn,bi,(l,t)=>{if(l.range.start.hasSameParentAs(t.position)&&l.range.containsPosition(t.position)){const r=l.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(s=>new Yn(s,l.key,l.oldValue,l.newValue,l.baseVersion));if(t.shouldReceiveAttributes){const s=ET(t,l.key,l.oldValue);s&&r.unshift(s)}return r}return l.range=l.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[l]}),$t(Yn,$n,(l,t)=>{const r=[];l.range.start.hasSameParentAs(t.deletionPosition)&&(l.range.containsPosition(t.deletionPosition)||l.range.start.isEqual(t.deletionPosition))&&r.push(De._createFromPositionAndShift(t.graveyardPosition,1));const s=l.range._getTransformedByMergeOperation(t);return s.isCollapsed||r.push(s),r.map(c=>new Yn(c,l.key,l.oldValue,l.newValue,l.baseVersion))}),$t(Yn,Xt,(l,t)=>function(s,c){const h=De._createFromPositionAndShift(c.sourcePosition,c.howMany);let f=null,g=[];h.containsRange(s,!0)?f=s:s.start.hasSameParentAs(h.start)?(g=s.getDifference(h),f=s.getIntersection(h)):g=[s];const b=[];for(let _ of g){_=_._getTransformedByDeletion(c.sourcePosition,c.howMany);const C=c.getMovedRangeStart(),x=_.start.hasSameParentAs(C),M=_._getTransformedByInsertion(C,c.howMany,x);b.push(...M)}return f&&b.push(f._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany,!1)[0]),b}(l.range,t).map(s=>new Yn(s,l.key,l.oldValue,l.newValue,l.baseVersion))),$t(Yn,kn,(l,t)=>{if(l.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||l.range.end.offset++,[l];if(l.range.start.hasSameParentAs(t.splitPosition)&&l.range.containsPosition(t.splitPosition)){const r=l.clone();return r.range=new De(t.moveTargetPosition.clone(),l.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),l.range.end=t.splitPosition.clone(),l.range.end.stickiness="toPrevious",[l,r]}return l.range=l.range._getTransformedBySplitOperation(t),[l]}),$t(bi,Yn,(l,t)=>{const r=[l];if(l.shouldReceiveAttributes&&l.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(l.position)){const s=ET(l,t.key,t.newValue);s&&r.push(s)}return r}),$t(bi,bi,(l,t,r)=>(l.position.isEqual(t.position)&&r.aIsStrong||(l.position=l.position._getTransformedByInsertOperation(t)),[l])),$t(bi,Xt,(l,t)=>(l.position=l.position._getTransformedByMoveOperation(t),[l])),$t(bi,kn,(l,t)=>(l.position=l.position._getTransformedBySplitOperation(t),[l])),$t(bi,$n,(l,t)=>(l.position=l.position._getTransformedByMergeOperation(t),[l])),$t(dr,bi,(l,t)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByInsertOperation(t)[0]),l.newRange&&(l.newRange=l.newRange._getTransformedByInsertOperation(t)[0]),[l])),$t(dr,dr,(l,t,r)=>{if(l.name==t.name){if(!r.aIsStrong)return[new ii(0)];l.oldRange=t.newRange?t.newRange.clone():null}return[l]}),$t(dr,$n,(l,t)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByMergeOperation(t)),l.newRange&&(l.newRange=l.newRange._getTransformedByMergeOperation(t)),[l])),$t(dr,Xt,(l,t,r)=>{if(l.oldRange&&(l.oldRange=De._createFromRanges(l.oldRange._getTransformedByMoveOperation(t))),l.newRange){if(r.abRelation){const s=De._createFromRanges(l.newRange._getTransformedByMoveOperation(t));if(r.abRelation.side=="left"&&t.targetPosition.isEqual(l.newRange.start))return l.newRange.end=s.end,l.newRange.start.path=r.abRelation.path,[l];if(r.abRelation.side=="right"&&t.targetPosition.isEqual(l.newRange.end))return l.newRange.start=s.start,l.newRange.end.path=r.abRelation.path,[l]}l.newRange=De._createFromRanges(l.newRange._getTransformedByMoveOperation(t))}return[l]}),$t(dr,kn,(l,t,r)=>{if(l.oldRange&&(l.oldRange=l.oldRange._getTransformedBySplitOperation(t)),l.newRange){if(r.abRelation){const s=l.newRange._getTransformedBySplitOperation(t);return l.newRange.start.isEqual(t.splitPosition)&&r.abRelation.wasStartBeforeMergedElement?l.newRange.start=$e._createAt(t.insertionPosition):l.newRange.start.isEqual(t.splitPosition)&&!r.abRelation.wasInLeftElement&&(l.newRange.start=$e._createAt(t.moveTargetPosition)),l.newRange.end.isEqual(t.splitPosition)&&r.abRelation.wasInRightElement?l.newRange.end=$e._createAt(t.moveTargetPosition):l.newRange.end.isEqual(t.splitPosition)&&r.abRelation.wasEndBeforeMergedElement?l.newRange.end=$e._createAt(t.insertionPosition):l.newRange.end=s.end,[l]}l.newRange=l.newRange._getTransformedBySplitOperation(t)}return[l]}),$t($n,bi,(l,t)=>(l.sourcePosition.hasSameParentAs(t.position)&&(l.howMany+=t.howMany),l.sourcePosition=l.sourcePosition._getTransformedByInsertOperation(t),l.targetPosition=l.targetPosition._getTransformedByInsertOperation(t),[l])),$t($n,$n,(l,t,r)=>{if(l.sourcePosition.isEqual(t.sourcePosition)&&l.targetPosition.isEqual(t.targetPosition)){if(r.bWasUndone){const s=t.graveyardPosition.path.slice();return s.push(0),l.sourcePosition=new $e(t.graveyardPosition.root,s),l.howMany=0,[l]}return[new ii(0)]}if(l.sourcePosition.isEqual(t.sourcePosition)&&!l.targetPosition.isEqual(t.targetPosition)&&!r.bWasUndone&&r.abRelation!="splitAtSource"){const s=l.targetPosition.root.rootName=="$graveyard",c=t.targetPosition.root.rootName=="$graveyard";if(c&&!s||!(s&&!c)&&r.aIsStrong){const h=t.targetPosition._getTransformedByMergeOperation(t),f=l.targetPosition._getTransformedByMergeOperation(t);return[new Xt(h,l.howMany,f,0)]}return[new ii(0)]}return l.sourcePosition.hasSameParentAs(t.targetPosition)&&(l.howMany+=t.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMergeOperation(t),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(t),l.graveyardPosition.isEqual(t.graveyardPosition)&&r.aIsStrong||(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(t)),[l]}),$t($n,Xt,(l,t,r)=>{const s=De._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!r.bWasUndone&&!r.forceWeakRemove&&l.deletionPosition.hasSameParentAs(t.sourcePosition)&&s.containsPosition(l.sourcePosition)?[new ii(0)]:(l.sourcePosition.hasSameParentAs(t.targetPosition)&&(l.howMany+=t.howMany),l.sourcePosition.hasSameParentAs(t.sourcePosition)&&(l.howMany-=t.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMoveOperation(t),l.targetPosition=l.targetPosition._getTransformedByMoveOperation(t),l.graveyardPosition.isEqual(t.targetPosition)||(l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(t)),[l])}),$t($n,kn,(l,t,r)=>{if(t.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),l.deletionPosition.isEqual(t.graveyardPosition)&&(l.howMany=t.howMany)),l.targetPosition.isEqual(t.splitPosition)){const s=t.howMany!=0,c=t.graveyardPosition&&l.deletionPosition.isEqual(t.graveyardPosition);if(s||c||r.abRelation=="mergeTargetNotMoved")return l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(t),[l]}if(l.sourcePosition.isEqual(t.splitPosition)){if(r.abRelation=="mergeSourceNotMoved")return l.howMany=0,l.targetPosition=l.targetPosition._getTransformedBySplitOperation(t),[l];if(r.abRelation=="mergeSameElement"||l.sourcePosition.offset>0)return l.sourcePosition=t.moveTargetPosition.clone(),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(t),[l]}return l.sourcePosition.hasSameParentAs(t.splitPosition)&&(l.howMany=t.splitPosition.offset),l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(t),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(t),[l]}),$t(Xt,bi,(l,t)=>{const r=De._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByInsertOperation(t,!1)[0];return l.sourcePosition=r.start,l.howMany=r.end.offset-r.start.offset,l.targetPosition.isEqual(t.position)||(l.targetPosition=l.targetPosition._getTransformedByInsertOperation(t)),[l]}),$t(Xt,Xt,(l,t,r)=>{const s=De._createFromPositionAndShift(l.sourcePosition,l.howMany),c=De._createFromPositionAndShift(t.sourcePosition,t.howMany);let h,f=r.aIsStrong,g=!r.aIsStrong;if(r.abRelation=="insertBefore"||r.baRelation=="insertAfter"?g=!0:r.abRelation!="insertAfter"&&r.baRelation!="insertBefore"||(g=!1),h=l.targetPosition.isEqual(t.targetPosition)&&g?l.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):l.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),ST(l,t)&&ST(t,l))return[t.getReversed()];if(s.containsPosition(t.targetPosition)&&s.containsRange(c,!0))return s.start=s.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),s.end=s.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),bd([s],h);if(c.containsPosition(l.targetPosition)&&c.containsRange(s,!0))return s.start=s.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),s.end=s.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),bd([s],h);const b=Ge(l.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(b=="prefix"||b=="extension")return s.start=s.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),s.end=s.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),bd([s],h);l.type!="remove"||t.type=="remove"||r.aWasUndone||r.forceWeakRemove?l.type=="remove"||t.type!="remove"||r.bWasUndone||r.forceWeakRemove||(f=!1):f=!0;const _=[],C=s.getDifference(c);for(const M of C){M.start=M.start._getTransformedByDeletion(t.sourcePosition,t.howMany),M.end=M.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const z=Ge(M.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",H=M._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,z);_.push(...H)}const x=s.getIntersection(c);return x!==null&&f&&(x.start=x.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),x.end=x.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),_.length===0?_.push(x):_.length==1?c.start.isBefore(s.start)||c.start.isEqual(s.start)?_.unshift(x):_.push(x):_.splice(1,0,x)),_.length===0?[new ii(l.baseVersion)]:bd(_,h)}),$t(Xt,kn,(l,t,r)=>{let s=l.targetPosition.clone();l.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&r.abRelation!="moveTargetAfter"||(s=l.targetPosition._getTransformedBySplitOperation(t));const c=De._createFromPositionAndShift(l.sourcePosition,l.howMany);if(c.end.isEqual(t.insertionPosition))return t.graveyardPosition||l.howMany++,l.targetPosition=s,[l];if(c.start.hasSameParentAs(t.splitPosition)&&c.containsPosition(t.splitPosition)){let f=new De(t.splitPosition,c.end);return f=f._getTransformedBySplitOperation(t),bd([new De(c.start,t.splitPosition),f],s)}l.targetPosition.isEqual(t.splitPosition)&&r.abRelation=="insertAtSource"&&(s=t.moveTargetPosition),l.targetPosition.isEqual(t.insertionPosition)&&r.abRelation=="insertBetween"&&(s=l.targetPosition);const h=[c._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const f=c.start.isEqual(t.graveyardPosition)||c.containsPosition(t.graveyardPosition);l.howMany>1&&f&&!r.aWasUndone&&h.push(De._createFromPositionAndShift(t.insertionPosition,1))}return bd(h,s)}),$t(Xt,$n,(l,t,r)=>{const s=De._createFromPositionAndShift(l.sourcePosition,l.howMany);if(t.deletionPosition.hasSameParentAs(l.sourcePosition)&&s.containsPosition(t.sourcePosition)){if(l.type!="remove"||r.forceWeakRemove){if(l.howMany==1)return r.bWasUndone?(l.sourcePosition=t.graveyardPosition.clone(),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(t),[l]):[new ii(0)]}else if(!r.aWasUndone){const h=[];let f=t.graveyardPosition.clone(),g=t.targetPosition._getTransformedByMergeOperation(t);l.howMany>1&&(h.push(new Xt(l.sourcePosition,l.howMany-1,l.targetPosition,0)),f=f._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1),g=g._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1));const b=t.deletionPosition._getCombined(l.sourcePosition,l.targetPosition),_=new Xt(f,1,b,0),C=_.getMovedRangeStart().path.slice();C.push(0);const x=new $e(_.targetPosition.root,C);g=g._getTransformedByMove(f,b,1);const M=new Xt(g,t.howMany,x,0);return h.push(_),h.push(M),h}}const c=De._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByMergeOperation(t);return l.sourcePosition=c.start,l.howMany=c.end.offset-c.start.offset,l.targetPosition=l.targetPosition._getTransformedByMergeOperation(t),[l]}),$t(hr,bi,(l,t)=>(l.position=l.position._getTransformedByInsertOperation(t),[l])),$t(hr,$n,(l,t)=>l.position.isEqual(t.deletionPosition)?(l.position=t.graveyardPosition.clone(),l.position.stickiness="toNext",[l]):(l.position=l.position._getTransformedByMergeOperation(t),[l])),$t(hr,Xt,(l,t)=>(l.position=l.position._getTransformedByMoveOperation(t),[l])),$t(hr,hr,(l,t,r)=>{if(l.position.isEqual(t.position)){if(!r.aIsStrong)return[new ii(0)];l.oldName=t.newName}return[l]}),$t(hr,kn,(l,t)=>{if(Ge(l.position.path,t.splitPosition.getParentPath())=="same"&&!t.graveyardPosition){const r=new hr(l.position.getShiftedBy(1),l.oldName,l.newName,0);return[l,r]}return l.position=l.position._getTransformedBySplitOperation(t),[l]}),$t(la,la,(l,t,r)=>{if(l.root===t.root&&l.key===t.key){if(!r.aIsStrong||l.newValue===t.newValue)return[new ii(0)];l.oldValue=t.newValue}return[l]}),$t(ds,ds,(l,t)=>l.rootName===t.rootName&&l.isAdd===t.isAdd?[new ii(0)]:[l]),$t(kn,bi,(l,t)=>(l.splitPosition.hasSameParentAs(t.position)&&l.splitPosition.offset<t.position.offset&&(l.howMany+=t.howMany),l.splitPosition=l.splitPosition._getTransformedByInsertOperation(t),l.insertionPosition=l.insertionPosition._getTransformedByInsertOperation(t),[l])),$t(kn,$n,(l,t,r)=>{if(!l.graveyardPosition&&!r.bWasUndone&&l.splitPosition.hasSameParentAs(t.sourcePosition)){const s=t.graveyardPosition.path.slice();s.push(0);const c=new $e(t.graveyardPosition.root,s),h=kn.getInsertionPosition(new $e(t.graveyardPosition.root,s)),f=new kn(c,0,h,null,0);return l.splitPosition=l.splitPosition._getTransformedByMergeOperation(t),l.insertionPosition=kn.getInsertionPosition(l.splitPosition),l.graveyardPosition=f.insertionPosition.clone(),l.graveyardPosition.stickiness="toNext",[f,l]}return l.splitPosition.hasSameParentAs(t.deletionPosition)&&!l.splitPosition.isAfter(t.deletionPosition)&&l.howMany--,l.splitPosition.hasSameParentAs(t.targetPosition)&&(l.howMany+=t.howMany),l.splitPosition=l.splitPosition._getTransformedByMergeOperation(t),l.insertionPosition=kn.getInsertionPosition(l.splitPosition),l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(t)),[l]}),$t(kn,Xt,(l,t,r)=>{const s=De._createFromPositionAndShift(t.sourcePosition,t.howMany);if(l.graveyardPosition){const h=s.start.isEqual(l.graveyardPosition)||s.containsPosition(l.graveyardPosition);if(!r.bWasUndone&&h){const f=l.splitPosition._getTransformedByMoveOperation(t),g=l.graveyardPosition._getTransformedByMoveOperation(t),b=g.path.slice();b.push(0);const _=new $e(g.root,b);return[new Xt(f,l.howMany,_,0)]}l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(t)}const c=l.splitPosition.isEqual(t.targetPosition);if(c&&(r.baRelation=="insertAtSource"||r.abRelation=="splitBefore"))return l.howMany+=t.howMany,l.splitPosition=l.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),l.insertionPosition=kn.getInsertionPosition(l.splitPosition),[l];if(c&&r.abRelation&&r.abRelation.howMany){const{howMany:h,offset:f}=r.abRelation;return l.howMany+=h,l.splitPosition=l.splitPosition.getShiftedBy(f),[l]}if(l.splitPosition.hasSameParentAs(t.sourcePosition)&&s.containsPosition(l.splitPosition)){const h=t.howMany-(l.splitPosition.offset-t.sourcePosition.offset);return l.howMany-=h,l.splitPosition.hasSameParentAs(t.targetPosition)&&l.splitPosition.offset<t.targetPosition.offset&&(l.howMany+=t.howMany),l.splitPosition=t.sourcePosition.clone(),l.insertionPosition=kn.getInsertionPosition(l.splitPosition),[l]}return t.sourcePosition.isEqual(t.targetPosition)||(l.splitPosition.hasSameParentAs(t.sourcePosition)&&l.splitPosition.offset<=t.sourcePosition.offset&&(l.howMany-=t.howMany),l.splitPosition.hasSameParentAs(t.targetPosition)&&l.splitPosition.offset<t.targetPosition.offset&&(l.howMany+=t.howMany)),l.splitPosition.stickiness="toNone",l.splitPosition=l.splitPosition._getTransformedByMoveOperation(t),l.splitPosition.stickiness="toNext",l.graveyardPosition?l.insertionPosition=l.insertionPosition._getTransformedByMoveOperation(t):l.insertionPosition=kn.getInsertionPosition(l.splitPosition),[l]}),$t(kn,kn,(l,t,r)=>{if(l.splitPosition.isEqual(t.splitPosition)){if(!l.graveyardPosition&&!t.graveyardPosition)return[new ii(0)];if(l.graveyardPosition&&t.graveyardPosition&&l.graveyardPosition.isEqual(t.graveyardPosition))return[new ii(0)];if(r.abRelation=="splitBefore")return l.howMany=0,l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(t),[l]}if(l.graveyardPosition&&t.graveyardPosition&&l.graveyardPosition.isEqual(t.graveyardPosition)){const s=l.splitPosition.root.rootName=="$graveyard",c=t.splitPosition.root.rootName=="$graveyard";if(c&&!s||!(s&&!c)&&r.aIsStrong){const h=[];return t.howMany&&h.push(new Xt(t.moveTargetPosition,t.howMany,t.splitPosition,0)),l.howMany&&h.push(new Xt(l.splitPosition,l.howMany,l.moveTargetPosition,0)),h}return[new ii(0)]}if(l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(t)),l.splitPosition.isEqual(t.insertionPosition)&&r.abRelation=="splitBefore")return l.howMany++,[l];if(t.splitPosition.isEqual(l.insertionPosition)&&r.baRelation=="splitBefore"){const s=t.insertionPosition.path.slice();s.push(0);const c=new $e(t.insertionPosition.root,s);return[l,new Xt(l.insertionPosition,1,c,0)]}return l.splitPosition.hasSameParentAs(t.splitPosition)&&l.splitPosition.offset<t.splitPosition.offset&&(l.howMany-=t.howMany),l.splitPosition=l.splitPosition._getTransformedBySplitOperation(t),l.insertionPosition=kn.getInsertionPosition(l.splitPosition),[l]});class Ti extends re($e){constructor(t,r,s="toNone"){if(super(t,r,s),!this.root.is("rootElement"))throw new F("model-liveposition-root-not-rootelement",t);eF.call(this)}detach(){this.stopListening()}toPosition(){return new $e(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,r){return new this(t.root,t.path.slice(),r||t.stickiness)}}function eF(){this.listenTo(this.root.document.model,"applyOperation",(l,t)=>{const r=t[0];r.isDocumentOperation&&tF.call(this,r)},{priority:"low"})}function tF(l){const t=this.getTransformedByOperation(l);if(!this.isEqual(t)){const r=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",r)}}Ti.prototype.is=function(l){return l==="livePosition"||l==="model:livePosition"||l=="position"||l==="model:position"};class kd{constructor(t={}){typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},Q("batch-constructor-deprecated-string-type"));const{isUndoable:r=!0,isLocal:s=!0,isUndo:c=!1,isTyping:h=!1}=t;this.operations=[],this.isUndoable=r,this.isLocal=s,this.isUndo=c,this.isTyping=h}get type(){return Q("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}var nF=Object.defineProperty,iF=Object.defineProperties,rF=Object.getOwnPropertyDescriptors,DT=Object.getOwnPropertySymbols,oF=Object.prototype.hasOwnProperty,sF=Object.prototype.propertyIsEnumerable,IT=(l,t,r)=>t in l?nF(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,MT=(l,t)=>{for(var r in t||(t={}))oF.call(t,r)&&IT(l,r,t[r]);if(DT)for(var r of DT(t))sF.call(t,r)&&IT(l,r,t[r]);return l};class aF{constructor(t){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const r=t;switch(r.type){case"insert":if(this._isInInsertedElement(r.position.parent))return;this._markInsert(r.position.parent,r.position.offset,r.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const s of r.range.getItems({shallow:!0}))this._isInInsertedElement(s.parent)||this._markAttribute(s);break;case"remove":case"move":case"reinsert":{if(r.sourcePosition.isEqual(r.targetPosition)||r.sourcePosition.getShiftedBy(r.howMany).isEqual(r.targetPosition))return;const s=this._isInInsertedElement(r.sourcePosition.parent),c=this._isInInsertedElement(r.targetPosition.parent);s||this._markRemove(r.sourcePosition.parent,r.sourcePosition.offset,r.howMany),c||this._markInsert(r.targetPosition.parent,r.getMovedRangeStart().offset,r.howMany);break}case"rename":{if(this._isInInsertedElement(r.position.parent))return;this._markRemove(r.position.parent,r.position.offset,1),this._markInsert(r.position.parent,r.position.offset,1);const s=De._createFromPositionAndShift(r.position,1);for(const c of this._markerCollection.getMarkersIntersectingRange(s)){const h=c.getData();this.bufferMarkerChange(c.name,h,h)}break}case"split":{const s=r.splitPosition.parent;this._isInInsertedElement(s)||this._markRemove(s,r.splitPosition.offset,r.howMany),this._isInInsertedElement(r.insertionPosition.parent)||this._markInsert(r.insertionPosition.parent,r.insertionPosition.offset,1),r.graveyardPosition&&this._markRemove(r.graveyardPosition.parent,r.graveyardPosition.offset,1);break}case"merge":{const s=r.sourcePosition.parent;this._isInInsertedElement(s.parent)||this._markRemove(s.parent,s.startOffset,1);const c=r.graveyardPosition.parent;this._markInsert(c,r.graveyardPosition.offset,1);const h=r.targetPosition.parent;this._isInInsertedElement(h)||this._markInsert(h,r.targetPosition.offset,s.maxOffset);break}case"detachRoot":case"addRoot":{const s=r.affectedSelectable;if(!s._isLoaded||s.isAttached()==r.isAdd)return;this._bufferRootStateChange(r.rootName,r.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!r.root._isLoaded)return;const s=r.root.rootName;this._bufferRootAttributeChange(s,r.key,r.oldValue,r.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,r,s){r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null),s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null);let c=this._changedMarkers.get(t);c?c.newMarkerData=s:(c={newMarkerData:s,oldMarkerData:r},this._changedMarkers.set(t,c)),c.oldMarkerData.range==null&&s.range==null&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[r,s]of this._changedMarkers)s.oldMarkerData.range!=null&&t.push({name:r,range:s.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[r,s]of this._changedMarkers)s.newMarkerData.range!=null&&t.push({name:r,range:s.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,r])=>({name:t,data:{oldRange:r.oldMarkerData.range,newRange:r.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:r}of this._changedMarkers.values()){if(t.affectsData!==r.affectsData)return!0;if(t.affectsData){const s=t.range&&!r.range,c=!t.range&&r.range,h=t.range&&r.range&&!t.range.isEqual(r.range);if(s||c||h)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let r=[];for(const s of this._changesInElement.keys()){const c=this._changesInElement.get(s).sort((C,x)=>C.offset===x.offset?C.type!=x.type?C.type=="remove"?-1:1:0:C.offset<x.offset?-1:1),h=this._elementSnapshots.get(s),f=PT(s.getChildren()),g=lF(h.length,c);let b=0,_=0;for(const C of g)if(C==="i")r.push(this._getInsertDiff(s,b,f[b])),b++;else if(C==="r")r.push(this._getRemoveDiff(s,b,h[_])),_++;else if(C==="a"){const x=f[b].attributes,M=h[_].attributes;let z;if(f[b].name=="$text")z=new De($e._createAt(s,b),$e._createAt(s,b+1));else{const H=s.offsetToIndex(b);z=new De($e._createAt(s,b),$e._createAt(s.getChild(H),0))}r.push(...this._getAttributesDiff(z,M,x)),b++,_++}else b++,_++}r.sort((s,c)=>s.position.root!=c.position.root?s.position.root.rootName<c.position.root.rootName?-1:1:s.position.isEqual(c.position)?s.changeCount-c.changeCount:s.position.isBefore(c.position)?-1:1);for(let s=1,c=0;s<r.length;s++){const h=r[c],f=r[s],g=h.type=="remove"&&f.type=="remove"&&h.name=="$text"&&f.name=="$text"&&h.position.isEqual(f.position),b=h.type=="insert"&&f.type=="insert"&&h.name=="$text"&&f.name=="$text"&&h.position.parent==f.position.parent&&h.position.offset+h.length==f.position.offset,_=h.type=="attribute"&&f.type=="attribute"&&h.position.parent==f.position.parent&&h.range.isFlat&&f.range.isFlat&&h.position.offset+h.length==f.position.offset&&h.attributeKey==f.attributeKey&&h.attributeOldValue==f.attributeOldValue&&h.attributeNewValue==f.attributeNewValue;g||b||_?(h.length++,_&&(h.range.end=h.range.end.getShiftedBy(1)),r[s]=null):c=s}r=r.filter(s=>s);for(const s of r)delete s.changeCount,s.type=="attribute"&&(delete s.position,delete s.length);return this._changeCount=0,this._cachedChangesWithGraveyard=r,this._cachedChanges=r.filter(cF),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(t=>{const r=MT({},t);return r.state!==void 0&&delete r.attributes,r})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(t,r){if(!this._changedRoots.has(t))return void this._changedRoots.set(t,{name:t,state:r?"attached":"detached"});const s=this._changedRoots.get(t);s.state!==void 0?(delete s.state,s.attributes===void 0&&this._changedRoots.delete(t)):s.state=r?"attached":"detached"}_bufferRootAttributeChange(t,r,s,c){const h=this._changedRoots.get(t)||{name:t},f=h.attributes||{};if(f[r]){const g=f[r];c===g.oldValue?delete f[r]:g.newValue=c}else f[r]={oldValue:s,newValue:c};Object.entries(f).length===0?(delete h.attributes,h.state===void 0&&this._changedRoots.delete(t)):(h.attributes=f,this._changedRoots.set(t,h))}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t);const r=De._createOn(t);for(const s of this._markerCollection.getMarkersIntersectingRange(r)){const c=s.getData();this.bufferMarkerChange(s.name,c,c)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const s of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,s,null,t.getAttribute(s));for(const s of this._markerCollection)if(s.getRange().root==t){const c=s.getData();this.bufferMarkerChange(s.name,(r=MT({},c),iF(r,rF({range:null}))),c)}var r}}_markInsert(t,r,s){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const c={type:"insert",offset:r,howMany:s,count:this._changeCount++};this._markChange(t,c)}_markRemove(t,r,s){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const c={type:"remove",offset:r,howMany:s,count:this._changeCount++};this._markChange(t,c),this._removeAllNestedChanges(t,r,s)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const r={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,r)}_markChange(t,r){this._makeSnapshot(t);const s=this._getChangesForElement(t);this._handleChange(r,s),s.push(r);for(let c=0;c<s.length;c++)s[c].howMany<1&&(s.splice(c,1),c--)}_getChangesForElement(t){let r;return this._changesInElement.has(t)?r=this._changesInElement.get(t):(r=[],this._changesInElement.set(t,r)),r}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,PT(t.getChildren()))}_handleChange(t,r){t.nodesToHandle=t.howMany;for(const s of r){const c=t.offset+t.howMany,h=s.offset+s.howMany;if(t.type=="insert"&&(s.type=="insert"&&(t.offset<=s.offset?s.offset+=t.howMany:t.offset<h&&(s.howMany+=t.nodesToHandle,t.nodesToHandle=0)),s.type=="remove"&&t.offset<s.offset&&(s.offset+=t.howMany),s.type=="attribute")){if(t.offset<=s.offset)s.offset+=t.howMany;else if(t.offset<h){const f=s.howMany;s.howMany=t.offset-s.offset,r.unshift({type:"attribute",offset:c,howMany:f-s.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(s.type=="insert"){if(c<=s.offset)s.offset-=t.howMany;else if(c<=h)if(t.offset<s.offset){const f=c-s.offset;s.offset=t.offset,s.howMany-=f,t.nodesToHandle-=f}else s.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=s.offset)t.nodesToHandle-=s.howMany,s.howMany=0;else if(t.offset<h){const f=h-t.offset;s.howMany-=f,t.nodesToHandle-=f}}if(s.type=="remove"&&(c<=s.offset?s.offset-=t.howMany:t.offset<s.offset&&(t.nodesToHandle+=s.howMany,s.howMany=0)),s.type=="attribute"){if(c<=s.offset)s.offset-=t.howMany;else if(t.offset<s.offset){const f=c-s.offset;s.offset=t.offset,s.howMany-=f}else if(t.offset<h)if(c<=h){const f=s.howMany;s.howMany=t.offset-s.offset;const g=f-s.howMany-t.nodesToHandle;r.unshift({type:"attribute",offset:t.offset,howMany:g,count:this._changeCount++})}else s.howMany-=h-t.offset}}if(t.type=="attribute"){if(s.type=="insert")if(t.offset<s.offset&&c>s.offset){if(c>h){const f={type:"attribute",offset:h,howMany:c-h,count:this._changeCount++};this._handleChange(f,r),r.push(f)}t.nodesToHandle=s.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=s.offset&&t.offset<h&&(c>h?(t.nodesToHandle=c-h,t.offset=h):t.nodesToHandle=0);if(s.type=="remove"&&t.offset<s.offset&&c>s.offset){const f={type:"attribute",offset:s.offset,howMany:c-s.offset,count:this._changeCount++};this._handleChange(f,r),r.push(f),t.nodesToHandle=s.offset-t.offset,t.howMany=t.nodesToHandle}s.type=="attribute"&&(t.offset>=s.offset&&c<=h?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=s.offset&&c>=h&&(s.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,r,s){return{type:"insert",position:$e._createAt(t,r),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,r,s){return{type:"remove",position:$e._createAt(t,r),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,r,s){const c=[];s=new Map(s);for(const[h,f]of r){const g=s.has(h)?s.get(h):null;g!==f&&c.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:h,attributeOldValue:f,attributeNewValue:g,changeCount:this._changeCount++}),s.delete(h)}for(const[h,f]of s)c.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:h,attributeOldValue:null,attributeNewValue:f,changeCount:this._changeCount++});return c}_isInInsertedElement(t){const r=t.parent;if(!r)return!1;const s=this._changesInElement.get(r),c=t.startOffset;if(s){for(const h of s)if(h.type=="insert"&&c>=h.offset&&c<h.offset+h.howMany)return!0}return this._isInInsertedElement(r)}_removeAllNestedChanges(t,r,s){const c=new De($e._createAt(t,r),$e._createAt(t,r+s));for(const h of c.getItems({shallow:!0}))h.is("element")&&(this._elementSnapshots.delete(h),this._changesInElement.delete(h),this._removeAllNestedChanges(h,0,h.maxOffset))}}function PT(l){const t=[];for(const r of l)if(r.is("$text"))for(let s=0;s<r.data.length;s++)t.push({name:"$text",attributes:new Map(r.getAttributes())});else t.push({name:r.name,attributes:new Map(r.getAttributes())});return t}function lF(l,t){const r=[];let s=0,c=0;for(const h of t){if(h.offset>s){for(let f=0;f<h.offset-s;f++)r.push("e");c+=h.offset-s}if(h.type=="insert"){for(let f=0;f<h.howMany;f++)r.push("i");s=h.offset+h.howMany}else if(h.type=="remove"){for(let f=0;f<h.howMany;f++)r.push("r");s=h.offset,c+=h.howMany}else r.push(..."a".repeat(h.howMany).split("")),s=h.offset+h.howMany,c+=h.howMany}if(c<l)for(let h=0;h<l-c-s;h++)r.push("e");return r}function cF(l){const t="position"in l&&l.position.root.rootName=="$graveyard",r="range"in l&&l.range.root.rootName=="$graveyard";return!t&&!r}class uF{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new F("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,r=this.version){if(!this._operations.length)return[];const s=this._operations[0];t===void 0&&(t=s.baseVersion);let c=r-1;for(const[g,b]of this._gaps)t>g&&t<b&&(t=b),c>g&&c<b&&(c=g-1);if(c<s.baseVersion||t>this.lastOperation.baseVersion)return[];let h=this._baseVersionToOperationIndex.get(t);h===void 0&&(h=0);let f=this._baseVersionToOperationIndex.get(c);return f===void 0&&(f=this._operations.length-1),this._operations.slice(h,f+1)}getOperation(t){const r=this._baseVersionToOperationIndex.get(t);if(r!==void 0)return this._operations[r]}setOperationAsUndone(t,r){this._undoPairs.set(r,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class ug extends an{constructor(t,r,s="main"){super(r),this._isAttached=!0,this._isLoaded=!0,this._document=t,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}ug.prototype.is=function(l,t){return t?t===this.name&&(l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"):l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"||l==="node"||l==="model:node"};var dF=Object.defineProperty,hF=Object.defineProperties,fF=Object.getOwnPropertyDescriptors,NT=Object.getOwnPropertySymbols,pF=Object.prototype.hasOwnProperty,mF=Object.prototype.propertyIsEnumerable,BT=(l,t,r)=>t in l?dF(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,OT=(l,t)=>{for(var r in t||(t={}))pF.call(t,r)&&BT(l,r,t[r]);if(NT)for(var r of NT(t))mF.call(t,r)&&BT(l,r,t[r]);return l},LT=(l,t)=>hF(l,fF(t));const RT="$graveyard";class gF extends re(){constructor(t){super(),this.model=t,this.history=new uF,this.selection=new No(this),this.roots=new Ee({idProperty:"rootName"}),this.differ=new aF(t.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",RT),this.listenTo(t,"applyOperation",(r,s)=>{const c=s[0];c.isDocumentOperation&&this.differ.bufferOperation(c)},{priority:"high"}),this.listenTo(t,"applyOperation",(r,s)=>{const c=s[0];c.isDocumentOperation&&this.history.addOperation(c)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(r,s,c,h,f)=>{const g=LT(OT({},s.getData()),{range:h});this.differ.bufferMarkerChange(s.name,f,g),c===null&&s.on("change",(b,_)=>{const C=s.getData();this.differ.bufferMarkerChange(s.name,LT(OT({},C),{range:_}),C)})}),this.registerPostFixer(r=>{let s=!1;for(const c of this.roots)c.isAttached()||c.isEmpty||(r.remove(r.createRangeIn(c)),s=!0);for(const c of this.model.markers)c.getRange().root.isAttached()||(r.removeMarker(c),s=!0);return s})}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot(RT)}createRoot(t="$root",r="main"){if(this.roots.get(r))throw new F("model-document-createroot-name-exists",this,{name:r});const s=new ug(this,t,r);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(t=!1){return this.getRoots(t).map(r=>r.rootName)}getRoots(t=!1){return Array.from(this.roots).filter(r=>r!=this.graveyard&&(t||r.isAttached())&&r._isLoaded)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=ZA(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const t=this.getRoots();return t.length?t[0]:this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),r=this.model,s=r.schema,c=r.createPositionFromPath(t,[0]);return s.getNearestSelectionRange(c)||r.createRange(c)}_validateSelectionRange(t){return FT(t.start)&&FT(t.end)}_callPostFixers(t){let r=!1;do for(const s of this._postFixers)if(this.selection.refresh(),r=s(t),r)break;while(r)}}function FT(l){const t=l.textNode;if(t){const r=t.data,s=l.offset-t.startOffset;return!Ri(r,s)&&!xo(r,s)}return!0}var bF=Object.defineProperty,kF=Object.defineProperties,vF=Object.getOwnPropertyDescriptors,jT=Object.getOwnPropertySymbols,_F=Object.prototype.hasOwnProperty,yF=Object.prototype.propertyIsEnumerable,zT=(l,t,r)=>t in l?bF(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r;class wF extends re(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){const r=t instanceof vd?t.name:t;return this._markers.has(r)}get(t){return this._markers.get(t)||null}_set(t,r,s=!1,c=!1){const h=t instanceof vd?t.name:t;if(h.includes(","))throw new F("markercollection-incorrect-marker-name",this);const f=this._markers.get(h);if(f){const C=f.getData(),x=f.getRange();let M=!1;return x.isEqual(r)||(f._attachLiveRange(Po.fromRange(r)),M=!0),s!=f.managedUsingOperations&&(f._managedUsingOperations=s,M=!0),typeof c=="boolean"&&c!=f.affectsData&&(f._affectsData=c,M=!0),M&&this.fire(`update:${h}`,f,x,r,C),f}const g=Po.fromRange(r),b=new vd(h,g,s,c);var _;return this._markers.set(h,b),this.fire(`update:${h}`,b,null,r,(_=((C,x)=>{for(var M in x||(x={}))_F.call(x,M)&&zT(C,M,x[M]);if(jT)for(var M of jT(x))yF.call(x,M)&&zT(C,M,x[M]);return C})({},b.getData()),kF(_,vF({range:null})))),b}_remove(t){const r=t instanceof vd?t.name:t,s=this._markers.get(r);return!!s&&(this._markers.delete(r),this.fire(`update:${r}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0)}_refresh(t){const r=t instanceof vd?t.name:t,s=this._markers.get(r);if(!s)throw new F("markercollection-refresh-marker-not-exists",this);const c=s.getRange();this.fire(`update:${r}`,s,c,c,s.getData())}*getMarkersAtPosition(t){for(const r of this)r.getRange().containsPosition(t)&&(yield r)}*getMarkersIntersectingRange(t){for(const r of this)r.getRange().getIntersection(t)!==null&&(yield r)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const r of this._markers.values())r.name.startsWith(t+":")&&(yield r)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class vd extends re(cl){constructor(t,r,s,c){super(),this.name=t,this._liveRange=this._attachLiveRange(r),this._managedUsingOperations=s,this._affectsData=c}get managedUsingOperations(){if(!this._liveRange)throw new F("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new F("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new F("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new F("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new F("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}vd.prototype.is=function(l){return l==="marker"||l==="model:marker"};class CF extends Lr{constructor(t,r){super(null),this.sourcePosition=t.clone(),this.howMany=r}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new F("detach-operation-on-document-node",this)}_execute(){_T(De._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ca extends cl{constructor(t){super(),this.markers=new Map,this._children=new Pf,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let r=this;for(const s of t)r=r.getChild(r.offsetToIndex(s));return r}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const r of this._children)t.push(r.toJSON());return t}static fromJSON(t){const r=[];for(const s of t)s.name?r.push(an.fromJSON(s)):r.push(bn.fromJSON(s));return new ca(r)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,r){const s=function(c){return typeof c=="string"?[new bn(c)]:(it(c)||(c=[c]),Array.from(c).map(h=>typeof h=="string"?new bn(h):h instanceof Mo?new bn(h.data,h.getAttributes()):h))}(r);for(const c of s)c.parent!==null&&c._remove(),c.parent=this;this._children._insertNodes(t,s)}_removeChildren(t,r=1){const s=this._children._removeNodes(t,r);for(const c of s)c.parent=null;return s}}ca.prototype.is=function(l){return l==="documentFragment"||l==="model:documentFragment"};class AF{constructor(t,r){this.model=t,this.batch=r}createText(t,r){return new bn(t,r)}createElement(t,r){return new an(t,r)}createDocumentFragment(){return new ca}cloneElement(t,r=!0){return t._clone(r)}insert(t,r,s=0){if(this._assertWriterUsedCorrectly(),t instanceof bn&&t.data=="")return;const c=$e._createAt(r,s);if(t.parent){if(HT(t.root,c.root))return void this.move(De._createOn(t),c);if(t.root.document)throw new F("model-writer-insert-forbidden-move",this);this.remove(t)}const h=c.root.document?c.root.document.version:null,f=new bi(c,t,h);if(t instanceof bn&&(f.shouldReceiveAttributes=!0),this.batch.addOperation(f),this.model.applyOperation(f),t instanceof ca)for(const[g,b]of t.markers){const _=$e._createAt(b.root,0),C={range:new De(b.start._getCombined(_,c),b.end._getCombined(_,c)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,C):this.addMarker(g,C)}}insertText(t,r,s,c){r instanceof ca||r instanceof an||r instanceof $e?this.insert(this.createText(t),r,s):this.insert(this.createText(t,r),s,c)}insertElement(t,r,s,c){r instanceof ca||r instanceof an||r instanceof $e?this.insert(this.createElement(t),r,s):this.insert(this.createElement(t,r),s,c)}append(t,r){this.insert(t,r,"end")}appendText(t,r,s){r instanceof ca||r instanceof an?this.insert(this.createText(t),r,"end"):this.insert(this.createText(t,r),s,"end")}appendElement(t,r,s){r instanceof ca||r instanceof an?this.insert(this.createElement(t),r,"end"):this.insert(this.createElement(t,r),s,"end")}setAttribute(t,r,s){if(this._assertWriterUsedCorrectly(),s instanceof De){const c=s.getMinimalFlatRanges();for(const h of c)VT(this,t,r,h)}else UT(this,t,r,s)}setAttributes(t,r){for(const[s,c]of kt(t))this.setAttribute(s,c,r)}removeAttribute(t,r){if(this._assertWriterUsedCorrectly(),r instanceof De){const s=r.getMinimalFlatRanges();for(const c of s)VT(this,t,null,c)}else UT(this,t,null,r)}clearAttributes(t){this._assertWriterUsedCorrectly();const r=s=>{for(const c of s.getAttributeKeys())this.removeAttribute(c,s)};if(t instanceof De)for(const s of t.getItems())r(s);else r(t)}move(t,r,s){if(this._assertWriterUsedCorrectly(),!(t instanceof De))throw new F("writer-move-invalid-range",this);if(!t.isFlat)throw new F("writer-move-range-not-flat",this);const c=$e._createAt(r,s);if(c.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!HT(t.root,c.root))throw new F("writer-move-different-document",this);const h=t.root.document?t.root.document.version:null,f=new Xt(t.start,t.end.offset-t.start.offset,c,h);this.batch.addOperation(f),this.model.applyOperation(f)}remove(t){this._assertWriterUsedCorrectly();const r=(t instanceof De?t:De._createOn(t)).getMinimalFlatRanges().reverse();for(const s of r)this._addOperationForAffectedMarkers("move",s),TF(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const r=t.nodeBefore,s=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(r instanceof an))throw new F("writer-merge-no-element-before",this);if(!(s instanceof an))throw new F("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,r,s){return this.model.createPositionFromPath(t,r,s)}createPositionAt(t,r){return this.model.createPositionAt(t,r)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,r){return this.model.createRange(t,r)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const r=t.nodeBefore,s=t.nodeAfter;this.move(De._createIn(s),$e._createAt(r,"end")),this.remove(s)}_merge(t){const r=$e._createAt(t.nodeBefore,"end"),s=$e._createAt(t.nodeAfter,0),c=t.root.document.graveyard,h=new $e(c,[0]),f=t.root.document.version,g=new $n(s,t.nodeAfter.maxOffset,r,h,f);this.batch.addOperation(g),this.model.applyOperation(g)}rename(t,r){if(this._assertWriterUsedCorrectly(),!(t instanceof an))throw new F("writer-rename-not-element-instance",this);const s=t.root.document?t.root.document.version:null,c=new hr($e._createBefore(t),t.name,r,s);this.batch.addOperation(c),this.model.applyOperation(c)}split(t,r){this._assertWriterUsedCorrectly();let s,c,h=t.parent;if(!h.parent)throw new F("writer-split-element-no-parent",this);if(r||(r=h.parent),!t.parent.getAncestors({includeSelf:!0}).includes(r))throw new F("writer-split-invalid-limit-element",this);do{const f=h.root.document?h.root.document.version:null,g=h.maxOffset-t.offset,b=kn.getInsertionPosition(t),_=new kn(t,g,b,null,f);this.batch.addOperation(_),this.model.applyOperation(_),s||c||(s=h,c=t.parent.nextSibling),h=(t=this.createPositionAfter(t.parent)).parent}while(h!==r);return{position:t,range:new De($e._createAt(s,"end"),$e._createAt(c,0))}}wrap(t,r){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new F("writer-wrap-range-not-flat",this);const s=r instanceof an?r:new an(r);if(s.childCount>0)throw new F("writer-wrap-element-not-empty",this);if(s.parent!==null)throw new F("writer-wrap-element-attached",this);this.insert(s,t.start);const c=new De(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(c,$e._createAt(s,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new F("writer-unwrap-element-no-parent",this);this.move(De._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,r){if(this._assertWriterUsedCorrectly(),!r||typeof r.usingOperation!="boolean")throw new F("writer-addmarker-no-usingoperation",this);const s=r.usingOperation,c=r.range,h=r.affectsData!==void 0&&r.affectsData;if(this.model.markers.has(t))throw new F("writer-addmarker-marker-exists",this);if(!c)throw new F("writer-addmarker-no-range",this);return s?(zf(this,t,null,c,h),this.model.markers.get(t)):this.model.markers._set(t,c,s,h)}updateMarker(t,r){this._assertWriterUsedCorrectly();const s=typeof t=="string"?t:t.name,c=this.model.markers.get(s);if(!c)throw new F("writer-updatemarker-marker-not-exists",this);if(!r)return Q("writer-updatemarker-reconvert-using-editingcontroller",{markerName:s}),void this.model.markers._refresh(c);const h=typeof r.usingOperation=="boolean",f=typeof r.affectsData=="boolean",g=f?r.affectsData:c.affectsData;if(!h&&!r.range&&!f)throw new F("writer-updatemarker-wrong-options",this);const b=c.getRange(),_=r.range?r.range:b;h&&r.usingOperation!==c.managedUsingOperations?r.usingOperation?zf(this,s,null,_,g):(zf(this,s,b,null,g),this.model.markers._set(s,_,void 0,g)):c.managedUsingOperations?zf(this,s,b,_,g):this.model.markers._set(s,_,void 0,g)}removeMarker(t){this._assertWriterUsedCorrectly();const r=typeof t=="string"?t:t.name;if(!this.model.markers.has(r))throw new F("writer-removemarker-no-marker",this);const s=this.model.markers.get(r);if(!s.managedUsingOperations)return void this.model.markers._remove(r);zf(this,r,s.getRange(),null,s.affectsData)}addRoot(t,r="$root"){this._assertWriterUsedCorrectly();const s=this.model.document.getRoot(t);if(s&&s.isAttached())throw new F("writer-addroot-root-exists",this);const c=this.model.document,h=new ds(t,r,!0,c,c.version);return this.batch.addOperation(h),this.model.applyOperation(h),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const r=typeof t=="string"?this.model.document.getRoot(t):t;if(!r||!r.isAttached())throw new F("writer-detachroot-no-root",this);for(const h of this.model.markers)h.getRange().root===r&&this.removeMarker(h);for(const h of r.getAttributeKeys())this.removeAttribute(h,r);this.remove(this.createRangeIn(r));const s=this.model.document,c=new ds(r.rootName,r.name,!1,s,s.version);this.batch.addOperation(c),this.model.applyOperation(c)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,r){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,r)}setSelectionAttribute(t,r){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,r);else for(const[s,c]of kt(t))this._setSelectionAttribute(s,c)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const r of t)this._removeSelectionAttribute(r)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,r){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const c=No._getStoreAttributeKey(t);this.setAttribute(c,r,s.anchor.parent)}s._setAttribute(t,r)}_removeSelectionAttribute(t){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const s=No._getStoreAttributeKey(t);this.removeAttribute(s,r.anchor.parent)}r._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new F("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,r){for(const s of this.model.markers){if(!s.managedUsingOperations)continue;const c=s.getRange();let h=!1;if(t==="move"){const f=r;h=f.containsPosition(c.start)||f.start.isEqual(c.start)||f.containsPosition(c.end)||f.end.isEqual(c.end)}else{const f=r,g=f.nodeBefore,b=f.nodeAfter,_=c.start.parent==g&&c.start.isAtEnd,C=c.end.parent==b&&c.end.offset==0,x=c.end.nodeAfter==b,M=c.start.nodeAfter==b;h=_||C||x||M}h&&this.updateMarker(s.name,{range:c})}}}function VT(l,t,r,s){const c=l.model,h=c.document;let f,g,b,_=s.start;for(const x of s.getWalker({shallow:!0}))b=x.item.getAttribute(t),f&&g!=b&&(g!=r&&C(),_=f),f=x.nextPosition,g=b;function C(){const x=new De(_,f),M=x.root.document?h.version:null,z=new Yn(x,t,g,r,M);l.batch.addOperation(z),c.applyOperation(z)}f instanceof $e&&f!=_&&g!=r&&C()}function UT(l,t,r,s){const c=l.model,h=c.document,f=s.getAttribute(t);let g,b;if(f!=r){if(s.root===s){const _=s.document?h.version:null;b=new la(s,t,f,r,_)}else{g=new De($e._createBefore(s),l.createPositionAfter(s));const _=g.root.document?h.version:null;b=new Yn(g,t,f,r,_)}l.batch.addOperation(b),c.applyOperation(b)}}function zf(l,t,r,s,c){const h=l.model,f=h.document,g=new dr(t,r,s,h.markers,!!c,f.version);l.batch.addOperation(g),h.applyOperation(g)}function TF(l,t,r,s){let c;if(l.root.document){const h=s.document,f=new $e(h.graveyard,[0]);c=new Xt(l,t,f,h.version)}else c=new CF(l,t);r.addOperation(c),s.applyOperation(c)}function HT(l,t){return l===t||l instanceof ug&&t instanceof ug}function xF(l,t,r={}){if(t.isCollapsed)return;const s=t.getFirstRange();if(s.root.rootName=="$graveyard")return;const c=l.schema;l.change(h=>{if(!r.doNotResetEntireContent&&function(_,C){const x=_.getLimitElement(C);if(!C.containsEntireContent(x))return!1;const M=C.getFirstRange();return M.start.parent==M.end.parent?!1:_.checkChild(x,"paragraph")}(c,t))return void function(_,C){const x=_.model.schema.getLimitElement(C);_.remove(_.createRangeIn(x)),WT(_,_.createPositionAt(x,0),C)}(h,t);const f={};if(!r.doNotAutoparagraph){const _=t.getSelectedElement();_&&Object.assign(f,c.getAttributesWithProperty(_,"copyOnReplace",!0))}const[g,b]=function(_){const C=_.root.document.model,x=_.start;let M=_.end;if(C.hasContent(_,{ignoreMarkers:!0})){const z=function(H){const G=H.parent,Z=G.root.document.model.schema,se=G.getAncestors({parentFirst:!0,includeSelf:!0});for(const ye of se){if(Z.isLimit(ye))return null;if(Z.isBlock(ye))return ye}}(M);if(z&&M.isTouching(C.createPositionAt(z,0))){const H=C.createSelection(_);C.modifySelection(H,{direction:"backward"});const G=H.getLastPosition(),Z=C.createRange(G,M);C.hasContent(Z,{ignoreMarkers:!0})||(M=G)}}return[Ti.fromPosition(x,"toPrevious"),Ti.fromPosition(M,"toNext")]}(s);g.isTouching(b)||h.remove(h.createRange(g,b)),r.leaveUnmerged||(function(_,C,x){const M=_.model;if(!vv(_.model.schema,C,x))return;const[z,H]=function(G,Z){const se=G.getAncestors(),ye=Z.getAncestors();let Be=0;for(;se[Be]&&se[Be]==ye[Be];)Be++;return[se[Be],ye[Be]]}(C,x);!z||!H||(!M.hasContent(z,{ignoreMarkers:!0})&&M.hasContent(H,{ignoreMarkers:!0})?qT(_,C,x,z.parent):$T(_,C,x,z.parent))}(h,g,b),c.removeDisallowedAttributes(g.parent.getChildren(),h)),GT(h,t,g),!r.doNotAutoparagraph&&function(_,C){const x=_.checkChild(C,"$text"),M=_.checkChild(C,"paragraph");return!x&&M}(c,g)&&WT(h,g,t,f),g.detach(),b.detach()})}function $T(l,t,r,s){const c=t.parent,h=r.parent;if(c!=s&&h!=s){for(t=l.createPositionAfter(c),(r=l.createPositionBefore(h)).isEqual(t)||l.insert(h,t),l.merge(t);r.parent.isEmpty;){const f=r.parent;r=l.createPositionBefore(f),l.remove(f)}vv(l.model.schema,t,r)&&$T(l,t,r,s)}}function qT(l,t,r,s){const c=t.parent,h=r.parent;if(c!=s&&h!=s){for(t=l.createPositionAfter(c),(r=l.createPositionBefore(h)).isEqual(t)||l.insert(c,r);t.parent.isEmpty;){const f=t.parent;t=l.createPositionBefore(f),l.remove(f)}r=l.createPositionBefore(h),function(f,g){const b=g.nodeBefore,_=g.nodeAfter;b.name!=_.name&&f.rename(b,_.name),f.clearAttributes(b),f.setAttributes(Object.fromEntries(_.getAttributes()),b),f.merge(g)}(l,r),vv(l.model.schema,t,r)&&qT(l,t,r,s)}}function vv(l,t,r){const s=t.parent,c=r.parent;return s!=c&&!l.isLimit(s)&&!l.isLimit(c)&&function(h,f,g){const b=new De(h,f);for(const _ of b.getWalker())if(g.isLimit(_.item))return!1;return!0}(t,r,l)}function WT(l,t,r,s={}){const c=l.createElement("paragraph");l.model.schema.setAllowedAttributes(c,s,l),l.insert(c,t),GT(l,r,l.createPositionAt(c,0))}function GT(l,t,r){t instanceof No?l.setSelection(r):t.setTo(r)}function KT(l,t){const r=[];Array.from(l.getItems({direction:"backward"})).map(s=>t.createRangeOn(s)).filter(s=>(s.start.isAfter(l.start)||s.start.isEqual(l.start))&&(s.end.isBefore(l.end)||s.end.isEqual(l.end))).forEach(s=>{r.push(s.start.parent),t.remove(s)}),r.forEach(s=>{let c=s;for(;c.parent&&c.isEmpty;){const h=t.createRangeOn(c);c=c.parent,t.remove(h)}})}class EF{constructor(t,r,s){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=t,this.writer=r,this.position=s,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=r.createDocumentFragment(),this._documentFragmentPosition=r.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const r of Array.from(t))this._handleNode(r);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const r=this.writer.createPositionAfter(this._lastNode),s=this.writer.createPositionAfter(t);if(s.isAfter(r)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new F("insertcontent-invalid-insertion-position",this);this.position=s,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?De._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new De(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let r=this._checkAndAutoParagraphToAllowedPosition(t);r||(r=this._checkAndSplitToAllowedPosition(t),r)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=Ti.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new F("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Ti.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Ti.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof an)||!this._canMergeLeft(t))return;const r=Ti._createBefore(t);r.stickiness="toNext";const s=Ti.fromPosition(this.position,"toNext");this._affectedStart.isEqual(r)&&(this._affectedStart.detach(),this._affectedStart=Ti._createAt(r.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Ti._createAt(r.nodeBefore,"end","toNext")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof an)||!this._canMergeRight(t))return;const r=Ti._createAfter(t);if(r.stickiness="toNext",!this.position.isEqual(r))throw new F("insertcontent-invalid-insertion-position",this);this.position=$e._createAt(r.nodeBefore,"end");const s=Ti.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(r)&&(this._affectedEnd.detach(),this._affectedEnd=Ti._createAt(r.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Ti._createAt(r.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_canMergeLeft(t){const r=t.previousSibling;return r instanceof an&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(r,t)}_canMergeRight(t){const r=t.nextSibling;return r instanceof an&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(t,r)}_tryAutoparagraphing(t){const r=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,r)&&this.schema.checkChild(r,t)&&(r._appendChild(t),this._handleNode(r))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const r=this.writer.createElement("paragraph");return this.writer.insert(r,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=r,this.position=this.writer.createPositionAt(r,0),!0}_checkAndSplitToAllowedPosition(t){const r=this._getAllowedIn(this.position.parent,t);if(!r)return!1;for(r!=this.position.parent&&this._insertPartialFragment();r!=this.position.parent;)if(this.position.isAtStart){const s=this.position.parent;this.position=this.writer.createPositionBefore(s),s.isEmpty&&s.parent===r&&this.writer.remove(s)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const s=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=s,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,r){return this.schema.checkChild(t,r)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,r)}}function YT(l,t,r="auto"){const s=l.getSelectedElement();if(s&&t.schema.isObject(s)&&!t.schema.isInline(s))return r=="before"||r=="after"?t.createRange(t.createPositionAt(s,r)):t.createRangeOn(s);const c=Je(l.getSelectedBlocks());if(!c)return t.createRange(l.focus);if(c.isEmpty)return t.createRange(t.createPositionAt(c,0));const h=t.createPositionAfter(c);return l.focus.isTouching(h)?t.createRange(h):t.createRange(t.createPositionBefore(c))}function SF(l,t,r,s={}){if(!l.schema.isObject(t))throw new F("insertobject-element-not-an-object",l,{object:t});const c=r||l.document.selection;let h=c;s.findOptimalPosition&&l.schema.isBlock(t)&&(h=l.createSelection(YT(c,l,s.findOptimalPosition)));const f=Je(c.getSelectedBlocks()),g={};return f&&Object.assign(g,l.schema.getAttributesWithProperty(f,"copyOnReplace",!0)),l.change(b=>{h.isCollapsed||l.deleteContent(h,{doNotAutoparagraph:!0});let _=t;const C=h.anchor.parent;!l.schema.checkChild(C,t)&&l.schema.checkChild(C,"paragraph")&&l.schema.checkChild("paragraph",t)&&(_=b.createElement("paragraph"),b.insert(t,_)),l.schema.setAllowedAttributes(_,g,b);const x=l.insertContent(_,h);return x.isCollapsed||s.setSelection&&function(M,z,H,G){const Z=M.model;if(H=="on")return void M.setSelection(z,"on");if(H!="after")throw new F("insertobject-invalid-place-parameter-value",Z);let se=z.nextSibling;if(Z.schema.isInline(z))return void M.setSelection(z,"after");!(se&&Z.schema.checkChild(se,"$text"))&&Z.schema.checkChild(z.parent,"paragraph")&&(se=M.createElement("paragraph"),Z.schema.setAllowedAttributes(se,G,M),Z.insertContent(se,M.createPositionAfter(z))),se&&M.setSelection(se,0)}(b,t,s.setSelection,g),x})}const DF=' ,.?!:;"-()';function IF(l,t){const{isForward:r,walker:s,unit:c,schema:h,treatEmojiAsSingleUnit:f}=l,{type:g,item:b,nextPosition:_}=t;if(g=="text")return l.unit==="word"?function(C,x){let M=C.position.textNode;for(M||(M=x?C.position.nodeAfter:C.position.nodeBefore);M&&M.is("$text");){const z=C.position.offset-M.startOffset;if(NF(M,z,x))M=x?C.position.nodeAfter:C.position.nodeBefore;else{if(PF(M.data,z,x))break;C.next()}}return C.position}(s,r):function(C,x,M){const z=C.position.textNode;if(z){const H=z.data;let G=C.position.offset-z.startOffset;for(;Ri(H,G)||x=="character"&&xo(H,G)||M&&Cf(H,G);)C.next(),G=C.position.offset-z.startOffset}return C.position}(s,c,f);if(g==(r?"elementStart":"elementEnd")){if(h.isSelectable(b))return $e._createAt(b,r?"after":"before");if(h.checkChild(_,"$text"))return _}else{if(h.isLimit(b))return void s.skip(()=>!0);if(h.checkChild(_,"$text"))return _}}function MF(l,t){const r=l.root,s=$e._createAt(r,t?"end":0);return t?new De(l,s):new De(s,l)}function PF(l,t,r){const s=t+(r?0:-1);return DF.includes(l.charAt(s))}function NF(l,t,r){return t===(r?l.offsetSize:0)}class BF extends xe(){constructor(){super(),this.markers=new wF,this.document=new gF(this),this.schema=new S7,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,r)=>{r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((t,r)=>{if(r.name==="$marker")return!0}),T7(this),this.document.registerPostFixer(rT),this.on("insertContent",(t,[r,s])=>{t.return=function(c,h,f){return c.change(g=>{const b=f||c.document.selection;b.isCollapsed||c.deleteContent(b,{doNotAutoparagraph:!0});const _=new EF(c,g,b.anchor),C=[];let x;if(h.is("documentFragment")){if(h.markers.size){const H=[];for(const[G,Z]of h.markers){const{start:se,end:ye}=Z,Be=se.isEqual(ye);H.push({position:se,name:G,isCollapsed:Be},{position:ye,name:G,isCollapsed:Be})}H.sort(({position:G},{position:Z})=>G.isBefore(Z)?1:-1);for(const{position:G,name:Z,isCollapsed:se}of H){let ye=null,Be=null;const ot=G.parent===h&&G.isAtStart,yt=G.parent===h&&G.isAtEnd;ot||yt?se&&(Be=ot?"start":"end"):(ye=g.createElement("$marker"),g.insert(ye,G)),C.push({name:Z,element:ye,collapsed:Be})}}x=h.getChildren()}else x=[h];_.handleNodes(x);let M=_.getSelectionRange();if(h.is("documentFragment")&&C.length){const H=M?Po.fromRange(M):null,G={};for(let Z=C.length-1;Z>=0;Z--){const{name:se,element:ye,collapsed:Be}=C[Z],ot=!G[se];if(ot&&(G[se]=[]),ye){const yt=g.createPositionAt(ye,"before");G[se].push(yt),g.remove(ye)}else{const yt=_.getAffectedRange();if(!yt){Be&&G[se].push(_.position);continue}Be?G[se].push(yt[Be]):G[se].push(ot?yt.start:yt.end)}}for(const[Z,[se,ye]]of Object.entries(G))se&&ye&&se.root===ye.root&&g.addMarker(Z,{usingOperation:!0,affectsData:!0,range:new De(se,ye)});H&&(M=H.toRange(),H.detach())}M&&(b instanceof No?g.setSelection(M):b.setTo(M));const z=_.getAffectedRange()||c.createRange(b.anchor);return _.destroy(),z})}(this,r,s)}),this.on("insertObject",(t,[r,s,c])=>{t.return=SF(this,r,s,c)}),this.on("canEditAt",t=>{const r=!this.document.isReadOnly;t.return=r,r||t.stop()})}change(t){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new kd,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(r){F.rethrowUnexpectedError(r,this)}}enqueueChange(t,r){try{t?typeof t=="function"?(r=t,t=new kd):t instanceof kd||(t=new kd(t)):t=new kd,this._pendingChanges.push({batch:t,callback:r}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){F.rethrowUnexpectedError(s,this)}}applyOperation(t){t._execute()}insertContent(t,r,s,...c){const h=_v(r,s);return this.fire("insertContent",[t,h,s,...c])}insertObject(t,r,s,c,...h){const f=_v(r,s);return this.fire("insertObject",[t,f,c,c,...h])}deleteContent(t,r){xF(this,t,r)}modifySelection(t,r){(function(s,c,h={}){const f=s.schema,g=h.direction!="backward",b=h.unit?h.unit:"character",_=!!h.treatEmojiAsSingleUnit,C=c.focus,x=new us({boundaries:MF(C,g),singleCharacters:!0,direction:g?"forward":"backward"}),M={walker:x,schema:f,isForward:g,unit:b,treatEmojiAsSingleUnit:_};let z;for(;z=x.next();){if(z.done)return;const H=IF(M,z.value);if(H)return void(c instanceof No?s.change(G=>{G.setSelectionFocus(H)}):c.setFocus(H))}})(this,t,r)}getSelectedContent(t){return function(r,s){return r.change(c=>{const h=c.createDocumentFragment(),f=s.getFirstRange();if(!f||f.isCollapsed)return h;const g=f.start.root,b=f.start.getCommonPath(f.end),_=g.getNodeByPath(b);let C;C=f.start.parent==f.end.parent?f:c.createRange(c.createPositionAt(_,f.start.path[b.length]),c.createPositionAt(_,f.end.path[b.length]+1));const x=C.end.offset-C.start.offset;for(const M of C.getItems({shallow:!0}))M.is("$textProxy")?c.appendText(M.data,M.getAttributes(),h):c.append(c.cloneElement(M,!0),h);if(C!=f){const M=f._getTransformedByMove(C.start,c.createPositionAt(h,0),x)[0],z=c.createRange(c.createPositionAt(h,0),M.start);KT(c.createRange(M.end,c.createPositionAt(h,"end")),c),KT(z,c)}return h})}(this,t)}hasContent(t,r={}){const s=t instanceof De?t:De._createIn(t);if(s.isCollapsed)return!1;const{ignoreWhitespaces:c=!1,ignoreMarkers:h=!1}=r;if(!h){for(const f of this.markers.getMarkersIntersectingRange(s))if(f.affectsData)return!0}for(const f of s.getItems())if(this.schema.isContent(f)&&(!f.is("$textProxy")||!c||f.data.search(/\S/)!==-1))return!0;return!1}canEditAt(t){const r=_v(t);return this.fire("canEditAt",[r])}createPositionFromPath(t,r,s){return new $e(t,r,s)}createPositionAt(t,r){return $e._createAt(t,r)}createPositionAfter(t){return $e._createAfter(t)}createPositionBefore(t){return $e._createBefore(t)}createRange(t,r){return new De(t,r)}createRangeIn(t){return De._createIn(t)}createRangeOn(t){return De._createOn(t)}createSelection(...t){return new Or(...t)}createBatch(t){return new kd(t)}createOperationFromJSON(t){return Q7.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const r=this._pendingChanges[0].batch;this._currentWriter=new AF(this,r);const s=this._pendingChanges[0].callback(this._currentWriter);t.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return t}}function _v(l,t){if(l)return l instanceof Or||l instanceof No?l:l instanceof Oc?t||t===0?new Or(l,t):l.is("rootElement")?new Or(l,"in"):new Or(l,"on"):new Or(l)}class OF extends al{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class yv extends al{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}class ul{constructor(t){this.document=t}createDocumentFragment(t){return new Bc(this.document,t)}createElement(t,r,s){return new Nr(this.document,t,r,s)}createText(t){return new gn(this.document,t)}clone(t,r=!1){return t._clone(r)}appendChild(t,r){return r._appendChild(t)}insertChild(t,r,s){return s._insertChild(t,r)}removeChildren(t,r,s){return s._removeChildren(t,r)}remove(t){const r=t.parent;return r?this.removeChildren(r.getChildIndex(t),1,r):[]}replace(t,r){const s=t.parent;if(s){const c=s.getChildIndex(t);return this.removeChildren(c,1,s),this.insertChild(c,r,s),!0}return!1}unwrapElement(t){const r=t.parent;if(r){const s=r.getChildIndex(t);this.remove(t),this.insertChild(s,t.getChildren(),r)}}rename(t,r){const s=new Nr(this.document,t,r.getAttributes(),r.getChildren());return this.replace(r,s)?s:null}setAttribute(t,r,s){s._setAttribute(t,r)}removeAttribute(t,r){r._removeAttribute(t)}addClass(t,r){r._addClass(t)}removeClass(t,r){r._removeClass(t)}setStyle(t,r,s){Ai(t)&&s===void 0?r._setStyle(t):s._setStyle(t,r)}removeStyle(t,r){r._removeStyle(t)}setCustomProperty(t,r,s){s._setCustomProperty(t,r)}removeCustomProperty(t,r){return r._removeCustomProperty(t)}createPositionAt(t,r){return tt._createAt(t,r)}createPositionAfter(t){return tt._createAfter(t)}createPositionBefore(t){return tt._createBefore(t)}createRange(t,r){return new xt(t,r)}createRangeOn(t){return xt._createOn(t)}createRangeIn(t){return xt._createIn(t)}createSelection(...t){return new ls(...t)}}class LF{constructor(){this._commands=new Map}add(t,r){this._commands.set(t,r)}get(t){return this._commands.get(t)}execute(t,...r){const s=this.get(t);if(!s)throw new F("commandcollection-command-not-found",this,{commandName:t});return s.execute(...r)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class RF extends xe(){constructor(t={}){super();const r=this.constructor,s=t.language||r.defaultConfig&&r.defaultConfig.language;this._context=t.context||new WA({language:s}),this._context._addEditor(this,!t.context);const c=Array.from(r.builtinPlugins||[]);this.config=new _n(t,r.defaultConfig),this.config.define("plugins",c),this.config.define(this._context._getEditorConfig()),this.plugins=new qA(this,c,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new LF,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new BF,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const h=new l8;this.data=new K7(this.model,h),this.editing=new x7(this.model,h),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Y7([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new E6(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new F("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new F("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new F("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const t=this.config,r=t.get("plugins"),s=t.get("removePlugins")||[],c=t.get("extraPlugins")||[],h=t.get("substitutePlugins")||[];return this.plugins.init(r.concat(c),s,h)}destroy(){let t=Promise.resolve();return this.state=="initializing"&&(t=new Promise(r=>this.once("ready",r))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(t,...r){try{return this.commands.execute(t,...r)}catch(s){F.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}static create(...t){throw new Error("This is an abstract method.")}}function dg(l){return class extends l{setData(t){this.data.set(t)}getData(t){return this.data.get(t)}}}{const l=dg(Object);dg.setData=l.prototype.setData,dg.getData=l.prototype.getData}function wv(l){return class extends l{updateSourceElement(t=this.data.get()){if(!this.sourceElement)throw new F("editor-missing-sourceelement",this);const r=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;Ue(this.sourceElement,r||s?t:"")}}}wv.updateSourceElement=wv(Object).prototype.updateSourceElement;class QT extends Km{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Ee({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if(typeof t!="string")throw new F("pendingactions-add-invalid-message",this);const r=new(xe());return r.set("message",t),this._actions.add(r),this.hasAny=!0,r}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Qn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var ZT=a(5542),FF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(ZT.Z,FF),ZT.Z.locals;const{threeVerticalDots:XT}=Qn,jF={alignLeft:Qn.alignLeft,bold:Qn.bold,importExport:Qn.importExport,paragraph:Qn.paragraph,plus:Qn.plus,text:Qn.text,threeVerticalDots:Qn.threeVerticalDots};class Cv extends Mt{constructor(t,r){super(t);const s=this.bindTemplate,c=this.t;this.options=r||{},this.set("ariaLabel",c("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Fe,this.keystrokes=new pt,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new zF(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const h=t.uiLanguageDirection==="rtl";this._focusCycler=new fd({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[h?"arrowright":"arrowleft","arrowup"],focusNext:[h?"arrowleft":"arrowright","arrowdown"]}});const f=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];var g;this.options.shouldGroupWhenFull&&this.options.isFloating&&f.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:f,role:"toolbar","aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(g=this,g.bindTemplate.to(b=>{b.target===g.element&&b.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new UF(this):new VF(this)}render(){super.render(),this.focusTracker.add(this.element);for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(t,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,r,s){this.items.addMany(this._buildItemsFromConfig(t,r,s))}_buildItemsFromConfig(t,r,s){const c=VA(t),h=s||c.removeItems;return this._cleanItemsConfiguration(c.items,r,h).map(f=>Ke(f)?this._createNestedToolbarDropdown(f,r,h):f==="|"?new zA:f==="-"?new x6:r.create(f)).filter(f=>!!f)}_cleanItemsConfiguration(t,r,s){const c=t.filter((h,f,g)=>h==="|"||s.indexOf(h)===-1&&(h==="-"?!this.options.shouldGroupWhenFull||(Q("toolbarview-line-break-ignored-when-grouping-items",g),!1):!(!Ke(h)&&!r.has(h))||(Q("toolbarview-item-unavailable",{item:h}),!1)));return this._cleanSeparatorsAndLineBreaks(c)}_cleanSeparatorsAndLineBreaks(t){const r=f=>f!=="-"&&f!=="|",s=t.length,c=t.findIndex(r);if(c===-1)return[];const h=s-t.slice().reverse().findIndex(r);return t.slice(c,h).filter((f,g,b)=>r(f)?!0:!(g>0&&b[g-1]===f))}_createNestedToolbarDropdown(t,r,s){let{label:c,icon:h,items:f,tooltip:g=!0,withText:b=!1}=t;if(f=this._cleanItemsConfiguration(f,r,s),!f.length)return null;const _=dl(this.locale);return c||Q("toolbarview-nested-toolbar-dropdown-missing-label",t),_.class="ck-toolbar__nested-toolbar-dropdown",_.buttonView.set({label:c,tooltip:g,withText:!!b}),h!==!1?_.buttonView.icon=jF[h]||h||XT:_.buttonView.withText=!0,Tv(_,()=>_.toolbarView._buildItemsFromConfig(f,r,s)),_}}class zF extends Mt{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class VF{constructor(t){const r=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(s=>s),t.focusables.bindTo(t.items).using(s=>s),t.extendTemplate({attributes:{class:[r.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class UF{constructor(t){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(r=>r),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),t.children.on("change",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(r,s)=>{const c=s.index,h=Array.from(s.added);for(const f of s.removed)c>=this.ungroupedItems.length?this.groupedItems.remove(f):this.ungroupedItems.remove(f);for(let f=c;f<c+h.length;f++){const g=h[f-c];f>this.ungroupedItems.length?this.groupedItems.add(g,f-this.ungroupedItems.length):this.ungroupedItems.add(g,f)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Li(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let r;for(;this._areItemsOverflowing;)this._groupLastItem(),r=!0;if(!r&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,r=this.viewLocale.uiLanguageDirection,s=new Ht(t.lastChild),c=new Ht(t);if(!this.cachedPadding){const h=_t.window.getComputedStyle(t),f=r==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(h[f])}return r==="ltr"?s.right>c.right-this.cachedPadding:s.left<c.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new fe(this.viewElement,r=>{t&&t===r.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=r.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new zA),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,r=t.t,s=dl(t);return s.class="ck-toolbar__grouped-dropdown",s.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",Tv(s,this.groupedItems),s.buttonView.set({label:r("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:XT}),s}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var JT=a(1046),HF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(JT.Z,HF),JT.Z.locals;class $F extends Mt{constructor(t){super(t);const r=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new Fe,this.keystrokes=new pt,this._focusCycler=new fd({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:r.to("role"),"aria-label":r.to("ariaLabel")},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(t,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class ex extends Mt{constructor(t){super(t);const r=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",r.if("isVisible","ck-hidden",s=>!s)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class qF extends Mt{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var tx=a(7686),WF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(tx.Z,WF),tx.Z.locals;class Av extends Mt{constructor(t){super(t);const r=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new pt,this.focusTracker=new Fe,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.to("class"),r.if("isVisible","ck-hidden",s=>!s),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,r)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),r())}),this.keystrokes.set("arrowleft",(t,r)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),r())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const t=new wn;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new wn,r=t.bindTemplate;return t.icon=jA,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":r.to("isOn"),"aria-haspopup":!0,"aria-expanded":r.to("isOn",s=>String(s))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}var nx=a(7339),GF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(nx.Z,GF),nx.Z.locals;var ix=a(3949),KF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(ix.Z,KF),ix.Z.locals;function dl(l,t=T6){const r=new t(l),s=new C6(l),c=new zk(l,r,s);return r.bind("isEnabled").to(c),r instanceof Av?r.arrowView.bind("isOn").to(c,"isOpen"):r.bind("isOn").to(c,"isOpen"),function(h){(function(f){f.on("render",()=>{d({emitter:f,activator:()=>f.isOpen,callback:()=>{f.isOpen=!1},contextElements:()=>[f.element,...f.focusTracker._elements]})})})(h),function(f){f.on("execute",g=>{g.source instanceof Gm||(f.isOpen=!1)})}(h),function(f){f.focusTracker.on("change:isFocused",(g,b,_)=>{f.isOpen&&!_&&(f.isOpen=!1)})}(h),function(f){f.keystrokes.set("arrowdown",(g,b)=>{f.isOpen&&(f.panelView.focus(),b())}),f.keystrokes.set("arrowup",(g,b)=>{f.isOpen&&(f.panelView.focusLast(),b())})}(h),function(f){f.on("change:isOpen",(g,b,_)=>{if(_)return;const C=f.panelView.element;C&&C.contains(_t.document.activeElement)&&f.buttonView.focus()})}(h),function(f){f.on("change:isOpen",(g,b,_)=>{_&&f.panelView.focus()},{priority:"low"})}(h)}(c),c}function Tv(l,t,r={}){l.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),l.isOpen?rx(l,t,r):l.once("change:isOpen",()=>rx(l,t,r),{priority:"highest"}),r.enableActiveItemFocusOnDropdownOpen&&ax(l,()=>l.toolbarView.items.find(s=>s.isOn))}function rx(l,t,r){const s=l.locale,c=s.t,h=l.toolbarView=new Cv(s),f=typeof t=="function"?t():t;h.ariaLabel=r.ariaLabel||c("Dropdown toolbar"),r.maxWidth&&(h.maxWidth=r.maxWidth),r.class&&(h.class=r.class),r.isCompact&&(h.isCompact=r.isCompact),r.isVertical&&(h.isVertical=!0),f instanceof Eo?h.items.bindTo(f).using(g=>g):h.items.addMany(f),l.panelView.children.add(h),h.items.delegate("execute").to(l)}function ox(l,t,r={}){l.isOpen?sx(l,t,r):l.once("change:isOpen",()=>sx(l,t,r),{priority:"highest"}),ax(l,()=>l.listView.items.find(s=>s instanceof ex&&s.children.first.isOn))}function sx(l,t,r){const s=l.locale,c=l.listView=new $F(s),h=typeof t=="function"?t():t;c.ariaLabel=r.ariaLabel,c.role=r.role,c.items.bindTo(h).using(f=>{if(f.type==="separator")return new qF(s);if(f.type==="button"||f.type==="switchbutton"){const g=new ex(s);let b;return b=f.type==="button"?new wn(s):new Gm(s),b.bind(...Object.keys(f.model)).to(f.model),b.delegate("execute").to(g),g.children.add(b),g}return null}),l.panelView.children.add(c),c.items.delegate("execute").to(l)}function ax(l,t){l.on("change:isOpen",()=>{if(!l.isOpen)return;const r=t();r&&(typeof r.focus=="function"?r.focus():Q("ui-dropdown-focus-child-on-open-child-missing-focus",{view:r}))},{priority:q.low-10})}function xv(l,t,r){const s=new w6(l.locale);return s.set({id:t,ariaDescribedById:r}),s.bind("isReadOnly").to(l,"isEnabled",c=>!c),s.bind("hasError").to(l,"errorText",c=>!!c),s.on("input",()=>{l.errorText=null}),l.bind("isEmpty","isFocused","placeholder").to(s),s}const Vf=(l,t=0,r=1)=>l>r?r:l<t?t:l,xi=(l,t=0,r=Math.pow(10,t))=>Math.round(r*l)/r,Ev=l=>(l[0]==="#"&&(l=l.substring(1)),l.length<6?{r:parseInt(l[0]+l[0],16),g:parseInt(l[1]+l[1],16),b:parseInt(l[2]+l[2],16),a:l.length===4?xi(parseInt(l[3]+l[3],16)/255,2):1}:{r:parseInt(l.substring(0,2),16),g:parseInt(l.substring(2,4),16),b:parseInt(l.substring(4,6),16),a:l.length===8?xi(parseInt(l.substring(6,8),16)/255,2):1}),YF=({h:l,s:t,v:r,a:s})=>{const c=(200-t)*r/100;return{h:xi(l),s:xi(c>0&&c<200?t*r/100/(c<=100?c:200-c)*100:0),l:xi(c/2),a:xi(s,2)}},Sv=l=>{const{h:t,s:r,l:s}=YF(l);return`hsl(${t}, ${r}%, ${s}%)`},QF=({h:l,s:t,v:r,a:s})=>{l=l/360*6,t/=100,r/=100;const c=Math.floor(l),h=r*(1-t),f=r*(1-(l-c)*t),g=r*(1-(1-l+c)*t),b=c%6;return{r:xi(255*[r,f,h,h,g,r][b]),g:xi(255*[g,r,r,f,h,h][b]),b:xi(255*[h,h,g,r,r,f][b]),a:xi(s,2)}},hg=l=>{const t=l.toString(16);return t.length<2?"0"+t:t},ZF=({r:l,g:t,b:r,a:s})=>{const c=s<1?hg(xi(255*s)):"";return"#"+hg(l)+hg(t)+hg(r)+c},XF=({r:l,g:t,b:r,a:s})=>{const c=Math.max(l,t,r),h=c-Math.min(l,t,r),f=h?c===l?(t-r)/h:c===t?2+(r-l)/h:4+(l-t)/h:0;return{h:xi(60*(f<0?f+6:f)),s:xi(c?h/c*100:0),v:xi(c/255*100),a:s}},lx=(l,t)=>{if(l===t)return!0;for(const r in l)if(l[r]!==t[r])return!1;return!0},cx={},ux=l=>{let t=cx[l];return t||(t=document.createElement("template"),t.innerHTML=l,cx[l]=t),t},Dv=(l,t,r)=>{l.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:r}))};let _d=!1;const Iv=l=>"touches"in l,dx=(l,t)=>{const r=Iv(t)?t.touches[0]:t,s=l.el.getBoundingClientRect();Dv(l.el,"move",l.getMove({x:Vf((r.pageX-(s.left+window.pageXOffset))/s.width),y:Vf((r.pageY-(s.top+window.pageYOffset))/s.height)}))};class hx{constructor(t,r,s,c){const h=ux(`<div role="slider" tabindex="0" part="${r}" ${s}><div part="${r}-pointer"></div></div>`);t.appendChild(h.content.cloneNode(!0));const f=t.querySelector(`[part=${r}]`);f.addEventListener("mousedown",this),f.addEventListener("touchstart",this),f.addEventListener("keydown",this),this.el=f,this.xy=c,this.nodes=[f.firstChild,f]}set dragging(t){const r=t?document.addEventListener:document.removeEventListener;r(_d?"touchmove":"mousemove",this),r(_d?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!(r=>!(_d&&!Iv(r)||(_d||(_d=Iv(r)),0)))(t)||!_d&&t.button!=0)return;this.el.focus(),dx(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),dx(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((r,s)=>{const c=s.keyCode;c>40||r.xy&&c<37||c<33||(s.preventDefault(),Dv(r.el,"move",r.getMove({x:c===39?.01:c===37?-.01:c===34?.05:c===33?-.05:c===35?1:c===36?-1:0,y:c===40?.01:c===38?-.01:0},!0)))})(this,t)}}style(t){t.forEach((r,s)=>{for(const c in r)this.nodes[s].style.setProperty(c,r[c])})}}class JF extends hx{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:t/360*100+"%",color:Sv({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${xi(t)}`)}getMove(t,r){return{h:r?Vf(this.h+360*t.x,0,360):360*t.x}}}class e9 extends hx{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:100-t.v+"%",left:`${t.s}%`,color:Sv(t)},{"background-color":Sv({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${xi(t.s)}%, Brightness ${xi(t.v)}%`)}getMove(t,r){return{s:r?Vf(this.hsva.s+100*t.x,0,100):100*t.x,v:r?Vf(this.hsva.v-100*t.y,0,100):Math.round(100-100*t.y)}}}const fg=Symbol("same"),Mv=Symbol("color"),fx=Symbol("hsva"),Pv=Symbol("update"),px=Symbol("parts"),mx=Symbol("css"),gx=Symbol("sliders");class t9 extends HTMLElement{static get observedAttributes(){return["color"]}get[mx](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[gx](){return[e9,JF]}get color(){return this[Mv]}set color(t){if(!this[fg](t)){const r=this.colorModel.toHsva(t);this[Pv](r),this[Mv]=t}}constructor(){super();const t=ux(`<style>${this[mx].join("")}</style>`),r=this.attachShadow({mode:"open"});r.appendChild(t.content.cloneNode(!0)),r.addEventListener("move",this),this[px]=this[gx].map(s=>new s(r))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,r,s){const c=this.colorModel.fromAttr(s);this[fg](c)||(this.color=c)}handleEvent(t){const r=this[fx],s={...r,...t.detail};let c;this[Pv](s),lx(s,r)||this[fg](c=this.colorModel.fromHsva(s))||(this[Mv]=c,Dv(this,"color-changed",{value:c}))}[fg](t){return this.color&&this.colorModel.equal(t,this.color)}[Pv](t){this[fx]=t,this[px].forEach(r=>r.update(t))}}const n9={defaultColor:"#000",toHsva:l=>XF(Ev(l)),fromHsva:({h:l,s:t,v:r})=>ZF(QF({h:l,s:t,v:r,a:1})),equal:(l,t)=>l.toLowerCase()===t.toLowerCase()||lx(Ev(l),Ev(t)),fromAttr:l=>l};class i9 extends t9{get colorModel(){return n9}}customElements.define("hex-color-picker",class extends i9{});var bx=a(3398),r9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(bx.Z,r9),bx.Z.locals;var kx=a(4157),o9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(kx.Z,o9),kx.Z.locals;class s9{constructor(t){this._components=new Map,this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,r){this._components.set(Nv(t),{callback:r,originalName:t})}create(t){if(!this.has(t))throw new F("componentfactory-item-missing",this,{name:t});return this._components.get(Nv(t)).callback(this.editor.locale)}has(t){return this._components.has(Nv(t))}}function Nv(l){return String(l).toLowerCase()}var vx=a(8793),a9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(vx.Z,a9),vx.Z.locals;var l9=Object.defineProperty,_x=Object.getOwnPropertySymbols,c9=Object.prototype.hasOwnProperty,u9=Object.prototype.propertyIsEnumerable,yx=(l,t,r)=>t in l?l9(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,Gt=(l,t)=>{for(var r in t||(t={}))c9.call(t,r)&&yx(l,r,t[r]);if(_x)for(var r of _x(t))u9.call(t,r)&&yx(l,r,t[r]);return l};const wx=mt("px"),Cx=_t.document.body,Bv=class extends Mt{constructor(l){super(l);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",r=>`ck-balloon-panel_${r}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",wx),left:t.to("left",wx)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(l){this.show();const t=Bv.defaultPositions,r=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:Cx,fitInViewport:!0},l),s=Bv._getOptimalPosition(r),c=parseInt(s.left),h=parseInt(s.top),f=s.name,g=s.config||{},{withArrow:b=!0}=g;this.top=h,this.left=c,this.position=f,this.withArrow=b}pin(l){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(l):this._stopPinning()},this._startPinning(l),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(l){this.attachTo(l);const t=Ov(l.target),r=l.limiter?Ov(l.limiter):Cx;this.listenTo(_t.document,"scroll",(s,c)=>{const h=c.target,f=t&&h.contains(t),g=r&&h.contains(r);!f&&!g&&t&&r||this.attachTo(l)},{useCapture:!0}),this.listenTo(_t.window,"resize",()=>{this.attachTo(l)})}_stopPinning(){this.stopListening(_t.document,"scroll"),this.stopListening(_t.window,"resize")}};let fr=Bv;function Ov(l){return Yi(l)?l:rs(l)?l.commonAncestorContainer:typeof l=="function"?Ov(l()):null}function Ax(l={}){const{sideOffset:t=fr.arrowSideOffset,heightOffset:r=fr.arrowHeightOffset,stickyVerticalOffset:s=fr.stickyVerticalOffset,config:c}=l;return{northWestArrowSouthWest:(g,b)=>Gt({top:h(g,b),left:g.left-t,name:"arrow_sw"},c&&{config:c}),northWestArrowSouthMiddleWest:(g,b)=>Gt({top:h(g,b),left:g.left-.25*b.width-t,name:"arrow_smw"},c&&{config:c}),northWestArrowSouth:(g,b)=>Gt({top:h(g,b),left:g.left-b.width/2,name:"arrow_s"},c&&{config:c}),northWestArrowSouthMiddleEast:(g,b)=>Gt({top:h(g,b),left:g.left-.75*b.width+t,name:"arrow_sme"},c&&{config:c}),northWestArrowSouthEast:(g,b)=>Gt({top:h(g,b),left:g.left-b.width+t,name:"arrow_se"},c&&{config:c}),northArrowSouthWest:(g,b)=>Gt({top:h(g,b),left:g.left+g.width/2-t,name:"arrow_sw"},c&&{config:c}),northArrowSouthMiddleWest:(g,b)=>Gt({top:h(g,b),left:g.left+g.width/2-.25*b.width-t,name:"arrow_smw"},c&&{config:c}),northArrowSouth:(g,b)=>Gt({top:h(g,b),left:g.left+g.width/2-b.width/2,name:"arrow_s"},c&&{config:c}),northArrowSouthMiddleEast:(g,b)=>Gt({top:h(g,b),left:g.left+g.width/2-.75*b.width+t,name:"arrow_sme"},c&&{config:c}),northArrowSouthEast:(g,b)=>Gt({top:h(g,b),left:g.left+g.width/2-b.width+t,name:"arrow_se"},c&&{config:c}),northEastArrowSouthWest:(g,b)=>Gt({top:h(g,b),left:g.right-t,name:"arrow_sw"},c&&{config:c}),northEastArrowSouthMiddleWest:(g,b)=>Gt({top:h(g,b),left:g.right-.25*b.width-t,name:"arrow_smw"},c&&{config:c}),northEastArrowSouth:(g,b)=>Gt({top:h(g,b),left:g.right-b.width/2,name:"arrow_s"},c&&{config:c}),northEastArrowSouthMiddleEast:(g,b)=>Gt({top:h(g,b),left:g.right-.75*b.width+t,name:"arrow_sme"},c&&{config:c}),northEastArrowSouthEast:(g,b)=>Gt({top:h(g,b),left:g.right-b.width+t,name:"arrow_se"},c&&{config:c}),southWestArrowNorthWest:g=>Gt({top:f(g),left:g.left-t,name:"arrow_nw"},c&&{config:c}),southWestArrowNorthMiddleWest:(g,b)=>Gt({top:f(g),left:g.left-.25*b.width-t,name:"arrow_nmw"},c&&{config:c}),southWestArrowNorth:(g,b)=>Gt({top:f(g),left:g.left-b.width/2,name:"arrow_n"},c&&{config:c}),southWestArrowNorthMiddleEast:(g,b)=>Gt({top:f(g),left:g.left-.75*b.width+t,name:"arrow_nme"},c&&{config:c}),southWestArrowNorthEast:(g,b)=>Gt({top:f(g),left:g.left-b.width+t,name:"arrow_ne"},c&&{config:c}),southArrowNorthWest:g=>Gt({top:f(g),left:g.left+g.width/2-t,name:"arrow_nw"},c&&{config:c}),southArrowNorthMiddleWest:(g,b)=>Gt({top:f(g),left:g.left+g.width/2-.25*b.width-t,name:"arrow_nmw"},c&&{config:c}),southArrowNorth:(g,b)=>Gt({top:f(g),left:g.left+g.width/2-b.width/2,name:"arrow_n"},c&&{config:c}),southArrowNorthMiddleEast:(g,b)=>Gt({top:f(g),left:g.left+g.width/2-.75*b.width+t,name:"arrow_nme"},c&&{config:c}),southArrowNorthEast:(g,b)=>Gt({top:f(g),left:g.left+g.width/2-b.width+t,name:"arrow_ne"},c&&{config:c}),southEastArrowNorthWest:g=>Gt({top:f(g),left:g.right-t,name:"arrow_nw"},c&&{config:c}),southEastArrowNorthMiddleWest:(g,b)=>Gt({top:f(g),left:g.right-.25*b.width-t,name:"arrow_nmw"},c&&{config:c}),southEastArrowNorth:(g,b)=>Gt({top:f(g),left:g.right-b.width/2,name:"arrow_n"},c&&{config:c}),southEastArrowNorthMiddleEast:(g,b)=>Gt({top:f(g),left:g.right-.75*b.width+t,name:"arrow_nme"},c&&{config:c}),southEastArrowNorthEast:(g,b)=>Gt({top:f(g),left:g.right-b.width+t,name:"arrow_ne"},c&&{config:c}),westArrowEast:(g,b)=>Gt({top:g.top+g.height/2-b.height/2,left:g.left-b.width-r,name:"arrow_e"},c&&{config:c}),eastArrowWest:(g,b)=>Gt({top:g.top+g.height/2-b.height/2,left:g.right+r,name:"arrow_w"},c&&{config:c}),viewportStickyNorth:(g,b,_)=>g.getIntersection(_)?{top:_.top+s,left:g.left+g.width/2-b.width/2,name:"arrowless",config:Gt({withArrow:!1},c)}:null};function h(g,b){return g.top-b.height-r}function f(g){return g.bottom+r}}fr.arrowSideOffset=25,fr.arrowHeightOffset=10,fr.stickyVerticalOffset=20,fr._getOptimalPosition=aa,fr.defaultPositions=Ax();var Tx=a(3332),d9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(Tx.Z,d9),Tx.Z.locals;const xx="ck-tooltip",pr=class extends Pr(){constructor(l){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,pr._editors.add(l),pr._instance)return pr._instance;pr._instance=this,this.tooltipTextView=new Mt(l.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new fr(l.locale),this.balloonPanelView.class=xx,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=Mf(this._pinTooltip,600),this.listenTo(_t.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_t.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_t.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_t.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_t.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(l){const t=l.ui.view&&l.ui.view.body;pr._editors.delete(l),this.stopListening(l.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),pr._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),pr._instance=null)}static getPositioningFunctions(l){const t=pr.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[l]}_onEnterOrFocus(l,{target:t}){const r=Lv(t);var s;r&&r!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(r,{text:(s=r).dataset.ckeTooltipText,position:s.dataset.ckeTooltipPosition||"s",cssClass:s.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(l,{target:t,relatedTarget:r}){if(l.name==="mouseleave"){if(!Yi(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const s=Lv(t),c=Lv(r);s&&s!==c&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(l,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(l,{text:t,position:r,cssClass:s}){const c=Je(pr._editors.values()).ui.view.body;c.has(this.balloonPanelView)||c.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:l,positions:pr.getPositioningFunctions(r)}),this._resizeObserver=new fe(l,()=>{Li(l)||this._unpinTooltip()}),this.balloonPanelView.class=[xx,s].filter(h=>h).join(" ");for(const h of pr._editors)this.listenTo(h.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=l,this._currentTooltipPosition=r}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const l of pr._editors)this.stopListening(l.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Li(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:pr.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let pg=pr;function Lv(l){return Yi(l)?l.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}pg.defaultBalloonPositions=Ax({heightOffset:5,sideOffset:13}),pg._editors=new Set,pg._instance=null;const Rv=function(l,t,r){var s=!0,c=!0;if(typeof l!="function")throw new TypeError("Expected a function");return Ke(r)&&(s="leading"in r?!!r.leading:s,c="trailing"in r?!!r.trailing:c),Mf(l,t,{leading:s,maxWait:t,trailing:c})};var h9=Object.defineProperty,Ex=Object.getOwnPropertySymbols,f9=Object.prototype.hasOwnProperty,p9=Object.prototype.propertyIsEnumerable,Sx=(l,t,r)=>t in l?h9(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,m9=(l,t)=>{for(var r in t||(t={}))f9.call(t,r)&&Sx(l,r,t[r]);if(Ex)for(var r of Ex(t))p9.call(t,r)&&Sx(l,r,t[r]);return l};const g9=50,b9=350,k9="Powered by",mg={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class v9 extends Pr(){constructor(t){super(),this.editor=t,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Rv(this._showBalloon.bind(this),50,{leading:!0}),t.on("ready",this._handleEditorReady.bind(this))}destroy(){const t=this._balloonView;t&&(t.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const t=this.editor;(t.config.get("ui.poweredBy.forceVisible")||function(r){function s(z){return z.length>=40&&z.length<=255?"VALID":"INVALID"}if(!r)return"INVALID";let c="";try{c=atob(r)}catch{return"INVALID"}const h=c.split("-"),f=h[0],g=h[1];if(!g)return s(r);try{atob(g)}catch{try{if(atob(f),!atob(f).length)return s(r)}catch{return s(r)}}if(f.length<40||f.length>255)return"INVALID";let b="";try{atob(f),b=atob(g)}catch{return"INVALID"}if(b.length!==8)return"INVALID";const _=Number(b.substring(0,4)),C=Number(b.substring(4,6))-1,x=Number(b.substring(6,8)),M=new Date(_,C,x);return M<be||isNaN(Number(M))?"INVALID":"VALID"}(t.config.get("licenseKey"))!=="VALID")&&t.ui.view&&(t.ui.focusTracker.on("change:isFocused",(r,s,c)=>{this._updateLastFocusedEditableElement(),c?this._showBalloon():this._hideBalloon()}),t.ui.focusTracker.on("change:focusedElement",(r,s,c)=>{this._updateLastFocusedEditableElement(),c&&this._showBalloon()}),t.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const t=this.editor,r=this._balloonView=new fr,s=Ix(t),c=new _9(t.locale,s.label);r.content.add(c),r.set({class:"ck-powered-by-balloon"}),t.ui.view.body.add(r),t.ui.focusTracker.add(r.element),this._balloonView=r}_showBalloon(){if(!this._lastFocusedEditableElement)return;const t=function(r,s){const c=Ix(r),h=c.side==="right"?function(f,g){return Dx(f,g,(b,_)=>b.left+b.width-_.width-g.horizontalOffset)}(s,c):function(f,g){return Dx(f,g,b=>b.left+g.horizontalOffset)}(s,c);return{target:s,positions:[h]}}(this.editor,this._lastFocusedEditableElement);t&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(t))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const t=this.editor,r=t.ui.focusTracker.isFocused,s=t.ui.focusTracker.focusedElement;if(!r||!s)return void(this._lastFocusedEditableElement=null);const c=Array.from(t.ui.getEditableElementsNames()).map(h=>t.ui.getEditableElement(h));c.includes(s)?this._lastFocusedEditableElement=s:this._lastFocusedEditableElement=c[0]}}class _9 extends Mt{constructor(t,r){super(t);const s=new hd,c=this.bindTemplate;s.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),s.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...r?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[r]}]:[],s],on:{dragstart:c.to(h=>h.preventDefault())}}]})}}function Dx(l,t,r){return(s,c)=>{const h=s.getVisible();if(!h||s.width<b9||s.height<g9)return mg;let f;f=t.position==="inside"?s.bottom-c.height:s.bottom-c.height/2,f-=t.verticalOffset;const g=r(s,c);if(t.position==="inside"){const b=c.clone().moveTo(g,f);if(b.getIntersectionArea(h)<b.getArea())return mg}else{const b=sl(l);if(b){const _=new Ht(b),C=h.bottom+c.height/2>_.bottom,x=t.side==="left"?s.left<_.left:s.right>_.right;if(C||x)return mg}}return{top:f,left:g,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}function Ix(l){const t=l.config.get("ui.poweredBy"),r=t&&t.position||"border";return m9({position:r,label:k9,verticalOffset:r==="inside"?5:0,horizontalOffset:5,side:l.locale.contentLanguageDirection==="ltr"?"right":"left"},t)}var y9=Object.defineProperty,Mx=Object.getOwnPropertySymbols,w9=Object.prototype.hasOwnProperty,C9=Object.prototype.propertyIsEnumerable,Px=(l,t,r)=>t in l?y9(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r;class A9 extends xe(){constructor(t){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const r=t.editing.view;this.editor=t,this.componentFactory=new s9(t),this.focusTracker=new Fe,this.tooltipManager=new pg(t),this.poweredBy=new v9(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(r.document,"layoutChanged",this.update.bind(this)),this.listenTo(r,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null,this.editor.keystrokes.stopListening(t);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,r){this._editableElementsMap.set(t,r),r.ckeditorInstance||(r.ckeditorInstance=this.editor),this.focusTracker.add(r);const s=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(r)};this.isReady?s():this.once("ready",s)}removeEditableElement(t){const r=this._editableElementsMap.get(t);r&&(this._editableElementsMap.delete(t),this.editor.keystrokes.stopListening(r),this.focusTracker.remove(r),r.ckeditorInstance=null)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,r={}){t.isRendered?(this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)):t.once("render",()=>{this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)}),this._focusableToolbarDefinitions.push({toolbarView:t,options:r})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const t=this.editor,r=t.config.get("ui.viewportOffset");if(r)return r;const s=t.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const t=this.editor,r=t.editing.view;let s,c;t.keystrokes.set("Alt+F10",(h,f)=>{const g=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(g)&&!Array.from(r.domRoots.values()).includes(g)&&(s=g);const b=this._getCurrentFocusedToolbarDefinition();b&&c||(c=this._getFocusableCandidateToolbarDefinitions());for(let _=0;_<c.length;_++){const C=c.shift();if(c.push(C),C!==b&&this._focusFocusableCandidateToolbar(C)){b&&b.options.afterBlur&&b.options.afterBlur();break}}f()}),t.keystrokes.set("Esc",(h,f)=>{const g=this._getCurrentFocusedToolbarDefinition();g&&(s?(s.focus(),s=null):t.editing.view.focus(),g.options.afterBlur&&g.options.afterBlur(),f())})}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const r of this._focusableToolbarDefinitions){const{toolbarView:s,options:c}=r;(Li(s.element)||c.beforeFocus)&&t.push(r)}return t.sort((r,s)=>Nx(r)-Nx(s)),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:r,options:{beforeFocus:s}}=t;return s&&s(),!!Li(r.element)&&(r.focus(),!0)}_handleScrollToTheSelection(t,r){const s=((c,h)=>{for(var f in h||(h={}))w9.call(h,f)&&Px(c,f,h[f]);if(Mx)for(var f of Mx(h))C9.call(h,f)&&Px(c,f,h[f]);return c})({top:0,bottom:0,left:0,right:0},this.viewportOffset);r.viewportOffset.top+=s.top,r.viewportOffset.bottom+=s.bottom,r.viewportOffset.left+=s.left,r.viewportOffset.right+=s.right}}function Nx(l){const{toolbarView:t,options:r}=l;let s=10;return Li(t.element)&&s--,r.isContextual&&s--,s}var Bx=a(9688),T9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(Bx.Z,T9),Bx.Z.locals;class x9 extends Mt{constructor(t){super(t),this.body=new f6(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class E9 extends x9{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,r=new OA;return r.text=t("Rich Text Editor"),r.extendTemplate({attributes:{class:"ck-voice-label"}}),r}}class S9 extends Mt{constructor(t,r,s){super(t),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=r}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const t=this._editingView;function r(s){t.change(c=>{const h=t.document.getRoot(s.name);c.addClass(s.isFocused?"ck-focused":"ck-blurred",h),c.removeClass(s.isFocused?"ck-blurred":"ck-focused",h)})}t.isRenderingInProgress?function s(c){t.once("change:isRenderingInProgress",(h,f,g)=>{g?s(c):r(c)})}(this):r(this)}}class D9 extends S9{constructor(t,r,s,c={}){super(t,r,s);const h=t.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=c.label||(()=>h("Editor editing area: %0",this.name))}render(){super.render();const t=this._editingView;t.change(r=>{const s=t.document.getRoot(this.name);r.setAttribute("aria-label",this._generateLabel(this),s)})}}var Ox=a(8847),I9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(Ox.Z,I9),Ox.Z.locals;class Fv extends Km{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,r)=>{window.alert(r.message)},{priority:"lowest"})}showSuccess(t,r={}){this._showNotification({message:t,type:"success",namespace:r.namespace,title:r.title})}showInfo(t,r={}){this._showNotification({message:t,type:"info",namespace:r.namespace,title:r.title})}showWarning(t,r={}){this._showNotification({message:t,type:"warning",namespace:r.namespace,title:r.title})}_showNotification(t){const r=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`;this.fire(r,{message:t.message,type:t.type,title:t.title||""})}}class Lx extends xe(){constructor(t,r){super(),r&&E2(this,r),t&&this.set(t)}}var Rx=a(4650),M9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(Rx.Z,M9),Rx.Z.locals;var Fx=a(7676),P9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(Fx.Z,P9),Fx.Z.locals;const gg=mt("px");class bg extends Ze{constructor(t){super(t),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const r=this.editor.editing.view,s=r.document.selection.editableElement;return s?r.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this._view||this._createPanelView(),this.hasView(t.view))throw new F("contextualballoon-add-view-exist",[this,t]);const r=t.stackId||"main";if(!this._idToStack.has(r))return this._idToStack.set(r,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(r)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(r));const s=this._idToStack.get(r);t.singleViewMode&&this.showStack(r),s.set(t.view,t),this._viewToStack.set(t.view,s),s===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new F("contextualballoon-remove-view-not-exist",[this,t]);const r=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(r.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(r.values())[r.size-2])),r.size===1?(this._idToStack.delete(this._getStackId(r)),this._numberOfStacks=this._idToStack.size):r.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const r=this._idToStack.get(t);if(!r)throw new F("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==r&&this._showView(Array.from(r.values()).pop())}_createPanelView(){this._view=new fr(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(r=>r[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let r=t.indexOf(this._visibleStack)+1;t[r]||(r=0),this.showStack(this._getStackId(t[r]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let r=t.indexOf(this._visibleStack)-1;t[r]||(r=t.length-1),this.showStack(this._getStackId(t[r]))}_createRotatorView(){const t=new N9(this.editor.locale),r=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,c)=>!c&&s>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,c)=>{if(c<2)return"";const h=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return r("%0 of %1",[h,c])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new B9(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(r,s)=>!s&&r>=2?Math.min(r-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:r="",withArrow:s=!0,singleViewMode:c=!1}){this.view.class=r,this.view.withArrow=s,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),c&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}class N9 extends Mt{constructor(t){super(t);const r=t.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Fe,this.buttonPrevView=this._createButtonView(r("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(r("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",c=>c?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,r){const s=new wn(this.locale);return s.set({label:t,icon:r,tooltip:!0}),s}}class B9 extends Mt{constructor(t,r){super(t);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=r,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",c=>c?"":"ck-hidden")],style:{top:s.to("top",gg),left:s.to("left",gg),width:s.to("width",gg),height:s.to("height",gg)}},children:this.content}),this.on("change:numberOfPanels",(c,h,f,g)=>{f>g?this._addPanels(f-g):this._removePanels(g-f),this.updatePosition()})}_addPanels(t){for(;t--;){const r=new Mt;r.setTemplate({tag:"div"}),this.content.add(r),this.registerChild(r)}}_removePanels(t){for(;t--;){const r=this.content.last;this.content.remove(r),this.deregisterChild(r),r.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:r}=this._balloonPanelView,{width:s,height:c}=new Ht(this._balloonPanelView.element);Object.assign(this,{top:t,left:r,width:s,height:c})}}}var jx=a(5868),O9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(jx.Z,O9),jx.Z.locals;const yd=mt("px");class L9 extends Mt{constructor(t){super(t);const r=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new So({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:r.to("isSticky",s=>s?"block":"none"),height:r.to("isSticky",s=>s?yd(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new So({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",r.if("isSticky","ck-sticky-panel__content_sticky"),r.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:r.to("isSticky",s=>s?yd(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:r.to("_stickyTopOffset",s=>s&&yd(s)),bottom:r.to("_stickyBottomOffset",s=>s&&yd(s)),marginLeft:r.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(_t.document,"scroll",(t,r)=>{this.checkIfShouldBeSticky(r.target)},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(t){if(!this.limiterElement||!this.isActive)return void this._unstick();const r=function(h){const f=[];let g=sl(h);for(;g&&g!==_t.document.body;)f.push(g),g=sl(g);return f.push(_t.document),f}(this.limiterElement);if(t&&!r.includes(t))return;const s=function(h,f=0){const g=h.map(_=>{if(_ instanceof Document){const C=new Ht(a.g.window);return C.top+=f,C.height-=f,C}return new Ht(_)});let b=g[0];for(const _ of g.slice(1))b&&(b=b.getIntersection(_));return b}(r,this.viewportTopOffset),c=new Ht(this.limiterElement);if(s&&c.top<s.top){const h=c.getIntersection(s);if(h){const f=s.top;if(f+this._contentPanelRect.height+this.limiterBottomOffset>h.bottom){const g=Math.max(c.bottom-s.bottom,0)+this.limiterBottomOffset;c.bottom-g>c.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(g):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<c.height?this._stickToTopOfAncestors(f):this._unstick()}else this._unstick()}else this._unstick()}_stickToTopOfAncestors(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=t,this._stickyBottomOffset=null,this._marginLeft=yd(-_t.window.scrollX)}_stickToBottomOfLimiter(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=t,this._marginLeft=yd(-_t.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ht(this._contentPanel)}}var zx=a(9695),R9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(zx.Z,R9),zx.Z.locals;class F9 extends A9{constructor(t,r){super(t),this.view=r,this._toolbarConfig=VA(t.config.get("toolbar")),this._elementReplacer=new He,this.listenTo(t.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(t){const r=this.editor,s=this.view,c=r.editing.view,h=s.editable,f=c.document.getRoot();h.name=f.rootName,s.render();const g=h.element;this.setEditableElement(h.name,g),s.editable.bind("isFocused").to(this.focusTracker),c.attachDomRoot(g),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const t=this.view,r=this.editor.editing.view;this._elementReplacer.restore(),r.detachDomRoot(t.editable.name),t.destroy()}_initToolbar(){const t=this.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,t.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:r})=>r||0),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const t=this.editor,r=t.editing.view,s=r.document.getRoot(),c=t.sourceElement;let h;const f=t.config.get("placeholder");f&&(h=typeof f=="string"?f:f[this.view.editable.name]),!h&&c&&c.tagName.toLowerCase()==="textarea"&&(h=c.getAttribute("placeholder")),h&&(s.placeholder=h),YA({view:r,element:s,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(t,r,s){const c=this.view.stickyPanel;if(c.isSticky){const h=new Ht(c.element).height;r.viewportOffset.top+=h}else{const h=()=>{this.editor.editing.view.scrollToTheSelection(s)};this.listenTo(c,"change:isSticky",h),setTimeout(()=>{this.stopListening(c,"change:isSticky",h)},20)}}}var Vx=a(3143),j9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(Vx.Z,j9),Vx.Z.locals;class z9 extends E9{constructor(t,r,s={}){super(t),this.stickyPanel=new L9(t),this.toolbar=new Cv(t,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),this.editable=new D9(t,r)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Ux{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const s="error"in r?r.error:r.reason;s instanceof Error&&this._handleError(s,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,r){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(r)}off(t,r){this._listeners[t]=this._listeners[t].filter(s=>s!==r)}_fire(t,...r){const s=this._listeners[t]||[];for(const c of s)c.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,r){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function jv(l,t=new Set){const r=[l],s=new Set;let c=0;for(;r.length>c;){const h=r[c++];if(!s.has(h)&&V9(h)&&!t.has(h))if(s.add(h),Symbol.iterator in h)try{for(const f of h)r.push(f)}catch{}else for(const f in h)f!=="defaultValue"&&r.push(h[f])}return s}function V9(l){const t=Object.prototype.toString.call(l),r=typeof l;return!(r==="number"||r==="boolean"||r==="string"||r==="symbol"||r==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||l==null||l._watchdogExcluded||l instanceof EventTarget||l instanceof Event)}function Hx(l,t,r=new Set){if(l===t&&typeof(s=l)=="object"&&s!==null)return!0;var s;const c=jv(l,r),h=jv(t,r);for(const f of c)if(h.has(f))return!0;return!1}var U9=Object.defineProperty,H9=Object.defineProperties,$9=Object.getOwnPropertyDescriptors,kg=Object.getOwnPropertySymbols,$x=Object.prototype.hasOwnProperty,qx=Object.prototype.propertyIsEnumerable,Wx=(l,t,r)=>t in l?U9(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,zv=(l,t)=>{for(var r in t||(t={}))$x.call(t,r)&&Wx(l,r,t[r]);if(kg)for(var r of kg(t))qx.call(t,r)&&Wx(l,r,t[r]);return l};class Gx extends Ux{constructor(t,r={}){super(r),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=Rv(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),t&&(this._creator=(s,c)=>t.create(s,c)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{const t={},r=[],s=this._config.rootsAttributes||{},c={};for(const[b,_]of Object.entries(this._data.roots))_.isLoaded?(t[b]="",c[b]=s[b]||{}):r.push(b);const h=(f=zv({},this._config),g={extraPlugins:this._config.extraPlugins||[],lazyRoots:r,rootsAttributes:c,_watchdogInitialData:this._data},H9(f,$9(g)));var f,g;return delete h.initialData,h.extraPlugins.push(q9),this._initUsingData?this.create(t,h,h.context):Yi(this._elementOrData)?this.create(this._elementOrData,h,h.context):this.create(this._editables,h,h.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,r=this._config,s){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(r)||{},this._config.context=s,this._creator(t,this._config))).then(c=>{this._editor=c,c.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=c.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,r=t.model.document.roots.filter(g=>g.isAttached()&&g.rootName!="$graveyard"),{plugins:s}=t,c=s.has("CommentsRepository")&&s.get("CommentsRepository"),h=s.has("TrackChanges")&&s.get("TrackChanges"),f={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};r.forEach(g=>{f.roots[g.rootName]={content:JSON.stringify(Array.from(g.getChildren())),attributes:JSON.stringify(Array.from(g.getAttributes())),isLoaded:g._isLoaded}});for(const g of t.model.markers)g._affectsData&&(f.markers[g.name]={rangeJSON:g.getRange().toJSON(),usingOperation:g._managedUsingOperations,affectsData:g._affectsData});return c&&(f.commentThreads=JSON.stringify(c.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),h&&(f.suggestions=JSON.stringify(h.getSuggestions({toJSON:!0,skipNotAttached:!0}))),f}_getEditables(){const t={};for(const r of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(r);s&&(t[r]=s)}return t}_isErrorComingFromThisItem(t){return Hx(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return ns(t,(r,s)=>Yi(r)||s==="context"?r:void 0)}}class q9{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},r=>{this._restoreCollaborationData(),this._restoreEditorData(r)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,r){if("name"in r){const s=t.createElement(r.name,r.attributes);if(r.children)for(const c of r.children)s._appendChild(this._createNode(t,c));return s}return t.createText(r.data,r.attributes)}_restoreEditorData(t){const r=this.editor;Object.entries(this._data.roots).forEach(([s,{content:c,attributes:h}])=>{const f=JSON.parse(c),g=JSON.parse(h),b=r.model.document.getRoot(s);for(const[_,C]of g)t.setAttribute(_,C,b);for(const _ of f){const C=this._createNode(t,_);t.insert(C,b,"end")}}),Object.entries(this._data.markers).forEach(([s,c])=>{const{document:h}=r.model,f=c,{rangeJSON:{start:g,end:b}}=f,_=((H,G)=>{var Z={};for(var se in H)$x.call(H,se)&&G.indexOf(se)<0&&(Z[se]=H[se]);if(H!=null&&kg)for(var se of kg(H))G.indexOf(se)<0&&qx.call(H,se)&&(Z[se]=H[se]);return Z})(f,["rangeJSON"]),C=h.getRoot(g.root),x=t.createPositionFromPath(C,g.path,g.stickiness),M=t.createPositionFromPath(C,b.path,b.stickiness),z=t.createRange(x,M);t.addMarker(s,zv({range:z},_))})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),r=JSON.parse(this._data.suggestions);t.forEach(s=>{const c=this.editor.config.get("collaboration.channelId"),h=this.editor.plugins.get("CommentsRepository");h.hasCommentThread(s.threadId)&&h.getCommentThread(s.threadId).remove(),h.addCommentThread(zv({channelId:c},s))}),r.forEach(s=>{const c=this.editor.plugins.get("TrackChangesEditing");c.hasSuggestion(s.id)?c.getSuggestion(s.id).attributes=s.attributes:c.addSuggestionData(s)})}}const Uf=Symbol("MainQueueId");class W9{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,r){const s=t===Uf;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const c=(s?Promise.all(this._queues.values()):Promise.all([this._queues.get(Uf),this._queues.get(t)])).then(r),h=c.catch(()=>{});return this._queues.set(t,h),c.finally(()=>{this._activeActions--,this._queues.get(t)===h&&this._activeActions===0&&this._onEmptyCallbacks.forEach(f=>f())})}}function Kx(l){return Array.isArray(l)?l:[l]}class vg extends dg(wv(RF)){constructor(t,r={}){if(!_g(t)&&r.initialData!==void 0)throw new F("editor-create-initial-data",null);super(r),this.config.get("initialData")===void 0&&this.config.set("initialData",function(h){return _g(h)?(f=h,f instanceof HTMLTextAreaElement?f.value:f.innerHTML):h;var f}(t)),_g(t)&&(this.sourceElement=t),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),c=new z9(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s});this.ui=new F9(this,c),function(h){if(!ar(h.updateSourceElement))throw new F("attachtoform-missing-elementapi-interface",h);const f=h.sourceElement;if(function(g){return!!g&&g.tagName.toLowerCase()==="textarea"}(f)&&f.form){let g;const b=f.form,_=()=>h.updateSourceElement();ar(b.submit)&&(g=b.submit,b.submit=()=>{_(),g.apply(b)}),b.addEventListener("submit",_),h.on("destroy",()=>{b.removeEventListener("submit",_),g&&(b.submit=g)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,r={}){return new Promise(s=>{const c=new this(t,r);s(c.initPlugins().then(()=>c.ui.init(_g(t)?t:null)).then(()=>c.data.init(c.config.get("initialData"))).then(()=>c.fire("ready")).then(()=>c))})}}function _g(l){return Yi(l)}vg.Context=WA,vg.EditorWatchdog=Gx,vg.ContextWatchdog=class extends Ux{constructor(l,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new W9,this._watchdogConfig=t,this._creator=r=>l.create(r),this._destructor=r=>r.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(l){this._creator=l}setDestructor(l){this._destructor=l}get context(){return this._context}create(l={}){return this._actionQueues.enqueue(Uf,()=>(this._contextConfig=l,this._create()))}getItem(l){return this._getWatchdog(l)._item}getItemState(l){return this._getWatchdog(l).state}add(l){const t=Kx(l);return Promise.all(t.map(r=>this._actionQueues.enqueue(r.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(r.id))throw new Error(`Item with the given id is already added: '${r.id}'.`);if(r.type==="editor")return s=new Gx(null,this._watchdogConfig),s.setCreator(r.creator),s._setExcludedProperties(this._contextProps),r.destructor&&s.setDestructor(r.destructor),this._watchdogs.set(r.id,s),s.on("error",(c,{error:h,causesRestart:f})=>{this._fire("itemError",{itemId:r.id,error:h}),f&&this._actionQueues.enqueue(r.id,()=>new Promise(g=>{const b=()=>{s.off("restart",b),this._fire("itemRestart",{itemId:r.id}),g()};s.on("restart",b)}))}),s.create(r.sourceElementOrData,r.config,this._context);throw new Error(`Not supported item type: '${r.type}'.`)})))}remove(l){const t=Kx(l);return Promise.all(t.map(r=>this._actionQueues.enqueue(r,()=>{const s=this._getWatchdog(r);return this._watchdogs.delete(r),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Uf,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Uf,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(l=>{console.error("An error happened during destroying the context or items.",l)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(l=>(this._context=l,this._contextProps=jv(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const l=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(l))})}_getWatchdog(l){const t=this._watchdogs.get(l);if(!t)throw new Error(`Item with the given id was not registered: ${l}.`);return t}_isErrorComingFromThisItem(l){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(l))return!1;return Hx(this._context,l.context)}};class Vv extends al{constructor(t){super(t),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const r=this.document;function s(c){return(h,f)=>{f.preventDefault();const g=f.dropRange?[f.dropRange]:null,b=new j(r,c);r.fire(b,{dataTransfer:f.dataTransfer,method:h.name,targetRanges:g,target:f.target,domEvent:f.domEvent}),b.stop.called&&f.stopPropagation()}}this.listenTo(r,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(r,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(r,"dragover",s("dragging"),{priority:"low"})}onDomEvent(t){const r="clipboardData"in t?t.clipboardData:t.dataTransfer,s=t.type=="drop"||t.type=="paste",c={dataTransfer:new L2(r,{cacheFiles:s})};t.type!="drop"&&t.type!="dragover"||(c.dropRange=function(h,f){const g=f.target.ownerDocument,b=f.clientX,_=f.clientY;let C;return g.caretRangeFromPoint&&g.caretRangeFromPoint(b,_)?C=g.caretRangeFromPoint(b,_):f.rangeParent&&(C=g.createRange(),C.setStart(f.rangeParent,f.rangeOffset),C.collapse(!0)),C?h.domConverter.domRangeToView(C):null}(this.view,t)),this.fire(t.type,t,c)}}const Yx=["figcaption","li"];function Qx(l){let t="";if(l.is("$text")||l.is("$textProxy"))t=l.data;else if(l.is("element","img")&&l.hasAttribute("alt"))t=l.getAttribute("alt");else if(l.is("element","br"))t=`
`;else{let r=null;for(const s of l.getChildren()){const c=Qx(s);r&&(r.is("containerElement")||s.is("containerElement"))&&(Yx.includes(r.name)||Yx.includes(s.name)?t+=`
`:t+=`

`),t+=c,r=s}}return t}class hs extends Ze{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Vv),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const t=this.editor,r=t.model,s=t.editing.view,c=s.document;this.listenTo(c,"clipboardInput",(h,f)=>{f.method!="paste"||t.model.canEditAt(t.model.document.selection)||h.stop()},{priority:"highest"}),this.listenTo(c,"clipboardInput",(h,f)=>{const g=f.dataTransfer;let b;if(f.content)b=f.content;else{let x="";g.getData("text/html")?x=function(M){return M.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(z,H)=>H.length==1?" ":H).replace(/<!--[\s\S]*?-->/g,"")}(g.getData("text/html")):g.getData("text/plain")&&(((_=(_=g.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||_.includes("<br>"))&&(_=`<p>${_}</p>`),x=_),b=this.editor.data.htmlProcessor.toView(x)}var _;const C=new j(this,"inputTransformation");this.fire(C,{content:b,dataTransfer:g,targetRanges:f.targetRanges,method:f.method}),C.stop.called&&h.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(h,f)=>{if(f.content.isEmpty)return;const g=this.editor.data.toModel(f.content,"$clipboardHolder");g.childCount!=0&&(h.stop(),r.change(()=>{this.fire("contentInsertion",{content:g,method:f.method,dataTransfer:f.dataTransfer,targetRanges:f.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(h,f)=>{f.resultRange=r.insertContent(f.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,r=t.model.document,s=t.editing.view.document,c=(h,f)=>{const g=f.dataTransfer;f.preventDefault();const b=t.data.toView(t.model.getSelectedContent(r.selection));s.fire("clipboardOutput",{dataTransfer:g,content:b,method:h.name})};this.listenTo(s,"copy",c,{priority:"low"}),this.listenTo(s,"cut",(h,f)=>{t.model.canEditAt(t.model.document.selection)?c(h,f):f.preventDefault()},{priority:"low"}),this.listenTo(s,"clipboardOutput",(h,f)=>{f.content.isEmpty||(f.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(f.content)),f.dataTransfer.setData("text/plain",Qx(f.content))),f.method=="cut"&&t.model.deleteContent(r.selection)},{priority:"low"})}}class Zx{constructor(t,r=20){this._batch=null,this.model=t,this._size=0,this.limit=r,this._isLocked=!1,this._changeCallback=(s,c)=>{c.isLocal&&c.isUndoable&&c!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){this.isLocked&&!t||(this._batch=null,this._size=0)}}class G9 extends Lt{constructor(t,r){super(t),this._buffer=new Zx(t.model,r),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const r=this.editor.model,s=r.document,c=t.text||"",h=c.length;let f=s.selection;if(t.selection?f=t.selection:t.range&&(f=r.createSelection(t.range)),!r.canEditAt(f))return;const g=t.resultRange;r.enqueueChange(this._buffer.batch,b=>{this._buffer.lock(),r.deleteContent(f),c&&r.insertContent(b.createText(c,s.selection.getAttributes()),f),g?b.setSelection(g):f.is("documentSelection")||b.setSelection(f),this._buffer.unlock(),this._buffer.input(h)})}}const Xx=["insertText","insertReplacementText"];class K9 extends cs{constructor(t){super(t),this.focusObserver=t.getObserver(sg),y.isAndroid&&Xx.push("insertCompositionText");const r=t.document;r.on("beforeinput",(s,c)=>{if(!this.isEnabled)return;const{data:h,targetRanges:f,inputType:g,domEvent:b}=c;if(!Xx.includes(g))return;this.focusObserver.flush();const _=new j(r,"insertText");r.fire(_,new gd(t,b,{text:h,selection:t.createSelection(f)})),_.stop.called&&s.stop()}),r.on("compositionend",(s,{data:c,domEvent:h})=>{this.isEnabled&&!y.isAndroid&&c&&r.fire("insertText",new gd(t,h,{text:c,selection:r.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class Jx extends Ze{static get pluginName(){return"Input"}init(){const t=this.editor,r=t.model,s=t.editing.view,c=r.document.selection;s.addObserver(K9);const h=new G9(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",h),t.commands.add("input",h),this.listenTo(s.document,"insertText",(f,g)=>{s.document.isComposing||g.preventDefault();const{text:b,selection:_,resultRange:C}=g,x=Array.from(_.getRanges()).map(H=>t.editing.mapper.toModelRange(H));let M=b;if(y.isAndroid){const H=Array.from(x[0].getItems()).reduce((G,Z)=>G+(Z.is("$textProxy")?Z.data:""),"");H&&(H.length<=M.length?M.startsWith(H)&&(M=M.substring(H.length),x[0].start=x[0].start.getShiftedBy(H.length)):H.startsWith(M)&&(x[0].start=x[0].start.getShiftedBy(M.length),M=""))}const z={text:M,selection:r.createSelection(x)};C&&(z.resultRange=t.editing.mapper.toModelRange(C)),t.execute("insertText",z),s.scrollToTheSelection()}),y.isAndroid?this.listenTo(s.document,"keydown",(f,g)=>{!c.isCollapsed&&g.keyCode==229&&s.document.isComposing&&eE(r,h)}):this.listenTo(s.document,"compositionstart",()=>{c.isCollapsed||eE(r,h)})}}function eE(l,t){if(!t.isEnabled)return;const r=t.buffer;r.lock(),l.enqueueChange(r.batch,()=>{l.deleteContent(l.document.selection)}),r.unlock()}class tE extends Lt{constructor(t,r){super(t),this.direction=r,this._buffer=new Zx(t.model,t.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(t={}){const r=this.editor.model,s=r.document;r.enqueueChange(this._buffer.batch,c=>{this._buffer.lock();const h=c.createSelection(t.selection||s.selection);if(!r.canEditAt(h))return;const f=t.sequence||1,g=h.isCollapsed;if(h.isCollapsed&&r.modifySelection(h,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(f))return void this._replaceEntireContentWithParagraph(c);if(this._shouldReplaceFirstBlockWithParagraph(h,f))return void this.editor.execute("paragraph",{selection:h});if(h.isCollapsed)return;let b=0;h.getFirstRange().getMinimalFlatRanges().forEach(_=>{b+=Qe(_.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),r.deleteContent(h,{doNotResetEntireContent:g,direction:this.direction}),this._buffer.input(b),c.setSelection(h),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const r=this.editor.model,s=r.document.selection,c=r.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(c))||!r.schema.checkChild(c,"paragraph"))return!1;const h=c.getChild(0);return!h||!h.is("element","paragraph")}_replaceEntireContentWithParagraph(t){const r=this.editor.model,s=r.document.selection,c=r.schema.getLimitElement(s),h=t.createElement("paragraph");t.remove(t.createRangeIn(c)),t.insert(h,c),t.setSelection(h,0)}_shouldReplaceFirstBlockWithParagraph(t,r){const s=this.editor.model;if(r>1||this.direction!="backward"||!t.isCollapsed)return!1;const c=t.getFirstPosition(),h=s.schema.getLimitElement(c),f=h.getChild(0);return c.parent==f&&!!t.containsEntireContent(f)&&!!s.schema.checkChild(h,"paragraph")&&f.name!="paragraph"}}const nE="word",hl="selection",wd="backward",Hf="forward",iE={deleteContent:{unit:hl,direction:wd},deleteContentBackward:{unit:"codePoint",direction:wd},deleteWordBackward:{unit:nE,direction:wd},deleteHardLineBackward:{unit:hl,direction:wd},deleteSoftLineBackward:{unit:hl,direction:wd},deleteContentForward:{unit:"character",direction:Hf},deleteWordForward:{unit:nE,direction:Hf},deleteHardLineForward:{unit:hl,direction:Hf},deleteSoftLineForward:{unit:hl,direction:Hf}};class Y9 extends cs{constructor(t){super(t);const r=t.document;let s=0;r.on("keydown",()=>{s++}),r.on("keyup",()=>{s=0}),r.on("beforeinput",(c,h)=>{if(!this.isEnabled)return;const{targetRanges:f,domEvent:g,inputType:b}=h,_=iE[b];if(!_)return;const C={direction:_.direction,unit:_.unit,sequence:s};C.unit==hl&&(C.selectionToRemove=t.createSelection(f[0])),b==="deleteContentBackward"&&(y.isAndroid&&(C.sequence=1),function(M){if(M.length!=1||M[0].isCollapsed)return!1;const z=M[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let H=0;for(const{nextPosition:G}of z){if(G.parent.is("$text")){const Z=G.parent.data,se=G.offset;if(Ri(Z,se)||xo(Z,se)||Cf(Z,se))continue;H++}else H++;if(H>1)return!0}return!1}(f)&&(C.unit=hl,C.selectionToRemove=t.createSelection(f)));const x=new pd(r,"delete",f[0]);r.fire(x,new gd(t,g,C)),x.stop.called&&c.stop()}),y.isBlink&&function(c){const h=c.view,f=h.document;let g=null,b=!1;function _(x){return x==A.backspace||x==A.delete}function C(x){return x==A.backspace?wd:Hf}f.on("keydown",(x,{keyCode:M})=>{g=M,b=!1}),f.on("keyup",(x,{keyCode:M,domEvent:z})=>{const H=f.selection,G=c.isEnabled&&M==g&&_(M)&&!H.isCollapsed&&!b;if(g=null,G){const Z=H.getFirstRange(),se=new pd(f,"delete",Z),ye={unit:hl,direction:C(M),selectionToRemove:H};f.fire(se,new gd(h,z,ye))}}),f.on("beforeinput",(x,{inputType:M})=>{const z=iE[M];_(g)&&z&&z.direction==C(g)&&(b=!0)},{priority:"high"}),f.on("beforeinput",(x,{inputType:M,data:z})=>{g==A.delete&&M=="insertText"&&z==""&&x.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class ua extends Ze{static get pluginName(){return"Delete"}init(){const t=this.editor,r=t.editing.view,s=r.document,c=t.model.document;r.addObserver(Y9),this._undoOnBackspace=!1;const h=new tE(t,"forward");t.commands.add("deleteForward",h),t.commands.add("forwardDelete",h),t.commands.add("delete",new tE(t,"backward")),this.listenTo(s,"delete",(f,g)=>{s.isComposing||g.preventDefault();const{direction:b,sequence:_,selectionToRemove:C,unit:x}=g,M=b==="forward"?"deleteForward":"delete",z={sequence:_};if(x=="selection"){const H=Array.from(C.getRanges()).map(G=>t.editing.mapper.toModelRange(G));z.selection=t.model.createSelection(H)}else z.unit=x;t.execute(M,z),r.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(f,g)=>{this._undoOnBackspace&&g.direction=="backward"&&g.sequence==1&&g.unit=="codePoint"&&(this._undoOnBackspace=!1,t.execute("undo"),g.preventDefault(),f.stop())},{context:"$capture"}),this.listenTo(c,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Q9 extends Ze{static get requires(){return[Jx,ua]}static get pluginName(){return"Typing"}}function rE(l,t){let r=l.start;return{text:Array.from(l.getWalker({ignoreElementEnd:!1})).reduce((s,{item:c})=>c.is("$text")||c.is("$textProxy")?s+c.data:(r=t.createPositionAfter(c),""),""),range:t.createRange(r,l.end)}}class oE extends xe(){constructor(t,r){super(),this.model=t,this.testCallback=r,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(r,{directChange:s})=>{s&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(t,"change:data",(r,s)=>{!s.isUndo&&s.isLocal&&this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(t,r={}){const s=this.model,c=s.document.selection,h=s.createRange(s.createPositionAt(c.focus.parent,0),c.focus),{text:f,range:g}=rE(h,s),b=this.testCallback(f);if(!b&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!b,b){const _=Object.assign(r,{text:f,range:g});typeof b=="object"&&Object.assign(_,b),this.fire(`matched:${t}`,_)}}}class sE extends Ze{constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const t=this.editor,r=t.model,s=t.editing.view,c=t.locale,h=r.document.selection;this.listenTo(s.document,"arrowKey",(f,g)=>{if(!h.isCollapsed||g.shiftKey||g.altKey||g.ctrlKey)return;const b=g.keyCode==A.arrowright,_=g.keyCode==A.arrowleft;if(!b&&!_)return;const C=c.contentLanguageDirection;let x=!1;x=C==="ltr"&&b||C==="rtl"&&_?this._handleForwardMovement(g):this._handleBackwardMovement(g),x===!0&&f.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(h,"change:range",(f,g)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!g.directChange&&wg(h.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const r=this.attributes,s=this.editor.model.document.selection,c=s.getFirstPosition();return!this._isGravityOverridden&&(!c.isAtStart||!Uv(s,r))&&!!wg(c,r)&&(yg(t),this._overrideGravity(),!0)}_handleBackwardMovement(t){const r=this.attributes,s=this.editor.model,c=s.document.selection,h=c.getFirstPosition();return this._isGravityOverridden?(yg(t),this._restoreGravity(),Hv(s,r,h),!0):h.isAtStart?!!Uv(c,r)&&(yg(t),Hv(s,r,h),!0):!!function(f,g){const b=f.getShiftedBy(-1);return wg(b,g)}(h,r)&&(h.isAtEnd&&!Uv(c,r)&&wg(h,r)?(yg(t),Hv(s,r,h),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Uv(l,t){for(const r of t)if(l.hasAttribute(r))return!0;return!1}function Hv(l,t,r){const s=r.nodeBefore;l.change(c=>{if(s){const h=[],f=l.schema.isObject(s)&&l.schema.isInline(s);for(const[g,b]of s.getAttributes())!l.schema.checkAttribute("$text",g)||f&&l.schema.getAttributeProperties(g).copyFromObject===!1||h.push([g,b]);c.setSelectionAttribute(h)}else c.removeSelectionAttribute(t)})}function yg(l){l.preventDefault()}function wg(l,t){const{nodeBefore:r,nodeAfter:s}=l;for(const c of t){const h=r?r.getAttribute(c):void 0;if((s?s.getAttribute(c):void 0)!==h)return!0}return!1}var aE=/[\\^$.*+?()[\]{}|]/g,Z9=RegExp(aE.source);const X9=function(l){return(l=qk(l))&&Z9.test(l)?l.replace(aE,"\\$&"):l},lE={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Cd('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Cd("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Cd("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Cd('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Cd('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Cd("'"),to:[null,"‚",null,"’"]}},cE={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},J9=["symbols","mathematical","typography","quotes"];function ej(l){return typeof l=="string"?new RegExp(`(${X9(l)})$`):l}function tj(l){return typeof l=="string"?()=>[l]:l instanceof Array?()=>l:l}function nj(l){return(l.textNode?l.textNode:l.nodeAfter).getAttributes()}function Cd(l){return new RegExp(`(^|\\s)(${l})([^${l}]*)(${l})$`)}function Ad(l,t,r,s){return s.createRange(uE(l,t,r,!0,s),uE(l,t,r,!1,s))}function uE(l,t,r,s,c){let h=l.textNode||(s?l.nodeBefore:l.nodeAfter),f=null;for(;h&&h.getAttribute(t)==r;)f=h,h=s?h.previousSibling:h.nextSibling;return f?c.createPositionAt(f,s?"before":"after"):l}function*dE(l,t){for(const r of t)r&&l.getAttributeProperties(r[0]).copyOnEnter&&(yield r)}class ij extends Lt{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const r=this.editor.model,s=r.document.selection,c=r.schema,h=s.isCollapsed,f=s.getFirstRange(),g=f.start.parent,b=f.end.parent;if(c.isLimit(g)||c.isLimit(b))return h||g!=b||r.deleteContent(s),!1;if(h){const _=dE(t.model.schema,s.getAttributes());return hE(t,f.start),t.setSelectionAttribute(_),!0}{const _=!(f.start.isAtStart&&f.end.isAtEnd),C=g==b;if(r.deleteContent(s,{leaveUnmerged:_}),_){if(C)return hE(t,s.focus),!0;t.setSelection(b,0)}}return!1}}function hE(l,t){l.split(t),l.setSelection(t.parent.nextSibling,0)}const rj={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class fE extends cs{constructor(t){super(t);const r=this.document;let s=!1;r.on("keydown",(c,h)=>{s=h.shiftKey}),r.on("beforeinput",(c,h)=>{if(!this.isEnabled)return;let f=h.inputType;y.isSafari&&s&&f=="insertParagraph"&&(f="insertLineBreak");const g=h.domEvent,b=rj[f];if(!b)return;const _=new pd(r,"enter",h.targetRanges[0]);r.fire(_,new gd(t,g,{isSoft:b.isSoft})),_.stop.called&&c.stop()})}observe(){}stopObserving(){}}class Cg extends Ze{static get pluginName(){return"Enter"}init(){const t=this.editor,r=t.editing.view,s=r.document;r.addObserver(fE),t.commands.add("enter",new ij(t)),this.listenTo(s,"enter",(c,h)=>{s.isComposing||h.preventDefault(),h.isSoft||(t.execute("enter"),r.scrollToTheSelection())},{priority:"low"})}}class oj extends Lt{execute(){const t=this.editor.model,r=t.document;t.change(s=>{(function(c,h,f){const g=f.isCollapsed,b=f.getFirstRange(),_=b.start.parent,C=b.end.parent,x=_==C;if(g){const M=dE(c.schema,f.getAttributes());pE(c,h,b.end),h.removeSelectionAttribute(f.getAttributeKeys()),h.setSelectionAttribute(M)}else{const M=!(b.start.isAtStart&&b.end.isAtEnd);c.deleteContent(f,{leaveUnmerged:M}),x?pE(c,h,f.focus):M&&h.setSelection(C,0)}})(t,s,r.selection),this.fire("afterExecute",{writer:s})})}refresh(){const t=this.editor.model,r=t.document;this.isEnabled=function(s,c){if(c.rangeCount>1)return!1;const h=c.anchor;if(!h||!s.checkChild(h,"softBreak"))return!1;const f=c.getFirstRange(),g=f.start.parent,b=f.end.parent;return!(($v(g,s)||$v(b,s))&&g!==b)}(t.schema,r.selection)}}function pE(l,t,r){const s=t.createElement("softBreak");l.insertContent(s,r),t.setSelection(s,"after")}function $v(l,t){return!l.is("rootElement")&&(t.isLimit(l)||$v(l.parent,t))}class sj extends Ze{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,r=t.model.schema,s=t.conversion,c=t.editing.view,h=c.document;r.register("softBreak",{allowWhere:"$text",isInline:!0}),s.for("upcast").elementToElement({model:"softBreak",view:"br"}),s.for("downcast").elementToElement({model:"softBreak",view:(f,{writer:g})=>g.createEmptyElement("br")}),c.addObserver(fE),t.commands.add("shiftEnter",new oj(t)),this.listenTo(h,"enter",(f,g)=>{h.isComposing||g.preventDefault(),g.isSoft&&(t.execute("shiftEnter"),c.scrollToTheSelection())},{priority:"low"})}}class aj extends re(){constructor(){super(...arguments),this._stack=[]}add(t,r){const s=this._stack,c=s[0];this._insertDescriptor(t);const h=s[0];c===h||qv(c,h)||this.fire("change:top",{oldDescriptor:c,newDescriptor:h,writer:r})}remove(t,r){const s=this._stack,c=s[0];this._removeDescriptor(t);const h=s[0];c===h||qv(c,h)||this.fire("change:top",{oldDescriptor:c,newDescriptor:h,writer:r})}_insertDescriptor(t){const r=this._stack,s=r.findIndex(h=>h.id===t.id);if(qv(t,r[s]))return;s>-1&&r.splice(s,1);let c=0;for(;r[c]&&lj(r[c],t);)c++;r.splice(c,0,t)}_removeDescriptor(t){const r=this._stack,s=r.findIndex(c=>c.id===t);s>-1&&r.splice(s,1)}}function qv(l,t){return l&&t&&l.priority==t.priority&&Ag(l.classes)==Ag(t.classes)}function lj(l,t){return l.priority>t.priority||!(l.priority<t.priority)&&Ag(l.classes)>Ag(t.classes)}function Ag(l){return Array.isArray(l)?l.sort().join(","):l}const cj='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',uj="ck-widget",mE="ck-widget_selected";function zn(l){return!!l.is("element")&&!!l.getCustomProperty("widget")}function Wv(l,t,r={}){if(!l.is("containerElement"))throw new F("widget-to-widget-wrong-element-type",null,{element:l});return t.setAttribute("contenteditable","false",l),t.addClass(uj,l),t.setCustomProperty("widget",!0,l),l.getFillerOffset=fj,t.setCustomProperty("widgetLabel",[],l),r.label&&function(s,c){s.getCustomProperty("widgetLabel").push(c)}(l,r.label),r.hasSelectionHandle&&function(s,c){const h=c.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(f){const g=this.toDomElement(f),b=new hd;return b.set("content",cj),b.render(),g.appendChild(b.element),g});c.insert(c.createPositionAt(s,0),h),c.addClass(["ck-widget_with-selection-handle"],s)}(l,t),gE(l,t),l}function dj(l,t,r){if(t.classes&&r.addClass(X(t.classes),l),t.attributes)for(const s in t.attributes)r.setAttribute(s,t.attributes[s],l)}function hj(l,t,r){if(t.classes&&r.removeClass(X(t.classes),l),t.attributes)for(const s in t.attributes)r.removeAttribute(s,l)}function gE(l,t,r=dj,s=hj){const c=new aj;c.on("change:top",(h,f)=>{f.oldDescriptor&&s(l,f.oldDescriptor,f.writer),f.newDescriptor&&r(l,f.newDescriptor,f.writer)}),t.setCustomProperty("addHighlight",(h,f,g)=>c.add(f,g),l),t.setCustomProperty("removeHighlight",(h,f,g)=>c.remove(f,g),l)}function bE(l,t,r={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],l),t.setAttribute("role","textbox",l),r.label&&t.setAttribute("aria-label",r.label,l),t.setAttribute("contenteditable",l.isReadOnly?"false":"true",l),l.on("change:isReadOnly",(s,c,h)=>{t.setAttribute("contenteditable",h?"false":"true",l)}),l.on("change:isFocused",(s,c,h)=>{h?t.addClass("ck-editor__nested-editable_focused",l):t.removeClass("ck-editor__nested-editable_focused",l)}),gE(l,t),l}function kE(l,t){const r=l.getSelectedElement();if(r){const s=fl(l);if(s)return t.createRange(t.createPositionAt(r,s))}return YT(l,t)}function fj(){return null}const da="widget-type-around";function jc(l,t,r){return!!l&&zn(l)&&!r.isInline(t)}function fl(l){return l.getAttribute(da)}var vE=a(4921),pj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(vE.Z,pj),vE.Z.locals;const _E=["before","after"],mj=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,yE="ck-widget__type-around_disabled";class gj extends Ze{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Cg,ua]}init(){const t=this.editor,r=t.editing.view;this.on("change:isEnabled",(s,c,h)=>{r.change(f=>{for(const g of r.document.roots)h?f.removeClass(yE,g):f.addClass(yE,g)}),h||t.model.change(f=>{f.removeSelectionAttribute(da)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,r){const s=this.editor,c=s.editing.view,h=s.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(t,r),attributes:h}),c.focus(),c.scrollToTheSelection()}_listenToIfEnabled(t,r,s,c){this.listenTo(t,r,(...h)=>{this.isEnabled&&s(...h)},c)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,r=fl(t);if(!r)return!1;const s=t.getSelectedElement();return this._insertParagraph(s,r),!0}_enableTypeAroundUIInjection(){const t=this.editor,r=t.model.schema,s=t.locale.t,c={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(h,f,g)=>{const b=g.mapper.toViewElement(f.item);b&&jc(b,f.item,r)&&(function(_,C,x){const M=_.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(z){const H=this.toDomElement(z);return function(G,Z){for(const se of _E){const ye=new So({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${se}`],title:Z[se],"aria-hidden":"true"},children:[G.ownerDocument.importNode(mj,!0)]});G.appendChild(ye.render())}}(H,C),function(G){const Z=new So({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});G.appendChild(Z.render())}(H),H});_.insert(_.createPositionAt(x,"end"),M)}(g.writer,c,b),b.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,r=t.model,s=r.document.selection,c=r.schema,h=t.editing.view;function f(g){return`ck-widget_type-around_show-fake-caret_${g}`}this._listenToIfEnabled(h.document,"arrowKey",(g,b)=>{this._handleArrowKeyPress(g,b)},{context:[zn,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(g,b)=>{b.directChange&&t.model.change(_=>{_.removeSelectionAttribute(da)})}),this._listenToIfEnabled(r.document,"change:data",()=>{const g=s.getSelectedElement();g&&jc(t.editing.mapper.toViewElement(g),g,c)||t.model.change(b=>{b.removeSelectionAttribute(da)})}),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(g,b,_)=>{const C=_.writer;if(this._currentFakeCaretModelElement){const H=_.mapper.toViewElement(this._currentFakeCaretModelElement);H&&(C.removeClass(_E.map(f),H),this._currentFakeCaretModelElement=null)}const x=b.selection.getSelectedElement();if(!x)return;const M=_.mapper.toViewElement(x);if(!jc(M,x,c))return;const z=fl(b.selection);z&&(C.addClass(f(z),M),this._currentFakeCaretModelElement=x)}),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(g,b,_)=>{_||t.model.change(C=>{C.removeSelectionAttribute(da)})})}_handleArrowKeyPress(t,r){const s=this.editor,c=s.model,h=c.document.selection,f=c.schema,g=s.editing.view,b=function(x,M){const z=U(x,M);return z==="down"||z==="right"}(r.keyCode,s.locale.contentLanguageDirection),_=g.document.selection.getSelectedElement();let C;jc(_,s.editing.mapper.toModelElement(_),f)?C=this._handleArrowKeyPressOnSelectedWidget(b):h.isCollapsed?C=this._handleArrowKeyPressWhenSelectionNextToAWidget(b):r.shiftKey||(C=this._handleArrowKeyPressWhenNonCollapsedSelection(b)),C&&(r.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const r=this.editor.model,s=fl(r.document.selection);return r.change(c=>s?s!==(t?"after":"before")?(c.removeSelectionAttribute(da),!0):!1:(c.setSelectionAttribute(da,t?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const r=this.editor,s=r.model,c=s.schema,h=r.plugins.get("Widget"),f=h._getObjectElementNextToSelection(t);return!!jc(r.editing.mapper.toViewElement(f),f,c)&&(s.change(g=>{h._setSelectionOverElement(f),g.setSelectionAttribute(da,t?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const r=this.editor,s=r.model,c=s.schema,h=r.editing.mapper,f=s.document.selection,g=t?f.getLastPosition().nodeBefore:f.getFirstPosition().nodeAfter;return!!jc(h.toViewElement(g),g,c)&&(s.change(b=>{b.setSelection(g,"on"),b.setSelectionAttribute(da,t?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,r=t.editing.view;this._listenToIfEnabled(r.document,"mousedown",(s,c)=>{const h=c.domTarget.closest(".ck-widget__type-around__button");if(!h)return;const f=function(_){return _.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(h),g=function(_,C){const x=_.closest(".ck-widget");return C.mapDomToView(x)}(h,r.domConverter),b=t.editing.mapper.toModelElement(g);this._insertParagraph(b,f),c.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,r=t.model.document.selection,s=t.editing.view;this._listenToIfEnabled(s.document,"enter",(c,h)=>{if(c.eventPhase!="atTarget")return;const f=r.getSelectedElement(),g=t.editing.mapper.toViewElement(f),b=t.model.schema;let _;this._insertParagraphAccordingToFakeCaretPosition()?_=!0:jc(g,f,b)&&(this._insertParagraph(f,h.isSoft?"before":"after"),_=!0),_&&(h.preventDefault(),c.stop())},{context:zn})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(r,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=t.selection)},{priority:"high"}),y.isAndroid?this._listenToIfEnabled(t,"keydown",(r,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,r=t.editing.view,s=t.model,c=s.schema;this._listenToIfEnabled(r.document,"delete",(h,f)=>{if(h.eventPhase!="atTarget")return;const g=fl(s.document.selection);if(!g)return;const b=f.direction,_=s.document.selection.getSelectedElement(),C=b=="forward";if(g==="before"===C)t.execute("delete",{selection:s.createSelection(_,"on")});else{const x=c.getNearestSelectionRange(s.createPositionAt(_,g),b);if(x)if(x.isCollapsed){const M=s.createSelection(x.start);if(s.modifySelection(M,{direction:b}),M.focus.isEqual(x.start)){const z=function(H,G){let Z=G;for(const se of G.getAncestors({parentFirst:!0})){if(se.childCount>1||H.isLimit(se))break;Z=se}return Z}(c,x.start.parent);s.deleteContent(s.createSelection(z,"on"),{doNotAutoparagraph:!0})}else s.change(z=>{z.setSelection(x),t.execute(C?"deleteForward":"delete")})}else s.change(M=>{M.setSelection(x),t.execute(C?"deleteForward":"delete")})}f.preventDefault(),h.stop()},{context:zn})}_enableInsertContentIntegration(){const t=this.editor,r=this.editor.model,s=r.document.selection;this._listenToIfEnabled(t.model,"insertContent",(c,[h,f])=>{if(f&&!f.is("documentSelection"))return;const g=fl(s);return g?(c.stop(),r.change(b=>{const _=s.getSelectedElement(),C=r.createPositionAt(_,g),x=b.createSelection(C),M=r.insertContent(h,x);return b.setSelection(x),M})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"insertObject",(s,c)=>{const[,h,f={}]=c;if(h&&!h.is("documentSelection"))return;const g=fl(r);g&&(f.findOptimalPosition=g,c[3]=f)},{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",(s,[c])=>{c&&!c.is("documentSelection")||fl(r)&&s.stop()},{priority:"high"})}}function bj(l){const t=l.model;return(r,s)=>{const c=s.keyCode==A.arrowup,h=s.keyCode==A.arrowdown,f=s.shiftKey,g=t.document.selection;if(!c&&!h)return;const b=h;if(f&&function(C,x){return!C.isCollapsed&&C.isBackward==x}(g,b))return;const _=function(C,x,M){const z=C.model;if(M){const H=x.isCollapsed?x.focus:x.getLastPosition(),G=wE(z,H,"forward");if(!G)return null;const Z=z.createRange(H,G),se=CE(z.schema,Z,"backward");return se?z.createRange(H,se):null}{const H=x.isCollapsed?x.focus:x.getFirstPosition(),G=wE(z,H,"backward");if(!G)return null;const Z=z.createRange(G,H),se=CE(z.schema,Z,"forward");return se?z.createRange(se,H):null}}(l,g,b);if(_){if(_.isCollapsed&&(g.isCollapsed||f))return;(_.isCollapsed||function(C,x,M){const z=C.model,H=C.view.domConverter;if(M){const Be=z.createSelection(x.start);z.modifySelection(Be),Be.focus.isAtEnd||x.start.isEqual(Be.focus)||(x=z.createRange(Be.focus,x.end))}const G=C.mapper.toViewRange(x),Z=H.viewRangeToDom(G),se=Ht.getDomRangeRects(Z);let ye;for(const Be of se)if(ye!==void 0){if(Math.round(Be.top)>=ye)return!1;ye=Math.max(ye,Math.round(Be.bottom))}else ye=Math.round(Be.bottom);return!0}(l,_,b))&&(t.change(C=>{const x=b?_.end:_.start;if(f){const M=t.createSelection(g.anchor);M.setFocus(x),C.setSelection(M)}else C.setSelection(x)}),r.stop(),s.preventDefault(),s.stopPropagation())}}}function wE(l,t,r){const s=l.schema,c=l.createRangeIn(t.root),h=r=="forward"?"elementStart":"elementEnd";for(const{previousPosition:f,item:g,type:b}of c.getWalker({startPosition:t,direction:r})){if(s.isLimit(g)&&!s.isInline(g))return f;if(b==h&&s.isBlock(g))return null}return null}function CE(l,t,r){const s=r=="backward"?t.end:t.start;if(l.checkChild(s,"$text"))return s;for(const{nextPosition:c}of t.getWalker({direction:r}))if(l.checkChild(c,"$text"))return c;return null}var AE=a(3488),kj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(AE.Z,kj),AE.Z.locals;class $f extends Ze{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[gj,ua]}init(){const t=this.editor,r=t.editing.view,s=r.document;this.editor.editing.downcastDispatcher.on("selection",(c,h,f)=>{const g=f.writer,b=h.selection;if(b.isCollapsed)return;const _=b.getSelectedElement();if(!_)return;const C=t.editing.mapper.toViewElement(_);var x;zn(C)&&f.consumable.consume(b,"selection")&&g.setSelection(g.createRangeOn(C),{fake:!0,label:(x=C,x.getCustomProperty("widgetLabel").reduce((M,z)=>typeof z=="function"?M?M+". "+z():z():M?M+". "+z:z,""))})}),this.editor.editing.downcastDispatcher.on("selection",(c,h,f)=>{this._clearPreviouslySelectedWidgets(f.writer);const g=f.writer,b=g.document.selection;let _=null;for(const C of b.getRanges())for(const x of C){const M=x.item;zn(M)&&!vj(M,_)&&(g.addClass(mE,M),this._previouslySelected.add(M),_=M)}},{priority:"low"}),r.addObserver(yv),this.listenTo(s,"mousedown",(...c)=>this._onMousedown(...c)),this.listenTo(s,"arrowKey",(...c)=>{this._handleSelectionChangeOnArrowKeyPress(...c)},{context:[zn,"$text"]}),this.listenTo(s,"arrowKey",(...c)=>{this._preventDefaultOnArrowKeyPress(...c)},{context:"$root"}),this.listenTo(s,"arrowKey",bj(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(c,h)=>{this._handleDelete(h.direction=="forward")&&(h.preventDefault(),c.stop())},{context:"$root"})}_onMousedown(t,r){const s=this.editor,c=s.editing.view,h=c.document;let f=r.target;if(function(b){let _=b;for(;_;){if(_.is("editableElement")&&!_.is("rootElement"))return!0;if(zn(_))return!1;_=_.parent}return!1}(f)){if((y.isSafari||y.isGecko)&&r.domEvent.detail>=3){const b=s.editing.mapper,_=f.is("attributeElement")?f.findAncestor(x=>!x.is("attributeElement")):f,C=b.toModelElement(_);r.preventDefault(),this.editor.model.change(x=>{x.setSelection(C,"in")})}return}if(!zn(f)&&(f=f.findAncestor(zn),!f))return;y.isAndroid&&r.preventDefault(),h.isFocused||c.focus();const g=s.editing.mapper.toModelElement(f);this._setSelectionOverElement(g)}_handleSelectionChangeOnArrowKeyPress(t,r){const s=r.keyCode,c=this.editor.model,h=c.schema,f=c.document.selection,g=f.getSelectedElement(),b=U(s,this.editor.locale.contentLanguageDirection),_=b=="down"||b=="right",C=b=="up"||b=="down";if(g&&h.isObject(g)){const M=_?f.getLastPosition():f.getFirstPosition(),z=h.getNearestSelectionRange(M,_?"forward":"backward");return void(z&&(c.change(H=>{H.setSelection(z)}),r.preventDefault(),t.stop()))}if(!f.isCollapsed&&!r.shiftKey){const M=f.getFirstPosition(),z=f.getLastPosition(),H=M.nodeAfter,G=z.nodeBefore;return void((H&&h.isObject(H)||G&&h.isObject(G))&&(c.change(Z=>{Z.setSelection(_?z:M)}),r.preventDefault(),t.stop()))}if(!f.isCollapsed)return;const x=this._getObjectElementNextToSelection(_);if(x&&h.isObject(x)){if(h.isInline(x)&&C)return;this._setSelectionOverElement(x),r.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,r){const s=this.editor.model,c=s.schema,h=s.document.selection.getSelectedElement();h&&c.isObject(h)&&(r.preventDefault(),t.stop())}_handleDelete(t){const r=this.editor.model.document.selection;if(!this.editor.model.canEditAt(r)||!r.isCollapsed)return;const s=this._getObjectElementNextToSelection(t);return s?(this.editor.model.change(c=>{let h=r.anchor.parent;for(;h.isEmpty;){const f=h;h=f.parent,c.remove(f)}this._setSelectionOverElement(s)}),!0):void 0}_setSelectionOverElement(t){this.editor.model.change(r=>{r.setSelection(r.createRangeOn(t))})}_getObjectElementNextToSelection(t){const r=this.editor.model,s=r.schema,c=r.document.selection,h=r.createSelection(c);if(r.modifySelection(h,{direction:t?"forward":"backward"}),h.isEqual(c))return null;const f=t?h.focus.nodeBefore:h.focus.nodeAfter;return f&&s.isObject(f)?f:null}_clearPreviouslySelectedWidgets(t){for(const r of this._previouslySelected)t.removeClass(mE,r);this._previouslySelected.clear()}}function vj(l,t){return!!t&&Array.from(l.getAncestors()).includes(t)}class Tg extends Ze{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[bg]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const r=t.plugins.get("BalloonToolbar");this.listenTo(r,"show",s=>{(function(c){const h=c.getSelectedElement();return!(!h||!zn(h))})(t.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:r,items:s,getRelatedElement:c,balloonClassName:h="ck-toolbar-container"}){if(!s.length)return void Q("widget-toolbar-no-items",{toolbarId:t});const f=this.editor,g=f.t,b=new Cv(f.locale);if(b.ariaLabel=r||g("Widget toolbar"),this._toolbarDefinitions.has(t))throw new F("widget-toolbar-duplicated",this,{toolbarId:t});const _={view:b,getRelatedElement:c,balloonClassName:h,itemsConfig:s,initialized:!1};f.ui.addToolbar(b,{isContextual:!0,beforeFocus:()=>{const C=c(f.editing.view.document.selection);C&&this._showToolbar(_,C)},afterBlur:()=>{this._hideToolbar(_)}}),this._toolbarDefinitions.set(t,_)}_updateToolbarsVisibility(){let t=0,r=null,s=null;for(const c of this._toolbarDefinitions.values()){const h=c.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&h)if(this.editor.ui.focusTracker.isFocused){const f=h.getAncestors().length;f>t&&(t=f,r=h,s=c)}else this._isToolbarVisible(c)&&this._hideToolbar(c);else this._isToolbarInBalloon(c)&&this._hideToolbar(c)}s&&this._showToolbar(s,r)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,r){this._isToolbarVisible(t)?TE(this.editor,r):this._isToolbarInBalloon(t)||(t.initialized||(t.initialized=!0,t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:t.view,position:xE(this.editor,r),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const c=s.getRelatedElement(this.editor.editing.view.document.selection);TE(this.editor,c)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function TE(l,t){const r=l.plugins.get("ContextualBalloon"),s=xE(l,t);r.updatePosition(s)}function xE(l,t){const r=l.editing.view,s=fr.defaultPositions;return{target:r.domConverter.mapViewToDom(t),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}var EE=a(8506),_j={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(EE.Z,_j),EE.Z.locals;var SE=a(903),yj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(SE.Z,yj),SE.Z.locals;class wj extends Ze{static get pluginName(){return"DragDrop"}static get requires(){return[hs,$f]}init(){const t=this.editor,r=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=Rv(s=>this._updateDropMarker(s),40),this._removeDropMarkerDelayed=jn(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=jn(()=>this._clearDraggableAttributes(),40),t.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(r.addObserver(Vv),r.addObserver(yv),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(s,c,h)=>{h?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,c,h)=>{h||this._finalizeDragging(!1)}),y.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,r=t.model,s=r.document,c=t.editing.view,h=c.document;this.listenTo(h,"dragstart",(f,g)=>{const b=s.selection;if(g.target&&g.target.is("editableElement"))return void g.preventDefault();const _=g.target?ME(g.target):null;if(_){const z=t.editing.mapper.toModelElement(_);this._draggedRange=Po.fromRange(r.createRangeOn(z)),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!h.selection.isCollapsed){const z=h.selection.getSelectedElement();z&&zn(z)||(this._draggedRange=Po.fromRange(b.getFirstRange()))}if(!this._draggedRange)return void g.preventDefault();this._draggingUid=W();const C=this.isEnabled&&t.model.canEditAt(this._draggedRange);g.dataTransfer.effectAllowed=C?"copyMove":"copy",g.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const x=r.createSelection(this._draggedRange.toRange()),M=t.data.toView(r.getSelectedContent(x));h.fire("clipboardOutput",{dataTransfer:g.dataTransfer,content:M,method:"dragstart"}),C||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(h,"dragend",(f,g)=>{this._finalizeDragging(!g.dataTransfer.isCanceled&&g.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(h,"dragenter",()=>{this.isEnabled&&c.focus()}),this.listenTo(h,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(h,"dragging",(f,g)=>{if(!this.isEnabled)return void(g.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const b=DE(t,g.targetRanges,g.target);t.model.canEditAt(b)?(this._draggedRange||(g.dataTransfer.dropEffect="copy"),y.isGecko||(g.dataTransfer.effectAllowed=="copy"?g.dataTransfer.dropEffect="copy":["all","copyMove"].includes(g.dataTransfer.effectAllowed)&&(g.dataTransfer.dropEffect="move")),b&&this._updateDropMarkerThrottled(b)):g.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor,r=t.editing.view.document;this.listenTo(r,"clipboardInput",(s,c)=>{if(c.method!="drop")return;const h=DE(t,c.targetRanges,c.target);if(this._removeDropMarker(),!h||!t.model.canEditAt(h))return this._finalizeDragging(!1),void s.stop();if(this._draggedRange&&this._draggingUid!=c.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),IE(c.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(h,!0))return this._finalizeDragging(!1),void s.stop();c.targetRanges=[t.editing.mapper.toViewRange(h)]},{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(hs);t.on("contentInsertion",(r,s)=>{if(!this.isEnabled||s.method!=="drop")return;const c=s.targetRanges.map(h=>this.editor.editing.mapper.toModelRange(h));this.editor.model.change(h=>h.setSelection(c))},{priority:"high"}),t.on("contentInsertion",(r,s)=>{if(!this.isEnabled||s.method!=="drop")return;const c=IE(s.dataTransfer)=="move",h=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(h&&c)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,r=t.editing.view,s=r.document;this.listenTo(s,"mousedown",(c,h)=>{if(y.isAndroid||!h)return;this._clearDraggableAttributesDelayed.cancel();let f=ME(h.target);if(y.isBlink&&!f&&!s.selection.isCollapsed){const g=s.selection.getSelectedElement();if(!g||!zn(g)){const b=s.selection.editableElement;b&&!b.isReadOnly&&(f=b)}}f&&(r.change(g=>{g.setAttribute("draggable","true",f)}),this._draggableElement=t.editing.mapper.toModelElement(f))}),this.listenTo(s,"mouseup",()=>{y.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change(r=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&r.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const t=this.editor;t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(r,{writer:s})=>{if(t.model.schema.checkChild(r.markerRange.start,"$text"))return s.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(c){const h=this.toDomElement(c);return h.append("⁠",c.createElement("span"),"⁠"),h})}})}_updateDropMarker(t){const r=this.editor,s=r.model.markers;r.model.change(c=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(t)||c.updateMarker("drop-target",{range:t}):c.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const t=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),t.markers.has("drop-target")&&t.change(r=>{r.removeMarker("drop-target")})}_finalizeDragging(t){const r=this.editor,s=r.model;this._removeDropMarker(),this._clearDraggableAttributes(),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(t&&this.isEnabled&&s.deleteContent(s.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function DE(l,t,r){const s=l.model,c=l.editing.mapper;let h=null;const f=t?t[0].start:null;if(r.is("uiElement")&&(r=r.parent),h=function(_,C){const x=_.model,M=_.editing.mapper;if(zn(C))return x.createRangeOn(M.toModelElement(C));if(!C.is("editableElement")){const z=C.findAncestor(H=>zn(H)||H.is("editableElement"));if(zn(z))return x.createRangeOn(M.toModelElement(z))}return null}(l,r),h)return h;const g=function(_,C){const x=_.editing.mapper,M=_.editing.view,z=x.toModelElement(C);if(z)return z;const H=M.createPositionBefore(C),G=x.findMappedViewAncestor(H);return x.toModelElement(G)}(l,r),b=f?c.toModelPosition(f):null;return b?(h=function(_,C,x){const M=_.model;if(!M.schema.checkChild(x,"$block"))return null;const z=M.createPositionAt(x,0),H=C.path.slice(0,z.path.length),G=M.createPositionFromPath(C.root,H),Z=G.nodeAfter;return Z&&M.schema.isObject(Z)?M.createRangeOn(Z):null}(l,b,g),h||(h=s.schema.getNearestSelectionRange(b,y.isGecko?"forward":"backward"),h||function(_,C){const x=_.model;let M=C;for(;M;){if(x.schema.isObject(M))return x.createRangeOn(M);M=M.parent}return null}(l,b.parent))):function(_,C){const x=_.model,M=x.schema,z=x.createPositionAt(C,0);return M.getNearestSelectionRange(z,"forward")}(l,g)}function IE(l){return y.isGecko?l.dropEffect:["all","copyMove"].includes(l.effectAllowed)?"move":"copy"}function ME(l){if(l.is("editableElement"))return null;if(l.hasClass("ck-widget__selection-handle"))return l.findAncestor(zn);if(zn(l))return l;const t=l.findAncestor(r=>zn(r)||r.is("editableElement"));return zn(t)?t:null}class Cj extends Ze{static get pluginName(){return"PastePlainText"}static get requires(){return[hs]}init(){const t=this.editor,r=t.model,s=t.editing.view,c=s.document,h=r.document.selection;let f=!1;s.addObserver(Vv),this.listenTo(c,"keydown",(g,b)=>{f=b.shiftKey}),t.plugins.get(hs).on("contentInsertion",(g,b)=>{(f||function(_,C){if(_.childCount>1)return!1;const x=_.getChild(0);return C.isObject(x)?!1:Array.from(x.getAttributeKeys()).length==0}(b.content,r.schema))&&r.change(_=>{const C=Array.from(h.getAttributes()).filter(([M])=>r.schema.getAttributeProperties(M).isFormatting);h.isCollapsed||r.deleteContent(h,{doNotAutoparagraph:!0}),C.push(...h.getAttributes());const x=_.createRangeIn(b.content);for(const M of x.getItems())M.is("$textProxy")&&_.setAttributes(C,M)})})}}class PE extends Ze{static get pluginName(){return"Clipboard"}static get requires(){return[hs,wj,Cj]}}class Aj extends Lt{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,r=t.document.selection;let s=t.schema.getLimitElement(r);if(r.containsEntireContent(s)||!NE(t.schema,s))do if(s=s.parent,!s)return;while(!NE(t.schema,s));t.change(c=>{c.setSelection(s,"in")})}}function NE(l,t){return l.isLimit(t)&&(l.checkChild(t,"$text")||l.checkChild(t,"paragraph"))}const Tj=I("Ctrl+A");class xj extends Ze{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,r=t.editing.view.document;t.commands.add("selectAll",new Aj(t)),this.listenTo(r,"keydown",(s,c)=>{P(c)===Tj&&(t.execute("selectAll"),c.preventDefault())})}}class Ej extends Ze{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",r=>{const s=t.commands.get("selectAll"),c=new wn(r),h=r.t;return c.set({label:h("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),c.bind("isEnabled").to(s,"isEnabled"),this.listenTo(c,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),c})}}class Sj extends Ze{static get requires(){return[xj,Ej]}static get pluginName(){return"SelectAll"}}var Dj=Object.defineProperty,BE=Object.getOwnPropertySymbols,Ij=Object.prototype.hasOwnProperty,Mj=Object.prototype.propertyIsEnumerable,OE=(l,t,r)=>t in l?Dj(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r;class LE extends Lt{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(t.data,"set",(r,s)=>{s[1]=((h,f)=>{for(var g in f||(f={}))Ij.call(f,g)&&OE(h,g,f[g]);if(BE)for(var g of BE(f))Mj.call(f,g)&&OE(h,g,f[g]);return h})({},s[1]);const c=s[1];c.batchType||(c.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(t.data,"set",(r,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(t){const r=this.editor.model.document.selection,s={ranges:r.hasOwnRange?Array.from(r.getRanges()):[],isBackward:r.isBackward};this._stack.push({batch:t,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,r,s){const c=this.editor.model,h=c.document,f=[],g=t.map(_=>_.getTransformedByOperations(s)),b=g.flat();for(const _ of g){const C=_.filter(x=>x.root!=h.graveyard).filter(x=>!Nj(x,b));C.length&&(Pj(C),f.push(C[0]))}f.length&&c.change(_=>{_.setSelection(f,{backward:r})})}_undo(t,r){const s=this.editor.model,c=s.document;this._createdBatches.add(r);const h=t.operations.slice().filter(f=>f.isDocumentOperation);h.reverse();for(const f of h){const g=f.baseVersion+1,b=Array.from(c.history.getOperations(g)),_=X7([f.getReversed()],b,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let C of _){const x=C.affectedSelectable;x&&!s.canEditAt(x)&&(C=new ii(C.baseVersion)),r.addOperation(C),s.applyOperation(C),c.history.setOperationAsUndone(f,C)}}}}function Pj(l){l.sort((t,r)=>t.start.isBefore(r.start)?-1:1);for(let t=1;t<l.length;t++){const r=l[t-1].getJoined(l[t],!0);r&&(t--,l.splice(t,2,r))}}function Nj(l,t){return t.some(r=>r!==l&&r.containsRange(l,!0))}class Bj extends LE{execute(t=null){const r=t?this._stack.findIndex(h=>h.batch==t):this._stack.length-1,s=this._stack.splice(r,1)[0],c=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(c,()=>{this._undo(s.batch,c);const h=this.editor.model.document.history.getOperations(s.batch.baseVersion);this._restoreSelection(s.selection.ranges,s.selection.isBackward,h)}),this.fire("revert",s.batch,c),this.refresh()}}class Oj extends LE{execute(){const t=this._stack.pop(),r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{const s=t.batch.operations[t.batch.operations.length-1].baseVersion+1,c=this.editor.model.document.history.getOperations(s);this._restoreSelection(t.selection.ranges,t.selection.isBackward,c),this._undo(t.batch,r)}),this.refresh()}}class Lj extends Ze{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const t=this.editor;this._undoCommand=new Bj(t),this._redoCommand=new Oj(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(r,s)=>{const c=s[0];if(!c.isDocumentOperation)return;const h=c.batch,f=this._redoCommand.createdBatches.has(h),g=this._undoCommand.createdBatches.has(h);this._batchRegistry.has(h)||(this._batchRegistry.add(h),h.isUndoable&&(f?this._undoCommand.addBatch(h):g||(this._undoCommand.addBatch(h),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(r,s,c)=>{this._redoCommand.addBatch(c)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}const RE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',FE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Rj extends Ze{static get pluginName(){return"UndoUI"}init(){const t=this.editor,r=t.locale,s=t.t,c=r.uiLanguageDirection=="ltr"?RE:FE,h=r.uiLanguageDirection=="ltr"?FE:RE;this._addButton("undo",s("Undo"),"CTRL+Z",c),this._addButton("redo",s("Redo"),"CTRL+Y",h)}_addButton(t,r,s,c){const h=this.editor;h.ui.componentFactory.add(t,f=>{const g=h.commands.get(t),b=new wn(f);return b.set({label:r,icon:c,keystroke:s,tooltip:!0}),b.bind("isEnabled").to(g,"isEnabled"),this.listenTo(b,"execute",()=>{h.execute(t),h.editing.view.focus()}),b})}}class jE extends Ze{static get requires(){return[Lj,Rj]}static get pluginName(){return"Undo"}}class Fj extends xe(){constructor(){super();const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=r=>{this.loaded=r.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const r=this._reader;return this.total=t.size,new Promise((s,c)=>{r.onload=()=>{const h=r.result;this._data=h,s(h)},r.onerror=()=>{c("error")},r.onabort=()=>{c("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}class Bo extends Ze{constructor(){super(...arguments),this.loaders=new Ee,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[QT]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,r)=>r?t/r*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return Q("filerepository-no-upload-adapter"),null;const r=new zE(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(r),this._loadersMap.set(t,r),t instanceof Promise&&r.file.then(s=>{this._loadersMap.set(s,r)}).catch(()=>{}),r.on("change:uploaded",()=>{let s=0;for(const c of this.loaders)s+=c.uploaded;this.uploaded=s}),r.on("change:uploadTotal",()=>{let s=0;for(const c of this.loaders)c.uploadTotal&&(s+=c.uploadTotal);this.uploadTotal=s}),r}destroyLoader(t){const r=t instanceof zE?t:this.getLoader(t);r._destroy(),this.loaders.remove(r),this._loadersMap.forEach((s,c)=>{s===r&&this._loadersMap.delete(c)})}_updatePendingAction(){const t=this.editor.plugins.get(QT);if(this.loaders.length){if(!this._pendingAction){const r=this.editor.t,s=c=>`${r("Upload in progress")} ${parseInt(c)}%.`;this._pendingAction=t.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else t.remove(this._pendingAction),this._pendingAction=null}}class zE extends xe(){constructor(t,r){super(),this.id=W(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=r(this),this._reader=new Fj,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,c)=>c?s/c*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new F("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if(this.status!=="reading")throw this.status;return this.status="idle",t}).catch(t=>{throw t==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:t)})}upload(){if(this.status!="idle")throw new F("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{throw this.status==="aborted"?"aborted":(this.status="error",t)})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?t=="reading"?this._reader.abort():t=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const r={};return r.promise=new Promise((s,c)=>{r.rejecter=c,r.isFulfilled=!1,t.then(h=>{r.isFulfilled=!0,s(h)}).catch(h=>{r.isFulfilled=!0,c(h)})}),r}}class jj extends Mt{constructor(t){super(t),this.buttonView=new wn(t),this._fileInputView=new zj(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class zj extends Mt{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:r.to("acceptedType"),multiple:r.to("allowMultipleFiles")},on:{change:r.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const VE="ckCsrfToken",UE="abcdefghijklmnopqrstuvwxyz0123456789";function Vj(){let l=function(s){s=s.toLowerCase();const c=document.cookie.split(";");for(const h of c){const f=h.split("=");if(decodeURIComponent(f[0].trim().toLowerCase())===s)return decodeURIComponent(f[1])}return null}(VE);var t,r;return l&&l.length==40||(l=function(s){let c="";const h=new Uint8Array(s);window.crypto.getRandomValues(h);for(let f=0;f<h.length;f++){const g=UE.charAt(h[f]%UE.length);c+=Math.random()>.5?g.toUpperCase():g}return c}(40),t=VE,r=l,document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(r)+";path=/"),l}class Uj{constructor(t,r,s){this.loader=t,this.url=r,this.t=s}upload(){return this.loader.file.then(t=>new Promise((r,s)=>{this._initRequest(),this._initListeners(r,s,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,r,s){const c=this.xhr,h=this.loader,f=(0,this.t)("Cannot upload file:")+` ${s.name}.`;c.addEventListener("error",()=>r(f)),c.addEventListener("abort",()=>r()),c.addEventListener("load",()=>{const g=c.response;if(!g||!g.uploaded)return r(g&&g.error&&g.error.message?g.error.message:f);t({default:g.url})}),c.upload&&c.upload.addEventListener("progress",g=>{g.lengthComputable&&(h.uploadTotal=g.total,h.uploaded=g.loaded)})}_sendRequest(t){const r=new FormData;r.append("upload",t),r.append("ckCsrfToken",Vj()),this.xhr.send(r)}}function pl(l,t,r,s){let c,h=null;typeof s=="function"?c=s:(h=l.commands.get(s),c=()=>{l.execute(s)}),l.model.document.on("change:data",(f,g)=>{if(h&&!h.isEnabled||!t.isEnabled)return;const b=Je(l.model.document.selection.getRanges());if(!b.isCollapsed||g.isUndo||!g.isLocal)return;const _=Array.from(l.model.document.differ.getChanges()),C=_[0];if(_.length!=1||C.type!=="insert"||C.name!="$text"||C.length!=1)return;const x=C.position.parent;if(x.is("element","codeBlock")||x.is("element","listItem")&&typeof s!="function"&&!["numberedList","bulletedList","todoList"].includes(s)||h&&h.value===!0)return;const M=x.getChild(0),z=l.model.createRangeOn(M);if(!z.containsRange(b)&&!b.end.isEqual(z.end))return;const H=r.exec(M.data.substr(0,b.end.offset));H&&l.model.enqueueChange(G=>{const Z=G.createPositionAt(x,0),se=G.createPositionAt(x,H[0].length),ye=new Po(Z,se);if(c({match:H})!==!1){G.remove(ye);const Be=l.model.document.selection.getFirstRange(),ot=G.createRangeIn(x);!x.isEmpty||ot.isEqual(Be)||ot.containsRange(Be,!0)||G.remove(x)}ye.detach(),l.model.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})})})}function Td(l,t,r,s){let c,h;r instanceof RegExp?c=r:h=r,h=h||(f=>{let g;const b=[],_=[];for(;(g=c.exec(f))!==null&&!(g&&g.length<4);){let{index:C,1:x,2:M,3:z}=g;const H=x+M+z;C+=g[0].length-H.length;const G=[C,C+x.length],Z=[C+x.length+M.length,C+x.length+M.length+z.length];b.push(G),b.push(Z),_.push([C+x.length,C+x.length+M.length])}return{remove:b,format:_}}),l.model.document.on("change:data",(f,g)=>{if(g.isUndo||!g.isLocal||!t.isEnabled)return;const b=l.model,_=b.document.selection;if(!_.isCollapsed)return;const C=Array.from(b.document.differ.getChanges()),x=C[0];if(C.length!=1||x.type!=="insert"||x.name!="$text"||x.length!=1)return;const M=_.focus,z=M.parent,{text:H,range:G}=function(Be,ot){let yt=Be.start;return{text:Array.from(Be.getItems()).reduce((Ft,ci)=>!ci.is("$text")&&!ci.is("$textProxy")||ci.getAttribute("code")?(yt=ot.createPositionAfter(ci),""):Ft+ci.data,""),range:ot.createRange(yt,Be.end)}}(b.createRange(b.createPositionAt(z,0),M),b),Z=h(H),se=HE(G.start,Z.format,b),ye=HE(G.start,Z.remove,b);se.length&&ye.length&&b.enqueueChange(Be=>{if(s(Be,se)!==!1){for(const ot of ye.reverse())Be.remove(ot);b.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})}})})}function HE(l,t,r){return t.filter(s=>s[0]!==void 0&&s[1]!==void 0).map(s=>r.createRange(l.getShiftedBy(s[0]),l.getShiftedBy(s[1])))}function xg(l,t){return(r,s)=>{if(!l.commands.get(t).isEnabled)return!1;const c=l.model.schema.getValidRanges(s,t);for(const h of c)r.setAttribute(t,!0,h);r.removeSelectionAttribute(t)}}class $E extends Lt{constructor(t,r){super(t),this.attributeKey=r}refresh(){const t=this.editor.model,r=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(r.selection,this.attributeKey)}execute(t={}){const r=this.editor.model,s=r.document.selection,c=t.forceValue===void 0?!this.value:t.forceValue;r.change(h=>{if(s.isCollapsed)c?h.setSelectionAttribute(this.attributeKey,!0):h.removeSelectionAttribute(this.attributeKey);else{const f=r.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const g of f)c?h.setAttribute(this.attributeKey,c,g):h.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,r=t.schema,s=t.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const c of s.getRanges())for(const h of c.getItems())if(r.checkAttribute(h,this.attributeKey))return h.hasAttribute(this.attributeKey);return!1}}const xd="bold";class Hj extends Ze{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:xd}),t.model.schema.setAttributeProperties(xd,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:xd,view:"strong",upcastAlso:["b",r=>{const s=r.getStyle("font-weight");return s&&(s=="bold"||Number(s)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(xd,new $E(t,xd)),t.keystrokes.set("CTRL+B",xd)}}const Gv="bold";class $j extends Ze{static get pluginName(){return"BoldUI"}init(){const t=this.editor,r=t.t;t.ui.componentFactory.add(Gv,s=>{const c=t.commands.get(Gv),h=new wn(s);return h.set({label:r("Bold"),icon:Qn.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(c,"value","isEnabled"),this.listenTo(h,"execute",()=>{t.execute(Gv),t.editing.view.focus()}),h})}}var qE=a(8603),qj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(qE.Z,qj),qE.Z.locals;const Ed="italic";class Wj extends Ze{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Ed}),t.model.schema.setAttributeProperties(Ed,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Ed,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(Ed,new $E(t,Ed)),t.keystrokes.set("CTRL+I",Ed)}}const Kv="italic";class Gj extends Ze{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,r=t.t;t.ui.componentFactory.add(Kv,s=>{const c=t.commands.get(Kv),h=new wn(s);return h.set({label:r("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(c,"value","isEnabled"),this.listenTo(h,"execute",()=>{t.execute(Kv),t.editing.view.focus()}),h})}}class Kj extends Lt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const r=this.editor.model,s=r.schema,c=r.document.selection,h=Array.from(c.getSelectedBlocks()),f=t.forceValue===void 0?!this.value:t.forceValue;r.change(g=>{if(f){const b=h.filter(_=>Eg(_)||GE(s,_));this._applyQuote(g,b)}else this._removeQuote(g,h.filter(Eg))})}_getValue(){const t=Je(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!Eg(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,r=this.editor.model.schema,s=Je(t.getSelectedBlocks());return!!s&&GE(r,s)}_removeQuote(t,r){WE(t,r).reverse().forEach(s=>{if(s.start.isAtStart&&s.end.isAtEnd)return void t.unwrap(s.start.parent);if(s.start.isAtStart){const h=t.createPositionBefore(s.start.parent);return void t.move(s,h)}s.end.isAtEnd||t.split(s.end);const c=t.createPositionAfter(s.end.parent);t.move(s,c)})}_applyQuote(t,r){const s=[];WE(t,r).reverse().forEach(c=>{let h=Eg(c.start);h||(h=t.createElement("blockQuote"),t.wrap(c,h)),s.push(h)}),s.reverse().reduce((c,h)=>c.nextSibling==h?(t.merge(t.createPositionAfter(c)),c):h)}}function Eg(l){return l.parent.name=="blockQuote"?l.parent:null}function WE(l,t){let r,s=0;const c=[];for(;s<t.length;){const h=t[s],f=t[s+1];r||(r=l.createPositionBefore(h)),f&&h.nextSibling==f||(c.push(l.createRange(r,l.createPositionAfter(h))),r=null),s++}return c}function GE(l,t){const r=l.checkChild(t.parent,"blockQuote"),s=l.checkChild(["$root","blockQuote"],t);return r&&s}class Yj extends Ze{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Cg,ua]}init(){const t=this.editor,r=t.model.schema;t.commands.add("blockQuote",new Kj(t)),r.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(f=>{const g=t.model.document.differ.getChanges();for(const b of g)if(b.type=="insert"){const _=b.position.nodeAfter;if(!_)continue;if(_.is("element","blockQuote")&&_.isEmpty)return f.remove(_),!0;if(_.is("element","blockQuote")&&!r.checkChild(b.position,_))return f.unwrap(_),!0;if(_.is("element")){const C=f.createRangeIn(_);for(const x of C.getItems())if(x.is("element","blockQuote")&&!r.checkChild(f.createPositionBefore(x),x))return f.unwrap(x),!0}}else if(b.type=="remove"){const _=b.position.parent;if(_.is("element","blockQuote")&&_.isEmpty)return f.remove(_),!0}return!1});const s=this.editor.editing.view.document,c=t.model.document.selection,h=t.commands.get("blockQuote");this.listenTo(s,"enter",(f,g)=>{!c.isCollapsed||!h.value||c.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),g.preventDefault(),f.stop())},{context:"blockquote"}),this.listenTo(s,"delete",(f,g)=>{if(g.direction!="backward"||!c.isCollapsed||!h.value)return;const b=c.getLastPosition().parent;b.isEmpty&&!b.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),g.preventDefault(),f.stop())},{context:"blockquote"})}}var KE=a(3062),Qj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(KE.Z,Qj),KE.Z.locals;class Zj extends Ze{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor,r=t.t;t.ui.componentFactory.add("blockQuote",s=>{const c=t.commands.get("blockQuote"),h=new wn(s);return h.set({label:r("Block quote"),icon:Qn.quote,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(c,"value","isEnabled"),this.listenTo(h,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),h})}}class Xj extends Ze{static get pluginName(){return"CKBoxUI"}afterInit(){const t=this.editor,r=t.commands.get("ckbox");if(!r)return;const s=t.t;t.ui.componentFactory.add("ckbox",c=>{const h=new wn(c);return h.set({label:s("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),h.bind("isOn","isEnabled").to(r,"value","isEnabled"),h.on("execute",()=>{t.execute("ckbox")}),h})}}function YE(l){const t=[];let r=0;for(const c in l){const h=parseInt(c,10);isNaN(h)||(h>r&&(r=h),t.push(`${l[c]} ${c}w`))}const s=[{srcset:t.join(","),sizes:`(max-width: ${r}px) 100vw, ${r}px`,type:"image/webp"}];return{imageFallbackUrl:l.default,imageSources:s}}class Jj extends Lt{constructor(t){super(t),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const t=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");return!(!t.isEnabled&&!r.isEnabled)}_prepareOptions(){const t=this.editor.config.get("ckbox");return{theme:t.theme,language:t.language,tokenUrl:t.tokenUrl,serviceOrigin:t.serviceOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:r=>this.fire("ckbox:choose",r)}}}_initListeners(){const t=this.editor,r=t.model,s=!t.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=ju(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(c,h)=>{if(!this.isEnabled)return;const f=t.commands.get("insertImage"),g=t.commands.get("link"),b=function({assets:_,isImageAllowed:C,isLinkAllowed:x}){return _.map(M=>function(z){const H=z.data.metadata;return H?H.width&&H.height:!1}(M)?{id:M.data.id,type:"image",attributes:ez(M)}:{id:M.data.id,type:"link",attributes:tz(M)}).filter(M=>M.type==="image"?C:x)}({assets:h,isImageAllowed:f.isEnabled,isLinkAllowed:g.isEnabled});b.length!==0&&r.change(_=>{for(const C of b){const x=C===b[b.length-1];this._insertAsset(C,x,_),s&&(setTimeout(()=>this._chosenAssets.delete(C),1e3),this._chosenAssets.add(C))}})}),this.listenTo(t,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(t,r,s){const c=this.editor.model.document.selection;s.removeSelectionAttribute("linkHref"),t.type==="image"?this._insertImage(t):this._insertLink(t,s),r||s.setSelection(c.getLastPosition())}_insertImage(t){const r=this.editor,{imageFallbackUrl:s,imageSources:c,imageTextAlternative:h}=t.attributes;r.execute("insertImage",{source:{src:s,sources:c,alt:h}})}_insertLink(t,r){const s=this.editor,c=s.model,h=c.document.selection,{linkName:f,linkHref:g}=t.attributes;if(h.isCollapsed){const b=kt(h.getAttributes()),_=r.createText(f,b),C=c.insertContent(_);r.setSelection(C)}s.execute("link",g)}}function ez(l){const{imageFallbackUrl:t,imageSources:r}=YE(l.data.imageUrls);return{imageFallbackUrl:t,imageSources:r,imageTextAlternative:l.data.metadata.description||""}}function tz(l){return{linkName:l.data.name,linkHref:nz(l)}}function nz(l){const t=new URL(l.data.url);return t.searchParams.set("download","true"),t.toString()}var zc=(l,t,r)=>new Promise((s,c)=>{var h=b=>{try{g(r.next(b))}catch(_){c(_)}},f=b=>{try{g(r.throw(b))}catch(_){c(_)}},g=b=>b.done?s(b.value):Promise.resolve(b.value).then(h,f);g((r=r.apply(l,t)).next())});class iz extends Ze{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Bo,Yv]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return zc(this,null,function*(){const t=this.editor,r=!!t.config.get("ckbox"),s=!!window.CKBox;if(!r&&!s)return;const c=t.plugins.get(Bo),h=t.plugins.get(Yv);c.createUploadAdapter=b=>new rz(b,h.getToken(),t);const f=!t.config.get("ckbox.ignoreDataId"),g=t.plugins.get("ImageUploadEditing");f&&g.on("uploadComplete",(b,{imageElement:_,data:C})=>{t.model.change(x=>{x.setAttribute("ckboxImageId",C.ckboxImageId,_)})})})}}class rz{constructor(t,r,s){this.loader=t,this.token=r,this.editor=s,this.controller=new AbortController,this.serviceOrigin=s.config.get("ckbox.serviceOrigin")}getWorkspaceId(){const t=(0,this.editor.t)("Cannot access default workspace."),r=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),s=function(c,h){const[,f]=c.value.split("."),g=JSON.parse(atob(f)),b=g.auth&&g.auth.ckbox&&g.auth.ckbox.workspaces||[g.aud];return h?(g.auth&&g.auth.ckbox&&g.auth.ckbox.role)=="superadmin"||b.includes(h)?h:null:b[0]}(this.token,r);if(s==null)throw de("ckbox-access-default-workspace-error"),t;return s}getAvailableCategories(t=0){return zc(this,null,function*(){const r=new URL("categories",this.serviceOrigin);return r.searchParams.set("limit",50 .toString()),r.searchParams.set("offset",t.toString()),r.searchParams.set("workspaceId",this.getWorkspaceId()),this._sendHttpRequest({url:r}).then(s=>zc(this,null,function*(){if(s.totalCount-(t+50)>0){const c=yield this.getAvailableCategories(t+50);return[...s.items,...c]}return s.items})).catch(()=>{this.controller.signal.throwIfAborted(),de("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(t){return zc(this,null,function*(){const r=function(f){const g=new RegExp("\\.(?<ext>[^.]+)$");return f.match(g).groups.ext.toLowerCase()}(t.name),s=yield this.getAvailableCategories();if(!s)return null;const c=this.editor.config.get("ckbox.defaultUploadCategories");if(c){const f=Object.keys(c).find(g=>c[g].find(b=>b.toLowerCase()==r));if(f){const g=s.find(b=>b.id===f||b.name===f);return g?g.id:null}}const h=s.find(f=>f.extensions.find(g=>g.toLowerCase()==r));return h?h.id:null})}upload(){return zc(this,null,function*(){const t=this.editor.t,r=t("Cannot determine a category for the uploaded file."),s=yield this.loader.file,c=yield this.getCategoryIdForFile(s);if(!c)return Promise.reject(r);const h=new URL("assets",this.serviceOrigin),f=new FormData;h.searchParams.set("workspaceId",this.getWorkspaceId()),f.append("categoryId",c),f.append("file",s);const g={method:"POST",url:h,data:f,onUploadProgress:b=>{b.lengthComputable&&(this.loader.uploadTotal=b.total,this.loader.uploaded=b.loaded)}};return this._sendHttpRequest(g).then(b=>zc(this,null,function*(){const _=YE(b.imageUrls);return{ckboxImageId:b.id,default:_.imageFallbackUrl,sources:_.imageSources}})).catch(()=>{const b=t("Cannot upload file:")+` ${s.name}.`;return Promise.reject(b)})})}abort(){this.controller.abort()}_sendHttpRequest({url:t,method:r="GET",data:s,onUploadProgress:c}){const h=this.controller.signal,f=new XMLHttpRequest;f.open(r,t.toString(),!0),f.setRequestHeader("Authorization",this.token.value),f.setRequestHeader("CKBox-Version","CKEditor 5"),f.responseType="json";const g=()=>{f.abort()};return new Promise((b,_)=>{h.addEventListener("abort",g),f.addEventListener("loadstart",()=>{h.addEventListener("abort",g)}),f.addEventListener("loadend",()=>{h.removeEventListener("abort",g)}),f.addEventListener("error",()=>{_()}),f.addEventListener("abort",()=>{_()}),f.addEventListener("load",()=>zc(this,null,function*(){const C=f.response;return!C||C.statusCode>=400?_(C&&C.message):b(C)})),c&&f.upload.addEventListener("progress",C=>{c(C)}),f.send(s)})}}class Yv extends Ze{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",iz]}init(){return t=this,r=null,s=function*(){const c=this.editor,h=!!c.config.get("ckbox"),f=!!window.CKBox;if(!h&&!f)return;this._initConfig();const g=c.plugins.get("CloudServicesCore"),b=c.config.get("ckbox.tokenUrl");if(b===c.config.get("cloudServices.tokenUrl")){const _=c.plugins.get("CloudServices");this._token=_.token}else this._token=yield g.createToken(b).init();c.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),f&&c.commands.add("ckbox",new Jj(c))},new Promise((c,h)=>{var f=_=>{try{b(s.next(_))}catch(C){h(C)}},g=_=>{try{b(s.throw(_))}catch(C){h(C)}},b=_=>_.done?c(_.value):Promise.resolve(_.value).then(f,g);b((s=s.apply(t,r)).next())});var t,r,s}getToken(){return this._token}_initConfig(){const t=this.editor;if(t.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:t.locale.uiLanguage,theme:"default",tokenUrl:t.config.get("cloudServices.tokenUrl")}),!t.config.get("ckbox.tokenUrl"))throw new F("ckbox-plugin-missing-token-url",this);t.plugins.has("ImageBlockEditing")||t.plugins.has("ImageInlineEditing")||de("ckbox-plugin-image-feature-missing",t)}_initSchema(){const t=this.editor.model.schema;t.extend("$text",{allowAttributes:"ckboxLinkId"}),t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.addAttributeCheck((r,s)=>{if(!r.last.getAttribute("linkHref")&&s==="ckboxLinkId")return!1})}_initConversion(){const t=this.editor;t.conversion.for("downcast").add(r=>{r.on("attribute:ckboxLinkId:imageBlock",(s,c,h)=>{const{writer:f,mapper:g,consumable:b}=h;if(!b.consume(c.item,s.name))return;const _=[...g.toViewElement(c.item).getChildren()].find(C=>C.name==="a");_&&(c.item.hasAttribute("ckboxLinkId")?f.setAttribute("data-ckbox-resource-id",c.item.getAttribute("ckboxLinkId"),_):f.removeAttribute("data-ckbox-resource-id",_))},{priority:"low"}),r.on("attribute:ckboxLinkId",(s,c,h)=>{const{writer:f,mapper:g,consumable:b}=h;if(b.consume(c.item,s.name)){if(c.attributeOldValue){const _=QE(f,c.attributeOldValue);f.unwrap(g.toViewRange(c.range),_)}if(c.attributeNewValue){const _=QE(f,c.attributeNewValue);if(c.item.is("selection")){const C=f.document.selection;f.wrap(C.getFirstRange(),_)}else f.wrap(g.toViewRange(c.range),_)}}},{priority:"low"})}),t.conversion.for("upcast").add(r=>{r.on("element:a",(s,c,h)=>{const{writer:f,consumable:g}=h;if(!c.viewItem.getAttribute("href")||!g.consume(c.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const b=c.viewItem.getAttribute("data-ckbox-resource-id");if(b)if(c.modelRange)for(let _ of c.modelRange.getItems())_.is("$textProxy")&&(_=_.textNode),sz(_)&&f.setAttribute("ckboxLinkId",b,_);else{const _=c.modelCursor.nodeBefore||c.modelCursor.parent;f.setAttribute("ckboxLinkId",b,_)}},{priority:"low"})}),t.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),t.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:r=>r.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const t=this.editor,r=t.model,s=r.document.selection;r.document.registerPostFixer(function(c){return h=>{let f=!1;const g=c.model,b=c.commands.get("ckbox");if(!b)return f;for(const _ of g.document.differ.getChanges()){if(_.type!=="insert"&&_.type!=="attribute")continue;const C=_.type==="insert"?new De(_.position,_.position.getShiftedBy(_.length)):_.range,x=_.type==="attribute"&&_.attributeKey==="linkHref"&&_.attributeNewValue===null;for(const M of C.getItems()){if(x&&M.hasAttribute("ckboxLinkId")){h.removeAttribute("ckboxLinkId",M),f=!0;continue}const z=oz(M,b._chosenAssets);for(const H of z){const G=H.type==="image"?"ckboxImageId":"ckboxLinkId";H.id!==M.getAttribute(G)&&(h.setAttribute(G,H.id,M),f=!0)}}}return f}}(t)),r.document.registerPostFixer(function(c){return h=>!(c.hasAttribute("linkHref")||!c.hasAttribute("ckboxLinkId"))&&(h.removeSelectionAttribute("ckboxLinkId"),!0)}(s))}}function oz(l,t){const r=l.is("element","imageInline")||l.is("element","imageBlock"),s=l.hasAttribute("linkHref");return[...t].filter(c=>c.type==="image"&&r?c.attributes.imageFallbackUrl===l.getAttribute("src"):c.type==="link"&&s?c.attributes.linkHref===l.getAttribute("linkHref"):void 0)}function QE(l,t){const r=l.createAttributeElement("a",{"data-ckbox-resource-id":t},{priority:5});return l.setCustomProperty("link",!0,r),r}function sz(l){return!!l.is("$text")||!(!l.is("element","imageInline")&&!l.is("element","imageBlock"))}class az extends Ze{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor,r=t.ui.componentFactory,s=t.t;r.add("ckfinder",c=>{const h=t.commands.get("ckfinder"),f=new wn(c);return f.set({label:s("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),f.bind("isEnabled").to(h),f.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),f})}}class lz extends Lt{constructor(t){super(t),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const t=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");this.isEnabled=t.isEnabled||r.isEnabled}execute(){const t=this.editor,r=this.editor.config.get("ckfinder.openerMethod")||"modal";if(r!="popup"&&r!="modal")throw new F("ckfinder-unknown-openermethod",t);const s=this.editor.config.get("ckfinder.options")||{};s.chooseFiles=!0;const c=s.onInit;s.language||(s.language=t.locale.uiLanguage),s.onInit=h=>{c&&c(h),h.on("files:choose",f=>{const g=f.data.files.toArray(),b=g.filter(x=>!x.isImage()),_=g.filter(x=>x.isImage());for(const x of b)t.execute("link",x.getUrl());const C=[];for(const x of _){const M=x.getUrl();C.push(M||h.request("file:getProxyUrl",{file:x}))}C.length&&ZE(t,C)}),h.on("file:choose:resizedImage",f=>{const g=f.data.resizedUrl;if(g)ZE(t,[g]);else{const b=t.plugins.get("Notification"),_=t.locale.t;b.showWarning(_("Could not obtain resized image URL."),{title:_("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[r](s)}}function ZE(l,t){if(l.commands.get("insertImage").isEnabled)l.execute("insertImage",{source:t});else{const r=l.plugins.get("Notification"),s=l.locale.t;r.showWarning(s("Could not insert image at the current position."),{title:s("Inserting image failed"),namespace:"ckfinder"})}}class cz extends Ze{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Fv,"LinkEditing"]}init(){const t=this.editor;if(!t.plugins.has("ImageBlockEditing")&&!t.plugins.has("ImageInlineEditing"))throw new F("ckfinder-missing-image-plugin",t);t.commands.add("ckfinder",new lz(t))}}class uz extends Ze{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Bo]}init(){const t=this.editor,r=t.plugins.get("CloudServices"),s=r.token,c=r.uploadUrl;if(!s)return;const h=t.plugins.get("CloudServicesCore");this._uploadGateway=h.createUploadGateway(s,c),t.plugins.get(Bo).createUploadAdapter=f=>new dz(this._uploadGateway,f)}}class dz{constructor(t,r){this.uploadGateway=t,this.loader=r}upload(){return this.loader.file.then(t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",(r,s)=>{this.loader.uploadTotal=s.total,this.loader.uploaded=s.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class hz extends Lt{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,r=Je(t.document.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&XE(r,t.schema)}execute(t={}){const r=this.editor.model,s=r.document,c=t.selection||s.selection;r.canEditAt(c)&&r.change(h=>{const f=c.getSelectedBlocks();for(const g of f)!g.is("element","paragraph")&&XE(g,r.schema)&&h.rename(g,"paragraph")})}}function XE(l,t){return t.checkChild(l.parent,"paragraph")&&!t.isObject(l)}class fz extends Lt{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const r=this.editor.model,s=t.attributes;let c=t.position;r.canEditAt(c)&&r.change(h=>{if(c=this._findPositionToInsertParagraph(c,h),!c)return;const f=h.createElement("paragraph");s&&r.schema.setAllowedAttributes(f,s,h),r.insertContent(f,c),h.setSelection(f,"in")})}_findPositionToInsertParagraph(t,r){const s=this.editor.model;if(s.schema.checkChild(t,"paragraph"))return t;const c=s.schema.findAllowedParent(t,"paragraph");if(!c)return null;const h=t.parent,f=s.schema.checkChild(h,"$text");return h.isEmpty||f&&t.isAtEnd?s.createPositionAfter(h):!h.isEmpty&&f&&t.isAtStart?s.createPositionBefore(h):r.split(t,c).position}}const JE=class extends Ze{static get pluginName(){return"Paragraph"}init(){const l=this.editor,t=l.model;l.commands.add("paragraph",new hz(l)),l.commands.add("insertParagraph",new fz(l)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),l.conversion.elementToElement({model:"paragraph",view:"p"}),l.conversion.for("upcast").elementToElement({model:(r,{writer:s})=>JE.paragraphLikeElements.has(r.name)?r.isEmpty?null:s.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let Qv=JE;Qv.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class pz extends Lt{constructor(t,r){super(t),this.modelElements=r}refresh(){const t=Je(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(r=>eS(t,r,this.editor.model.schema))}execute(t){const r=this.editor.model,s=r.document,c=t.value;r.change(h=>{const f=Array.from(s.selection.getSelectedBlocks()).filter(g=>eS(g,c,r.schema));for(const g of f)g.is("element",c)||h.rename(g,c)})}}function eS(l,t,r){return r.checkChild(l.parent,t)&&!r.isObject(l)}const tS="paragraph";class mz extends Ze{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Qv]}init(){const t=this.editor,r=t.config.get("heading.options"),s=[];for(const c of r)c.model!=="paragraph"&&(t.model.schema.register(c.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(c),s.push(c.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new pz(t,s))}afterInit(){const t=this.editor,r=t.commands.get("enter"),s=t.config.get("heading.options");r&&this.listenTo(r,"afterExecute",(c,h)=>{const f=t.model.document.selection.getFirstPosition().parent;s.some(g=>f.is("element",g.model))&&!f.is("element",tS)&&f.childCount===0&&h.writer.rename(f,tS)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:q.low+1})}}var nS=a(8733),gz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(nS.Z,gz),nS.Z.locals;class bz extends Ze{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,r=t.t,s=function(f){const g=f.t,b={Paragraph:g("Paragraph"),"Heading 1":g("Heading 1"),"Heading 2":g("Heading 2"),"Heading 3":g("Heading 3"),"Heading 4":g("Heading 4"),"Heading 5":g("Heading 5"),"Heading 6":g("Heading 6")};return f.config.get("heading.options").map(_=>{const C=b[_.title];return C&&C!=_.title&&(_.title=C),_})}(t),c=r("Choose heading"),h=r("Heading");t.ui.componentFactory.add("heading",f=>{const g={},b=new Ee,_=t.commands.get("heading"),C=t.commands.get("paragraph"),x=[_];for(const z of s){const H={type:"button",model:new Lx({label:z.title,class:z.class,role:"menuitemradio",withText:!0})};z.model==="paragraph"?(H.model.bind("isOn").to(C,"value"),H.model.set("commandName","paragraph"),x.push(C)):(H.model.bind("isOn").to(_,"value",G=>G===z.model),H.model.set({commandName:"heading",commandValue:z.model})),b.add(H),g[z.model]=z.title}const M=dl(f);return ox(M,b,{ariaLabel:h,role:"menu"}),M.buttonView.set({ariaLabel:h,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:h}),M.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),M.bind("isEnabled").toMany(x,"isEnabled",(...z)=>z.some(H=>H)),M.buttonView.bind("label").to(_,"value",C,"value",(z,H)=>{const G=z||H&&"paragraph";return typeof G=="boolean"?c:g[G]?g[G]:c}),this.listenTo(M,"execute",z=>{const{commandName:H,commandValue:G}=z.source;t.execute(H,G?{value:G}:void 0),t.editing.view.focus()}),M})}}function iS(l){return l.createContainerElement("figure",{class:"image"},[l.createEmptyElement("img"),l.createSlot("children")])}function rS(l,t){const r=l.plugins.get("ImageUtils"),s=l.plugins.has("ImageInlineEditing")&&l.plugins.has("ImageBlockEditing");return h=>r.isInlineImageView(h)?s&&(h.getStyle("display")=="block"||h.findAncestor(r.isBlockImageView)?"imageBlock":"imageInline")!==t?null:c(h):null;function c(h){const f={name:!0};return h.hasAttribute("src")&&(f.attributes=["src"]),f}}function Zv(l,t){const r=Je(t.getSelectedBlocks());return!r||l.isObject(r)||r.isEmpty&&r.name!="listItem"?"imageBlock":"imageInline"}var kz=Object.defineProperty,oS=Object.getOwnPropertySymbols,vz=Object.prototype.hasOwnProperty,_z=Object.prototype.propertyIsEnumerable,sS=(l,t,r)=>t in l?kz(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,aS=(l,t)=>{for(var r in t||(t={}))vz.call(t,r)&&sS(l,r,t[r]);if(oS)for(var r of oS(t))_z.call(t,r)&&sS(l,r,t[r]);return l};class Oo extends Ze{static get pluginName(){return"ImageUtils"}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},r=null,s=null){const c=this.editor,h=c.model,f=h.document.selection;s=lS(c,r||f,s),t=aS(aS({},Object.fromEntries(f.getAttributes())),t);for(const g in t)h.schema.checkAttribute(s,g)||delete t[g];return h.change(g=>{const b=g.createElement(s,t);return h.insertObject(b,r,null,{setSelection:"on",findOptimalPosition:r||s=="imageInline"?void 0:"auto"}),b.parent?b:null})}getClosestSelectedImageWidget(t){const r=t.getFirstPosition();if(!r)return null;const s=t.getSelectedElement();if(s&&this.isImageWidget(s))return s;let c=r.parent;for(;c;){if(c.is("element")&&this.isImageWidget(c))return c;c=c.parent}return null}getClosestSelectedImageElement(t){const r=t.getSelectedElement();return this.isImage(r)?r:t.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const t=this.editor.model.document.selection;return function(r,s){if(lS(r,s,null)=="imageBlock"){const h=function(f,g){const b=kE(f,g),_=b.start.parent;return _.isEmpty&&!_.is("element","$root")?_.parent:_}(s,r.model);if(r.model.schema.checkChild(h,"imageBlock"))return!0}else if(r.model.schema.checkChild(s.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(r){return[...r.focus.getAncestors()].every(s=>!s.is("element","imageBlock"))}(t)}toImageWidget(t,r,s){return r.setCustomProperty("image",!0,t),Wv(t,r,{label:()=>{const c=this.findViewImgElement(t).getAttribute("alt");return c?`${c} ${s}`:s}})}isImageWidget(t){return!!t.getCustomProperty("image")&&zn(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const r=this.editor.editing.view;for(const{item:s}of r.createRangeIn(t))if(this.isInlineImageView(s))return s}}function lS(l,t,r){const s=l.model.schema,c=l.config.get("image.insert.type");return l.plugins.has("ImageBlockEditing")?l.plugins.has("ImageInlineEditing")?r||(c==="inline"?"imageInline":c==="block"?"imageBlock":t.is("selection")?Zv(s,t):s.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class yz extends Lt{refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const r=this.editor,s=r.plugins.get("ImageUtils"),c=r.model,h=s.getClosestSelectedImageElement(c.document.selection);c.change(f=>{f.setAttribute("alt",t.newValue,h)})}}class wz extends Ze{static get requires(){return[Oo]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new yz(this.editor))}}var cS=a(1905),Cz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(cS.Z,Cz),cS.Z.locals;var uS=a(6764),Az={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(uS.Z,Az),uS.Z.locals;class Tz extends Mt{constructor(t){super(t);const r=this.locale.t;this.focusTracker=new Fe,this.keystrokes=new pt,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(r("Save"),Qn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),Qn.cancel,"ck-button-cancel","cancel"),this._focusables=new Eo,this._focusCycler=new fd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),m({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,r,s,c){const h=new wn(this.locale);return h.set({label:t,icon:r,tooltip:!0}),h.extendTemplate({attributes:{class:s}}),c&&h.delegate("execute").to(this,c),h}_createLabeledInputView(){const t=this.locale.t,r=new Fk(this.locale,xv);return r.label=t("Text alternative"),r}}function dS(l){const t=l.editing.view,r=fr.defaultPositions,s=l.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(s.getClosestSelectedImageWidget(t.document.selection)),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}class xz extends Ze{static get requires(){return[bg]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const t=this.editor,r=t.t;t.ui.componentFactory.add("imageTextAlternative",s=>{const c=t.commands.get("imageTextAlternative"),h=new wn(s);return h.set({label:r("Change image text alternative"),icon:Qn.lowVision,tooltip:!0}),h.bind("isEnabled").to(c,"isEnabled"),h.bind("isOn").to(c,"value",f=>!!f),this.listenTo(h,"execute",()=>{this._showForm()}),h})}_createForm(){const t=this.editor,r=t.editing.view.document,s=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(p(Tz))(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(c,h)=>{this._hideForm(!0),h()}),this.listenTo(t.ui,"update",()=>{s.getClosestSelectedImageWidget(r.selection)?this._isVisible&&function(c){const h=c.plugins.get("ContextualBalloon");if(c.plugins.get("ImageUtils").getClosestSelectedImageWidget(c.editing.view.document.selection)){const f=dS(c);h.updatePosition(f)}}(t):this._hideForm(!0)}),d({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const t=this.editor,r=t.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:dS(t)}),s.fieldView.value=s.fieldView.element.value=r.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class hS extends Ze{static get requires(){return[wz,xz]}static get pluginName(){return"ImageTextAlternative"}}function fS(l,t){const r=(s,c,h)=>{if(!h.consumable.consume(c.item,s.name))return;const f=h.writer,g=h.mapper.toViewElement(c.item),b=l.findViewImgElement(g);if(c.attributeNewValue===null){const _=c.attributeOldValue;_&&_.data&&(f.removeAttribute("srcset",b),f.removeAttribute("sizes",b),_.width&&f.removeAttribute("width",b))}else{const _=c.attributeNewValue;_&&_.data&&(f.setAttribute("srcset",_.data,b),f.setAttribute("sizes","100vw",b),_.width&&f.setAttribute("width",_.width,b))}};return s=>{s.on(`attribute:srcset:${t}`,r)}}function Sg(l,t,r){const s=(c,h,f)=>{if(!f.consumable.consume(h.item,c.name))return;const g=f.writer,b=f.mapper.toViewElement(h.item),_=l.findViewImgElement(b);g.setAttribute(h.attributeKey,h.attributeNewValue||"",_)};return c=>{c.on(`attribute:${r}:${t}`,s)}}class Ez extends cs{observe(t){this.listenTo(t,"load",(r,s)=>{const c=s.target;this.checkShouldIgnoreEventFromTarget(c)||c.tagName=="IMG"&&this._fireEvents(s)},{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}var Sz=Object.defineProperty,pS=Object.getOwnPropertySymbols,Dz=Object.prototype.hasOwnProperty,Iz=Object.prototype.propertyIsEnumerable,mS=(l,t,r)=>t in l?Sz(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,Dg=(l,t)=>{for(var r in t||(t={}))Dz.call(t,r)&&mS(l,r,t[r]);if(pS)for(var r of pS(t))Iz.call(t,r)&&mS(l,r,t[r]);return l};class Mz extends Lt{constructor(t){super(t);const r=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||r==="block"&&Q("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||r==="inline"&&Q("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const r=X(t.source),s=this.editor.model.document.selection,c=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(s.getAttributes());r.forEach((f,g)=>{const b=s.getSelectedElement();if(typeof f=="string"&&(f={src:f}),g&&b&&c.isImage(b)){const _=this.editor.model.createPositionAfter(b);c.insertImage(Dg(Dg({},f),h),_)}else c.insertImage(Dg(Dg({},f),h))})}}class Pz extends Lt{refresh(){const t=this.editor.plugins.get("ImageUtils"),r=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(r),this.value=this.isEnabled?r.getAttribute("src"):null}execute(t){const r=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(s=>{s.setAttribute("src",t.source,r),s.removeAttribute("srcset",r),s.removeAttribute("sizes",r)})}}class Xv extends Ze{static get requires(){return[Oo]}static get pluginName(){return"ImageEditing"}init(){const t=this.editor,r=t.conversion;t.editing.view.addObserver(Ez),r.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:h=>{const f={data:h.getAttribute("srcset")};return h.hasAttribute("width")&&(f.width=h.getAttribute("width")),f}}});const s=new Mz(t),c=new Pz(t);t.commands.add("insertImage",s),t.commands.add("replaceImageSource",c),t.commands.add("imageInsert",s)}}class gS extends Lt{constructor(t,r){super(t),this._modelElementName=r}refresh(){const t=this.editor.plugins.get("ImageUtils"),r=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(r):this.isEnabled=t.isBlockImage(r)}execute(){const t=this.editor,r=this.editor.model,s=t.plugins.get("ImageUtils"),c=s.getClosestSelectedImageElement(r.document.selection),h=Object.fromEntries(c.getAttributes());return h.src||h.uploadId?r.change(f=>{const g=Array.from(r.markers).filter(C=>C.getRange().containsItem(c)),b=s.insertImage(h,r.createSelection(c,"on"),this._modelElementName);if(!b)return null;const _=f.createRangeOn(b);for(const C of g){const x=C.getRange(),M=x.root.rootName!="$graveyard"?x.getJoined(_,!0):_;f.updateMarker(C,{range:M})}return{oldElement:c,newElement:b}}):null}}class bS extends Ze{static get requires(){return[Xv,Oo,hs]}static get pluginName(){return"ImageBlockEditing"}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new gS(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,r=t.t,s=t.conversion,c=t.plugins.get("ImageUtils");s.for("dataDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:f})=>iS(f)}),s.for("editingDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:f})=>c.toImageWidget(iS(f),f,r("image widget"))}),s.for("downcast").add(Sg(c,"imageBlock","src")).add(Sg(c,"imageBlock","alt")).add(fS(c,"imageBlock")),s.for("upcast").elementToElement({view:rS(t,"imageBlock"),model:(h,{writer:f})=>f.createElement("imageBlock",h.hasAttribute("src")?{src:h.getAttribute("src")}:void 0)}).add(function(h){const f=(g,b,_)=>{if(!_.consumable.test(b.viewItem,{name:!0,classes:"image"}))return;const C=h.findViewImgElement(b.viewItem);if(!C||!_.consumable.test(C,{name:!0}))return;_.consumable.consume(b.viewItem,{name:!0,classes:"image"});const x=Je(_.convertItem(C,b.modelCursor).modelRange.getItems());x?(_.convertChildren(b.viewItem,x),_.updateConversionResult(x,b)):_.consumable.revert(b.viewItem,{name:!0,classes:"image"})};return g=>{g.on("element:figure",f)}}(c))}_setupClipboardIntegration(){const t=this.editor,r=t.model,s=t.editing.view,c=t.plugins.get("ImageUtils"),h=t.plugins.get("ClipboardPipeline");this.listenTo(h,"inputTransformation",(f,g)=>{const b=Array.from(g.content.getChildren());let _;if(!b.every(c.isInlineImageView))return;_=g.targetRanges?t.editing.mapper.toModelRange(g.targetRanges[0]):r.document.selection.getFirstRange();const C=r.createSelection(_);if(Zv(r.schema,C)==="imageBlock"){const x=new ul(s.document),M=b.map(z=>x.createElement("figure",{class:"image"},z));g.content=x.createDocumentFragment(M)}})}}var kS=a(3508),Nz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(kS.Z,Nz),kS.Z.locals;class Bz extends Ze{static get requires(){return[bS,$f,hS]}static get pluginName(){return"ImageBlock"}}class Oz extends Ze{static get requires(){return[Xv,Oo,hs]}static get pluginName(){return"ImageInlineEditing"}init(){const t=this.editor,r=t.model.schema;r.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),r.addChildCheck((s,c)=>{if(s.endsWith("caption")&&c.name==="imageInline")return!1}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new gS(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,r=t.t,s=t.conversion,c=t.plugins.get("ImageUtils");s.for("dataDowncast").elementToElement({model:"imageInline",view:(h,{writer:f})=>f.createEmptyElement("img")}),s.for("editingDowncast").elementToStructure({model:"imageInline",view:(h,{writer:f})=>c.toImageWidget(function(g){return g.createContainerElement("span",{class:"image-inline"},g.createEmptyElement("img"))}(f),f,r("image widget"))}),s.for("downcast").add(Sg(c,"imageInline","src")).add(Sg(c,"imageInline","alt")).add(fS(c,"imageInline")),s.for("upcast").elementToElement({view:rS(t,"imageInline"),model:(h,{writer:f})=>f.createElement("imageInline",h.hasAttribute("src")?{src:h.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const t=this.editor,r=t.model,s=t.editing.view,c=t.plugins.get("ImageUtils"),h=t.plugins.get("ClipboardPipeline");this.listenTo(h,"inputTransformation",(f,g)=>{const b=Array.from(g.content.getChildren());let _;if(!b.every(c.isBlockImageView))return;_=g.targetRanges?t.editing.mapper.toModelRange(g.targetRanges[0]):r.document.selection.getFirstRange();const C=r.createSelection(_);if(Zv(r.schema,C)==="imageInline"){const x=new ul(s.document),M=b.map(z=>z.childCount===1?(Array.from(z.getAttributes()).forEach(H=>x.setAttribute(...H,c.findViewImgElement(z))),z.getChild(0)):z);g.content=x.createDocumentFragment(M)}})}}class Lz extends Ze{static get requires(){return[Oz,$f,hS]}static get pluginName(){return"ImageInline"}}class vS extends Ze{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Oo]}getCaptionFromImageModelElement(t){for(const r of t.getChildren())if(r&&r.is("element","caption"))return r;return null}getCaptionFromModelSelection(t){const r=this.editor.plugins.get("ImageUtils"),s=t.getFirstPosition().findAncestor("caption");return s&&r.isBlockImage(s.parent)?s:null}matchImageCaptionViewElement(t){const r=this.editor.plugins.get("ImageUtils");return t.name=="figcaption"&&r.isBlockImageView(t.parent)?{name:!0}:null}}class Rz extends Lt{refresh(){const t=this.editor,r=t.plugins.get("ImageCaptionUtils"),s=t.plugins.get("ImageUtils");if(!t.plugins.has(bS))return this.isEnabled=!1,void(this.value=!1);const c=t.model.document.selection,h=c.getSelectedElement();if(!h){const f=r.getCaptionFromModelSelection(c);return this.isEnabled=!!f,void(this.value=!!f)}this.isEnabled=s.isImage(h),this.isEnabled?this.value=!!r.getCaptionFromImageModelElement(h):this.value=!1}execute(t={}){const{focusCaptionOnShow:r}=t;this.editor.model.change(s=>{this.value?this._hideImageCaption(s):this._showImageCaption(s,r)})}_showImageCaption(t,r){const s=this.editor.model.document.selection,c=this.editor.plugins.get("ImageCaptionEditing"),h=this.editor.plugins.get("ImageUtils");let f=s.getSelectedElement();const g=c._getSavedCaption(f);h.isInlineImage(f)&&(this.editor.execute("imageTypeBlock"),f=s.getSelectedElement());const b=g||t.createElement("caption");t.append(b,f),r&&t.setSelection(b,"in")}_hideImageCaption(t){const r=this.editor,s=r.model.document.selection,c=r.plugins.get("ImageCaptionEditing"),h=r.plugins.get("ImageCaptionUtils");let f,g=s.getSelectedElement();g?f=h.getCaptionFromImageModelElement(g):(f=h.getCaptionFromModelSelection(s),g=f.parent),c._saveCaption(g,f),t.setSelection(g,"on"),t.remove(f)}}class Fz extends Ze{constructor(t){super(t),this._savedCaptionsMap=new WeakMap}static get requires(){return[Oo,vS]}static get pluginName(){return"ImageCaptionEditing"}init(){const t=this.editor,r=t.model.schema;r.isRegistered("caption")?r.extend("caption",{allowIn:"imageBlock"}):r.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new Rz(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const t=this.editor,r=t.editing.view,s=t.plugins.get("ImageUtils"),c=t.plugins.get("ImageCaptionUtils"),h=t.t;t.conversion.for("upcast").elementToElement({view:f=>c.matchImageCaptionViewElement(f),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(f,{writer:g})=>s.isBlockImage(f.parent)?g.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(f,{writer:g})=>{if(!s.isBlockImage(f.parent))return null;const b=g.createEditableElement("figcaption");g.setCustomProperty("imageCaption",!0,b),b.placeholder=h("Enter image caption"),YA({view:r,element:b,keepOnFocus:!0});const _=f.parent.getAttribute("alt");return bE(b,g,{label:_?h("Caption for image: %0",[_]):h("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const t=this.editor,r=t.plugins.get("ImageUtils"),s=t.plugins.get("ImageCaptionUtils"),c=t.commands.get("imageTypeInline"),h=t.commands.get("imageTypeBlock"),f=g=>{if(!g.return)return;const{oldElement:b,newElement:_}=g.return;if(!b)return;if(r.isBlockImage(b)){const x=s.getCaptionFromImageModelElement(b);if(x)return void this._saveCaption(_,x)}const C=this._getSavedCaption(b);C&&this._saveCaption(_,C)};c&&this.listenTo(c,"execute",f,{priority:"low"}),h&&this.listenTo(h,"execute",f,{priority:"low"})}_getSavedCaption(t){const r=this._savedCaptionsMap.get(t);return r?an.fromJSON(r):null}_saveCaption(t,r){this._savedCaptionsMap.set(t,r.toJSON())}_registerCaptionReconversion(){const t=this.editor,r=t.model,s=t.plugins.get("ImageUtils"),c=t.plugins.get("ImageCaptionUtils");r.document.on("change:data",()=>{const h=r.document.differ.getChanges();for(const f of h){if(f.attributeKey!=="alt")continue;const g=f.range.start.nodeAfter;if(s.isBlockImage(g)){const b=c.getCaptionFromImageModelElement(g);if(!b)return;t.editing.reconvertItem(b)}}})}}class jz extends Ze{static get requires(){return[vS]}static get pluginName(){return"ImageCaptionUI"}init(){const t=this.editor,r=t.editing.view,s=t.plugins.get("ImageCaptionUtils"),c=t.t;t.ui.componentFactory.add("toggleImageCaption",h=>{const f=t.commands.get("toggleImageCaption"),g=new wn(h);return g.set({icon:Qn.caption,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(f,"value","isEnabled"),g.bind("label").to(f,"value",b=>c(b?"Toggle caption off":"Toggle caption on")),this.listenTo(g,"execute",()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const b=s.getCaptionFromModelSelection(t.model.document.selection);if(b){const _=t.editing.mapper.toViewElement(b);r.scrollToTheSelection(),r.change(C=>{C.addClass("image__caption_highlighted",_)})}t.editing.view.focus()}),g})}}var _S=a(2640),zz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(_S.Z,zz),_S.Z.locals;function yS(l){const t=l.map(r=>r.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function Vz(l){return new Promise((t,r)=>{const s=l.getAttribute("src");fetch(s).then(c=>c.blob()).then(c=>{const h=wS(c,s),f=h.replace("image/",""),g=new File([c],`image.${f}`,{type:h});t(g)}).catch(c=>c&&c.name==="TypeError"?function(h){return function(f){return new Promise((g,b)=>{const _=_t.document.createElement("img");_.addEventListener("load",()=>{const C=_t.document.createElement("canvas");C.width=_.width,C.height=_.height,C.getContext("2d").drawImage(_,0,0),C.toBlob(x=>x?g(x):b())}),_.addEventListener("error",()=>b()),_.src=f})}(h).then(f=>{const g=wS(f,h),b=g.replace("image/","");return new File([f],`image.${b}`,{type:g})})}(s).then(t).catch(r):r(c))})}function wS(l,t){return l.type?l.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Uz extends Ze{static get pluginName(){return"ImageUploadUI"}init(){const t=this.editor,r=t.t,s=c=>{const h=new jj(c),f=t.commands.get("uploadImage"),g=t.config.get("image.upload.types"),b=yS(g);return h.set({acceptedType:g.map(_=>`image/${_}`).join(","),allowMultipleFiles:!0}),h.buttonView.set({label:r("Insert image"),icon:Qn.image,tooltip:!0}),h.buttonView.bind("isEnabled").to(f),h.on("done",(_,C)=>{const x=Array.from(C).filter(M=>b.test(M.type));x.length&&(t.execute("uploadImage",{file:x}),t.editing.view.focus())}),h};t.ui.componentFactory.add("uploadImage",s),t.ui.componentFactory.add("imageUpload",s)}}var CS=a(3689),Hz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(CS.Z,Hz),CS.Z.locals;var AS=a(4036),$z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(AS.Z,$z),AS.Z.locals;var TS=a(3773),qz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(TS.Z,qz),TS.Z.locals;class Wz extends Ze{constructor(t){super(t),this.uploadStatusChange=(r,s,c)=>{const h=this.editor,f=s.item,g=f.getAttribute("uploadId");if(!c.consumable.consume(s.item,r.name))return;const b=h.plugins.get("ImageUtils"),_=h.plugins.get(Bo),C=g?s.attributeNewValue:null,x=this.placeholder,M=h.editing.mapper.toViewElement(f),z=c.writer;if(C=="reading")return xS(M,z),void ES(b,x,M,z);if(C=="uploading"){const H=_.loaders.get(g);return xS(M,z),void(H?(SS(M,z),function(G,Z,se,ye){const Be=function(ot){const yt=ot.createUIElement("div",{class:"ck-progress-bar"});return ot.setCustomProperty("progressBar",!0,yt),yt}(Z);Z.insert(Z.createPositionAt(G,"end"),Be),se.on("change:uploadedPercent",(ot,yt,cn)=>{ye.change(Ft=>{Ft.setStyle("width",cn+"%",Be)})})}(M,z,H,h.editing.view),function(G,Z,se,ye){if(ye.data){const Be=G.findViewImgElement(Z);se.setAttribute("src",ye.data,Be)}}(b,M,z,H)):ES(b,x,M,z))}C=="complete"&&_.loaders.get(g)&&function(H,G,Z){const se=G.createUIElement("div",{class:"ck-image-upload-complete-icon"});G.insert(G.createPositionAt(H,"end"),se),setTimeout(()=>{Z.change(ye=>ye.remove(ye.createRangeOn(se)))},3e3)}(M,z,h.editing.view),function(H,G){IS(H,G,"progressBar")}(M,z),SS(M,z),function(H,G){G.removeClass("ck-appear",H)}(M,z)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function xS(l,t){l.hasClass("ck-appear")||t.addClass("ck-appear",l)}function ES(l,t,r,s){r.hasClass("ck-image-upload-placeholder")||s.addClass("ck-image-upload-placeholder",r);const c=l.findViewImgElement(r);c.getAttribute("src")!==t&&s.setAttribute("src",t,c),DS(r,"placeholder")||s.insert(s.createPositionAfter(c),function(h){const f=h.createUIElement("div",{class:"ck-upload-placeholder-loader"});return h.setCustomProperty("placeholder",!0,f),f}(s))}function SS(l,t){l.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",l),IS(l,t,"placeholder")}function DS(l,t){for(const r of l.getChildren())if(r.getCustomProperty(t))return r}function IS(l,t,r){const s=DS(l,r);s&&t.remove(t.createRangeOn(s))}var Gz=Object.defineProperty,Kz=Object.defineProperties,Yz=Object.getOwnPropertyDescriptors,MS=Object.getOwnPropertySymbols,Qz=Object.prototype.hasOwnProperty,Zz=Object.prototype.propertyIsEnumerable,PS=(l,t,r)=>t in l?Gz(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r;class Xz extends Lt{refresh(){const t=this.editor,r=t.plugins.get("ImageUtils"),s=t.model.document.selection.getSelectedElement();this.isEnabled=r.isImageAllowed()||r.isImage(s)}execute(t){const r=X(t.file),s=this.editor.model.document.selection,c=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(s.getAttributes());r.forEach((f,g)=>{const b=s.getSelectedElement();if(g&&b&&c.isImage(b)){const _=this.editor.model.createPositionAfter(b);this._uploadImage(f,h,_)}else this._uploadImage(f,h)})}_uploadImage(t,r,s){const c=this.editor,h=c.plugins.get(Bo).createLoader(t),f=c.plugins.get("ImageUtils");var g,b;h&&f.insertImage((g=((_,C)=>{for(var x in C||(C={}))Qz.call(C,x)&&PS(_,x,C[x]);if(MS)for(var x of MS(C))Zz.call(C,x)&&PS(_,x,C[x]);return _})({},r),b={uploadId:h.id},Kz(g,Yz(b))),s)}}class Jz extends Ze{constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Bo,Fv,hs,Oo]}static get pluginName(){return"ImageUploadEditing"}init(){const t=this.editor,r=t.model.document,s=t.conversion,c=t.plugins.get(Bo),h=t.plugins.get("ImageUtils"),f=t.plugins.get("ClipboardPipeline"),g=yS(t.config.get("image.upload.types")),b=new Xz(t);t.commands.add("uploadImage",b),t.commands.add("imageUpload",b),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(_,C)=>{if(x=C.dataTransfer,Array.from(x.types).includes("text/html")&&x.getData("text/html")!=="")return;var x;const M=Array.from(C.dataTransfer.files).filter(z=>!!z&&g.test(z.type));M.length&&(_.stop(),t.model.change(z=>{C.targetRanges&&z.setSelection(C.targetRanges.map(H=>t.editing.mapper.toModelRange(H))),t.model.enqueueChange(()=>{t.execute("uploadImage",{file:M})})}))}),this.listenTo(f,"inputTransformation",(_,C)=>{const x=Array.from(t.editing.view.createRangeIn(C.content)).map(z=>z.item).filter(z=>function(H,G){return!(!H.isInlineImageView(G)||!G.getAttribute("src")||!G.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!G.getAttribute("src").match(/^blob:/g))}(h,z)&&!z.getAttribute("uploadProcessed")).map(z=>({promise:Vz(z),imageElement:z}));if(!x.length)return;const M=new ul(t.editing.view.document);for(const z of x){M.setAttribute("uploadProcessed",!0,z.imageElement);const H=c.createLoader(z.promise);H&&(M.setAttribute("src","",z.imageElement),M.setAttribute("uploadId",H.id,z.imageElement))}}),t.editing.view.document.on("dragover",(_,C)=>{C.preventDefault()}),r.on("change",()=>{const _=r.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),C=new Set;for(const x of _)if(x.type=="insert"&&x.name!="$text"){const M=x.position.nodeAfter,z=x.position.root.rootName=="$graveyard";for(const H of eV(t,M)){const G=H.getAttribute("uploadId");if(!G)continue;const Z=c.loaders.get(G);Z&&(z?C.has(G)||Z.abort():(C.add(G),this._uploadImageElements.set(G,H),Z.status=="idle"&&this._readAndUpload(Z)))}}}),this.on("uploadComplete",(_,{imageElement:C,data:x})=>{const M=x.urls?x.urls:x;this.editor.model.change(z=>{z.setAttribute("src",M.default,C),this._parseAndSetSrcsetAttributeOnImage(M,C,z)})},{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(t){const r=this.editor,s=r.model,c=r.locale.t,h=r.plugins.get(Bo),f=r.plugins.get(Fv),g=r.plugins.get("ImageUtils"),b=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},C=>{C.setAttribute("uploadStatus","reading",b.get(t.id))}),t.read().then(()=>{const C=t.upload(),x=b.get(t.id);if(y.isSafari){const M=r.editing.mapper.toViewElement(x),z=g.findViewImgElement(M);r.editing.view.once("render",()=>{if(!z.parent)return;const H=r.editing.view.domConverter.mapViewToDom(z.parent);if(!H)return;const G=H.style.display;H.style.display="none",H._ckHack=H.offsetHeight,H.style.display=G})}return s.enqueueChange({isUndoable:!1},M=>{M.setAttribute("uploadStatus","uploading",x)}),C}).then(C=>{s.enqueueChange({isUndoable:!1},x=>{const M=b.get(t.id);x.setAttribute("uploadStatus","complete",M),this.fire("uploadComplete",{data:C,imageElement:M})}),_()}).catch(C=>{if(t.status!=="error"&&t.status!=="aborted")throw C;t.status=="error"&&C&&f.showWarning(C,{title:c("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},x=>{x.remove(b.get(t.id))}),_()});function _(){s.enqueueChange({isUndoable:!1},C=>{const x=b.get(t.id);C.removeAttribute("uploadId",x),C.removeAttribute("uploadStatus",x),b.delete(t.id)}),h.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,r,s){let c=0;const h=Object.keys(t).filter(f=>{const g=parseInt(f,10);if(!isNaN(g))return c=Math.max(c,g),!0}).map(f=>`${t[f]} ${f}w`).join(", ");h!=""&&s.setAttribute("srcset",{data:h,width:c},r)}}function eV(l,t){const r=l.plugins.get("ImageUtils");return Array.from(l.model.createRangeOn(t)).filter(s=>r.isImage(s.item)).map(s=>s.item)}var NS=a(1568),tV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(NS.Z,tV),NS.Z.locals;var BS=a(3535),nV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(BS.Z,nV),BS.Z.locals;var OS=a(6270),iV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(OS.Z,iV),OS.Z.locals;class rV extends Lt{constructor(t,r){super(t),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(r.map(s=>{if(s.isDefault)for(const c of s.modelElements)this._defaultStyles[c]=s.name;return[s.name,s]}))}refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?t.hasAttribute("imageStyle")?this.value=t.getAttribute("imageStyle"):this.value=this._defaultStyles[t.name]:this.value=!1}execute(t={}){const r=this.editor,s=r.model,c=r.plugins.get("ImageUtils");s.change(h=>{const f=t.value;let g=c.getClosestSelectedImageElement(s.document.selection);f&&this.shouldConvertImageType(f,g)&&(this.editor.execute(c.isBlockImage(g)?"imageTypeInline":"imageTypeBlock"),g=c.getClosestSelectedImageElement(s.document.selection)),!f||this._styles.get(f).isDefault?h.removeAttribute("imageStyle",g):h.setAttribute("imageStyle",f,g)})}shouldConvertImageType(t,r){return!this._styles.get(t).modelElements.includes(r.name)}}var oV=Object.defineProperty,LS=Object.getOwnPropertySymbols,sV=Object.prototype.hasOwnProperty,aV=Object.prototype.propertyIsEnumerable,RS=(l,t,r)=>t in l?oV(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,FS=(l,t)=>{for(var r in t||(t={}))sV.call(t,r)&&RS(l,r,t[r]);if(LS)for(var r of LS(t))aV.call(t,r)&&RS(l,r,t[r]);return l};const{objectFullWidth:lV,objectInline:jS,objectLeft:zS,objectRight:Jv,objectCenter:e_,objectBlockLeft:VS,objectBlockRight:US}=Qn,Ig={get inline(){return{name:"inline",title:"In line",icon:jS,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:zS,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:VS,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:e_,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Jv,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:US,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:e_,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Jv,modelElements:["imageBlock"],className:"image-style-side"}}},HS={full:lV,left:VS,right:US,center:e_,inlineLeft:zS,inlineRight:Jv,inline:jS},$S=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function qS(l){Q("image-style-configuration-definition-invalid",l)}const t_={normalizeStyles:function(l){return(l.configuredStyles.options||[]).map(t=>function(r){return r=typeof r=="string"?Ig[r]?FS({},Ig[r]):{name:r}:function(s,c){const h=FS({},c);for(const f in s)Object.prototype.hasOwnProperty.call(c,f)||(h[f]=s[f]);return h}(Ig[r.name],r),typeof r.icon=="string"&&(r.icon=HS[r.icon]||r.icon),r}(t)).filter(t=>function(r,{isBlockPluginLoaded:s,isInlinePluginLoaded:c}){const{modelElements:h,name:f}=r;if(!(h&&h.length&&f))return qS({style:r}),!1;{const g=[s?"imageBlock":null,c?"imageInline":null];if(!h.some(b=>g.includes(b)))return Q("image-style-missing-dependency",{style:r,missingPlugins:h.map(b=>b==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(t,l))},getDefaultStylesConfiguration:function(l,t){return l&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:l?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(l){return l.has("ImageBlockEditing")&&l.has("ImageInlineEditing")?[...$S]:[]},warnInvalidStyle:qS,DEFAULT_OPTIONS:Ig,DEFAULT_ICONS:HS,DEFAULT_DROPDOWN_DEFINITIONS:$S};function WS(l,t){for(const r of t)if(r.name===l)return r}class GS extends Ze{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Oo]}init(){const{normalizeStyles:t,getDefaultStylesConfiguration:r}=t_,s=this.editor,c=s.plugins.has("ImageBlockEditing"),h=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",r(c,h)),this.normalizedStyles=t({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:c,isInlinePluginLoaded:h}),this._setupConversion(c,h),this._setupPostFixer(),s.commands.add("imageStyle",new rV(s,this.normalizedStyles))}_setupConversion(t,r){const s=this.editor,c=s.model.schema,h=(f=this.normalizedStyles,(b,_,C)=>{if(!C.consumable.consume(_.item,b.name))return;const x=WS(_.attributeNewValue,f),M=WS(_.attributeOldValue,f),z=C.mapper.toViewElement(_.item),H=C.writer;M&&H.removeClass(M.className,z),x&&H.addClass(x.className,z)});var f;const g=function(b){const _={imageInline:b.filter(C=>!C.isDefault&&C.modelElements.includes("imageInline")),imageBlock:b.filter(C=>!C.isDefault&&C.modelElements.includes("imageBlock"))};return(C,x,M)=>{if(!x.modelRange)return;const z=x.viewItem,H=Je(x.modelRange.getItems());if(H&&M.schema.checkAttribute(H,"imageStyle"))for(const G of _[H.name])M.consumable.consume(z,{classes:G.className})&&M.writer.setAttribute("imageStyle",G.name,H)}}(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",h),s.data.downcastDispatcher.on("attribute:imageStyle",h),t&&(c.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",g,{priority:"low"})),r&&(c.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",g,{priority:"low"}))}_setupPostFixer(){const t=this.editor,r=t.model.document,s=t.plugins.get(Oo),c=new Map(this.normalizedStyles.map(h=>[h.name,h]));r.registerPostFixer(h=>{let f=!1;for(const g of r.differ.getChanges())if(g.type=="insert"||g.type=="attribute"&&g.attributeKey=="imageStyle"){let b=g.type=="insert"?g.position.nodeAfter:g.range.start.nodeAfter;if(b&&b.is("element","paragraph")&&b.childCount>0&&(b=b.getChild(0)),!s.isImage(b))continue;const _=b.getAttribute("imageStyle");if(!_)continue;const C=c.get(_);C&&C.modelElements.includes(b.name)||(h.removeAttribute("imageStyle",b),f=!0)}return f})}}var KS=a(5083),cV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(KS.Z,cV),KS.Z.locals;class uV extends Ze{static get requires(){return[GS]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,r=this.editor.config.get("image.toolbar")||[],s=YS(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const h of s)this._createButton(h);const c=YS([...r.filter(Ke),...t_.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const h of c)this._createDropdown(h,s)}_createDropdown(t,r){const s=this.editor.ui.componentFactory;s.add(t.name,c=>{let h;const{defaultItem:f,items:g,title:b}=t,_=g.filter(z=>r.find(({name:H})=>QS(H)===z)).map(z=>{const H=s.create(z);return z===f&&(h=H),H});g.length!==_.length&&t_.warnInvalidStyle({dropdown:t});const C=dl(c,Av),x=C.buttonView,M=x.arrowView;return Tv(C,_,{enableActiveItemFocusOnDropdownOpen:!0}),x.set({label:ZS(b,h.label),class:null,tooltip:!0}),M.unbind("label"),M.set({label:b}),x.bind("icon").toMany(_,"isOn",(...z)=>{const H=z.findIndex(Mc);return H<0?h.icon:_[H].icon}),x.bind("label").toMany(_,"isOn",(...z)=>{const H=z.findIndex(Mc);return ZS(b,H<0?h.label:_[H].label)}),x.bind("isOn").toMany(_,"isOn",(...z)=>z.some(Mc)),x.bind("class").toMany(_,"isOn",(...z)=>z.some(Mc)?"ck-splitbutton_flatten":void 0),x.on("execute",()=>{_.some(({isOn:z})=>z)?C.isOpen=!C.isOpen:h.fire("execute")}),C.bind("isEnabled").toMany(_,"isEnabled",(...z)=>z.some(Mc)),this.listenTo(C,"execute",()=>{this.editor.editing.view.focus()}),C})}_createButton(t){const r=t.name;this.editor.ui.componentFactory.add(QS(r),s=>{const c=this.editor.commands.get("imageStyle"),h=new wn(s);return h.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),h.bind("isEnabled").to(c,"isEnabled"),h.bind("isOn").to(c,"value",f=>f===r),h.on("execute",this._executeCommand.bind(this,r)),h})}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function YS(l,t){for(const r of l)t[r.title]&&(r.title=t[r.title]);return l}function QS(l){return`imageStyle:${l}`}function ZS(l,t){return(l?l+": ":"")+t}class dV extends Ze{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new $A(t)),t.commands.add("outdent",new $A(t))}}const XS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',JS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class hV extends Ze{static get pluginName(){return"IndentUI"}init(){const t=this.editor,r=t.locale,s=t.t,c=r.uiLanguageDirection=="ltr"?XS:JS,h=r.uiLanguageDirection=="ltr"?JS:XS;this._defineButton("indent",s("Increase indent"),c),this._defineButton("outdent",s("Decrease indent"),h)}_defineButton(t,r,s){const c=this.editor;c.ui.componentFactory.add(t,h=>{const f=c.commands.get(t),g=new wn(h);return g.set({label:r,icon:s,tooltip:!0}),g.bind("isEnabled").to(f,"isEnabled"),this.listenTo(g,"execute",()=>{c.execute(t),c.editing.view.focus()}),g})}}class fV{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(r=>this._definitions.add(r)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(r,s,c)=>{if(!c.consumable.test(s.item,"attribute:linkHref")||!s.item.is("selection")&&!c.schema.isInline(s.item))return;const h=c.writer,f=h.document.selection;for(const g of this._definitions){const b=h.createAttributeElement("a",g.attributes,{priority:5});g.classes&&h.addClass(g.classes,b);for(const _ in g.styles)h.setStyle(_,g.styles[_],b);h.setCustomProperty("link",!0,b),g.callback(s.attributeNewValue)?s.item.is("selection")?h.wrap(f.getFirstRange(),b):h.wrap(c.mapper.toViewRange(s.range),b):h.unwrap(c.mapper.toViewRange(s.range),b)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(r,s,{writer:c,mapper:h})=>{const f=h.toViewElement(s.item),g=Array.from(f.getChildren()).find(b=>b.is("element","a"));for(const b of this._definitions){const _=kt(b.attributes);if(b.callback(s.attributeNewValue)){for(const[C,x]of _)C==="class"?c.addClass(x,g):c.setAttribute(C,x,g);b.classes&&c.addClass(b.classes,g);for(const C in b.styles)c.setStyle(C,b.styles[C],g)}else{for(const[C,x]of _)C==="class"?c.removeClass(x,g):c.removeAttribute(C,g);b.classes&&c.removeClass(b.classes,g);for(const C in b.styles)c.removeStyle(C,g)}}})}}}const pV=function(l,t,r){var s=l.length;return r=r===void 0?s:r,!t&&r>=s?l:n2(l,t,r)};var mV=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const eD=function(l){return mV.test(l)},gV=function(l){return l.split("")};var tD="\\ud800-\\udfff",bV="["+tD+"]",n_="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i_="\\ud83c[\\udffb-\\udfff]",nD="[^"+tD+"]",iD="(?:\\ud83c[\\udde6-\\uddff]){2}",rD="[\\ud800-\\udbff][\\udc00-\\udfff]",oD="(?:"+n_+"|"+i_+")?",sD="[\\ufe0e\\ufe0f]?",kV=sD+oD+("(?:\\u200d(?:"+[nD,iD,rD].join("|")+")"+sD+oD+")*"),vV="(?:"+[nD+n_+"?",n_,iD,rD,bV].join("|")+")",_V=RegExp(i_+"(?="+i_+")|"+vV+kV,"g");const yV=function(l){return l.match(_V)||[]},wV=function(l){return eD(l)?yV(l):gV(l)},CV=function(l){return function(t){t=qk(t);var r=eD(t)?wV(t):void 0,s=r?r[0]:t.charAt(0),c=r?pV(r,1).join(""):t.slice(1);return s[l]()+c}}("toUpperCase"),AV=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,TV=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,xV=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,EV=/^((\w+:(\/{2,})?)|(\W))/i,r_="Ctrl+K";function aD(l,{writer:t}){const r=t.createAttributeElement("a",{href:l},{priority:5});return t.setCustomProperty("link",!0,r),r}function lD(l){const t=String(l);return function(r){return!!r.replace(AV,"").match(TV)}(t)?t:"#"}function o_(l,t){return!!l&&t.checkAttribute(l.name,"linkHref")}function s_(l,t){const r=(s=l,xV.test(s)?"mailto:":t);var s;const c=!!r&&!cD(l);return l&&c?r+l:l}function cD(l){return EV.test(l)}function uD(l){window.open(l,"_blank","noopener")}class SV extends Lt{constructor(){super(...arguments),this.manualDecorators=new Ee,this.automaticDecorators=new fV}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,r=t.document.selection,s=r.getSelectedElement()||Je(r.getSelectedBlocks());o_(s,t.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(s,"linkHref")):(this.value=r.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(r,"linkHref"));for(const c of this.manualDecorators)c.value=this._getDecoratorStateFromModel(c.id)}execute(t,r={}){const s=this.editor.model,c=s.document.selection,h=[],f=[];for(const g in r)r[g]?h.push(g):f.push(g);s.change(g=>{if(c.isCollapsed){const b=c.getFirstPosition();if(c.hasAttribute("linkHref")){const _=dD(c);let C=Ad(b,"linkHref",c.getAttribute("linkHref"),s);c.getAttribute("linkHref")===_&&(C=this._updateLinkContent(s,g,C,t)),g.setAttribute("linkHref",t,C),h.forEach(x=>{g.setAttribute(x,!0,C)}),f.forEach(x=>{g.removeAttribute(x,C)}),g.setSelection(g.createPositionAfter(C.end.nodeBefore))}else if(t!==""){const _=kt(c.getAttributes());_.set("linkHref",t),h.forEach(x=>{_.set(x,!0)});const{end:C}=s.insertContent(g.createText(t,_),b);g.setSelection(C)}["linkHref",...h,...f].forEach(_=>{g.removeSelectionAttribute(_)})}else{const b=s.schema.getValidRanges(c.getRanges(),"linkHref"),_=[];for(const x of c.getSelectedBlocks())s.schema.checkAttribute(x,"linkHref")&&_.push(g.createRangeOn(x));const C=_.slice();for(const x of b)this._isRangeToUpdate(x,_)&&C.push(x);for(const x of C){let M=x;if(C.length===1){const z=dD(c);c.getAttribute("linkHref")===z&&(M=this._updateLinkContent(s,g,x,t),g.setSelection(g.createSelection(M)))}g.setAttribute("linkHref",t,M),h.forEach(z=>{g.setAttribute(z,!0,M)}),f.forEach(z=>{g.removeAttribute(z,M)})}}})}_getDecoratorStateFromModel(t){const r=this.editor.model,s=r.document.selection,c=s.getSelectedElement();return o_(c,r.schema)?c.getAttribute(t):s.getAttribute(t)}_isRangeToUpdate(t,r){for(const s of r)if(s.containsRange(t))return!1;return!0}_updateLinkContent(t,r,s,c){const h=r.createText(c,{linkHref:c});return t.insertContent(h,s)}}function dD(l){if(l.isCollapsed){const t=l.getFirstPosition();return t.textNode&&t.textNode.data}{const t=Array.from(l.getFirstRange().getItems());if(t.length>1)return null;const r=t[0];return r.is("$text")||r.is("$textProxy")?r.data:null}}class DV extends Lt{refresh(){const t=this.editor.model,r=t.document.selection,s=r.getSelectedElement();o_(s,t.schema)?this.isEnabled=t.schema.checkAttribute(s,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(r,"linkHref")}execute(){const t=this.editor,r=this.editor.model,s=r.document.selection,c=t.commands.get("link");r.change(h=>{const f=s.isCollapsed?[Ad(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),r)]:r.schema.getValidRanges(s.getRanges(),"linkHref");for(const g of f)if(h.removeAttribute("linkHref",g),c)for(const b of c.manualDecorators)h.removeAttribute(b.id,g)})}}class IV extends xe(){constructor({id:t,label:r,attributes:s,classes:c,styles:h,defaultValue:f}){super(),this.id=t,this.set("value",void 0),this.defaultValue=f,this.label=r,this.attributes=s,this.classes=c,this.styles=h}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var hD=a(9773),MV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(hD.Z,MV),hD.Z.locals;var PV=Object.defineProperty,fD=Object.getOwnPropertySymbols,NV=Object.prototype.hasOwnProperty,BV=Object.prototype.propertyIsEnumerable,pD=(l,t,r)=>t in l?PV(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,OV=(l,t)=>{for(var r in t||(t={}))NV.call(t,r)&&pD(l,r,t[r]);if(fD)for(var r of fD(t))BV.call(t,r)&&pD(l,r,t[r]);return l};const mD="automatic",LV=/^(https?:)?\/\//;class RV extends Ze{static get pluginName(){return"LinkEditing"}static get requires(){return[sE,Jx,hs]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:aD}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,c)=>aD(lD(s),c)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),t.commands.add("link",new SV(t)),t.commands.add("unlink",new DV(t));const r=function(s,c){const h={"Open in a new tab":s("Open in a new tab"),Downloadable:s("Downloadable")};return c.forEach(f=>("label"in f&&h[f.label]&&(f.label=h[f.label]),f)),c}(t.t,function(s){const c=[];if(s)for(const[h,f]of Object.entries(s)){const g=Object.assign({},f,{id:`link${CV(h)}`});c.push(g)}return c}(t.config.get("link.decorators")));this._enableAutomaticDecorators(r.filter(s=>s.mode===mD)),this._enableManualDecorators(r.filter(s=>s.mode==="manual")),t.plugins.get(sE).registerAttribute("linkHref"),function(s,c,h,f){const g=s.editing.view,b=new Set;g.document.registerPostFixer(_=>{const C=s.model.document.selection;let x=!1;if(C.hasAttribute(c)){const M=Ad(C.getFirstPosition(),c,C.getAttribute(c),s.model),z=s.editing.mapper.toViewRange(M);for(const H of z.getItems())H.is("element",h)&&!H.hasClass(f)&&(_.addClass(f,H),b.add(H),x=!0)}return x}),s.conversion.for("editingDowncast").add(_=>{function C(){g.change(x=>{for(const M of b.values())x.removeClass(f,M),b.delete(M)})}_.on("insert",C,{priority:"highest"}),_.on("remove",C,{priority:"highest"}),_.on("attribute",C,{priority:"highest"}),_.on("selection",C,{priority:"highest"})})}(t,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const r=this.editor,s=r.commands.get("link").automaticDecorators;r.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:mD,callback:c=>!!c&&LV.test(c),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(t),s.length&&r.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const r=this.editor,s=r.commands.get("link").manualDecorators;t.forEach(c=>{r.model.schema.extend("$text",{allowAttributes:c.id});const h=new IV(c);s.add(h),r.conversion.for("downcast").attributeToElement({model:h.id,view:(f,{writer:g,schema:b},{item:_})=>{if((_.is("selection")||b.isInline(_))&&f){const C=g.createAttributeElement("a",h.attributes,{priority:5});h.classes&&g.addClass(h.classes,C);for(const x in h.styles)g.setStyle(x,h.styles[x],C);return g.setCustomProperty("link",!0,C),C}}}),r.conversion.for("upcast").elementToAttribute({view:OV({name:"a"},h._createPattern()),model:{key:h.id}})})}_enableLinkOpen(){const t=this.editor,r=t.editing.view.document;this.listenTo(r,"click",(s,c)=>{if(!(y.isMac?c.domEvent.metaKey:c.domEvent.ctrlKey))return;let h=c.domTarget;if(h.tagName.toLowerCase()!="a"&&(h=h.closest("a")),!h)return;const f=h.getAttribute("href");f&&(s.stop(),c.preventDefault(),uD(f))},{context:"$capture"}),this.listenTo(r,"keydown",(s,c)=>{const h=t.commands.get("link").value;h&&c.keyCode===A.enter&&c.altKey&&(s.stop(),uD(h))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,r=t.document.selection;this.listenTo(t,"insertContent",()=>{const s=r.anchor.nodeBefore,c=r.anchor.nodeAfter;r.hasAttribute("linkHref")&&s&&s.hasAttribute("linkHref")&&(c&&c.hasAttribute("linkHref")||t.change(h=>{a_(h,l_(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const t=this.editor,r=t.model;t.editing.view.addObserver(yv);let s=!1;this.listenTo(t.editing.view.document,"mousedown",()=>{s=!0}),this.listenTo(t.editing.view.document,"selectionChange",()=>{if(!s)return;s=!1;const c=r.document.selection;if(!c.isCollapsed||!c.hasAttribute("linkHref"))return;const h=c.getFirstPosition(),f=Ad(h,"linkHref",c.getAttribute("linkHref"),r);(h.isTouching(f.start)||h.isTouching(f.end))&&r.change(g=>{a_(g,l_(r.schema))})})}_enableTypingOverLink(){const t=this.editor,r=t.editing.view;let s=null,c=!1;this.listenTo(r.document,"delete",()=>{c=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{const h=t.model.document.selection;h.isCollapsed||(c?c=!1:gD(t)&&function(f){const g=f.document.selection,b=g.getFirstPosition(),_=g.getLastPosition(),C=b.nodeAfter;if(!C||!C.is("$text")||!C.hasAttribute("linkHref"))return!1;const x=_.textNode||_.nodeBefore;return C===x?!0:Ad(b,"linkHref",C.getAttribute("linkHref"),f).containsRange(f.createRange(b,_),!0)}(t.model)&&(s=h.getAttributes()))},{priority:"high"}),this.listenTo(t.model,"insertContent",(h,[f])=>{c=!1,gD(t)&&s&&(t.model.change(g=>{for(const[b,_]of s)g.setAttribute(b,_,f)}),s=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const t=this.editor,r=t.model,s=r.document.selection,c=t.editing.view;let h=!1,f=!1;this.listenTo(c.document,"delete",(g,b)=>{f=b.direction==="backward"},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{h=!1;const g=s.getFirstPosition(),b=s.getAttribute("linkHref");if(!b)return;const _=Ad(g,"linkHref",b,r);h=_.containsPosition(g)||_.end.isEqual(g)},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{f&&(f=!1,h||t.model.enqueueChange(g=>{a_(g,l_(r.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const t=this.editor,r=t.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",(c,h)=>{r.change(f=>{const g=f.createRangeIn(h.content);for(const b of g.getItems())if(b.hasAttribute("linkHref")){const _=s_(b.getAttribute("linkHref"),s);f.setAttribute("linkHref",_,b)}})})}}function a_(l,t){l.removeSelectionAttribute("linkHref");for(const r of t)l.removeSelectionAttribute(r)}function gD(l){return l.model.change(t=>t.batch).isTyping}function l_(l){return l.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var bD=a(7754),FV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(bD.Z,FV),bD.Z.locals;class jV extends Mt{constructor(t,r){super(t),this.focusTracker=new Fe,this.keystrokes=new pt,this._focusables=new Eo;const s=t.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),Qn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),Qn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(r),this.children=this._createFormChildren(r.manualDecorators),this._focusCycler=new fd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const c=["ck","ck-link-form","ck-responsive-form"];r.manualDecorators.length&&c.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:c,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,r)=>(t[r.name]=r.isOn,t),{})}render(){super.render(),m({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,r=new Fk(this.locale,xv);return r.label=t("Link URL"),r}_createButton(t,r,s,c){const h=new wn(this.locale);return h.set({label:t,icon:r,tooltip:!0}),h.extendTemplate({attributes:{class:s}}),c&&h.delegate("execute").to(this,c),h}_createManualDecoratorSwitches(t){const r=this.createCollection();for(const s of t.manualDecorators){const c=new Gm(this.locale);c.set({name:s.id,label:s.label,withText:!0}),c.bind("isOn").toMany([s,t],"value",(h,f)=>f===void 0&&h===void 0?!!s.defaultValue:!!h),c.on("execute",()=>{s.set("value",!c.isOn)}),r.add(c)}return r}_createFormChildren(t){const r=this.createCollection();if(r.add(this.urlInputView),t.length){const s=new Mt;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(c=>({tag:"li",children:[c],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),r.add(s)}return r.add(this.saveButtonView),r.add(this.cancelButtonView),r}}var kD=a(2347),zV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(kD.Z,zV),kD.Z.locals;class VV extends Mt{constructor(t){super(t),this.focusTracker=new Fe,this.keystrokes=new pt,this._focusables=new Eo;const r=t.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(r("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(r("Edit link"),Qn.pencil,"edit"),this.set("href",void 0),this._focusCycler=new fd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,r,s){const c=new wn(this.locale);return c.set({label:t,icon:r,tooltip:!0}),c.delegate("execute").to(this,s),c}_createPreviewButton(){const t=new wn(this.locale),r=this.bindTemplate,s=this.t;return t.set({withText:!0,tooltip:s("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:r.to("href",c=>c&&lD(c)),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",c=>c||s("This link has no URL")),t.bind("isEnabled").to(this,"href",c=>!!c),t.template.tag="a",t.template.eventListeners={},t}}const fs="link-ui";class UV extends Ze{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[bg]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(OF),this._balloon=t.plugins.get(bg),this._createToolbarLinkButton(),this._enableBalloonActivators(),t.conversion.for("editingDowncast").markerToHighlight({model:fs,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:fs,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,r=new VV(t.locale),s=t.commands.get("link"),c=t.commands.get("unlink");return r.bind("href").to(s,"value"),r.editButtonView.bind("isEnabled").to(s),r.unlinkButtonView.bind("isEnabled").to(c),this.listenTo(r,"edit",()=>{this._addFormView()}),this.listenTo(r,"unlink",()=>{t.execute("unlink"),this._hideUI()}),r.keystrokes.set("Esc",(h,f)=>{this._hideUI(),f()}),r.keystrokes.set(r_,(h,f)=>{this._addFormView(),f()}),r}_createFormView(){const t=this.editor,r=t.commands.get("link"),s=t.config.get("link.defaultProtocol"),c=new(p(jV))(t.locale,r);return c.urlInputView.fieldView.bind("value").to(r,"value"),c.urlInputView.bind("isEnabled").to(r,"isEnabled"),c.saveButtonView.bind("isEnabled").to(r),this.listenTo(c,"submit",()=>{const{value:h}=c.urlInputView.fieldView.element,f=s_(h,s);t.execute("link",f,c.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(c,"cancel",()=>{this._closeFormView()}),c.keystrokes.set("Esc",(h,f)=>{this._closeFormView(),f()}),c}_createToolbarLinkButton(){const t=this.editor,r=t.commands.get("link"),s=t.t;t.ui.componentFactory.add("link",c=>{const h=new wn(c);return h.isEnabled=!0,h.label=s("Link"),h.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',h.keystroke=r_,h.tooltip=!0,h.isToggleable=!0,h.bind("isEnabled").to(r,"isEnabled"),h.bind("isOn").to(r,"value",f=>!!f),this.listenTo(h,"execute",()=>this._showUI(!0)),h})}_enableBalloonActivators(){const t=this.editor,r=t.editing.view.document;this.listenTo(r,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),t.keystrokes.set(r_,(s,c)=>{c(),t.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(t,r)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),r())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,r)=>{this._isUIVisible&&(this._hideUI(),r())}),d({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),t.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,r=t.editing.view.document;let s=this._getSelectedLinkElement(),c=f();const h=()=>{const g=this._getSelectedLinkElement(),b=f();s&&!g||!s&&b!==c?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=g,c=b};function f(){return r.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(t.ui,"update",h),this.listenTo(this._balloon,"change:visibleView",h)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return!!this.formView&&t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,r=this.editor.model,s=t.document;let c;if(r.markers.has(fs)){const h=Array.from(this.editor.editing.mapper.markerNameToElements(fs)),f=t.createRange(t.createPositionBefore(h[0]),t.createPositionAfter(h[h.length-1]));c=t.domConverter.viewRangeToDom(f)}else c=()=>{const h=this._getSelectedLinkElement();return h?t.domConverter.mapViewToDom(h):t.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:c}}_getSelectedLinkElement(){const t=this.editor.editing.view,r=t.document.selection,s=r.getSelectedElement();if(r.isCollapsed||s&&zn(s))return c_(r.getFirstPosition());{const c=r.getFirstRange().getTrimmed(),h=c_(c.start),f=c_(c.end);return h&&h==f&&t.createRangeIn(h).getTrimmed().isEqual(c)?h:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change(r=>{const s=t.document.selection.getFirstRange();if(t.markers.has(fs))r.updateMarker(fs,{range:s});else if(s.start.isAtEnd){const c=s.start.getLastMatchingPosition(({item:h})=>!t.schema.isContent(h),{boundaries:s});r.addMarker(fs,{usingOperation:!1,affectsData:!1,range:r.createRange(c,s.end)})}else r.addMarker(fs,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(fs)&&t.change(r=>{r.removeMarker(fs)})}}function c_(l){return l.getAncestors().find(t=>{return(r=t).is("attributeElement")&&!!r.getCustomProperty("link");var r})||null}const HV=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class $V extends Ze{static get requires(){return[ua]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const t=this.editor,r=new oE(t.model,s=>{if(!function(h){return h.length>4&&h[h.length-1]===" "&&h[h.length-2]!==" "}(s))return;const c=vD(s.substr(0,s.length-1));return c?{url:c}:void 0});r.on("matched:data",(s,c)=>{const{batch:h,range:f,url:g}=c;if(!h.isTyping)return;const b=f.end.getShiftedBy(-1),_=b.getShiftedBy(-g.length),C=t.model.createRange(_,b);this._applyAutoLink(g,C)}),r.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,r=t.model,s=t.commands.get("enter");s&&s.on("execute",()=>{const c=r.document.selection.getFirstPosition();if(!c.parent.previousSibling)return;const h=r.createRangeIn(c.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(h)})}_enableShiftEnterHandling(){const t=this.editor,r=t.model,s=t.commands.get("shiftEnter");s&&s.on("execute",()=>{const c=r.document.selection.getFirstPosition(),h=r.createRange(r.createPositionAt(c.parent,0),c.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(h)})}_checkAndApplyAutoLinkOnRange(t){const r=this.editor.model,{text:s,range:c}=rE(t,r),h=vD(s);if(h){const f=r.createRange(c.end.getShiftedBy(-h.length),c.end);this._applyAutoLink(h,f)}}_applyAutoLink(t,r){const s=this.editor.model,c=s_(t,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(h,f){return f.schema.checkAttributeInSelection(f.createSelection(h),"linkHref")}(r,s)&&cD(c)&&!function(h){const f=h.start.nodeAfter;return!!f&&f.hasAttribute("linkHref")}(r)&&this._persistAutoLink(c,r)}_persistAutoLink(t,r){const s=this.editor.model,c=this.editor.plugins.get("Delete");s.enqueueChange(h=>{h.setAttribute("linkHref",t,r),s.enqueueChange(()=>{c.requestUndoOnBackspace()})})}}function vD(l){const t=HV.exec(l);return t?t[2]:null}var _D=a(111),qV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(_D.Z,qV),_D.Z.locals;var yD=a(5730),WV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(yD.Z,WV),yD.Z.locals;var wD=a(4564),GV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(wD.Z,GV),wD.Z.locals;function KV(l,t){const r=t.mapper,s=t.writer,c=l.getAttribute("listType")=="numbered"?"ol":"ul",h=function(g){const b=g.createContainerElement("li");return b.getFillerOffset=ZV,b}(s),f=s.createContainerElement(c,null);return s.insert(s.createPositionAt(f,0),h),r.bindElements(l,h),h}function CD(l,t,r,s){const c=t.parent,h=r.mapper,f=r.writer;let g=h.toViewPosition(s.createPositionBefore(l));const b=TD(l.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:l.getAttribute("listIndent")}),_=l.previousSibling;if(b&&b.getAttribute("listIndent")==l.getAttribute("listIndent")){const C=h.toViewElement(b);g=f.breakContainer(f.createPositionAfter(C))}else if(_&&_.name=="listItem"){g=h.toViewPosition(s.createPositionAt(_,"end"));const C=h.findMappedViewAncestor(g),x=function(M){for(const z of M.getChildren())if(z.name=="ul"||z.name=="ol")return z;return null}(C);g=x?f.createPositionBefore(x):f.createPositionAt(C,"end")}else g=h.toViewPosition(s.createPositionBefore(l));if(g=AD(g),f.insert(g,c),_&&_.name=="listItem"){const C=h.toViewElement(_),x=f.createRange(f.createPositionAt(C,0),g).getWalker({ignoreElementEnd:!0});for(const M of x)if(M.item.is("element","li")){const z=f.breakContainer(f.createPositionBefore(M.item)),H=M.item.parent,G=f.createPositionAt(t,"end");io(f,G.nodeBefore,G.nodeAfter),f.move(f.createRangeOn(H),G),x._position=z}}else{const C=c.nextSibling;if(C&&(C.is("element","ul")||C.is("element","ol"))){let x=null;for(const M of C.getChildren()){const z=h.toModelElement(M);if(!(z&&z.getAttribute("listIndent")>l.getAttribute("listIndent")))break;x=M}x&&(f.breakContainer(f.createPositionAfter(x)),f.move(f.createRangeOn(x.parent),f.createPositionAt(t,"end")))}}io(f,c,c.nextSibling),io(f,c.previousSibling,c)}function io(l,t,r){return!t||!r||t.name!="ul"&&t.name!="ol"||t.name!=r.name||t.getAttribute("class")!==r.getAttribute("class")?null:l.mergeContainers(l.createPositionAfter(t))}function AD(l){return l.getLastMatchingPosition(t=>t.item.is("uiElement"))}function TD(l,t){const r=!!t.sameIndent,s=!!t.smallerIndent,c=t.listIndent;let h=l;for(;h&&h.name=="listItem";){const f=h.getAttribute("listIndent");if(r&&c==f||s&&c>f)return h;h=t.direction==="forward"?h.nextSibling:h.previousSibling}return null}function xD(l,t,r,s){l.ui.componentFactory.add(t,c=>{const h=l.commands.get(t),f=new wn(c);return f.set({label:r,icon:s,tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(h,"value","isEnabled"),f.on("execute",()=>{l.execute(t),l.editing.view.focus()}),f})}function u_(l,t){const r=[],s=l.parent,c={ignoreElementEnd:!1,startPosition:l,shallow:!0,direction:t},h=s.getAttribute("listIndent"),f=[...new us(c)].filter(g=>g.item.is("element")).map(g=>g.item);for(const g of f){if(!g.is("element","listItem")||g.getAttribute("listIndent")<h)break;if(!(g.getAttribute("listIndent")>h)){if(g.getAttribute("listType")!==s.getAttribute("listType")||g.getAttribute("listStyle")!==s.getAttribute("listStyle")||g.getAttribute("listReversed")!==s.getAttribute("listReversed")||g.getAttribute("listStart")!==s.getAttribute("listStart"))break;t==="backward"?r.unshift(g):r.push(g)}}return r}const YV=["disc","circle","square"],QV=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function ZV(){const l=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||l?0:a2.call(this)}class XV extends Ze{static get pluginName(){return"ListUI"}init(){const t=this.editor.t;xD(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),xD(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const JV=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:l,typeAttribute:t,listType:r}of JV);var ED=a(4721),eU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(ED.Z,eU),ED.Z.locals;var SD=a(6082),tU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(SD.Z,tU),SD.Z.locals;var DD=a(2417),nU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(DD.Z,nU),DD.Z.locals;class ID extends Lt{constructor(t,r){super(t),this._indentBy=r=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,r=t.document;let s=Array.from(r.selection.getSelectedBlocks());t.change(c=>{const h=s[s.length-1];let f=h.nextSibling;for(;f&&f.name=="listItem"&&f.getAttribute("listIndent")>h.getAttribute("listIndent");)s.push(f),f=f.nextSibling;this._indentBy<0&&(s=s.reverse());for(const g of s){const b=g.getAttribute("listIndent")+this._indentBy;b<0?c.rename(g,"paragraph"):c.setAttribute("listIndent",b,g)}this.fire("_executeCleanup",s)})}_checkEnabled(){const t=Je(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const r=t.getAttribute("listIndent"),s=t.getAttribute("listType");let c=t.previousSibling;for(;c&&c.is("element","listItem")&&c.getAttribute("listIndent")>=r;){if(c.getAttribute("listIndent")==r)return c.getAttribute("listType")==s;c=c.previousSibling}return!1}return!0}}class MD extends Lt{constructor(t,r){super(t),this.type=r}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const r=this.editor.model,s=r.document,c=Array.from(s.selection.getSelectedBlocks()).filter(f=>ND(f,r.schema)),h=t.forceValue!==void 0?!t.forceValue:this.value;r.change(f=>{if(h){let g=c[c.length-1].nextSibling,b=Number.POSITIVE_INFINITY,_=[];for(;g&&g.name=="listItem"&&g.getAttribute("listIndent")!==0;){const C=g.getAttribute("listIndent");C<b&&(b=C);const x=C-b;_.push({element:g,listIndent:x}),g=g.nextSibling}_=_.reverse();for(const C of _)f.setAttribute("listIndent",C.listIndent,C.element)}if(!h){let g=Number.POSITIVE_INFINITY;for(const b of c)b.is("element","listItem")&&b.getAttribute("listIndent")<g&&(g=b.getAttribute("listIndent"));g=g===0?1:g,PD(c,!0,g),PD(c,!1,g)}for(const g of c.reverse())h&&g.name=="listItem"?f.rename(g,"paragraph"):h||g.name=="listItem"?h||g.name!="listItem"||g.getAttribute("listType")==this.type||f.setAttribute("listType",this.type,g):(f.setAttributes({listType:this.type,listIndent:0},g),f.rename(g,"listItem"));this.fire("_executeCleanup",c)})}_getValue(){const t=Je(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,r=this.editor.model.schema,s=Je(t.getSelectedBlocks());return!!s&&ND(s,r)}}function PD(l,t,r){const s=t?l[0]:l[l.length-1];if(s.is("element","listItem")){let c=s[t?"previousSibling":"nextSibling"],h=s.getAttribute("listIndent");for(;c&&c.is("element","listItem")&&c.getAttribute("listIndent")>=r;)h>c.getAttribute("listIndent")&&(h=c.getAttribute("listIndent")),c.getAttribute("listIndent")==h&&l[t?"unshift":"push"](c),c=c[t?"previousSibling":"nextSibling"]}}function ND(l,t){return t.checkChild(l.parent,"listItem")&&!t.isObject(l)}class iU extends Ze{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(t){return function(r){return YV.includes(r)?"bulleted":QV.includes(r)?"numbered":null}(t)}getSelectedListItems(t){return function(r){let s=[...r.document.selection.getSelectedBlocks()].filter(c=>c.is("element","listItem")).map(c=>{const h=r.change(f=>f.createPositionAt(c,0));return[...u_(h,"backward"),...u_(h,"forward")]}).flat();return s=[...new Set(s)],s}(t)}getSiblingNodes(t,r){return u_(t,r)}}function BD(l){return(t,r,s)=>{const c=s.consumable;if(!c.test(r.item,"insert")||!c.test(r.item,"attribute:listType")||!c.test(r.item,"attribute:listIndent"))return;c.consume(r.item,"insert"),c.consume(r.item,"attribute:listType"),c.consume(r.item,"attribute:listIndent");const h=r.item;CD(h,KV(h,s),s,l)}}const rU=(l,t,r)=>{if(!r.consumable.test(t.item,l.name))return;const s=r.mapper.toViewElement(t.item),c=r.writer;c.breakContainer(c.createPositionBefore(s)),c.breakContainer(c.createPositionAfter(s));const h=s.parent,f=t.attributeNewValue=="numbered"?"ol":"ul";c.rename(f,h)},oU=(l,t,r)=>{r.consumable.consume(t.item,l.name);const s=r.mapper.toViewElement(t.item).parent,c=r.writer;io(c,s,s.nextSibling),io(c,s.previousSibling,s)},OD=(l,t,r)=>{if(r.consumable.test(t.item,l.name)&&t.item.name!="listItem"){let s=r.mapper.toViewPosition(t.range.start);const c=r.writer,h=[];for(;(s.parent.name=="ul"||s.parent.name=="ol")&&(s=c.breakContainer(s),s.parent.name=="li");){const f=s,g=c.createPositionAt(s.parent,"end");if(!f.isEqual(g)){const b=c.remove(c.createRange(f,g));h.push(b)}s=c.createPositionAfter(s.parent)}if(h.length>0){for(let f=0;f<h.length;f++){const g=s.nodeBefore;if(s=c.insert(s,h[f]).end,f>0){const b=io(c,g,g.nextSibling);b&&b.parent==g&&s.offset--}}io(c,s.nodeBefore,s.nodeAfter)}}},sU=(l,t,r)=>{const s=r.mapper.toViewPosition(t.position),c=s.nodeBefore,h=s.nodeAfter;io(r.writer,c,h)},aU=(l,t,r)=>{if(r.consumable.consume(t.viewItem,{name:!0})){const s=r.writer,c=s.createElement("listItem"),h=function(b){let _=0,C=b.parent;for(;C;){if(C.is("element","li"))_++;else{const x=C.previousSibling;x&&x.is("element","li")&&_++}C=C.parent}return _}(t.viewItem);s.setAttribute("listIndent",h,c);const f=t.viewItem.parent&&t.viewItem.parent.name=="ol"?"numbered":"bulleted";if(s.setAttribute("listType",f,c),!r.safeInsert(c,t.modelCursor))return;const g=function(b,_,C){const{writer:x,schema:M}=C;let z=x.createPositionAfter(b);for(const H of _)if(H.name=="ul"||H.name=="ol")z=C.convertItem(H,z).modelCursor;else{const G=C.convertItem(H,x.createPositionAt(b,"end")),Z=G.modelRange.start.nodeAfter;Z&&Z.is("element")&&!M.checkChild(b,Z.name)&&(b=G.modelCursor.parent.is("element","listItem")?G.modelCursor.parent:uU(G.modelCursor),z=x.createPositionAfter(b))}return z}(c,t.viewItem.getChildren(),r);t.modelRange=s.createRange(t.modelCursor,g),r.updateConversionResult(c,t)}},LD=(l,t,r)=>{if(r.consumable.test(t.viewItem,{name:!0})){const s=Array.from(t.viewItem.getChildren());for(const c of s)!(c.is("element","li")||Sd(c))&&c._remove()}},lU=(l,t,r)=>{if(r.consumable.test(t.viewItem,{name:!0})){if(t.viewItem.childCount===0)return;const s=[...t.viewItem.getChildren()];let c=!1;for(const h of s)c&&!Sd(h)&&h._remove(),Sd(h)&&(c=!0)}};function RD(l){return(t,r)=>{if(r.isPhantom)return;const s=r.modelPosition.nodeBefore;if(s&&s.is("element","listItem")){const c=r.mapper.toViewElement(s),h=c.getAncestors().find(Sd),f=l.createPositionAt(c,0).getWalker();for(const g of f){if(g.type=="elementStart"&&g.item.is("element","li")){r.viewPosition=g.previousPosition;break}if(g.type=="elementEnd"&&g.item==h){r.viewPosition=g.nextPosition;break}}}}}const cU=function(l,[t,r]){const s=this;let c,h=t.is("documentFragment")?t.getChild(0):t;if(c=r?s.createSelection(r):s.document.selection,h&&h.is("element","listItem")){const f=c.getFirstPosition();let g=null;if(f.parent.is("element","listItem")?g=f.parent:f.nodeBefore&&f.nodeBefore.is("element","listItem")&&(g=f.nodeBefore),g){const b=g.getAttribute("listIndent");if(b>0)for(;h&&h.is("element","listItem");)h._setAttribute("listIndent",h.getAttribute("listIndent")+b),h=h.nextSibling}}};function uU(l){const t=new us({startPosition:l});let r;do r=t.next();while(!r.value.item.is("element","listItem"));return r.value.item}function FD(l,t,r,s,c,h){const f=TD(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:l}),g=c.mapper,b=c.writer,_=f?f.getAttribute("listIndent"):null;let C;if(f)if(_==l){const x=g.toViewElement(f).parent;C=b.createPositionAfter(x)}else{const x=h.createPositionAt(f,"end");C=g.toViewPosition(x)}else C=r;C=AD(C);for(const x of[...s.getChildren()])Sd(x)&&(C=b.move(b.createRangeOn(x),C).end,io(b,x,x.nextSibling),io(b,x.previousSibling,x))}function Sd(l){return l.is("element","ol")||l.is("element","ul")}class dU extends Ze{static get pluginName(){return"ListEditing"}static get requires(){return[Cg,ua,iU]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const r=t.data,s=t.editing;var c;t.model.document.registerPostFixer(f=>function(g,b){const _=g.document.differ.getChanges(),C=new Map;let x=!1;for(const G of _)if(G.type=="insert"&&G.name=="listItem")M(G.position);else if(G.type=="insert"&&G.name!="listItem"){if(G.name!="$text"){const Z=G.position.nodeAfter;Z.hasAttribute("listIndent")&&(b.removeAttribute("listIndent",Z),x=!0),Z.hasAttribute("listType")&&(b.removeAttribute("listType",Z),x=!0),Z.hasAttribute("listStyle")&&(b.removeAttribute("listStyle",Z),x=!0),Z.hasAttribute("listReversed")&&(b.removeAttribute("listReversed",Z),x=!0),Z.hasAttribute("listStart")&&(b.removeAttribute("listStart",Z),x=!0);for(const se of Array.from(g.createRangeIn(Z)).filter(ye=>ye.item.is("element","listItem")))M(se.previousPosition)}M(G.position.getShiftedBy(G.length))}else G.type=="remove"&&G.name=="listItem"?M(G.position):(G.type=="attribute"&&G.attributeKey=="listIndent"||G.type=="attribute"&&G.attributeKey=="listType")&&M(G.range.start);for(const G of C.values())z(G),H(G);return x;function M(G){const Z=G.nodeBefore;if(Z&&Z.is("element","listItem")){let se=Z;if(C.has(se))return;for(let ye=se.previousSibling;ye&&ye.is("element","listItem");ye=se.previousSibling)if(se=ye,C.has(se))return;C.set(Z,se)}else{const se=G.nodeAfter;se&&se.is("element","listItem")&&C.set(se,se)}}function z(G){let Z=0,se=null;for(;G&&G.is("element","listItem");){const ye=G.getAttribute("listIndent");if(ye>Z){let Be;se===null?(se=ye-Z,Be=Z):(se>ye&&(se=ye),Be=ye-se),b.setAttribute("listIndent",Be,G),x=!0}else se=null,Z=G.getAttribute("listIndent")+1;G=G.nextSibling}}function H(G){let Z=[],se=null;for(;G&&G.is("element","listItem");){const ye=G.getAttribute("listIndent");if(se&&se.getAttribute("listIndent")>ye&&(Z=Z.slice(0,ye+1)),ye!=0)if(Z[ye]){const Be=Z[ye];G.getAttribute("listType")!=Be&&(b.setAttribute("listType",Be,G),x=!0)}else Z[ye]=G.getAttribute("listType");se=G,G=G.nextSibling}}}(t.model,f)),s.mapper.registerViewToModelLength("li",d_),r.mapper.registerViewToModelLength("li",d_),s.mapper.on("modelToViewPosition",RD(s.view)),s.mapper.on("viewToModelPosition",(c=t.model,(f,g)=>{const b=g.viewPosition,_=b.parent,C=g.mapper;if(_.name=="ul"||_.name=="ol"){if(b.isAtEnd){const x=C.toModelElement(b.nodeBefore),M=C.getModelLength(b.nodeBefore);g.modelPosition=c.createPositionBefore(x).getShiftedBy(M)}else{const x=C.toModelElement(b.nodeAfter);g.modelPosition=c.createPositionBefore(x)}f.stop()}else if(_.name=="li"&&b.nodeBefore&&(b.nodeBefore.name=="ul"||b.nodeBefore.name=="ol")){const x=C.toModelElement(_);let M=1,z=b.nodeBefore;for(;z&&Sd(z);)M+=C.getModelLength(z),z=z.previousSibling;g.modelPosition=c.createPositionBefore(x).getShiftedBy(M),f.stop()}})),r.mapper.on("modelToViewPosition",RD(s.view)),t.conversion.for("editingDowncast").add(f=>{f.on("insert",OD,{priority:"high"}),f.on("insert:listItem",BD(t.model)),f.on("attribute:listType:listItem",rU,{priority:"high"}),f.on("attribute:listType:listItem",oU,{priority:"low"}),f.on("attribute:listIndent:listItem",function(g){return(b,_,C)=>{if(!C.consumable.consume(_.item,"attribute:listIndent"))return;const x=C.mapper.toViewElement(_.item),M=C.writer;M.breakContainer(M.createPositionBefore(x)),M.breakContainer(M.createPositionAfter(x));const z=x.parent,H=z.previousSibling,G=M.createRangeOn(z);M.remove(G),H&&H.nextSibling&&io(M,H,H.nextSibling),FD(_.attributeOldValue+1,_.range.start,G.start,x,C,g),CD(_.item,x,C,g);for(const Z of _.item.getChildren())C.consumable.consume(Z,"insert")}}(t.model)),f.on("remove:listItem",function(g){return(b,_,C)=>{const x=C.mapper.toViewPosition(_.position).getLastMatchingPosition(se=>!se.item.is("element","li")).nodeAfter,M=C.writer;M.breakContainer(M.createPositionBefore(x)),M.breakContainer(M.createPositionAfter(x));const z=x.parent,H=z.previousSibling,G=M.createRangeOn(z),Z=M.remove(G);H&&H.nextSibling&&io(M,H,H.nextSibling),FD(C.mapper.toModelElement(x).getAttribute("listIndent")+1,_.position,G.start,x,C,g);for(const se of M.createRangeIn(Z).getItems())C.mapper.unbindViewElement(se);b.stop()}}(t.model)),f.on("remove",sU,{priority:"low"})}),t.conversion.for("dataDowncast").add(f=>{f.on("insert",OD,{priority:"high"}),f.on("insert:listItem",BD(t.model))}),t.conversion.for("upcast").add(f=>{f.on("element:ul",LD,{priority:"high"}),f.on("element:ol",LD,{priority:"high"}),f.on("element:li",lU,{priority:"high"}),f.on("element:li",aU)}),t.model.on("insertContent",cU,{priority:"high"}),t.commands.add("numberedList",new MD(t,"numbered")),t.commands.add("bulletedList",new MD(t,"bulleted")),t.commands.add("indentList",new ID(t,"forward")),t.commands.add("outdentList",new ID(t,"backward"));const h=s.view.document;this.listenTo(h,"enter",(f,g)=>{const b=this.editor.model.document,_=b.selection.getLastPosition().parent;b.selection.isCollapsed&&_.name=="listItem"&&_.isEmpty&&(this.editor.execute("outdentList"),g.preventDefault(),f.stop())},{context:"li"}),this.listenTo(h,"delete",(f,g)=>{if(g.direction!=="backward")return;const b=this.editor.model.document.selection;if(!b.isCollapsed)return;const _=b.getFirstPosition();if(!_.isAtStart)return;const C=_.parent;C.name==="listItem"&&(C.previousSibling&&C.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),g.preventDefault(),f.stop()))},{context:"li"}),this.listenTo(t.editing.view.document,"tab",(f,g)=>{const b=g.shiftKey?"outdentList":"indentList";this.editor.commands.get(b).isEnabled&&(t.execute(b),g.stopPropagation(),g.preventDefault(),f.stop())},{context:"li"})}afterInit(){const t=this.editor.commands,r=t.get("indent"),s=t.get("outdent");r&&r.registerChildCommand(t.get("indentList")),s&&s.registerChildCommand(t.get("outdentList"))}}function d_(l){let t=1;for(const r of l.getChildren())if(r.name=="ul"||r.name=="ol")for(const s of r.getChildren())t+=d_(s);return t}I("Ctrl+Enter");var jD=a(1199),hU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(jD.Z,hU),jD.Z.locals;function zD(l,t){const r=(s,c,h)=>{if(!h.consumable.consume(c.item,s.name))return;const f=c.attributeNewValue,g=h.writer,b=h.mapper.toViewElement(c.item),_=[...b.getChildren()].find(x=>x.getCustomProperty("media-content"));g.remove(_);const C=l.getMediaViewElement(g,f,t);g.insert(g.createPositionAt(b,0),C)};return s=>{s.on("attribute:url:media",r)}}function VD(l,t,r,s){return l.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(l,r,s),l.createSlot()])}function UD(l){const t=l.getSelectedElement();return t&&t.is("element","media")?t:null}function HD(l,t,r,s){l.change(c=>{const h=c.createElement("media",{url:t});l.insertObject(h,r,null,{setSelection:"on",findOptimalPosition:s?"auto":void 0})})}class fU extends Lt{refresh(){const t=this.editor.model,r=t.document.selection,s=UD(r);this.value=s?s.getAttribute("url"):void 0,this.isEnabled=function(c){const h=c.getSelectedElement();return!!h&&h.name==="media"}(r)||function(c,h){let g=kE(c,h).start.parent;return g.isEmpty&&!h.schema.isLimit(g)&&(g=g.parent),h.schema.checkChild(g,"media")}(r,t)}execute(t){const r=this.editor.model,s=r.document.selection,c=UD(s);c?r.change(h=>{h.setAttribute("url",t,c)}):HD(r,t,s,!0)}}class pU{constructor(t,r){const s=r.providers,c=r.extraProviders||[],h=new Set(r.removeProviders),f=s.concat(c).filter(g=>{const b=g.name;return b?!h.has(b):(Q("media-embed-no-provider-name",{provider:g}),!1)});this.locale=t,this.providerDefinitions=f}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,r,s){return this._getMedia(r).getViewElement(t,s)}_getMedia(t){if(!t)return new $D(this.locale);t=t.trim();for(const r of this.providerDefinitions){const s=r.html,c=X(r.url);for(const h of c){const f=this._getUrlMatches(t,h);if(f)return new $D(this.locale,t,f,s)}}return null}_getUrlMatches(t,r){let s=t.match(r);if(s)return s;let c=t.replace(/^https?:\/\//,"");return s=c.match(r),s||(c=c.replace(/^www\./,""),s=c.match(r),s||null)}}class $D{constructor(t,r,s,c){this.url=this._getValidUrl(r),this._locale=t,this._match=s,this._previewRenderer=c}getViewElement(t,r){const s={};let c;if(r.renderForEditingView||r.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(s["data-oembed-url"]=this.url),r.renderForEditingView&&(s.class="ck-media__wrapper");const h=this._getPreviewHtml(r);c=t.createRawElement("div",s,(f,g)=>{g.setContentOf(f,h)})}else this.url&&(s.url=this.url),c=t.createEmptyElement(r.elementName,s);return t.setCustomProperty("media-content",!0,c),c}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new hd,r=this._locale.t;return t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new So({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":r("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}var qD=a(7442),mU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(qD.Z,mU),qD.Z.locals;class Mg extends Ze{constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:r=>{const s=r[1],c=r[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s}${c?`?start=${c}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new pU(t.locale,t.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const t=this.editor,r=t.model.schema,s=t.t,c=t.conversion,h=t.config.get("mediaEmbed.previewsInData"),f=t.config.get("mediaEmbed.elementName"),g=this.registry;t.commands.add("mediaEmbed",new fU(t)),r.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),c.for("dataDowncast").elementToStructure({model:"media",view:(b,{writer:_})=>{const C=b.getAttribute("url");return VD(_,g,C,{elementName:f,renderMediaPreview:!!C&&h})}}),c.for("dataDowncast").add(zD(g,{elementName:f,renderMediaPreview:h})),c.for("editingDowncast").elementToStructure({model:"media",view:(b,{writer:_})=>{const C=b.getAttribute("url");return function(x,M,z){return M.setCustomProperty("media",!0,x),Wv(x,M,{label:z})}(VD(_,g,C,{elementName:f,renderForEditingView:!0}),_,s("media widget"))}}),c.for("editingDowncast").add(zD(g,{elementName:f,renderForEditingView:!0})),c.for("upcast").elementToElement({view:b=>["oembed",f].includes(b.name)&&b.getAttribute("url")?{name:!0}:null,model:(b,{writer:_})=>{const C=b.getAttribute("url");return g.hasMedia(C)?_.createElement("media",{url:C}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(b,{writer:_})=>{const C=b.getAttribute("data-oembed-url");return g.hasMedia(C)?_.createElement("media",{url:C}):null}}).add(b=>{b.on("element:figure",(_,C,x)=>{if(!x.consumable.consume(C.viewItem,{name:!0,classes:"media"}))return;const{modelRange:M,modelCursor:z}=x.convertChildren(C.viewItem,C.modelCursor);C.modelRange=M,C.modelCursor=z,Je(M.getItems())||x.consumable.revert(C.viewItem,{name:!0,classes:"media"})})})}}const gU=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class bU extends Ze{constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[PE,ua,jE]}static get pluginName(){return"AutoMediaEmbed"}init(){const t=this.editor,r=t.model.document,s=t.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",()=>{const c=r.selection.getFirstRange(),h=Ti.fromPosition(c.start);h.stickiness="toPrevious";const f=Ti.fromPosition(c.end);f.stickiness="toNext",r.once("change:data",()=>{this._embedMediaBetweenPositions(h,f),h.detach(),f.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(_t.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,r){const s=this.editor,c=s.plugins.get(Mg).registry,h=new Po(t,r),f=h.getWalker({ignoreElementEnd:!0});let g="";for(const b of f)b.item.is("$textProxy")&&(g+=b.item.data);if(g=g.trim(),!g.match(gU)||!c.hasMedia(g))return void h.detach();s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Ti.fromPosition(t),this._timeoutId=_t.window.setTimeout(()=>{s.model.change(b=>{this._timeoutId=null,b.remove(h),h.detach();let _=null;this._positionToInsert.root.rootName!=="$graveyard"&&(_=this._positionToInsert),HD(s.model,g,_,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get(ua).requestUndoOnBackspace()},100)):h.detach()}}var WD=a(9292),kU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(WD.Z,kU),WD.Z.locals;class vU extends Mt{constructor(t,r){super(r);const s=r.t;this.focusTracker=new Fe,this.keystrokes=new pt,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),Qn.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",c=>!!c),this.cancelButtonView=this._createButton(s("Cancel"),Qn.cancel,"ck-button-cancel","cancel"),this._focusables=new Eo,this._focusCycler=new fd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),m({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element);const t=r=>r.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const r=t(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,r=new Fk(this.locale,xv),s=r.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),r.label=t("Media URL"),r.infoText=this._urlInputViewInfoDefault,s.on("input",()=>{r.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),r}_createButton(t,r,s,c){const h=new wn(this.locale);return h.set({label:t,icon:r,tooltip:!0}),h.extendTemplate({attributes:{class:s}}),c&&h.delegate("execute").to(this,c),h}}class _U extends Ze{static get requires(){return[Mg]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,r=t.commands.get("mediaEmbed");t.ui.componentFactory.add("mediaEmbed",s=>{const c=dl(s);return this._setUpDropdown(c,r),c})}_setUpDropdown(t,r){const s=this.editor,c=s.t,h=t.buttonView,f=s.plugins.get(Mg).registry;t.once("change:isOpen",()=>{const g=new(p(vU))(function(b,_){return[C=>{if(!C.url.length)return b("The URL must not be empty.")},C=>{if(!_.hasMedia(C.url))return b("This media URL is not supported.")}]}(s.t,f),s.locale);t.panelView.children.add(g),h.on("open",()=>{g.disableCssTransitions(),g.url=r.value||"",g.urlInputView.fieldView.select(),g.enableCssTransitions()},{priority:"low"}),t.on("submit",()=>{g.isValid()&&(s.execute("mediaEmbed",g.url),s.editing.view.focus())}),t.on("change:isOpen",()=>g.resetFormStatus()),t.on("cancel",()=>{s.editing.view.focus()}),g.delegate("submit","cancel").to(t),g.urlInputView.fieldView.bind("value").to(r,"value"),g.urlInputView.bind("isEnabled").to(r,"isEnabled")}),t.bind("isEnabled").to(r),h.set({label:c("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var GD=a(4652),yU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(GD.Z,yU),GD.Z.locals;function wU(l,t){if(!l.childCount)return;const r=new ul(l.document),s=function(f,g){const b=g.createRangeIn(f),_=new Do({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),C=[];for(const x of b)if(x.type==="elementStart"&&_.match(x.item)){const M=AU(x.item);C.push({element:x.item,id:M.id,order:M.order,indent:M.indent})}return C}(l,r);if(!s.length)return;let c=null,h=1;s.forEach((f,g)=>{const b=function(H,G){if(!H)return!0;if(H.id!==G.id)return G.indent-H.indent!=1;const Z=G.element.previousSibling;if(!Z)return!0;return se=Z,!(se.is("element","ol")||se.is("element","ul"));var se}(s[g-1],f),_=b?null:s[g-1],C=(M=f,(x=_)?M.indent-x.indent:M.indent-1);var x,M;if(b&&(c=null,h=1),!c||C!==0){const H=function(G,Z){const se=new RegExp(`@list l${G.id}:level${G.indent}\\s*({[^}]*)`,"gi"),ye=/mso-level-number-format:([^;]{0,100});/gi,Be=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,ot=se.exec(Z);let yt="decimal",cn="ol",Ft=null;if(ot&&ot[1]){const ci=ye.exec(ot[1]);if(ci&&ci[1]&&(yt=ci[1].trim(),cn=yt!=="bullet"&&yt!=="image"?"ol":"ul"),yt==="bullet"){const ri=function(Id){const ps=function(ha){if(ha.getChild(0).is("$text"))return null;for(const fa of ha.getChildren()){if(!fa.is("element","span"))continue;const $c=fa.getChild(0);if($c)return $c.is("$text")?$c:$c.getChild(0)}return null}(Id);if(!ps)return null;const ro=ps._data;return ro==="o"?"circle":ro==="·"?"disc":ro==="§"?"square":null}(G.element);ri&&(yt=ri)}else{const ri=Be.exec(ot[1]);ri&&ri[1]&&(Ft=parseInt(ri[1]))}}return{type:cn,startIndex:Ft,style:CU(yt)}}(f,t);if(c){if(f.indent>h){const G=c.getChild(c.childCount-1),Z=G.getChild(G.childCount-1);c=KD(H,Z,r),h+=1}else if(f.indent<h){const G=h-f.indent;c=function(Z,se){const ye=Z.getAncestors({parentFirst:!0});let Be=null,ot=0;for(const yt of ye)if((yt.is("element","ul")||yt.is("element","ol"))&&ot++,ot===se){Be=yt;break}return Be}(c,G),h=f.indent}}else c=KD(H,f.element,r);f.indent<=h&&(c.is("element",H.type)||(c=r.rename(H.type,c)))}const z=function(H,G){return function(Z,se){const ye=new Do({name:"span",styles:{"mso-list":"Ignore"}}),Be=se.createRangeIn(Z);for(const ot of Be)ot.type==="elementStart"&&ye.match(ot.item)&&se.remove(ot.item)}(H,G),G.removeStyle("text-indent",H),G.rename("li",H)}(f.element,r);r.appendChild(z,c)})}function CU(l){if(l.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(l){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return l;default:return null}}function KD(l,t,r){const s=t.parent,c=r.createElement(l.type),h=s.getChildIndex(t)+1;return r.insertChild(h,c,s),l.style&&r.setStyle("list-style-type",l.style,c),l.startIndex&&l.startIndex>1&&r.setAttribute("start",l.startIndex,c),c}function AU(l){const t={},r=l.getStyle("mso-list");if(r){const s=r.match(/(^|\s{1,100})l(\d+)/i),c=r.match(/\s{0,100}lfo(\d+)/i),h=r.match(/\s{0,100}level(\d+)/i);s&&c&&h&&(t.id=s[2],t.order=c[1],t.indent=parseInt(h[1]))}return t}function TU(l,t){if(!l.childCount)return;const r=new ul(l.document),s=function(h,f){const g=f.createRangeIn(h),b=new Do({name:/v:(.+)/}),_=[];for(const C of g){if(C.type!="elementStart")continue;const x=C.item,M=x.previousSibling,z=M&&M.is("element")?M.name:null;b.match(x)&&x.getAttribute("o:gfxdata")&&z!=="v:shapetype"&&_.push(C.item.getAttribute("id"))}return _}(l,r);(function(h,f,g){const b=g.createRangeIn(f),_=new Do({name:"img"}),C=[];for(const x of b)if(x.item.is("element")&&_.match(x.item)){const M=x.item,z=M.getAttribute("v:shapes")?M.getAttribute("v:shapes").split(" "):[];z.length&&z.every(H=>h.indexOf(H)>-1)?C.push(M):M.getAttribute("src")||C.push(M)}for(const x of C)g.remove(x)})(s,l,r),function(h,f,g){const b=g.createRangeIn(f),_=[];for(const M of b)if(M.type=="elementStart"&&M.item.is("element","v:shape")){const z=M.item.getAttribute("id");if(h.includes(z))continue;C(M.item.parent.getChildren(),z)||_.push(M.item)}for(const M of _){const z={src:x(M)};M.hasAttribute("alt")&&(z.alt=M.getAttribute("alt"));const H=g.createElement("img",z);g.insertChild(M.index+1,H,M.parent)}function C(M,z){for(const H of M)if(H.is("element")&&(H.name=="img"&&H.getAttribute("v:shapes")==z||C(H.getChildren(),z)))return!0;return!1}function x(M){for(const z of M.getChildren())if(z.is("element")&&z.getAttribute("src"))return z.getAttribute("src")}}(s,l,r),function(h,f){const g=f.createRangeIn(h),b=new Do({name:/v:(.+)/}),_=[];for(const C of g)C.type=="elementStart"&&b.match(C.item)&&_.push(C.item);for(const C of _)f.remove(C)}(l,r);const c=function(h,f){const g=f.createRangeIn(h),b=new Do({name:"img"}),_=[];for(const C of g)C.item.is("element")&&b.match(C.item)&&C.item.getAttribute("src").startsWith("file://")&&_.push(C.item);return _}(l,r);c.length&&function(h,f,g){if(h.length===f.length)for(let b=0;b<h.length;b++){const _=`data:${f[b].type};base64,${xU(f[b].hex)}`;g.setAttribute("src",_,h[b])}}(c,function(h){if(!h)return[];const f=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,g=new RegExp("(?:("+f.source+"))([\\da-fA-F\\s]+)\\}","g"),b=h.match(g),_=[];if(b)for(const C of b){let x=!1;C.includes("\\pngblip")?x="image/png":C.includes("\\jpegblip")&&(x="image/jpeg"),x&&_.push({hex:C.replace(f,"").replace(/[^\da-fA-F]/g,""),type:x})}return _}(t),r)}function xU(l){return btoa(l.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}const EU=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,SU=/xmlns:o="urn:schemas-microsoft-com/i;class DU{constructor(t){this.document=t}isActive(t){return EU.test(t)||SU.test(t)}execute(t){const{body:r,stylesString:s}=t._parsedData;wU(r,s),TU(r,t.dataTransfer.getData("text/rtf")),function(c){const h=new ul(c.document);for(const f of c.getChildren()){if(!f.is("element"))continue;if(f.is("element","table")){h.setAttribute("align","left",f);continue}const g=f.getAttribute("align"),b=f.getChild(0);f.name==="div"&&g&&b&&b.is("element","table")&&h.setAttribute("align",g==="center"?"none":g,b)}}(r),t.content=r}}function YD(l,t,r,{blockElements:s,inlineObjectElements:c}){let h=r.createPositionAt(l,t=="forward"?"after":"before");return h=h.getLastMatchingPosition(({item:f})=>f.is("element")&&!s.includes(f.name)&&!c.includes(f.name),{direction:t}),t=="forward"?h.nodeAfter:h.nodeBefore}function QD(l,t){return!!l&&l.is("element")&&t.includes(l.name)}const IU=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class MU{constructor(t){this.document=t}isActive(t){return IU.test(t)}execute(t){const r=new ul(this.document),{body:s}=t._parsedData;(function(c,h){for(const f of c.getChildren())if(f.is("element","b")&&f.getStyle("font-weight")==="normal"){const g=c.getChildIndex(f);h.remove(f),h.insertChild(g,f.getChildren(),c)}})(s,r),function(c,h){for(const f of h.createRangeIn(c)){const g=f.item;if(g.is("element","li")){const b=g.getChild(0);b&&b.is("element","p")&&h.unwrapElement(b)}}}(s,r),function(c,h){const f=new eg(h.document.stylesProcessor),g=new ig(f,{renderingMode:"data"}),b=g.blockElements,_=g.inlineObjectElements,C=[];for(const x of h.createRangeIn(c)){const M=x.item;if(M.is("element","br")){const z=YD(M,"forward",h,{blockElements:b,inlineObjectElements:_}),H=YD(M,"backward",h,{blockElements:b,inlineObjectElements:_}),G=QD(z,b);(QD(H,b)||G)&&C.push(M)}}for(const x of C)x.hasClass("Apple-interchange-newline")?h.remove(x):h.replace(x,h.createElement("p"))}(s,r),t.content=s}}const PU=/<google-sheets-html-origin/i;class NU{constructor(t){this.document=t}isActive(t){return PU.test(t)}execute(t){const r=new ul(this.document),{body:s}=t._parsedData;(function(c,h){for(const f of c.getChildren())if(f.is("element","google-sheets-html-origin")){const g=c.getChildIndex(f);h.remove(f),h.insertChild(g,f.getChildren(),c)}})(s,r),function(c,h){for(const f of c.getChildren())f.is("element","table")&&f.hasAttribute("xmlns")&&h.removeAttribute("xmlns",f)}(s,r),function(c,h){for(const f of c.getChildren())f.is("element","table")&&f.getStyle("width")==="0px"&&h.removeStyle("width",f)}(s,r),function(c,h){for(const f of Array.from(c.getChildren()))f.is("element","style")&&h.remove(f)}(s,r),t.content=s}}function ZD(l){return l.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,r)=>r.length===1?" ":Array(r.length+1).join("  ").substr(0,r.length))}function BU(l,t){const r=new DOMParser,s=function(b){return ZD(ZD(b)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(b){const _="</body>",C="</html>",x=b.indexOf(_);if(x<0)return b;const M=b.indexOf(C,x+_.length);return b.substring(0,x+_.length)+(M>=0?b.substring(M):"")}(l=l.replace(/<!--\[if gte vml 1]>/g,""))),c=r.parseFromString(s,"text/html");(function(b){b.querySelectorAll("span[style*=spacerun]").forEach(_=>{const C=_,x=C.innerText.length||0;C.innerText=Array(x+1).join("  ").substr(0,x)})})(c);const h=c.body.innerHTML,f=function(b,_){const C=new eg(_),x=new ig(C,{renderingMode:"data"}),M=b.createDocumentFragment(),z=b.body.childNodes;for(;z.length>0;)M.appendChild(z[0]);return x.domToView(M,{skipComments:!0})}(c,t),g=function(b){const _=[],C=[],x=Array.from(b.getElementsByTagName("style"));for(const M of x)M.sheet&&M.sheet.cssRules&&M.sheet.cssRules.length&&(_.push(M.sheet),C.push(M.innerHTML));return{styles:_,stylesString:C.join(" ")}}(c);return{body:f,bodyString:h,styles:g.styles,stylesString:g.stylesString}}function qn(l,t,r,s,c=1){t!=null&&c!=null&&t>c?s.setAttribute(l,t,r):s.removeAttribute(l,r)}function Vc(l,t,r={}){const s=l.createElement("tableCell",r);return l.insertElement("paragraph",s),l.insert(s,t),s}function h_(l,t){const r=t.parent.parent,s=parseInt(r.getAttribute("headingColumns")||"0"),{column:c}=l.getCellLocation(t);return!!s&&c<s}function OU(){return l=>{l.on("element:table",(t,r,s)=>{const c=r.viewItem;if(!s.consumable.test(c,{name:!0}))return;const{rows:h,headingRows:f,headingColumns:g}=function(C){let x,M=0;const z=[],H=[];let G;for(const Z of Array.from(C.getChildren())){if(Z.name!=="tbody"&&Z.name!=="thead"&&Z.name!=="tfoot")continue;Z.name!=="thead"||G||(G=Z);const se=Array.from(Z.getChildren()).filter(ye=>ye.is("element","tr"));for(const ye of se)if(G&&Z===G||Z.name==="tbody"&&Array.from(ye.getChildren()).length&&Array.from(ye.getChildren()).every(Be=>Be.is("element","th")))M++,z.push(ye);else{H.push(ye);const Be=LU(ye);(!x||Be<x)&&(x=Be)}}return{headingRows:M,headingColumns:x||0,rows:[...z,...H]}}(c),b={};g&&(b.headingColumns=g),f&&(b.headingRows=f);const _=s.writer.createElement("table",b);if(s.safeInsert(_,r.modelCursor)){if(s.consumable.consume(c,{name:!0}),h.forEach(C=>s.convertItem(C,s.writer.createPositionAt(_,"end"))),s.convertChildren(c,s.writer.createPositionAt(_,"end")),_.isEmpty){const C=s.writer.createElement("tableRow");s.writer.insert(C,s.writer.createPositionAt(_,"end")),Vc(s.writer,s.writer.createPositionAt(C,"end"))}s.updateConversionResult(_,r)}})}}function XD(l){return t=>{t.on(`element:${l}`,(r,s,{writer:c})=>{if(!s.modelRange)return;const h=s.modelRange.start.nodeAfter,f=c.createPositionAt(h,0);if(s.viewItem.isEmpty)return void c.insertElement("paragraph",f);const g=Array.from(h.getChildren());if(g.every(b=>b.is("element","$marker"))){const b=c.createElement("paragraph");c.insert(b,c.createPositionAt(h,0));for(const _ of g)c.move(c.createRangeOn(_),c.createPositionAt(b,"end"))}},{priority:"low"})}}function LU(l){let t=0,r=0;const s=Array.from(l.getChildren()).filter(c=>c.name==="th"||c.name==="td");for(;r<s.length&&s[r].name==="th";){const c=s[r];t+=parseInt(c.getAttribute("colspan")||"1"),r++}return t}class ln{constructor(t,r={}){this._table=t,this._startRow=r.row!==void 0?r.row:r.startRow||0,this._endRow=r.row!==void 0?r.row:r.endRow,this._startColumn=r.column!==void 0?r.column:r.startColumn||0,this._endColumn=r.column!==void 0?r.column:r.endColumn,this._includeAllSlots=!!r.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let r=null;const s=this._getSpanned();if(s)this._includeAllSlots&&!this._shouldSkipSlot()&&(r=this._formatOutValue(s.cell,s.row,s.column));else{const c=t.getChild(this._cellIndex);if(!c)return this._advanceToNextRow();const h=parseInt(c.getAttribute("colspan")||"1"),f=parseInt(c.getAttribute("rowspan")||"1");(h>1||f>1)&&this._recordSpans(c,f,h),this._shouldSkipSlot()||(r=this._formatOutValue(c)),this._nextCellAtColumn=this._column+h}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,r||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,r=this._row,s=this._column){return{done:!1,value:new RU(this,t,r,s)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),r=this._row<this._startRow,s=this._column<this._startColumn,c=this._endColumn!==void 0&&this._column>this._endColumn;return t||r||s||c}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,r,s){const c={cell:t,row:this._row,column:this._column};for(let h=this._row;h<this._row+r;h++)for(let f=this._column;f<this._column+s;f++)h==this._row&&f==this._column||this._markSpannedCell(h,f,c)}_markSpannedCell(t,r,s){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(r,s)}}class RU{constructor(t,r,s,c){this.cell=r,this.row=t._row,this.column=t._column,this.cellAnchorRow=s,this.cellAnchorColumn=c,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function JD(l,t){return(r,{writer:s})=>{const c=r.getAttribute("headingRows")||0,h=s.createContainerElement("table",null,[]),f=s.createContainerElement("figure",{class:"table"},h);c>0&&s.insert(s.createPositionAt(h,"end"),s.createContainerElement("thead",null,s.createSlot(g=>g.is("element","tableRow")&&g.index<c))),c<l.getRows(r)&&s.insert(s.createPositionAt(h,"end"),s.createContainerElement("tbody",null,s.createSlot(g=>g.is("element","tableRow")&&g.index>=c)));for(const{positionOffset:g,filter:b}of t.additionalSlots)s.insert(s.createPositionAt(h,g),s.createSlot(b));return s.insert(s.createPositionAt(h,"after"),s.createSlot(g=>!g.is("element","tableRow")&&!t.additionalSlots.some(({filter:b})=>b(g)))),t.asWidget?function(g,b){return b.setCustomProperty("table",!0,g),Wv(g,b,{hasSelectionHandle:!0})}(f,s):f}}function eI(l={}){return(t,{writer:r})=>{const s=t.parent,c=s.parent,h=c.getChildIndex(s),f=new ln(c,{row:h}),g=c.getAttribute("headingRows")||0,b=c.getAttribute("headingColumns")||0;let _=null;for(const C of f)if(C.cell==t){const x=C.row<g||C.column<b?"th":"td";_=l.asWidget?bE(r.createEditableElement(x),r):r.createContainerElement(x);break}return _}}function tI(l={}){return(t,{writer:r})=>{if(!t.parent.is("element","tableCell")||!nI(t))return null;if(l.asWidget)return r.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const s=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}}function nI(l){return l.parent.childCount==1&&!!l.getAttributeKeys().next().done}class FU extends Lt{refresh(){const t=this.editor.model,r=t.document.selection,s=t.schema;this.isEnabled=function(c,h){const f=c.getFirstPosition().parent,g=f===f.root?f:f.parent;return h.checkChild(g,"table")}(r,s)}execute(t={}){const r=this.editor,s=r.model,c=r.plugins.get("TableUtils"),h=r.config.get("table.defaultHeadings.rows"),f=r.config.get("table.defaultHeadings.columns");t.headingRows===void 0&&h&&(t.headingRows=h),t.headingColumns===void 0&&f&&(t.headingColumns=f),s.change(g=>{const b=c.createTable(g,t);s.insertObject(b,null,null,{findOptimalPosition:"auto"}),g.setSelection(g.createPositionAt(b.getNodeByPath([0,0,0]),0))})}}class iI extends Lt{constructor(t,r={}){super(t),this.order=r.order||"below"}refresh(){const t=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=r}execute(){const t=this.editor,r=t.model.document.selection,s=t.plugins.get("TableUtils"),c=this.order==="above",h=s.getSelectionAffectedTableCells(r),f=s.getRowIndexes(h),g=c?f.first:f.last,b=h[0].findAncestor("table");s.insertRows(b,{at:c?g:g+1,copyStructureFromAbove:!c})}}class rI extends Lt{constructor(t,r={}){super(t),this.order=r.order||"right"}refresh(){const t=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=r}execute(){const t=this.editor,r=t.model.document.selection,s=t.plugins.get("TableUtils"),c=this.order==="left",h=s.getSelectionAffectedTableCells(r),f=s.getColumnIndexes(h),g=c?f.first:f.last,b=h[0].findAncestor("table");s.insertColumns(b,{columns:1,at:c?g:g+1})}}class oI extends Lt{constructor(t,r={}){super(t),this.direction=r.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const t=this.editor.plugins.get("TableUtils"),r=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?t.splitCellHorizontally(r,2):t.splitCellVertically(r,2)}}function sI(l,t,r){const{startRow:s,startColumn:c,endRow:h,endColumn:f}=t,g=r.createElement("table"),b=h-s+1;for(let C=0;C<b;C++)r.insertElement("tableRow",g,"end");const _=[...new ln(l,{startRow:s,endRow:h,startColumn:c,endColumn:f,includeAllSlots:!0})];for(const{row:C,column:x,cell:M,isAnchor:z,cellAnchorRow:H,cellAnchorColumn:G}of _){const Z=C-s,se=g.getChild(Z);if(z){const ye=r.cloneElement(M);r.append(ye,se),dI(ye,C,x,h,f,r)}else(H<s||G<c)&&Vc(r,r.createPositionAt(se,"end"))}return function(C,x,M,z,H){const G=parseInt(x.getAttribute("headingRows")||"0");G>0&&qn("headingRows",G-M,C,H,0);const Z=parseInt(x.getAttribute("headingColumns")||"0");Z>0&&qn("headingColumns",Z-z,C,H,0)}(g,l,s,c,r),g}function aI(l,t,r=0){const s=[],c=new ln(l,{startRow:r,endRow:t-1});for(const h of c){const{row:f,cellHeight:g}=h;f<t&&t<=f+g-1&&s.push(h)}return s}function lI(l,t,r){const s=l.parent,c=s.parent,h=s.index,f=t-h,g={},b=parseInt(l.getAttribute("rowspan"))-f;b>1&&(g.rowspan=b);const _=parseInt(l.getAttribute("colspan")||"1");_>1&&(g.colspan=_);const C=h+f,x=[...new ln(c,{startRow:h,endRow:C,includeAllSlots:!0})];let M,z=null;for(const H of x){const{row:G,column:Z,cell:se}=H;se===l&&M===void 0&&(M=Z),M!==void 0&&M===Z&&G===C&&(z=Vc(r,H.getPositionBefore(),g))}return qn("rowspan",f,l,r),z}function cI(l,t){const r=[],s=new ln(l);for(const c of s){const{column:h,cellWidth:f}=c;h<t&&t<=h+f-1&&r.push(c)}return r}function uI(l,t,r,s){const c=r-t,h={},f=parseInt(l.getAttribute("colspan"))-c;f>1&&(h.colspan=f);const g=parseInt(l.getAttribute("rowspan")||"1");g>1&&(h.rowspan=g);const b=Vc(s,s.createPositionAfter(l),h);return qn("colspan",c,l,s),b}function dI(l,t,r,s,c,h){const f=parseInt(l.getAttribute("colspan")||"1"),g=parseInt(l.getAttribute("rowspan")||"1");r+f-1>c&&qn("colspan",c-r+1,l,h,1),t+g-1>s&&qn("rowspan",s-t+1,l,h,1)}function f_(l,t){const r=t.getColumns(l),s=new Array(r).fill(0);for(const{column:h}of new ln(l))s[h]++;const c=s.reduce((h,f,g)=>f?h:[...h,g],[]);if(c.length>0){const h=c[c.length-1];return t.removeColumns(l,{at:h}),!0}return!1}function p_(l,t){const r=[],s=t.getRows(l);for(let c=0;c<s;c++)l.getChild(c).isEmpty&&r.push(c);if(r.length>0){const c=r[r.length-1];return t.removeRows(l,{at:c}),!0}return!1}function m_(l,t){f_(l,t)||p_(l,t)}function hI(l,t){const r=Array.from(new ln(l,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(r.every(({cellHeight:c})=>c===1))return t.lastRow;const s=r[0].cellHeight-1;return t.lastRow+s}function fI(l,t){const r=Array.from(new ln(l,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(r.every(({cellWidth:c})=>c===1))return t.lastColumn;const s=r[0].cellWidth-1;return t.lastColumn+s}class Pg extends Lt{constructor(t,r){super(t),this.direction=r.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,r=t.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(r.selection)[0],c=this.value,h=this.direction;t.change(f=>{const g=h=="right"||h=="down",b=g?s:c,_=g?c:s,C=_.parent;(function(G,Z,se){pI(G)||(pI(Z)&&se.remove(se.createRangeIn(Z)),se.move(se.createRangeIn(G),se.createPositionAt(Z,"end"))),se.remove(G)})(_,b,f);const x=this.isHorizontal?"colspan":"rowspan",M=parseInt(s.getAttribute(x)||"1"),z=parseInt(c.getAttribute(x)||"1");f.setAttribute(x,M+z,b),f.setSelection(f.createRangeIn(b));const H=this.editor.plugins.get("TableUtils");m_(C.findAncestor("table"),H)})}_getMergeableCell(){const t=this.editor.model.document,r=this.editor.plugins.get("TableUtils"),s=r.getTableCellsContainingSelection(t.selection)[0];if(!s)return;const c=this.isHorizontal?function(g,b,_){const C=g.parent,x=C.parent,M=b=="right"?g.nextSibling:g.previousSibling,z=(x.getAttribute("headingColumns")||0)>0;if(!M)return;const H=b=="right"?g:M,G=b=="right"?M:g,{column:Z}=_.getCellLocation(H),{column:se}=_.getCellLocation(G),ye=parseInt(H.getAttribute("colspan")||"1"),Be=h_(_,H),ot=h_(_,G);if(!(z&&Be!=ot))return Z+ye===se?M:void 0}(s,this.direction,r):function(g,b,_){const C=g.parent,x=C.parent,M=x.getChildIndex(C);if(b=="down"&&M===_.getRows(x)-1||b=="up"&&M===0)return null;const z=parseInt(g.getAttribute("rowspan")||"1"),H=x.getAttribute("headingRows")||0,G=b=="down"&&M+z===H,Z=b=="up"&&M===H;if(H&&(G||Z))return null;const se=parseInt(g.getAttribute("rowspan")||"1"),ye=b=="down"?M+se:M,Be=[...new ln(x,{endRow:ye})],ot=Be.find(Ft=>Ft.cell===g),yt=ot.column,cn=Be.find(({row:Ft,cellHeight:ci,column:ri})=>ri===yt&&(b=="down"?Ft===ye:ye===Ft+ci));return cn&&cn.cell?cn.cell:null}(s,this.direction,r);if(!c)return;const h=this.isHorizontal?"rowspan":"colspan",f=parseInt(s.getAttribute(h)||"1");return parseInt(c.getAttribute(h)||"1")===f?c:void 0}}function pI(l){const t=l.getChild(0);return l.childCount==1&&t.is("element","paragraph")&&t.isEmpty}class jU extends Lt{refresh(){const t=this.editor.plugins.get("TableUtils"),r=t.getSelectionAffectedTableCells(this.editor.model.document.selection),s=r[0];if(s){const c=s.findAncestor("table"),h=t.getRows(c)-1,f=t.getRowIndexes(r),g=f.first===0&&f.last===h;this.isEnabled=!g}else this.isEnabled=!1}execute(){const t=this.editor.model,r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(t.document.selection),c=r.getRowIndexes(s),h=s[0],f=h.findAncestor("table"),g=r.getCellLocation(h).column;t.change(b=>{const _=c.last-c.first+1;r.removeRows(f,{at:c.first,rows:_});const C=function(x,M,z,H){const G=x.getChild(Math.min(M,H-1));let Z=G.getChild(0),se=0;for(const ye of G.getChildren()){if(se>z)return Z;Z=ye,se+=parseInt(ye.getAttribute("colspan")||"1")}return Z}(f,c.first,g,r.getRows(f));b.setSelection(b.createPositionAt(C,0))})}}class zU extends Lt{refresh(){const t=this.editor.plugins.get("TableUtils"),r=t.getSelectionAffectedTableCells(this.editor.model.document.selection),s=r[0];if(s){const c=s.findAncestor("table"),h=t.getColumns(c),{first:f,last:g}=t.getColumnIndexes(r);this.isEnabled=g-f<h-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[r,s]=function(b,_){const C=_.getSelectionAffectedTableCells(b),x=C[0],M=C.pop(),z=[x,M];return x.isBefore(M)?z:z.reverse()}(this.editor.model.document.selection,t),c=r.parent.parent,h=[...new ln(c)],f={first:h.find(b=>b.cell===r).column,last:h.find(b=>b.cell===s).column},g=function(b,_,C,x){return parseInt(C.getAttribute("colspan")||"1")>1?C:_.previousSibling||C.nextSibling?C.nextSibling||_.previousSibling:x.first?b.reverse().find(({column:z})=>z<x.first).cell:b.reverse().find(({column:z})=>z>x.last).cell}(h,r,s,f);this.editor.model.change(b=>{const _=f.last-f.first+1;t.removeColumns(c,{at:f.first,columns:_}),b.setSelection(b.createPositionAt(g,0))})}}class VU extends Lt{refresh(){const t=this.editor.plugins.get("TableUtils"),r=this.editor.model,s=t.getSelectionAffectedTableCells(r.document.selection),c=s.length>0;this.isEnabled=c,this.value=c&&s.every(h=>this._isInHeading(h,h.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),s=this.editor.model,c=r.getSelectionAffectedTableCells(s.document.selection),h=c[0].findAncestor("table"),{first:f,last:g}=r.getRowIndexes(c),b=this.value?f:g+1,_=h.getAttribute("headingRows")||0;s.change(C=>{if(b){const x=aI(h,b,b>_?_:0);for(const{cell:M}of x)lI(M,b,C)}qn("headingRows",b,h,C,0)})}_isInHeading(t,r){const s=parseInt(r.getAttribute("headingRows")||"0");return!!s&&t.parent.index<s}}class UU extends Lt{refresh(){const t=this.editor.model,r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(t.document.selection),c=s.length>0;this.isEnabled=c,this.value=c&&s.every(h=>h_(r,h))}execute(t={}){if(t.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),s=this.editor.model,c=r.getSelectionAffectedTableCells(s.document.selection),h=c[0].findAncestor("table"),{first:f,last:g}=r.getColumnIndexes(c),b=this.value?f:g+1;s.change(_=>{if(b){const C=cI(h,b);for(const{cell:x,column:M}of C)uI(x,M,b,_)}qn("headingColumns",b,h,_,0)})}}class Fi extends Ze{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const r=t.parent,s=r.parent,c=s.getChildIndex(r),h=new ln(s,{row:c});for(const{cell:f,row:g,column:b}of h)if(f===t)return{row:g,column:b}}createTable(t,r){const s=t.createElement("table"),c=r.rows||2,h=r.columns||2;return g_(t,s,0,c,h),r.headingRows&&qn("headingRows",Math.min(r.headingRows,c),s,t,0),r.headingColumns&&qn("headingColumns",Math.min(r.headingColumns,h),s,t,0),s}insertRows(t,r={}){const s=this.editor.model,c=r.at||0,h=r.rows||1,f=r.copyStructureFromAbove!==void 0,g=r.copyStructureFromAbove?c-1:c,b=this.getRows(t),_=this.getColumns(t);if(c>b)throw new F("tableutils-insertrows-insert-out-of-range",this,{options:r});s.change(C=>{const x=t.getAttribute("headingRows")||0;if(x>c&&qn("headingRows",x+h,t,C,0),!f&&(c===0||c===b))return void g_(C,t,c,h,_);const M=f?Math.max(c,g):c,z=new ln(t,{endRow:M}),H=new Array(_).fill(1);for(const{row:G,column:Z,cellHeight:se,cellWidth:ye,cell:Be}of z){const ot=G+se-1,yt=G<=g&&g<=ot;G<c&&c<=ot?(C.setAttribute("rowspan",se+h,Be),H[Z]=-ye):f&&yt&&(H[Z]=ye)}for(let G=0;G<h;G++){const Z=C.createElement("tableRow");C.insert(Z,t,c);for(let se=0;se<H.length;se++){const ye=H[se],Be=C.createPositionAt(Z,"end");ye>0&&Vc(C,Be,ye>1?{colspan:ye}:void 0),se+=Math.abs(ye)-1}}})}insertColumns(t,r={}){const s=this.editor.model,c=r.at||0,h=r.columns||1;s.change(f=>{const g=t.getAttribute("headingColumns");c<g&&f.setAttribute("headingColumns",g+h,t);const b=this.getColumns(t);if(c===0||b===c){for(const C of t.getChildren())C.is("element","tableRow")&&Dd(h,f,f.createPositionAt(C,c?"end":0));return}const _=new ln(t,{column:c,includeAllSlots:!0});for(const C of _){const{row:x,cell:M,cellAnchorColumn:z,cellAnchorRow:H,cellWidth:G,cellHeight:Z}=C;if(z<c){f.setAttribute("colspan",G+h,M);const se=H+Z-1;for(let ye=x;ye<=se;ye++)_.skipRow(ye)}else Dd(h,f,C.getPositionBefore())}})}removeRows(t,r){const s=this.editor.model,c=r.rows||1,h=this.getRows(t),f=r.at,g=f+c-1;if(g>h-1)throw new F("tableutils-removerows-row-index-out-of-range",this,{table:t,options:r});s.change(b=>{const _={first:f,last:g},{cellsToMove:C,cellsToTrim:x}=function(M,{first:z,last:H}){const G=new Map,Z=[];for(const{row:se,column:ye,cellHeight:Be,cell:ot}of new ln(M,{endRow:H})){const yt=se+Be-1;if(se>=z&&se<=H&&yt>H){const cn=Be-(H-se+1);G.set(ye,{cell:ot,rowspan:cn})}if(se<z&&yt>=z){let cn;cn=yt>=H?H-z+1:yt-z+1,Z.push({cell:ot,rowspan:Be-cn})}}return{cellsToMove:G,cellsToTrim:Z}}(t,_);C.size&&function(M,z,H,G){const Z=new ln(M,{includeAllSlots:!0,row:z}),se=[...Z],ye=M.getChild(z);let Be;for(const{column:ot,cell:yt,isAnchor:cn}of se)if(H.has(ot)){const{cell:Ft,rowspan:ci}=H.get(ot),ri=Be?G.createPositionAfter(Be):G.createPositionAt(ye,0);G.move(G.createRangeOn(Ft),ri),qn("rowspan",ci,Ft,G),Be=Ft}else cn&&(Be=yt)}(t,g+1,C,b);for(let M=g;M>=f;M--)b.remove(t.getChild(M));for(const{rowspan:M,cell:z}of x)qn("rowspan",M,z,b);(function(M,{first:z,last:H},G){const Z=M.getAttribute("headingRows")||0;z<Z&&qn("headingRows",H<Z?Z-(H-z+1):z,M,G,0)})(t,_,b),f_(t,this)||p_(t,this)})}removeColumns(t,r){const s=this.editor.model,c=r.at,h=r.columns||1,f=r.at+h-1;s.change(g=>{(function(b,_,C){const x=b.getAttribute("headingColumns")||0;if(x&&_.first<x){const M=Math.min(x-1,_.last)-_.first+1;C.setAttribute("headingColumns",x-M,b)}})(t,{first:c,last:f},g);for(let b=f;b>=c;b--)for(const{cell:_,column:C,cellWidth:x}of[...new ln(t)])C<=b&&x>1&&C+x>b?qn("colspan",x-1,_,g):C===b&&g.remove(_);p_(t,this)||f_(t,this)})}splitCellVertically(t,r=2){const s=this.editor.model,c=t.parent.parent,h=parseInt(t.getAttribute("rowspan")||"1"),f=parseInt(t.getAttribute("colspan")||"1");s.change(g=>{if(f>1){const{newCellsSpan:b,updatedSpan:_}=mI(f,r);qn("colspan",_,t,g);const C={};b>1&&(C.colspan=b),h>1&&(C.rowspan=h),Dd(f>r?r-1:f-1,g,g.createPositionAfter(t),C)}if(f<r){const b=r-f,_=[...new ln(c)],{column:C}=_.find(({cell:H})=>H===t),x=_.filter(({cell:H,cellWidth:G,column:Z})=>H!==t&&Z===C||Z<C&&Z+G>C);for(const{cell:H,cellWidth:G}of x)g.setAttribute("colspan",G+b,H);const M={};h>1&&(M.rowspan=h),Dd(b,g,g.createPositionAfter(t),M);const z=c.getAttribute("headingColumns")||0;z>C&&qn("headingColumns",z+b,c,g)}})}splitCellHorizontally(t,r=2){const s=this.editor.model,c=t.parent,h=c.parent,f=h.getChildIndex(c),g=parseInt(t.getAttribute("rowspan")||"1"),b=parseInt(t.getAttribute("colspan")||"1");s.change(_=>{if(g>1){const C=[...new ln(h,{startRow:f,endRow:f+g-1,includeAllSlots:!0})],{newCellsSpan:x,updatedSpan:M}=mI(g,r);qn("rowspan",M,t,_);const{column:z}=C.find(({cell:G})=>G===t),H={};x>1&&(H.rowspan=x),b>1&&(H.colspan=b);for(const G of C){const{column:Z,row:se}=G;se>=f+M&&Z===z&&(se+f+M)%x==0&&Dd(1,_,G.getPositionBefore(),H)}}if(g<r){const C=r-g,x=[...new ln(h,{startRow:0,endRow:f})];for(const{cell:H,cellHeight:G,row:Z}of x)if(H!==t&&Z+G>f){const se=G+C;_.setAttribute("rowspan",se,H)}const M={};b>1&&(M.colspan=b),g_(_,h,f+1,C,1,M);const z=h.getAttribute("headingRows")||0;z>f&&qn("headingRows",z+C,h,_)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((r,s)=>r+parseInt(s.getAttribute("colspan")||"1"),0)}getRows(t){return Array.from(t.getChildren()).reduce((r,s)=>s.is("element","tableRow")?r+1:r,0)}createTableWalker(t,r={}){return new ln(t,r)}getSelectedTableCells(t){const r=[];for(const s of this.sortRanges(t.getRanges())){const c=s.getContainedElement();c&&c.is("element","tableCell")&&r.push(c)}return r}getTableCellsContainingSelection(t){const r=[];for(const s of t.getRanges()){const c=s.start.findAncestor("tableCell");c&&r.push(c)}return r}getSelectionAffectedTableCells(t){const r=this.getSelectedTableCells(t);return r.length?r:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const r=t.map(s=>s.parent.index);return this._getFirstLastIndexesObject(r)}getColumnIndexes(t){const r=t[0].findAncestor("table"),s=[...new ln(r)].filter(c=>t.includes(c.cell)).map(c=>c.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const r=new Set,s=new Set;let c=0;for(const f of t){const{row:g,column:b}=this.getCellLocation(f),_=parseInt(f.getAttribute("rowspan"))||1,C=parseInt(f.getAttribute("colspan"))||1;r.add(g),s.add(b),_>1&&r.add(g+_-1),C>1&&s.add(b+C-1),c+=_*C}return function(f,g){const b=Array.from(f.values()),_=Array.from(g.values()),C=Math.max(...b),x=Math.min(...b),M=Math.max(..._),z=Math.min(..._);return(C-x+1)*(M-z+1)}(r,s)==c}sortRanges(t){return Array.from(t).sort(HU)}_getFirstLastIndexesObject(t){const r=t.sort((s,c)=>s-c);return{first:r[0],last:r[r.length-1]}}_areCellInTheSameTableSection(t){const r=t[0].findAncestor("table"),s=this.getRowIndexes(t),c=parseInt(r.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(s,c))return!1;const h=this.getColumnIndexes(t),f=parseInt(r.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(h,f)}_areIndexesInSameSection({first:t,last:r},s){return t<s==r<s}}function g_(l,t,r,s,c,h={}){for(let f=0;f<s;f++){const g=l.createElement("tableRow");l.insert(g,t,r),Dd(c,l,l.createPositionAt(g,"end"),h)}}function Dd(l,t,r,s={}){for(let c=0;c<l;c++)Vc(t,r,s)}function mI(l,t){if(l<t)return{newCellsSpan:1,updatedSpan:1};const r=Math.floor(l/t);return{newCellsSpan:r,updatedSpan:l-r*t+r}}function HU(l,t){const r=l.start,s=t.start;return r.isBefore(s)?-1:1}class $U extends Lt{refresh(){const t=this.editor.plugins.get(Fi),r=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(r)}execute(){const t=this.editor.model,r=this.editor.plugins.get(Fi);t.change(s=>{const c=r.getSelectedTableCells(t.document.selection),h=c.shift(),{mergeWidth:f,mergeHeight:g}=function(b,_,C){let x=0,M=0;for(const se of _){const{row:ye,column:Be}=C.getCellLocation(se);x=bI(se,Be,x,"colspan"),M=bI(se,ye,M,"rowspan")}const{row:z,column:H}=C.getCellLocation(b),G=x-H,Z=M-z;return{mergeWidth:G,mergeHeight:Z}}(h,c,r);qn("colspan",f,h,s),qn("rowspan",g,h,s);for(const b of c)qU(b,h,s);m_(h.findAncestor("table"),r),s.setSelection(h,"in")})}}function qU(l,t,r){gI(l)||(gI(t)&&r.remove(r.createRangeIn(t)),r.move(r.createRangeIn(l),r.createPositionAt(t,"end"))),r.remove(l)}function gI(l){const t=l.getChild(0);return l.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function bI(l,t,r,s){const c=parseInt(l.getAttribute(s)||"1");return Math.max(r,t+c)}class WU extends Lt{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(t.document.selection),c=r.getRowIndexes(s),h=s[0].findAncestor("table"),f=[];for(let g=c.first;g<=c.last;g++)for(const b of h.getChild(g).getChildren())f.push(t.createRangeOn(b));t.change(g=>{g.setSelection(f)})}}class GU extends Lt{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),r=this.editor.model,s=t.getSelectionAffectedTableCells(r.document.selection),c=s[0],h=s.pop(),f=c.findAncestor("table"),g=t.getCellLocation(c),b=t.getCellLocation(h),_=Math.min(g.column,b.column),C=Math.max(g.column,b.column),x=[];for(const M of new ln(f,{startColumn:_,endColumn:C}))x.push(r.createRangeOn(M.cell));r.change(M=>{M.setSelection(x)})}}function KU(l){l.document.registerPostFixer(t=>function(r,s){const c=s.document.differ.getChanges();let h=!1;const f=new Set;for(const g of c){let b=null;g.type=="insert"&&g.name=="table"&&(b=g.position.nodeAfter),g.type!="insert"&&g.type!="remove"||g.name!="tableRow"&&g.name!="tableCell"||(b=g.position.findAncestor("table")),ZU(g)&&(b=g.range.start.findAncestor("table")),b&&!f.has(b)&&(h=YU(b,r)||h,h=QU(b,r)||h,f.add(b))}return h}(t,l))}function YU(l,t){let r=!1;const s=function(c){const h=parseInt(c.getAttribute("headingRows")||"0"),f=Array.from(c.getChildren()).reduce((b,_)=>_.is("element","tableRow")?b+1:b,0),g=[];for(const{row:b,cell:_,cellHeight:C}of new ln(c)){if(C<2)continue;const x=b<h?h:f;if(b+C>x){const M=x-b;g.push({cell:_,rowspan:M})}}return g}(l);if(s.length){r=!0;for(const c of s)qn("rowspan",c.rowspan,c.cell,t,1)}return r}function QU(l,t){let r=!1;const s=function(g){const b=new Array(g.childCount).fill(0);for(const{rowIndex:_}of new ln(g,{includeAllSlots:!0}))b[_]++;return b}(l),c=[];for(const[g,b]of s.entries())!b&&l.getChild(g).is("element","tableRow")&&c.push(g);if(c.length){r=!0;for(const g of c.reverse())t.remove(l.getChild(g)),s.splice(g,1)}const h=s.filter((g,b)=>l.getChild(b).is("element","tableRow")),f=h[0];if(!h.every(g=>g===f)){const g=h.reduce((b,_)=>_>b?_:b,0);for(const[b,_]of h.entries()){const C=g-_;if(C){for(let x=0;x<C;x++)Vc(t,t.createPositionAt(l.getChild(b),"end"));r=!0}}}return r}function ZU(l){if(l.type!=="attribute")return!1;const t=l.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}function XU(l){l.document.registerPostFixer(t=>function(r,s){const c=s.document.differ.getChanges();let h=!1;for(const f of c)f.type=="insert"&&f.name=="table"&&(h=JU(f.position.nodeAfter,r)||h),f.type=="insert"&&f.name=="tableRow"&&(h=kI(f.position.nodeAfter,r)||h),f.type=="insert"&&f.name=="tableCell"&&(h=b_(f.position.nodeAfter,r)||h),f.type!="remove"&&f.type!="insert"||!eH(f)||(h=b_(f.position.parent,r)||h);return h}(t,l))}function JU(l,t){let r=!1;for(const s of l.getChildren())s.is("element","tableRow")&&(r=kI(s,t)||r);return r}function kI(l,t){let r=!1;for(const s of l.getChildren())r=b_(s,t)||r;return r}function b_(l,t){if(l.childCount==0)return t.insertElement("paragraph",l),!0;const r=Array.from(l.getChildren()).filter(s=>s.is("$text"));for(const s of r)t.wrap(t.createRangeOn(s),"paragraph");return!!r.length}function eH(l){return!!l.position.parent.is("element","tableCell")&&(l.type=="insert"&&l.name=="$text"||l.type=="remove")}function tH(l,t){if(!l.is("element","paragraph"))return!1;const r=t.toViewElement(l);return!!r&&nI(l)!==r.is("element","span")}var vI=a(3881),nH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(vI.Z,nH),vI.Z.locals;class iH extends Ze{constructor(t){super(t),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[Fi]}init(){const t=this.editor,r=t.model,s=r.schema,c=t.conversion,h=t.plugins.get(Fi);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),c.for("upcast").add(f=>{f.on("element:figure",(g,b,_)=>{if(!_.consumable.test(b.viewItem,{name:!0,classes:"table"}))return;const C=function(M){for(const z of M.getChildren())if(z.is("element","table"))return z}(b.viewItem);if(!C||!_.consumable.test(C,{name:!0}))return;_.consumable.consume(b.viewItem,{name:!0,classes:"table"});const x=Je(_.convertItem(C,b.modelCursor).modelRange.getItems());x?(_.convertChildren(b.viewItem,_.writer.createPositionAt(x,"end")),_.updateConversionResult(x,b)):_.consumable.revert(b.viewItem,{name:!0,classes:"table"})})}),c.for("upcast").add(OU()),c.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:JD(h,{asWidget:!0,additionalSlots:this._additionalSlots})}),c.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:JD(h,{additionalSlots:this._additionalSlots})}),c.for("upcast").elementToElement({model:"tableRow",view:"tr"}),c.for("upcast").add(f=>{f.on("element:tr",(g,b)=>{b.viewItem.isEmpty&&b.modelCursor.index==0&&g.stop()},{priority:"high"})}),c.for("downcast").elementToElement({model:"tableRow",view:(f,{writer:g})=>f.isEmpty?g.createEmptyElement("tr"):g.createContainerElement("tr")}),c.for("upcast").elementToElement({model:"tableCell",view:"td"}),c.for("upcast").elementToElement({model:"tableCell",view:"th"}),c.for("upcast").add(XD("td")),c.for("upcast").add(XD("th")),c.for("editingDowncast").elementToElement({model:"tableCell",view:eI({asWidget:!0})}),c.for("dataDowncast").elementToElement({model:"tableCell",view:eI()}),c.for("editingDowncast").elementToElement({model:"paragraph",view:tI({asWidget:!0}),converterPriority:"high"}),c.for("dataDowncast").elementToElement({model:"paragraph",view:tI(),converterPriority:"high"}),c.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),c.for("upcast").attributeToAttribute({model:{key:"colspan",value:_I("colspan")},view:"colspan"}),c.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),c.for("upcast").attributeToAttribute({model:{key:"rowspan",value:_I("rowspan")},view:"rowspan"}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new FU(t)),t.commands.add("insertTableRowAbove",new iI(t,{order:"above"})),t.commands.add("insertTableRowBelow",new iI(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new rI(t,{order:"left"})),t.commands.add("insertTableColumnRight",new rI(t,{order:"right"})),t.commands.add("removeTableRow",new jU(t)),t.commands.add("removeTableColumn",new zU(t)),t.commands.add("splitTableCellVertically",new oI(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new oI(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new $U(t)),t.commands.add("mergeTableCellRight",new Pg(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new Pg(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new Pg(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new Pg(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new UU(t)),t.commands.add("setTableRowHeader",new VU(t)),t.commands.add("selectTableRow",new WU(t)),t.commands.add("selectTableColumn",new GU(t)),KU(r),XU(r),this.listenTo(r.document,"change:data",()=>{(function(f,g){const b=f.document.differ;for(const _ of b.getChanges()){let C,x=!1;if(_.type=="attribute"){const G=_.range.start.nodeAfter;if(!G||!G.is("element","table")||_.attributeKey!="headingRows"&&_.attributeKey!="headingColumns")continue;C=G,x=_.attributeKey=="headingRows"}else _.name!="tableRow"&&_.name!="tableCell"||(C=_.position.findAncestor("table"),x=_.name=="tableRow");if(!C)continue;const M=C.getAttribute("headingRows")||0,z=C.getAttribute("headingColumns")||0,H=new ln(C);for(const G of H){const Z=G.row<M||G.column<z?"th":"td",se=g.mapper.toViewElement(G.cell);se&&se.is("element")&&se.name!=Z&&g.reconvertItem(x?G.cell.parent:G.cell)}}})(r,t.editing),function(f,g){const b=f.document.differ,_=new Set;for(const C of b.getChanges()){const x=C.type=="attribute"?C.range.start.parent:C.position.parent;x.is("element","tableCell")&&_.add(x)}for(const C of _.values()){const x=Array.from(C.getChildren()).filter(M=>tH(M,g.mapper));for(const M of x)g.reconvertItem(M)}}(r,t.editing)})}registerAdditionalSlot(t){this._additionalSlots.push(t)}}function _I(l){return t=>{const r=parseInt(t.getAttribute(l));return Number.isNaN(r)||r<=0?null:r}}var yI=a(1613),rH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(yI.Z,rH),yI.Z.locals;class oH extends Mt{constructor(t){super(t);const r=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new pt,this.focusTracker=new Fe,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,c)=>`${c} × ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":r.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:r.to("label")}]}],on:{mousedown:r.to(s=>{s.preventDefault()}),click:r.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,c)=>{const{row:h,column:f}=c.target.dataset;this.items.get(10*(parseInt(h,10)-1)+(parseInt(f,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(s,c,h)=>{if(!h)return;const{row:f,column:g}=h.dataset;this.set({rows:parseInt(f),columns:parseInt(g)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:t,focusTracker:r,gridItems:s,numberOfColumns:c,uiLanguageDirection:h}){const f=typeof c=="number"?()=>c:c;function g(C){return x=>{const M=s.find(G=>G.element===r.focusedElement),z=s.getIndex(M),H=C(z,s);s.get(H).focus(),x.stopPropagation(),x.preventDefault()}}function b(C,x){return C===x-1?0:C+1}function _(C,x){return C===0?x-1:C-1}t.set("arrowright",g((C,x)=>h==="rtl"?_(C,x.length):b(C,x.length))),t.set("arrowleft",g((C,x)=>h==="rtl"?b(C,x.length):_(C,x.length))),t.set("arrowup",g((C,x)=>{let M=C-f();return M<0&&(M=C+f()*Math.floor(x.length/f()),M>x.length-1&&(M-=f())),M})),t.set("arrowdown",g((C,x)=>{let M=C+f();return M>x.length-1&&(M=C%f()),M}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,r=this.columns;this.items.map((s,c)=>{const h=Math.floor(c/10)<t&&c%10<r;s.set("isOn",h)})}_createGridButton(t,r,s,c){const h=new wn(t);return h.set({label:c,class:"ck-insert-table-dropdown-grid-box"}),h.extendTemplate({attributes:{"data-row":r,"data-column":s}}),h}_createGridCollection(){const t=[];for(let r=0;r<100;r++){const s=Math.floor(r/10),c=r%10,h=`${s+1} × ${c+1}`;t.push(this._createGridButton(this.locale,s+1,c+1,h))}return this.createCollection(t)}}class sH extends Ze{static get pluginName(){return"TableUI"}init(){const t=this.editor,r=this.editor.t,s=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",c=>{const h=t.commands.get("insertTable"),f=dl(c);let g;return f.bind("isEnabled").to(h),f.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:r("Insert table"),tooltip:!0}),f.on("change:isOpen",()=>{g||(g=new oH(c),f.panelView.children.add(g),g.delegate("execute").to(f),f.on("execute",()=>{t.execute("insertTable",{rows:g.rows,columns:g.columns}),t.editing.view.focus()}))}),f}),t.ui.componentFactory.add("tableColumn",c=>{const h=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:r("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:r("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:r("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:r("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:r("Select column")}}];return this._prepareDropdown(r("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',h,c)}),t.ui.componentFactory.add("tableRow",c=>{const h=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:r("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:r("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:r("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:r("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:r("Select row")}}];return this._prepareDropdown(r("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',h,c)}),t.ui.componentFactory.add("mergeTableCells",c=>{const h=[{type:"button",model:{commandName:"mergeTableCellUp",label:r("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:r("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:r("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:r("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:r("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:r("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(r("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',h,c)})}_prepareDropdown(t,r,s,c){const h=this.editor,f=dl(c),g=this._fillDropdownWithListOptions(f,s);return f.buttonView.set({label:t,icon:r,tooltip:!0}),f.bind("isEnabled").toMany(g,"isEnabled",(...b)=>b.some(_=>_)),this.listenTo(f,"execute",b=>{h.execute(b.source.commandName),b.source instanceof Gm||h.editing.view.focus()}),f}_prepareMergeSplitButtonDropdown(t,r,s,c){const h=this.editor,f=dl(c,Av),g="mergeTableCells",b=h.commands.get(g),_=this._fillDropdownWithListOptions(f,s);return f.buttonView.set({label:t,icon:r,tooltip:!0,isEnabled:!0}),f.bind("isEnabled").toMany([b,..._],"isEnabled",(...C)=>C.some(x=>x)),this.listenTo(f.buttonView,"execute",()=>{h.execute(g),h.editing.view.focus()}),this.listenTo(f,"execute",C=>{h.execute(C.source.commandName),h.editing.view.focus()}),f}_fillDropdownWithListOptions(t,r){const s=this.editor,c=[],h=new Ee;for(const f of r)aH(f,s,c,h);return ox(t,h),c}}function aH(l,t,r,s){if(l.type==="button"||l.type==="switchbutton"){const c=l.model=new Lx(l.model),{commandName:h,bindIsOn:f}=l.model,g=t.commands.get(h);r.push(g),c.set({commandName:h}),c.bind("isEnabled").to(g),f&&c.bind("isOn").to(g,"value"),c.set({withText:!0})}s.add(l)}var wI=a(6945),lH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(wI.Z,lH),wI.Z.locals;class Uc extends Ze{static get pluginName(){return"TableSelection"}static get requires(){return[Fi,Fi]}init(){const t=this.editor,r=t.model,s=t.editing.view;this.listenTo(r,"deleteContent",(c,h)=>this._handleDeleteContent(c,h),{priority:"high"}),this.listenTo(s.document,"insertText",(c,h)=>this._handleInsertTextEvent(c,h),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(Fi),r=this.editor.model.document.selection,s=t.getSelectedTableCells(r);return s.length==0?null:s}getSelectionAsFragment(){const t=this.editor.plugins.get(Fi),r=this.getSelectedTableCells();return r?this.editor.model.change(s=>{const c=s.createDocumentFragment(),{first:h,last:f}=t.getColumnIndexes(r),{first:g,last:b}=t.getRowIndexes(r),_=r[0].findAncestor("table");let C=b,x=f;if(t.isSelectionRectangular(r)){const z={firstColumn:h,lastColumn:f,firstRow:g,lastRow:b};C=hI(_,z),x=fI(_,z)}const M=sI(_,{startRow:g,startColumn:h,endRow:C,endColumn:x},s);return s.insert(M,c,0),c}):null}setCellSelection(t,r){const s=this._getCellsToSelect(t,r);this.editor.model.change(c=>{c.setSelection(s.cells.map(h=>c.createRangeOn(h)),{backward:s.backward})})}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=Je(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,r=new Set;t.conversion.for("editingDowncast").add(s=>s.on("selection",(c,h,f)=>{const g=f.writer;(function(C){for(const x of r)C.removeClass("ck-editor__editable_selected",x);r.clear()})(g);const b=this.getSelectedTableCells();if(!b)return;for(const C of b){const x=f.mapper.toViewElement(C);g.addClass("ck-editor__editable_selected",x),r.add(x)}const _=f.mapper.toViewElement(b[b.length-1]);g.setSelection(_,0)},{priority:"lowest"}))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const r=this.getSelectedTableCells();if(!r)return;t.model.change(s=>{const c=s.createPositionAt(r[0],0),h=t.model.schema.getNearestSelectionRange(c);s.setSelection(h)})}})}_handleDeleteContent(t,r){const s=this.editor.plugins.get(Fi),c=r[0],h=r[1],f=this.editor.model,g=!h||h.direction=="backward",b=s.getSelectedTableCells(c);b.length&&(t.stop(),f.change(_=>{const C=b[g?b.length-1:0];f.change(M=>{for(const z of b)f.deleteContent(M.createSelection(z,"in"))});const x=f.schema.getNearestSelectionRange(_.createPositionAt(C,0));c.is("documentSelection")?_.setSelection(x):c.setTo(x)}))}_handleInsertTextEvent(t,r){const s=this.editor,c=this.getSelectedTableCells();if(!c)return;const h=s.editing.view,f=s.editing.mapper,g=c.map(b=>h.createRangeOn(f.toViewElement(b)));r.selection=h.createSelection(g)}_getCellsToSelect(t,r){const s=this.editor.plugins.get("TableUtils"),c=s.getCellLocation(t),h=s.getCellLocation(r),f=Math.min(c.row,h.row),g=Math.max(c.row,h.row),b=Math.min(c.column,h.column),_=Math.max(c.column,h.column),C=new Array(g-f+1).fill(null).map(()=>[]),x={startRow:f,endRow:g,startColumn:b,endColumn:_};for(const{row:H,cell:G}of new ln(t.findAncestor("table"),x))C[H-f].push(G);const M=h.row<c.row,z=h.column<c.column;return M&&C.reverse(),z&&C.forEach(H=>H.reverse()),{cells:C.flat(),backward:M||z}}}class cH extends Ze{static get pluginName(){return"TableClipboard"}static get requires(){return[Uc,Fi]}init(){const t=this.editor,r=t.editing.view.document;this.listenTo(r,"copy",(s,c)=>this._onCopyCut(s,c)),this.listenTo(r,"cut",(s,c)=>this._onCopyCut(s,c)),this.listenTo(t.model,"insertContent",(s,[c,h])=>this._onInsertContent(s,c,h),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,r){const s=this.editor.plugins.get(Uc);if(!s.getSelectedTableCells()||t.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;r.preventDefault(),t.stop();const c=this.editor.data,h=this.editor.editing.view.document,f=c.toView(s.getSelectionAsFragment());h.fire("clipboardOutput",{dataTransfer:r.dataTransfer,content:f,method:t.name})}_onInsertContent(t,r,s){if(s&&!s.is("documentSelection"))return;const c=this.editor.model,h=this.editor.plugins.get(Fi);let f=this.getTableIfOnlyTableInContent(r,c);if(!f)return;const g=h.getSelectionAffectedTableCells(c.document.selection);g.length?(t.stop(),c.change(b=>{const _={width:h.getColumns(f),height:h.getRows(f)},C=function(Z,se,ye,Be){const ot=Z[0].findAncestor("table"),yt=Be.getColumnIndexes(Z),cn=Be.getRowIndexes(Z),Ft={firstColumn:yt.first,lastColumn:yt.last,firstRow:cn.first,lastRow:cn.last},ci=Z.length===1;return ci&&(Ft.lastRow+=se.height-1,Ft.lastColumn+=se.width-1,function(ri,Id,ps,ro){const ha=ro.getColumns(ri),fa=ro.getRows(ri);ps>ha&&ro.insertColumns(ri,{at:ha,columns:ps-ha}),Id>fa&&ro.insertRows(ri,{at:fa,rows:Id-fa})}(ot,Ft.lastRow+1,Ft.lastColumn+1,Be)),ci||!Be.isSelectionRectangular(Z)?function(ri,Id,ps){const{firstRow:ro,lastRow:ha,firstColumn:fa,lastColumn:$c}=Id,zI={first:ro,last:ha},VI={first:fa,last:$c};v_(ri,fa,zI,ps),v_(ri,$c+1,zI,ps),k_(ri,ro,VI,ps),k_(ri,ha+1,VI,ps,ro)}(ot,Ft,ye):(Ft.lastRow=hI(ot,Ft),Ft.lastColumn=fI(ot,Ft)),Ft}(g,_,b,h),x=C.lastRow-C.firstRow+1,M=C.lastColumn-C.firstColumn+1,z={startRow:0,startColumn:0,endRow:Math.min(x,_.height)-1,endColumn:Math.min(M,_.width)-1};f=sI(f,z,b);const H=g[0].findAncestor("table"),G=this._replaceSelectedCellsWithPasted(f,_,H,C,b);if(this.editor.plugins.get("TableSelection").isEnabled){const Z=h.sortRanges(G.map(se=>b.createRangeOn(se)));b.setSelection(Z)}else b.setSelection(G[0],0)})):m_(f,h)}_replaceSelectedCellsWithPasted(t,r,s,c,h){const{width:f,height:g}=r,b=function(Z,se,ye){const Be=new Array(ye).fill(null).map(()=>new Array(se).fill(null));for(const{column:ot,row:yt,cell:cn}of new ln(Z))Be[yt][ot]=cn;return Be}(t,f,g),_=[...new ln(s,{startRow:c.firstRow,endRow:c.lastRow,startColumn:c.firstColumn,endColumn:c.lastColumn,includeAllSlots:!0})],C=[];let x;for(const Z of _){const{row:se,column:ye}=Z;ye===c.firstColumn&&(x=Z.getPositionBefore());const Be=se-c.firstRow,ot=ye-c.firstColumn,yt=b[Be%g][ot%f],cn=yt?h.cloneElement(yt):null,Ft=this._replaceTableSlotCell(Z,cn,x,h);Ft&&(dI(Ft,se,ye,c.lastRow,c.lastColumn,h),C.push(Ft),x=h.createPositionAfter(Ft))}const M=parseInt(s.getAttribute("headingRows")||"0"),z=parseInt(s.getAttribute("headingColumns")||"0"),H=c.firstRow<M&&M<=c.lastRow,G=c.firstColumn<z&&z<=c.lastColumn;if(H){const Z=k_(s,M,{first:c.firstColumn,last:c.lastColumn},h,c.firstRow);C.push(...Z)}if(G){const Z=v_(s,z,{first:c.firstRow,last:c.lastRow},h);C.push(...Z)}return C}_replaceTableSlotCell(t,r,s,c){const{cell:h,isAnchor:f}=t;return f&&c.remove(h),r?(c.insert(r,s),r):null}getTableIfOnlyTableInContent(t,r){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(t.childCount==1&&t.getChild(0).is("element","table"))return t.getChild(0);const s=r.createRangeIn(t);for(const c of s.getItems())if(c.is("element","table")){const h=r.createRange(s.start,r.createPositionBefore(c));if(r.hasContent(h,{ignoreWhitespaces:!0}))return null;const f=r.createRange(r.createPositionAfter(c),s.end);return r.hasContent(f,{ignoreWhitespaces:!0})?null:c}return null}}function k_(l,t,r,s,c=0){if(!(t<1))return aI(l,t,c).filter(({column:h,cellWidth:f})=>CI(h,f,r)).map(({cell:h})=>lI(h,t,s))}function v_(l,t,r,s){if(!(t<1))return cI(l,t).filter(({row:c,cellHeight:h})=>CI(c,h,r)).map(({cell:c,column:h})=>uI(c,h,t,s))}function CI(l,t,r){const s=l+t-1,{first:c,last:h}=r;return l>=c&&l<=h||l<c&&s>=c}class uH extends Ze{static get pluginName(){return"TableKeyboard"}static get requires(){return[Uc,Fi]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",(...r)=>this._onArrowKey(...r),{context:"table"}),this.listenTo(t,"tab",(...r)=>this._handleTabOnSelectedTable(...r),{context:"figure"}),this.listenTo(t,"tab",(...r)=>this._handleTab(...r),{context:["th","td"]})}_handleTabOnSelectedTable(t,r){const s=this.editor,c=s.model.document.selection.getSelectedElement();c&&c.is("element","table")&&(r.preventDefault(),r.stopPropagation(),t.stop(),s.model.change(h=>{h.setSelection(h.createRangeIn(c.getChild(0).getChild(0)))}))}_handleTab(t,r){const s=this.editor,c=this.editor.plugins.get(Fi),h=this.editor.plugins.get("TableSelection"),f=s.model.document.selection,g=!r.shiftKey;let b=c.getTableCellsContainingSelection(f)[0];if(b||(b=h.getFocusCell()),!b)return;r.preventDefault(),r.stopPropagation(),t.stop();const _=b.parent,C=_.parent,x=C.getChildIndex(_),M=_.getChildIndex(b),z=M===0;if(!g&&z&&x===0)return void s.model.change(se=>{se.setSelection(se.createRangeOn(C))});const H=M===_.childCount-1,G=x===c.getRows(C)-1;if(g&&G&&H&&(s.execute("insertTableRowBelow"),x===c.getRows(C)-1))return void s.model.change(se=>{se.setSelection(se.createRangeOn(C))});let Z;if(g&&H)Z=C.getChild(x+1).getChild(0);else if(!g&&z){const se=C.getChild(x-1);Z=se.getChild(se.childCount-1)}else Z=_.getChild(M+(g?1:-1));s.model.change(se=>{se.setSelection(se.createRangeIn(Z))})}_onArrowKey(t,r){const s=this.editor,c=U(r.keyCode,s.locale.contentLanguageDirection);this._handleArrowKeys(c,r.shiftKey)&&(r.preventDefault(),r.stopPropagation(),t.stop())}_handleArrowKeys(t,r){const s=this.editor.plugins.get(Fi),c=this.editor.plugins.get("TableSelection"),h=this.editor.model,f=h.document.selection,g=["right","down"].includes(t),b=s.getSelectedTableCells(f);if(b.length){let C;return C=r?c.getFocusCell():g?b[b.length-1]:b[0],this._navigateFromCellInDirection(C,t,r),!0}const _=f.focus.findAncestor("tableCell");if(!_)return!1;if(!f.isCollapsed)if(r){if(f.isBackward==g&&!f.containsEntireContent(_))return!1}else{const C=f.getSelectedElement();if(!C||!h.schema.isObject(C))return!1}return!!this._isSelectionAtCellEdge(f,_,g)&&(this._navigateFromCellInDirection(_,t,r),!0)}_isSelectionAtCellEdge(t,r,s){const c=this.editor.model,h=this.editor.model.schema,f=s?t.getLastPosition():t.getFirstPosition();if(!h.getLimitElement(f).is("element","tableCell"))return c.createPositionAt(r,s?"end":0).isTouching(f);const g=c.createSelection(f);return c.modifySelection(g,{direction:s?"forward":"backward"}),f.isEqual(g.focus)}_navigateFromCellInDirection(t,r,s=!1){const c=this.editor.model,h=t.findAncestor("table"),f=[...new ln(h,{includeAllSlots:!0})],{row:g,column:b}=f[f.length-1],_=f.find(({cell:G})=>G==t);let{row:C,column:x}=_;switch(r){case"left":x--;break;case"up":C--;break;case"right":x+=_.cellWidth;break;case"down":C+=_.cellHeight}if(C<0||C>g||x<0&&C<=0||x>b&&C>=g)return void c.change(G=>{G.setSelection(G.createRangeOn(h))});x<0?(x=s?0:b,C--):x>b&&(x=s?b:0,C++);const M=f.find(G=>G.row==C&&G.column==x).cell,z=["right","down"].includes(r),H=this.editor.plugins.get("TableSelection");if(s&&H.isEnabled){const G=H.getAnchorCell()||t;H.setCellSelection(G,M)}else{const G=c.createPositionAt(M,z?0:"end");c.change(Z=>{Z.setSelection(G)})}}}class dH extends al{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class hH extends Ze{static get pluginName(){return"TableMouse"}static get requires(){return[Uc,Fi]}init(){this.editor.editing.view.addObserver(dH),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,r=t.plugins.get(Fi);let s=!1;const c=t.plugins.get(Uc);this.listenTo(t.editing.view.document,"mousedown",(h,f)=>{const g=t.model.document.selection;if(!this.isEnabled||!c.isEnabled||!f.domEvent.shiftKey)return;const b=c.getAnchorCell()||r.getTableCellsContainingSelection(g)[0];if(!b)return;const _=this._getModelTableCellFromDomEvent(f);_&&AI(b,_)&&(s=!0,c.setCellSelection(b,_),f.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{s=!1}),this.listenTo(t.editing.view.document,"selectionChange",h=>{s&&h.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let r,s,c=!1,h=!1;const f=t.plugins.get(Uc);this.listenTo(t.editing.view.document,"mousedown",(g,b)=>{this.isEnabled&&f.isEnabled&&(b.domEvent.shiftKey||b.domEvent.ctrlKey||b.domEvent.altKey||(r=this._getModelTableCellFromDomEvent(b)))}),this.listenTo(t.editing.view.document,"mousemove",(g,b)=>{if(!b.domEvent.buttons||!r)return;const _=this._getModelTableCellFromDomEvent(b);_&&AI(r,_)&&(s=_,c||s==r||(c=!0)),c&&(h=!0,f.setCellSelection(r,s),b.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{c=!1,h=!1,r=null,s=null}),this.listenTo(t.editing.view.document,"selectionChange",g=>{h&&g.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const r=t.target,s=this.editor.editing.view.createPositionAt(r,0);return this.editor.editing.mapper.toModelPosition(s).parent.findAncestor("tableCell",{includeSelf:!0})}}function AI(l,t){return l.parent.parent==t.parent.parent}var TI=a(6306),fH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(TI.Z,fH),TI.Z.locals;function pH(l){const t=l.getSelectedElement();return t&&xI(t)?t:null}function mH(l){const t=l.getFirstPosition();if(!t)return null;let r=t.parent;for(;r;){if(r.is("element")&&xI(r))return r;r=r.parent}return null}function xI(l){return!!l.getCustomProperty("table")&&zn(l)}var EI=a(7368),gH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(EI.Z,gH),EI.Z.locals;var SI=a(9247),bH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(SI.Z,bH),SI.Z.locals;var DI=a(4070),kH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(DI.Z,kH),DI.Z.locals;var II=a(6237),vH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(II.Z,vH),II.Z.locals;var MI=a(5087),_H={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(MI.Z,_H),MI.Z.locals;const Hc=fr.defaultPositions;Hc.northArrowSouth,Hc.northArrowSouthWest,Hc.northArrowSouthEast,Hc.southArrowNorth,Hc.southArrowNorthWest,Hc.southArrowNorthEast,Hc.viewportStickyNorth;var PI=a(7341),yH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(PI.Z,yH),PI.Z.locals;var NI=a(2128),wH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(NI.Z,wH),NI.Z.locals;var BI=a(4101),CH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};st()(BI.Z,CH),BI.Z.locals;var AH=Object.defineProperty,OI=Object.getOwnPropertySymbols,TH=Object.prototype.hasOwnProperty,xH=Object.prototype.propertyIsEnumerable,LI=(l,t,r)=>t in l?AH(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,RI=(l,t)=>{for(var r in t||(t={}))TH.call(t,r)&&LI(l,r,t[r]);if(OI)for(var r of OI(t))xH.call(t,r)&&LI(l,r,t[r]);return l};const EH={autoRefresh:!0},FI=36e5;class __ extends xe(){constructor(t,r={}){if(super(),!t)throw new F("token-missing-token-url",this);r.initValue&&this._validateTokenValue(r.initValue),this.set("value",r.initValue),this._refresh=typeof t=="function"?t:()=>{return s=t,new Promise((c,h)=>{const f=new XMLHttpRequest;f.open("GET",s),f.addEventListener("load",()=>{const g=f.status,b=f.response;return g<200||g>299?h(new F("token-cannot-download-new-token",null)):c(b)}),f.addEventListener("error",()=>h(new Error("Network Error"))),f.addEventListener("abort",()=>h(new Error("Abort"))),f.send()});var s},this._options=RI(RI({},EH),r)}init(){return new Promise((t,r)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),t(this)):this.refreshToken().then(t).catch(r)})}refreshToken(){return this._refresh().then(t=>(this._validateTokenValue(t),this.set("value",t),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(t){const r=typeof t=="string",s=!/^".*"$/.test(t),c=r&&t.split(".").length===3;if(!s||!c)throw new F("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},t)}_getTokenRefreshTimeoutTime(){try{const[,t]=this.value.split("."),{exp:r}=JSON.parse(atob(t));return r?Math.floor((1e3*r-Date.now())/2):FI}catch{return FI}}static create(t,r={}){return new __(t,r).init()}}const y_=/^data:(\S*?);base64,/;class SH extends re(){constructor(t,r,s){if(super(),!t)throw new F("fileuploader-missing-file",null);if(!r)throw new F("fileuploader-missing-token",null);if(!s)throw new F("fileuploader-missing-api-address",null);this.file=function(c){if(typeof c!="string")return!1;const h=c.match(y_);return!(!h||!h.length)}(t)?function(c,h=512){try{const f=c.match(y_)[1],g=atob(c.replace(y_,"")),b=[];for(let _=0;_<g.length;_+=h){const C=g.slice(_,_+h),x=new Array(C.length);for(let M=0;M<C.length;M++)x[M]=C.charCodeAt(M);b.push(new Uint8Array(x))}return new Blob(b,{type:f})}catch{throw new F("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=r,this._apiAddress=s}onProgress(t){return this.on("progress",(r,s)=>t(s)),this}onError(t){return this.once("error",(r,s)=>t(s)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this.xhr,r=s=>()=>this.fire("error",s);t.addEventListener("error",r("Network Error")),t.addEventListener("abort",r("Abort")),t.upload&&t.upload.addEventListener("progress",s=>{s.lengthComputable&&this.fire("progress",{total:s.total,uploaded:s.loaded})}),t.addEventListener("load",()=>{const s=t.status,c=t.response;if(s<200||s>299)return this.fire("error",c.message||c.error)})}_sendRequest(){const t=new FormData,r=this.xhr;return t.append("file",this.file),new Promise((s,c)=>{r.addEventListener("load",()=>{const h=r.status,f=r.response;return h<200||h>299?f.message?c(new F("fileuploader-uploading-data-failed",this,{message:f.message})):c(f.error):s(f)}),r.addEventListener("error",()=>c(new Error("Network Error"))),r.addEventListener("abort",()=>c(new Error("Abort"))),r.send(t)})}}class DH{constructor(t,r){if(!t)throw new F("uploadgateway-missing-token",null);if(!r)throw new F("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=r}upload(t){return new SH(t,this._token,this._apiAddress)}}class IH extends Km{static get pluginName(){return"CloudServicesCore"}createToken(t,r){return new __(t,r)}createUploadGateway(t,r){return new DH(t,r)}}var jI=(l,t,r)=>new Promise((s,c)=>{var h=b=>{try{g(r.next(b))}catch(_){c(_)}},f=b=>{try{g(r.throw(b))}catch(_){c(_)}},g=b=>b.done?s(b.value):Promise.resolve(b.value).then(h,f);g((r=r.apply(l,t)).next())});class w_ extends vg{}w_.builtinPlugins=[class extends Ze{static get requires(){return[PE,Cg,Sj,sj,Q9,jE]}static get pluginName(){return"Essentials"}},class extends Ze{static get requires(){return[Bo]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const l=this.editor.config.get("ckfinder.uploadUrl");l&&(this.editor.plugins.get(Bo).createUploadAdapter=t=>new Uj(t,l,this.editor.t))}},class extends Ze{static get requires(){return[ua]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const l=this.editor.commands;l.get("bulletedList")&&pl(this.editor,this,/^[*-]\s$/,"bulletedList"),l.get("numberedList")&&pl(this.editor,this,/^1[.|)]\s$/,"numberedList"),l.get("todoList")&&pl(this.editor,this,/^\[\s?\]\s$/,"todoList"),l.get("checkTodoList")&&pl(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const l=this.editor.commands;if(l.get("bold")){const t=xg(this.editor,"bold");Td(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),Td(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(l.get("italic")){const t=xg(this.editor,"italic");Td(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),Td(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(l.get("code")){const t=xg(this.editor,"code");Td(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(l.get("strikethrough")){const t=xg(this.editor,"strikethrough");Td(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const l=this.editor.commands.get("heading");l&&l.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const r=t[7],s=new RegExp(`^(#{${r}})\\s$`);pl(this.editor,this,s,()=>{if(!l.isEnabled||l.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&pl(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const l=this.editor,t=l.model.document.selection;l.commands.get("codeBlock")&&pl(l,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&pl(this.editor,this,/^---$/,"horizontalLine")}},class extends Ze{static get requires(){return[Hj,$j]}static get pluginName(){return"Bold"}},class extends Ze{static get requires(){return[Wj,Gj]}static get pluginName(){return"Italic"}},class extends Ze{static get requires(){return[Yj,Zj]}static get pluginName(){return"BlockQuote"}},class extends Ze{static get pluginName(){return"CKBox"}static get requires(){return[Yv,Xj]}},class extends Ze{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",cz,az]}},class extends Km{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[IH]}init(){return jI(this,null,function*(){const l=this.context.config.get("cloudServices")||{};for(const[r,s]of Object.entries(l))this[r]=s;if(!this.tokenUrl)return void(this.token=null);const t=this.context.plugins.get("CloudServicesCore");this.token=yield t.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(l){return jI(this,null,function*(){if(this._tokens.has(l))return this.getTokenFor(l);const t=this.context.plugins.get("CloudServicesCore"),r=yield t.createToken(l).init();return this._tokens.set(l,r),r})}getTokenFor(l){const t=this._tokens.get(l);if(!t)throw new F("cloudservices-token-not-registered",this);return t}destroy(){super.destroy();for(const l of this._tokens.values())l.destroy()}},class extends Ze{static get pluginName(){return"EasyImage"}static get requires(){return[uz,"ImageUpload"]}init(){const l=this.editor;l.plugins.has("ImageBlockEditing")||l.plugins.has("ImageInlineEditing")||Q("easy-image-image-feature-missing",l)}},class extends Ze{static get requires(){return[mz,bz]}static get pluginName(){return"Heading"}},class extends Ze{static get requires(){return[Bz,Lz]}static get pluginName(){return"Image"}},class extends Ze{static get requires(){return[Fz,jz]}static get pluginName(){return"ImageCaption"}},class extends Ze{static get requires(){return[GS,uV]}static get pluginName(){return"ImageStyle"}},class extends Ze{static get requires(){return[Tg,Oo]}static get pluginName(){return"ImageToolbar"}afterInit(){const l=this.editor,t=l.t,r=l.plugins.get(Tg),s=l.plugins.get("ImageUtils");var c;r.register("image",{ariaLabel:t("Image toolbar"),items:(c=l.config.get("image.toolbar")||[],c.map(h=>Ke(h)?h.name:h)),getRelatedElement:h=>s.getClosestSelectedImageWidget(h)})}},class extends Ze{static get pluginName(){return"ImageUpload"}static get requires(){return[Jz,Uz,Wz]}},class extends Ze{static get pluginName(){return"Indent"}static get requires(){return[dV,hV]}},class extends Ze{static get requires(){return[RV,UV,$V]}static get pluginName(){return"Link"}},class extends Ze{static get requires(){return[dU,XV]}static get pluginName(){return"List"}},class extends Ze{static get requires(){return[Mg,_U,bU,$f]}static get pluginName(){return"MediaEmbed"}},Qv,class extends Ze{static get pluginName(){return"PasteFromOffice"}static get requires(){return[hs]}init(){const l=this.editor,t=l.plugins.get("ClipboardPipeline"),r=l.editing.view.document,s=[];s.push(new DU(r)),s.push(new MU(r)),s.push(new NU(r)),t.on("inputTransformation",(c,h)=>{if(h._isTransformedWithPasteFromOffice||l.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const f=h.dataTransfer.getData("text/html"),g=s.find(b=>b.isActive(f));g&&(h._parsedData||(h._parsedData=BU(f,r.stylesProcessor)),g.execute(h),h._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends Ze{static get requires(){return[Xv,Oo]}static get pluginName(){return"PictureEditing"}afterInit(){const l=this.editor;l.plugins.has("ImageBlockEditing")&&l.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),l.plugins.has("ImageInlineEditing")&&l.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const l=this.editor,t=l.conversion,r=l.plugins.get("ImageUtils");t.for("upcast").add(function(s){const c=["srcset","media","type","sizes"],h=(f,g,b)=>{const _=g.viewItem;if(!b.consumable.test(_,{name:!0}))return;const C=new Map;for(const z of _.getChildren())if(z.is("element","source")){const H={};for(const G of c)z.hasAttribute(G)&&b.consumable.test(z,{attributes:G})&&(H[G]=z.getAttribute(G));Object.keys(H).length&&C.set(z,H)}const x=s.findViewImgElement(_);if(!x)return;let M=g.modelCursor.parent;if(!M.is("element","imageBlock")){const z=b.convertItem(x,g.modelCursor);g.modelRange=z.modelRange,g.modelCursor=z.modelCursor,M=Je(z.modelRange.getItems())}b.consumable.consume(_,{name:!0});for(const[z,H]of C)b.consumable.consume(z,{attributes:Object.keys(H)});C.size&&b.writer.setAttribute("sources",Array.from(C.values()),M),b.convertChildren(_,M)};return f=>{f.on("element:picture",h)}}(r)),t.for("downcast").add(function(s){const c=(h,f,g)=>{if(!g.consumable.consume(f.item,h.name))return;const b=g.writer,_=g.mapper.toViewElement(f.item),C=s.findViewImgElement(_),x=f.attributeNewValue;if(x&&x.length){const M=b.createContainerElement("picture",null,x.map(G=>b.createEmptyElement("source",G))),z=[];let H=C.parent;for(;H&&H.is("attributeElement");){const G=H.parent;b.unwrap(b.createRangeOn(C),H),z.unshift(H),H=G}b.insert(b.createPositionBefore(C),M),b.move(b.createRangeOn(C),b.createPositionAt(M,"end"));for(const G of z)b.wrap(b.createRangeOn(M),G)}else if(C.parent.is("element","picture")){const M=C.parent;b.move(b.createRangeOn(C),b.createPositionBefore(M)),b.remove(M)}};return h=>{h.on("attribute:sources:imageBlock",c),h.on("attribute:sources:imageInline",c)}}(r))}_setupImageUploadEditingIntegration(){const l=this.editor;if(!l.plugins.has("ImageUploadEditing"))return;const t=l.plugins.get("ImageUploadEditing");this.listenTo(t,"uploadComplete",(r,{imageElement:s,data:c})=>{const h=c.sources;h&&l.model.change(f=>{f.setAttributes({sources:h},s)})})}},class extends Ze{static get requires(){return[iH,sH,Uc,hH,uH,cH,$f]}static get pluginName(){return"Table"}},class extends Ze{static get requires(){return[Tg]}static get pluginName(){return"TableToolbar"}afterInit(){const l=this.editor,t=l.t,r=l.plugins.get(Tg),s=l.config.get("table.contentToolbar"),c=l.config.get("table.tableToolbar");s&&r.register("tableContent",{ariaLabel:t("Table toolbar"),items:s,getRelatedElement:mH}),c&&r.register("table",{ariaLabel:t("Table toolbar"),items:c,getRelatedElement:pH})}},class extends Ze{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(l){super(l),l.config.define("typing",{transformations:{include:J9}})}init(){const l=this.editor.model.document.selection;l.on("change:range",()=>{this.isEnabled=!l.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const l=this.editor,t=l.model,r=l.plugins.get("Delete"),s=function(h){const f=h.extra||[],g=h.remove||[],b=_=>!g.includes(_);return function(_){const C=new Set;for(const x of _)if(typeof x=="string"&&cE[x])for(const M of cE[x])C.add(M);else C.add(x);return Array.from(C)}(h.include.concat(f).filter(b)).filter(b).map(_=>typeof _=="string"&&lE[_]?lE[_]:_).filter(_=>typeof _=="object").map(_=>({from:ej(_.from),to:tj(_.to)}))}(l.config.get("typing.transformations")),c=new oE(l.model,h=>{for(const f of s)if(f.from.test(h))return{normalizedTransformation:f}});c.on("matched:data",(h,f)=>{if(!f.batch.isTyping)return;const{from:g,to:b}=f.normalizedTransformation,_=g.exec(f.text),C=b(_.slice(1)),x=f.range;let M=_.index;t.enqueueChange(z=>{for(let H=1;H<_.length;H++){const G=_[H],Z=C[H-1];if(Z==null){M+=G.length;continue}const se=x.start.getShiftedBy(M),ye=t.createRange(se,se.getShiftedBy(G.length)),Be=nj(se);t.insertContent(z.createText(Z,Be),ye),M+=Z.length}t.enqueueChange(()=>{r.requestUndoOnBackspace()})})}),c.bind("isEnabled").to(this)}}],w_.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),u=u.default})())})(O0,O0.exports);var rZ=O0.exports;const oZ=zs(rZ),sZ={props:["form","errors","validate","categoryEnum"],data(){return{editor:oZ}}},aZ={class:"row flex-column flex-md-row py-1"},lZ=v.createElementVNode("div",{class:"col col-md-3"},"Name",-1),cZ={class:"col"},uZ={key:0,class:"text-danger text-center"},dZ={class:"row flex-column flex-md-row py-1"},hZ=v.createElementVNode("div",{class:"col col-md-3"},"Category",-1),fZ={class:"col"},pZ=v.createElementVNode("option",{value:"0"},"Select a Category",-1),mZ=["value"],gZ={key:0,class:"text-danger text-center"},bZ={class:"row flex-column flex-md-row py-1"},kZ=v.createElementVNode("div",{class:"col col-md-3"},"Description",-1),vZ={class:"col"},_Z={key:0,class:"text-danger text-center"};function yZ(n,e,i,o,a,u){const d=v.resolveComponent("ckeditor");return v.openBlock(),v.createElementBlock("div",null,[v.createElementVNode("div",aZ,[lZ,v.createElementVNode("div",cZ,[v.withDirectives(v.createElementVNode("input",{"onUpdate:modelValue":e[0]||(e[0]=p=>i.form.name=p),class:"form-control",type:"text"},null,512),[[v.vModelText,i.form.name]]),i.errors.name?(v.openBlock(),v.createElementBlock("p",uZ,v.toDisplayString(i.errors.name[0]),1)):v.createCommentVNode("",!0)])]),v.createElementVNode("div",dZ,[hZ,v.createElementVNode("div",fZ,[v.withDirectives(v.createElementVNode("select",{class:"form-control","onUpdate:modelValue":e[1]||(e[1]=p=>i.form.category=p)},[pZ,(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(i.categoryEnum,(p,m)=>(v.openBlock(),v.createElementBlock("option",{key:m,value:m},v.toDisplayString(p),9,mZ))),128))],512),[[v.vModelSelect,i.form.category]]),i.errors.category?(v.openBlock(),v.createElementBlock("p",gZ,v.toDisplayString(i.errors.category[0]),1)):v.createCommentVNode("",!0)])]),v.createElementVNode("div",bZ,[kZ,v.createElementVNode("div",vZ,[v.createVNode(d,{editor:a.editor,modelValue:i.form.description,"onUpdate:modelValue":e[2]||(e[2]=p=>i.form.description=p)},null,8,["editor","modelValue"]),i.errors.description?(v.openBlock(),v.createElementBlock("p",_Z,v.toDisplayString(i.errors.description[0]),1)):v.createCommentVNode("",!0)])])])}const wZ=Ru(sZ,[["render",yZ]]);const CZ={props:["form","errors","validate"],methods:{filesChanged(){const n=Array.from(this.$refs.images.files);this.form.images=[...this.form.images,...n.map(e=>({preview:URL.createObjectURL(e),file:e}))],this.$refs.images.value="",this.validate()},remove(n,e){n.hasOwnProperty("id")&&this.form.deletedImages.push(n.id),this.form.images.splice(e,1),this.validate()}}},hB=n=>(v.pushScopeId("data-v-022c999d"),n=n(),v.popScopeId(),n),AZ={class:"row flex-column flex-md-row"},TZ={class:"delete-button-container"},xZ=["onClick"],EZ=hB(()=>v.createElementVNode("i",{class:"fas fa-close"},null,-1)),SZ=[EZ],DZ=["src"],IZ={class:"col col-md-4 my-auto text-center"},MZ=hB(()=>v.createElementVNode("i",{class:"fas fa-plus"},null,-1)),PZ=[MZ],NZ={key:0,class:"col text-danger text-center"};function BZ(n,e,i,o,a,u){return v.openBlock(),v.createElementBlock("div",null,[v.createElementVNode("div",AZ,[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(i.form.images,(d,p)=>(v.openBlock(),v.createElementBlock("div",{class:"col col-md-4 my-3",key:p},[v.createElementVNode("div",TZ,[v.createElementVNode("a",{href:"javascript:void(0)",class:"btn btn-danger delete-button",onClick:m=>u.remove(d,p)},SZ,8,xZ)]),v.createElementVNode("img",{class:"img-preview img-thumbnail col",src:d.preview},null,8,DZ)]))),128)),v.createElementVNode("div",IZ,[v.createElementVNode("input",{class:"d-none",type:"file",multiple:"",accept:".jpg, .jpeg, .png, .gif",ref:"images",onChange:e[0]||(e[0]=(...d)=>u.filesChanged&&u.filesChanged(...d))},null,544),v.createElementVNode("a",{href:"javascript:void(0)",class:"btn btn-light border col",onClick:e[1]||(e[1]=d=>n.$refs.images.click())},PZ),i.errors.images?(v.openBlock(),v.createElementBlock("p",NZ,v.toDisplayString(i.errors.images[0]),1)):v.createCommentVNode("",!0)])])])}const OZ=Ru(CZ,[["render",BZ],["__scopeId","data-v-022c999d"]]);function po(n){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(n)}function At(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function bt(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Et(n){bt(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||po(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ka(n,e){bt(2,arguments);var i=Et(n),o=At(e);return isNaN(o)?new Date(NaN):(o&&i.setDate(i.getDate()+o),i)}function xs(n,e){bt(2,arguments);var i=Et(n),o=At(e);if(isNaN(o))return new Date(NaN);if(!o)return i;var a=i.getDate(),u=new Date(i.getTime());u.setMonth(i.getMonth()+o+1,0);var d=u.getDate();return a>=d?u:(i.setFullYear(u.getFullYear(),u.getMonth(),a),i)}function fB(n,e){if(bt(2,arguments),!e||po(e)!=="object")return new Date(NaN);var i=e.years?At(e.years):0,o=e.months?At(e.months):0,a=e.weeks?At(e.weeks):0,u=e.days?At(e.days):0,d=e.hours?At(e.hours):0,p=e.minutes?At(e.minutes):0,m=e.seconds?At(e.seconds):0,k=Et(n),w=o||i?xs(k,o+i*12):k,y=u||a?ka(w,u+a*7):w,T=p+d*60,E=m+T*60,S=E*1e3,R=new Date(y.getTime()+S);return R}function LZ(n,e){bt(2,arguments);var i=Et(n).getTime(),o=At(e);return new Date(i+o)}var RZ={};function Vs(){return RZ}function Mu(n,e){var i,o,a,u,d,p,m,k;bt(1,arguments);var w=Vs(),y=At((i=(o=(a=(u=e==null?void 0:e.weekStartsOn)!==null&&u!==void 0?u:e==null||(d=e.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&a!==void 0?a:w.weekStartsOn)!==null&&o!==void 0?o:(m=w.locale)===null||m===void 0||(k=m.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&i!==void 0?i:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var T=Et(n),E=T.getDay(),S=(E<y?7:0)+E-y;return T.setDate(T.getDate()-S),T.setHours(0,0,0,0),T}function L0(n){return bt(1,arguments),Mu(n,{weekStartsOn:1})}function FZ(n){bt(1,arguments);var e=Et(n),i=e.getFullYear(),o=new Date(0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);var a=L0(o),u=new Date(0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);var d=L0(u);return e.getTime()>=a.getTime()?i+1:e.getTime()>=d.getTime()?i:i-1}function jZ(n){bt(1,arguments);var e=FZ(n),i=new Date(0);i.setFullYear(e,0,4),i.setHours(0,0,0,0);var o=L0(i);return o}function R0(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function i3(n){bt(1,arguments);var e=Et(n);return e.setHours(0,0,0,0),e}var zZ=864e5;function VZ(n,e){bt(2,arguments);var i=i3(n),o=i3(e),a=i.getTime()-R0(i),u=o.getTime()-R0(o);return Math.round((a-u)/zZ)}function YC(n,e){bt(2,arguments);var i=At(e);return xs(n,i*12)}var QC=6e4,ZC=36e5,UZ=1e3;function pB(n){return bt(1,arguments),n instanceof Date||po(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Cp(n){if(bt(1,arguments),!pB(n)&&typeof n!="number")return!1;var e=Et(n);return!isNaN(Number(e))}function mB(n,e){var i;bt(1,arguments);var o=n||{},a=Et(o.start),u=Et(o.end),d=u.getTime();if(!(a.getTime()<=d))throw new RangeError("Invalid interval");var p=[],m=a;m.setHours(0,0,0,0);var k=Number((i=e==null?void 0:e.step)!==null&&i!==void 0?i:1);if(k<1||isNaN(k))throw new RangeError("`options.step` must be a number greater than 1");for(;m.getTime()<=d;)p.push(Et(m)),m.setDate(m.getDate()+k),m.setHours(0,0,0,0);return p}function HZ(n,e){var i,o,a,u,d,p,m,k;bt(1,arguments);var w=Vs(),y=At((i=(o=(a=(u=e==null?void 0:e.weekStartsOn)!==null&&u!==void 0?u:e==null||(d=e.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&a!==void 0?a:w.weekStartsOn)!==null&&o!==void 0?o:(m=w.locale)===null||m===void 0||(k=m.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&i!==void 0?i:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var T=Et(n),E=T.getDay(),S=(E<y?-7:0)+6-(E-y);return T.setDate(T.getDate()+S),T.setHours(23,59,59,999),T}function gB(n,e){bt(2,arguments);var i=At(e);return LZ(n,-i)}var $Z=864e5;function qZ(n){bt(1,arguments);var e=Et(n),i=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var o=e.getTime(),a=i-o;return Math.floor(a/$Z)+1}function mh(n){bt(1,arguments);var e=1,i=Et(n),o=i.getUTCDay(),a=(o<e?7:0)+o-e;return i.setUTCDate(i.getUTCDate()-a),i.setUTCHours(0,0,0,0),i}function bB(n){bt(1,arguments);var e=Et(n),i=e.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(i+1,0,4),o.setUTCHours(0,0,0,0);var a=mh(o),u=new Date(0);u.setUTCFullYear(i,0,4),u.setUTCHours(0,0,0,0);var d=mh(u);return e.getTime()>=a.getTime()?i+1:e.getTime()>=d.getTime()?i:i-1}function WZ(n){bt(1,arguments);var e=bB(n),i=new Date(0);i.setUTCFullYear(e,0,4),i.setUTCHours(0,0,0,0);var o=mh(i);return o}var GZ=6048e5;function kB(n){bt(1,arguments);var e=Et(n),i=mh(e).getTime()-WZ(e).getTime();return Math.round(i/GZ)+1}function Pu(n,e){var i,o,a,u,d,p,m,k;bt(1,arguments);var w=Vs(),y=At((i=(o=(a=(u=e==null?void 0:e.weekStartsOn)!==null&&u!==void 0?u:e==null||(d=e.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&a!==void 0?a:w.weekStartsOn)!==null&&o!==void 0?o:(m=w.locale)===null||m===void 0||(k=m.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&i!==void 0?i:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var T=Et(n),E=T.getUTCDay(),S=(E<y?7:0)+E-y;return T.setUTCDate(T.getUTCDate()-S),T.setUTCHours(0,0,0,0),T}function XC(n,e){var i,o,a,u,d,p,m,k;bt(1,arguments);var w=Et(n),y=w.getUTCFullYear(),T=Vs(),E=At((i=(o=(a=(u=e==null?void 0:e.firstWeekContainsDate)!==null&&u!==void 0?u:e==null||(d=e.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:T.firstWeekContainsDate)!==null&&o!==void 0?o:(m=T.locale)===null||m===void 0||(k=m.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=new Date(0);S.setUTCFullYear(y+1,0,E),S.setUTCHours(0,0,0,0);var R=Pu(S,e),V=new Date(0);V.setUTCFullYear(y,0,E),V.setUTCHours(0,0,0,0);var L=Pu(V,e);return w.getTime()>=R.getTime()?y+1:w.getTime()>=L.getTime()?y:y-1}function KZ(n,e){var i,o,a,u,d,p,m,k;bt(1,arguments);var w=Vs(),y=At((i=(o=(a=(u=e==null?void 0:e.firstWeekContainsDate)!==null&&u!==void 0?u:e==null||(d=e.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:w.firstWeekContainsDate)!==null&&o!==void 0?o:(m=w.locale)===null||m===void 0||(k=m.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&i!==void 0?i:1),T=XC(n,e),E=new Date(0);E.setUTCFullYear(T,0,y),E.setUTCHours(0,0,0,0);var S=Pu(E,e);return S}var YZ=6048e5;function vB(n,e){bt(1,arguments);var i=Et(n),o=Pu(i,e).getTime()-KZ(i,e).getTime();return Math.round(o/YZ)+1}function un(n,e){for(var i=n<0?"-":"",o=Math.abs(n).toString();o.length<e;)o="0"+o;return i+o}var QZ={y:function(e,i){var o=e.getUTCFullYear(),a=o>0?o:1-o;return un(i==="yy"?a%100:a,i.length)},M:function(e,i){var o=e.getUTCMonth();return i==="M"?String(o+1):un(o+1,2)},d:function(e,i){return un(e.getUTCDate(),i.length)},a:function(e,i){var o=e.getUTCHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h:function(e,i){return un(e.getUTCHours()%12||12,i.length)},H:function(e,i){return un(e.getUTCHours(),i.length)},m:function(e,i){return un(e.getUTCMinutes(),i.length)},s:function(e,i){return un(e.getUTCSeconds(),i.length)},S:function(e,i){var o=i.length,a=e.getUTCMilliseconds(),u=Math.floor(a*Math.pow(10,o-3));return un(u,i.length)}};const _l=QZ;var Nd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZZ={G:function(e,i,o){var a=e.getUTCFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return o.era(a,{width:"abbreviated"});case"GGGGG":return o.era(a,{width:"narrow"});case"GGGG":default:return o.era(a,{width:"wide"})}},y:function(e,i,o){if(i==="yo"){var a=e.getUTCFullYear(),u=a>0?a:1-a;return o.ordinalNumber(u,{unit:"year"})}return _l.y(e,i)},Y:function(e,i,o,a){var u=XC(e,a),d=u>0?u:1-u;if(i==="YY"){var p=d%100;return un(p,2)}return i==="Yo"?o.ordinalNumber(d,{unit:"year"}):un(d,i.length)},R:function(e,i){var o=bB(e);return un(o,i.length)},u:function(e,i){var o=e.getUTCFullYear();return un(o,i.length)},Q:function(e,i,o){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(i){case"Q":return String(a);case"QQ":return un(a,2);case"Qo":return o.ordinalNumber(a,{unit:"quarter"});case"QQQ":return o.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,i,o){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(i){case"q":return String(a);case"qq":return un(a,2);case"qo":return o.ordinalNumber(a,{unit:"quarter"});case"qqq":return o.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,i,o){var a=e.getUTCMonth();switch(i){case"M":case"MM":return _l.M(e,i);case"Mo":return o.ordinalNumber(a+1,{unit:"month"});case"MMM":return o.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(a,{width:"wide",context:"formatting"})}},L:function(e,i,o){var a=e.getUTCMonth();switch(i){case"L":return String(a+1);case"LL":return un(a+1,2);case"Lo":return o.ordinalNumber(a+1,{unit:"month"});case"LLL":return o.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(a,{width:"wide",context:"standalone"})}},w:function(e,i,o,a){var u=vB(e,a);return i==="wo"?o.ordinalNumber(u,{unit:"week"}):un(u,i.length)},I:function(e,i,o){var a=kB(e);return i==="Io"?o.ordinalNumber(a,{unit:"week"}):un(a,i.length)},d:function(e,i,o){return i==="do"?o.ordinalNumber(e.getUTCDate(),{unit:"date"}):_l.d(e,i)},D:function(e,i,o){var a=qZ(e);return i==="Do"?o.ordinalNumber(a,{unit:"dayOfYear"}):un(a,i.length)},E:function(e,i,o){var a=e.getUTCDay();switch(i){case"E":case"EE":case"EEE":return o.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(a,{width:"short",context:"formatting"});case"EEEE":default:return o.day(a,{width:"wide",context:"formatting"})}},e:function(e,i,o,a){var u=e.getUTCDay(),d=(u-a.weekStartsOn+8)%7||7;switch(i){case"e":return String(d);case"ee":return un(d,2);case"eo":return o.ordinalNumber(d,{unit:"day"});case"eee":return o.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(u,{width:"short",context:"formatting"});case"eeee":default:return o.day(u,{width:"wide",context:"formatting"})}},c:function(e,i,o,a){var u=e.getUTCDay(),d=(u-a.weekStartsOn+8)%7||7;switch(i){case"c":return String(d);case"cc":return un(d,i.length);case"co":return o.ordinalNumber(d,{unit:"day"});case"ccc":return o.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(u,{width:"narrow",context:"standalone"});case"cccccc":return o.day(u,{width:"short",context:"standalone"});case"cccc":default:return o.day(u,{width:"wide",context:"standalone"})}},i:function(e,i,o){var a=e.getUTCDay(),u=a===0?7:a;switch(i){case"i":return String(u);case"ii":return un(u,i.length);case"io":return o.ordinalNumber(u,{unit:"day"});case"iii":return o.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(a,{width:"short",context:"formatting"});case"iiii":default:return o.day(a,{width:"wide",context:"formatting"})}},a:function(e,i,o){var a=e.getUTCHours(),u=a/12>=1?"pm":"am";switch(i){case"a":case"aa":return o.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(u,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(e,i,o){var a=e.getUTCHours(),u;switch(a===12?u=Nd.noon:a===0?u=Nd.midnight:u=a/12>=1?"pm":"am",i){case"b":case"bb":return o.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(u,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(e,i,o){var a=e.getUTCHours(),u;switch(a>=17?u=Nd.evening:a>=12?u=Nd.afternoon:a>=4?u=Nd.morning:u=Nd.night,i){case"B":case"BB":case"BBB":return o.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(u,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(e,i,o){if(i==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),o.ordinalNumber(a,{unit:"hour"})}return _l.h(e,i)},H:function(e,i,o){return i==="Ho"?o.ordinalNumber(e.getUTCHours(),{unit:"hour"}):_l.H(e,i)},K:function(e,i,o){var a=e.getUTCHours()%12;return i==="Ko"?o.ordinalNumber(a,{unit:"hour"}):un(a,i.length)},k:function(e,i,o){var a=e.getUTCHours();return a===0&&(a=24),i==="ko"?o.ordinalNumber(a,{unit:"hour"}):un(a,i.length)},m:function(e,i,o){return i==="mo"?o.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):_l.m(e,i)},s:function(e,i,o){return i==="so"?o.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):_l.s(e,i)},S:function(e,i){return _l.S(e,i)},X:function(e,i,o,a){var u=a._originalDate||e,d=u.getTimezoneOffset();if(d===0)return"Z";switch(i){case"X":return o3(d);case"XXXX":case"XX":return Qc(d);case"XXXXX":case"XXX":default:return Qc(d,":")}},x:function(e,i,o,a){var u=a._originalDate||e,d=u.getTimezoneOffset();switch(i){case"x":return o3(d);case"xxxx":case"xx":return Qc(d);case"xxxxx":case"xxx":default:return Qc(d,":")}},O:function(e,i,o,a){var u=a._originalDate||e,d=u.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+r3(d,":");case"OOOO":default:return"GMT"+Qc(d,":")}},z:function(e,i,o,a){var u=a._originalDate||e,d=u.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+r3(d,":");case"zzzz":default:return"GMT"+Qc(d,":")}},t:function(e,i,o,a){var u=a._originalDate||e,d=Math.floor(u.getTime()/1e3);return un(d,i.length)},T:function(e,i,o,a){var u=a._originalDate||e,d=u.getTime();return un(d,i.length)}};function r3(n,e){var i=n>0?"-":"+",o=Math.abs(n),a=Math.floor(o/60),u=o%60;if(u===0)return i+String(a);var d=e||"";return i+String(a)+d+un(u,2)}function o3(n,e){if(n%60===0){var i=n>0?"-":"+";return i+un(Math.abs(n)/60,2)}return Qc(n,e)}function Qc(n,e){var i=e||"",o=n>0?"-":"+",a=Math.abs(n),u=un(Math.floor(a/60),2),d=un(a%60,2);return o+u+i+d}const XZ=ZZ;var s3=function(e,i){switch(e){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}},_B=function(e,i){switch(e){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}},JZ=function(e,i){var o=e.match(/(P+)(p+)?/)||[],a=o[1],u=o[2];if(!u)return s3(e,i);var d;switch(a){case"P":d=i.dateTime({width:"short"});break;case"PP":d=i.dateTime({width:"medium"});break;case"PPP":d=i.dateTime({width:"long"});break;case"PPPP":default:d=i.dateTime({width:"full"});break}return d.replace("{{date}}",s3(a,i)).replace("{{time}}",_B(u,i))},eX={p:_B,P:JZ};const Wy=eX;var tX=["D","DD"],nX=["YY","YYYY"];function yB(n){return tX.indexOf(n)!==-1}function wB(n){return nX.indexOf(n)!==-1}function F0(n,e,i){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var iX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rX=function(e,i,o){var a,u=iX[e];return typeof u=="string"?a=u:i===1?a=u.one:a=u.other.replace("{{count}}",i.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+a:a+" ago":a};const oX=rX;function j_(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.width?String(e.width):n.defaultWidth,o=n.formats[i]||n.formats[n.defaultWidth];return o}}var sX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cX={date:j_({formats:sX,defaultWidth:"full"}),time:j_({formats:aX,defaultWidth:"full"}),dateTime:j_({formats:lX,defaultWidth:"full"})};const uX=cX;var dX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hX=function(e,i,o,a){return dX[e]};const fX=hX;function Yf(n){return function(e,i){var o=i!=null&&i.context?String(i.context):"standalone",a;if(o==="formatting"&&n.formattingValues){var u=n.defaultFormattingWidth||n.defaultWidth,d=i!=null&&i.width?String(i.width):u;a=n.formattingValues[d]||n.formattingValues[u]}else{var p=n.defaultWidth,m=i!=null&&i.width?String(i.width):n.defaultWidth;a=n.values[m]||n.values[p]}var k=n.argumentCallback?n.argumentCallback(e):e;return a[k]}}var pX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_X=function(e,i){var o=Number(e),a=o%100;if(a>20||a<10)switch(a%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},yX={ordinalNumber:_X,era:Yf({values:pX,defaultWidth:"wide"}),quarter:Yf({values:mX,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Yf({values:gX,defaultWidth:"wide"}),day:Yf({values:bX,defaultWidth:"wide"}),dayPeriod:Yf({values:kX,defaultWidth:"wide",formattingValues:vX,defaultFormattingWidth:"wide"})};const wX=yX;function Qf(n){return function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.width,a=o&&n.matchPatterns[o]||n.matchPatterns[n.defaultMatchWidth],u=e.match(a);if(!u)return null;var d=u[0],p=o&&n.parsePatterns[o]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(p)?AX(p,function(y){return y.test(d)}):CX(p,function(y){return y.test(d)}),k;k=n.valueCallback?n.valueCallback(m):m,k=i.valueCallback?i.valueCallback(k):k;var w=e.slice(d.length);return{value:k,rest:w}}}function CX(n,e){for(var i in n)if(n.hasOwnProperty(i)&&e(n[i]))return i}function AX(n,e){for(var i=0;i<n.length;i++)if(e(n[i]))return i}function TX(n){return function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.match(n.matchPattern);if(!o)return null;var a=o[0],u=e.match(n.parsePattern);if(!u)return null;var d=n.valueCallback?n.valueCallback(u[0]):u[0];d=i.valueCallback?i.valueCallback(d):d;var p=e.slice(a.length);return{value:d,rest:p}}}var xX=/^(\d+)(th|st|nd|rd)?/i,EX=/\d+/i,SX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DX={any:[/^b/i,/^(a|c)/i]},IX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MX={any:[/1/i,/2/i,/3/i,/4/i]},PX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FX={ordinalNumber:TX({matchPattern:xX,parsePattern:EX,valueCallback:function(e){return parseInt(e,10)}}),era:Qf({matchPatterns:SX,defaultMatchWidth:"wide",parsePatterns:DX,defaultParseWidth:"any"}),quarter:Qf({matchPatterns:IX,defaultMatchWidth:"wide",parsePatterns:MX,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Qf({matchPatterns:PX,defaultMatchWidth:"wide",parsePatterns:NX,defaultParseWidth:"any"}),day:Qf({matchPatterns:BX,defaultMatchWidth:"wide",parsePatterns:OX,defaultParseWidth:"any"}),dayPeriod:Qf({matchPatterns:LX,defaultMatchWidth:"any",parsePatterns:RX,defaultParseWidth:"any"})};const jX=FX;var zX={code:"en-US",formatDistance:oX,formatLong:uX,formatRelative:fX,localize:wX,match:jX,options:{weekStartsOn:0,firstWeekContainsDate:1}};const CB=zX;var VX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HX=/^'([^]*?)'?$/,$X=/''/g,qX=/[a-zA-Z]/;function mu(n,e,i){var o,a,u,d,p,m,k,w,y,T,E,S,R,V,L,j,Y,W;bt(2,arguments);var q=String(e),ue=Vs(),te=(o=(a=i==null?void 0:i.locale)!==null&&a!==void 0?a:ue.locale)!==null&&o!==void 0?o:CB,F=At((u=(d=(p=(m=i==null?void 0:i.firstWeekContainsDate)!==null&&m!==void 0?m:i==null||(k=i.locale)===null||k===void 0||(w=k.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&p!==void 0?p:ue.firstWeekContainsDate)!==null&&d!==void 0?d:(y=ue.locale)===null||y===void 0||(T=y.options)===null||T===void 0?void 0:T.firstWeekContainsDate)!==null&&u!==void 0?u:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Q=At((E=(S=(R=(V=i==null?void 0:i.weekStartsOn)!==null&&V!==void 0?V:i==null||(L=i.locale)===null||L===void 0||(j=L.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&R!==void 0?R:ue.weekStartsOn)!==null&&S!==void 0?S:(Y=ue.locale)===null||Y===void 0||(W=Y.options)===null||W===void 0?void 0:W.weekStartsOn)!==null&&E!==void 0?E:0);if(!(Q>=0&&Q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!te.localize)throw new RangeError("locale must contain localize property");if(!te.formatLong)throw new RangeError("locale must contain formatLong property");var de=Et(n);if(!Cp(de))throw new RangeError("Invalid time value");var ee=R0(de),K=gB(de,ee),J={firstWeekContainsDate:F,weekStartsOn:Q,locale:te,_originalDate:de},be=q.match(UX).map(function(ke){var ve=ke[0];if(ve==="p"||ve==="P"){var oe=Wy[ve];return oe(ke,te.formatLong)}return ke}).join("").match(VX).map(function(ke){if(ke==="''")return"'";var ve=ke[0];if(ve==="'")return WX(ke);var oe=XZ[ve];if(oe)return!(i!=null&&i.useAdditionalWeekYearTokens)&&wB(ke)&&F0(ke,e,String(n)),!(i!=null&&i.useAdditionalDayOfYearTokens)&&yB(ke)&&F0(ke,e,String(n)),oe(K,ke,te.localize,J);if(ve.match(qX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ve+"`");return ke}).join("");return be}function WX(n){var e=n.match(HX);return e?e[1].replace($X,"'"):n}function GX(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function KX(n){bt(1,arguments);var e=Et(n),i=e.getDay();return i}function YX(n){bt(1,arguments);var e=Et(n),i=e.getFullYear(),o=e.getMonth(),a=new Date(0);return a.setFullYear(i,o+1,0),a.setHours(0,0,0,0),a.getDate()}function Es(n){bt(1,arguments);var e=Et(n),i=e.getHours();return i}var QX=6048e5;function ZX(n){bt(1,arguments);var e=Et(n),i=L0(e).getTime()-jZ(e).getTime();return Math.round(i/QX)+1}function Ss(n){bt(1,arguments);var e=Et(n),i=e.getMinutes();return i}function tn(n){bt(1,arguments);var e=Et(n),i=e.getMonth();return i}function gh(n){bt(1,arguments);var e=Et(n),i=e.getSeconds();return i}function XX(n,e){var i,o,a,u,d,p,m,k;bt(1,arguments);var w=Et(n),y=w.getFullYear(),T=Vs(),E=At((i=(o=(a=(u=e==null?void 0:e.firstWeekContainsDate)!==null&&u!==void 0?u:e==null||(d=e.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:T.firstWeekContainsDate)!==null&&o!==void 0?o:(m=T.locale)===null||m===void 0||(k=m.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=new Date(0);S.setFullYear(y+1,0,E),S.setHours(0,0,0,0);var R=Mu(S,e),V=new Date(0);V.setFullYear(y,0,E),V.setHours(0,0,0,0);var L=Mu(V,e);return w.getTime()>=R.getTime()?y+1:w.getTime()>=L.getTime()?y:y-1}function JX(n,e){var i,o,a,u,d,p,m,k;bt(1,arguments);var w=Vs(),y=At((i=(o=(a=(u=e==null?void 0:e.firstWeekContainsDate)!==null&&u!==void 0?u:e==null||(d=e.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:w.firstWeekContainsDate)!==null&&o!==void 0?o:(m=w.locale)===null||m===void 0||(k=m.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&i!==void 0?i:1),T=XX(n,e),E=new Date(0);E.setFullYear(T,0,y),E.setHours(0,0,0,0);var S=Mu(E,e);return S}var eJ=6048e5;function tJ(n,e){bt(1,arguments);var i=Et(n),o=Mu(i,e).getTime()-JX(i,e).getTime();return Math.round(o/eJ)+1}function Jt(n){return bt(1,arguments),Et(n).getFullYear()}function Jp(n,e){bt(2,arguments);var i=Et(n),o=Et(e);return i.getTime()>o.getTime()}function em(n,e){bt(2,arguments);var i=Et(n),o=Et(e);return i.getTime()<o.getTime()}function $d(n,e){bt(2,arguments);var i=Et(n),o=Et(e);return i.getTime()===o.getTime()}function a3(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=n[i];return o}function nJ(n,e){if(n){if(typeof n=="string")return a3(n,e);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a3(n,e)}}function l3(n,e){var i=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!i){if(Array.isArray(n)||(i=nJ(n))||e&&n&&typeof n.length=="number"){i&&(n=i);var o=0,a=function(){};return{s:a,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(k){throw k},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,d=!1,p;return{s:function(){i=i.call(n)},n:function(){var k=i.next();return u=k.done,k},e:function(k){d=!0,p=k},f:function(){try{!u&&i.return!=null&&i.return()}finally{if(d)throw p}}}}function ht(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Gy(n,e){return Gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},Gy(n,e)}function Yt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Gy(n,e)}function j0(n){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},j0(n)}function iJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rJ(n,e){if(e&&(po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ht(n)}function Qt(n){var e=iJ();return function(){var o=j0(n),a;if(e){var u=j0(this).constructor;a=Reflect.construct(o,arguments,u)}else a=o.apply(this,arguments);return rJ(this,a)}}function Vt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oJ(n,e){if(po(n)!=="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,e||"default");if(po(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AB(n){var e=oJ(n,"string");return po(e)==="symbol"?e:String(e)}function c3(n,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,AB(o.key),o)}}function Ut(n,e,i){return e&&c3(n.prototype,e),i&&c3(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}function ut(n,e,i){return e=AB(e),e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var sJ=10,TB=function(){function n(){Vt(this,n),ut(this,"priority",void 0),ut(this,"subPriority",0)}return Ut(n,[{key:"validate",value:function(i,o){return!0}}]),n}(),aJ=function(n){Yt(i,n);var e=Qt(i);function i(o,a,u,d,p){var m;return Vt(this,i),m=e.call(this),m.value=o,m.validateValue=a,m.setValue=u,m.priority=d,p&&(m.subPriority=p),m}return Ut(i,[{key:"validate",value:function(a,u){return this.validateValue(a,this.value,u)}},{key:"set",value:function(a,u,d){return this.setValue(a,u,this.value,d)}}]),i}(TB),lJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",sJ),ut(ht(o),"subPriority",-1),o}return Ut(i,[{key:"set",value:function(a,u){if(u.timestampIsSet)return a;var d=new Date(0);return d.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),d.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),d}}]),i}(TB),rn=function(){function n(){Vt(this,n),ut(this,"incompatibleTokens",void 0),ut(this,"priority",void 0),ut(this,"subPriority",void 0)}return Ut(n,[{key:"run",value:function(i,o,a,u){var d=this.parse(i,o,a,u);return d?{setter:new aJ(d.value,this.validate,this.set,this.priority,this.subPriority),rest:d.rest}:null}},{key:"validate",value:function(i,o,a){return!0}}]),n}(),cJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",140),ut(ht(o),"incompatibleTokens",["R","u","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"G":case"GG":case"GGG":return d.era(a,{width:"abbreviated"})||d.era(a,{width:"narrow"});case"GGGGG":return d.era(a,{width:"narrow"});case"GGGG":default:return d.era(a,{width:"wide"})||d.era(a,{width:"abbreviated"})||d.era(a,{width:"narrow"})}}},{key:"set",value:function(a,u,d){return u.era=d,a.setUTCFullYear(d,0,1),a.setUTCHours(0,0,0,0),a}}]),i}(rn),Jn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},_s={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ei(n,e){return n&&{value:e(n.value),rest:n.rest}}function Vn(n,e){var i=e.match(n);return i?{value:parseInt(i[0],10),rest:e.slice(i[0].length)}:null}function ys(n,e){var i=e.match(n);if(!i)return null;if(i[0]==="Z")return{value:0,rest:e.slice(1)};var o=i[1]==="+"?1:-1,a=i[2]?parseInt(i[2],10):0,u=i[3]?parseInt(i[3],10):0,d=i[5]?parseInt(i[5],10):0;return{value:o*(a*ZC+u*QC+d*UZ),rest:e.slice(i[0].length)}}function xB(n){return Vn(Jn.anyDigitsSigned,n)}function Gn(n,e){switch(n){case 1:return Vn(Jn.singleDigit,e);case 2:return Vn(Jn.twoDigits,e);case 3:return Vn(Jn.threeDigits,e);case 4:return Vn(Jn.fourDigits,e);default:return Vn(new RegExp("^\\d{1,"+n+"}"),e)}}function z0(n,e){switch(n){case 1:return Vn(Jn.singleDigitSigned,e);case 2:return Vn(Jn.twoDigitsSigned,e);case 3:return Vn(Jn.threeDigitsSigned,e);case 4:return Vn(Jn.fourDigitsSigned,e);default:return Vn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function JC(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function EB(n,e){var i=e>0,o=i?e:1-e,a;if(o<=50)a=n||100;else{var u=o+50,d=Math.floor(u/100)*100,p=n>=u%100;a=n+d-(p?100:0)}return i?a:1-a}function SB(n){return n%400===0||n%4===0&&n%100!==0}var uJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",130),ut(ht(o),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){var p=function(k){return{year:k,isTwoDigitYear:u==="yy"}};switch(u){case"y":return ei(Gn(4,a),p);case"yo":return ei(d.ordinalNumber(a,{unit:"year"}),p);default:return ei(Gn(u.length,a),p)}}},{key:"validate",value:function(a,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(a,u,d){var p=a.getUTCFullYear();if(d.isTwoDigitYear){var m=EB(d.year,p);return a.setUTCFullYear(m,0,1),a.setUTCHours(0,0,0,0),a}var k=!("era"in u)||u.era===1?d.year:1-d.year;return a.setUTCFullYear(k,0,1),a.setUTCHours(0,0,0,0),a}}]),i}(rn),dJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",130),ut(ht(o),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){var p=function(k){return{year:k,isTwoDigitYear:u==="YY"}};switch(u){case"Y":return ei(Gn(4,a),p);case"Yo":return ei(d.ordinalNumber(a,{unit:"year"}),p);default:return ei(Gn(u.length,a),p)}}},{key:"validate",value:function(a,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(a,u,d,p){var m=XC(a,p);if(d.isTwoDigitYear){var k=EB(d.year,m);return a.setUTCFullYear(k,0,p.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Pu(a,p)}var w=!("era"in u)||u.era===1?d.year:1-d.year;return a.setUTCFullYear(w,0,p.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Pu(a,p)}}]),i}(rn),hJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",130),ut(ht(o),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u){return z0(u==="R"?4:u.length,a)}},{key:"set",value:function(a,u,d){var p=new Date(0);return p.setUTCFullYear(d,0,4),p.setUTCHours(0,0,0,0),mh(p)}}]),i}(rn),fJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",130),ut(ht(o),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u){return z0(u==="u"?4:u.length,a)}},{key:"set",value:function(a,u,d){return a.setUTCFullYear(d,0,1),a.setUTCHours(0,0,0,0),a}}]),i}(rn),pJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",120),ut(ht(o),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"Q":case"QQ":return Gn(u.length,a);case"Qo":return d.ordinalNumber(a,{unit:"quarter"});case"QQQ":return d.quarter(a,{width:"abbreviated",context:"formatting"})||d.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return d.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return d.quarter(a,{width:"wide",context:"formatting"})||d.quarter(a,{width:"abbreviated",context:"formatting"})||d.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=1&&u<=4}},{key:"set",value:function(a,u,d){return a.setUTCMonth((d-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),i}(rn),mJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",120),ut(ht(o),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"q":case"qq":return Gn(u.length,a);case"qo":return d.ordinalNumber(a,{unit:"quarter"});case"qqq":return d.quarter(a,{width:"abbreviated",context:"standalone"})||d.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return d.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return d.quarter(a,{width:"wide",context:"standalone"})||d.quarter(a,{width:"abbreviated",context:"standalone"})||d.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,u){return u>=1&&u<=4}},{key:"set",value:function(a,u,d){return a.setUTCMonth((d-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),i}(rn),gJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ut(ht(o),"priority",110),o}return Ut(i,[{key:"parse",value:function(a,u,d){var p=function(k){return k-1};switch(u){case"M":return ei(Vn(Jn.month,a),p);case"MM":return ei(Gn(2,a),p);case"Mo":return ei(d.ordinalNumber(a,{unit:"month"}),p);case"MMM":return d.month(a,{width:"abbreviated",context:"formatting"})||d.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return d.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return d.month(a,{width:"wide",context:"formatting"})||d.month(a,{width:"abbreviated",context:"formatting"})||d.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=11}},{key:"set",value:function(a,u,d){return a.setUTCMonth(d,1),a.setUTCHours(0,0,0,0),a}}]),i}(rn),bJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",110),ut(ht(o),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){var p=function(k){return k-1};switch(u){case"L":return ei(Vn(Jn.month,a),p);case"LL":return ei(Gn(2,a),p);case"Lo":return ei(d.ordinalNumber(a,{unit:"month"}),p);case"LLL":return d.month(a,{width:"abbreviated",context:"standalone"})||d.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return d.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return d.month(a,{width:"wide",context:"standalone"})||d.month(a,{width:"abbreviated",context:"standalone"})||d.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=11}},{key:"set",value:function(a,u,d){return a.setUTCMonth(d,1),a.setUTCHours(0,0,0,0),a}}]),i}(rn);function kJ(n,e,i){bt(2,arguments);var o=Et(n),a=At(e),u=vB(o,i)-a;return o.setUTCDate(o.getUTCDate()-u*7),o}var vJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",100),ut(ht(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"w":return Vn(Jn.week,a);case"wo":return d.ordinalNumber(a,{unit:"week"});default:return Gn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=53}},{key:"set",value:function(a,u,d,p){return Pu(kJ(a,d,p),p)}}]),i}(rn);function _J(n,e){bt(2,arguments);var i=Et(n),o=At(e),a=kB(i)-o;return i.setUTCDate(i.getUTCDate()-a*7),i}var yJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",100),ut(ht(o),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"I":return Vn(Jn.week,a);case"Io":return d.ordinalNumber(a,{unit:"week"});default:return Gn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=53}},{key:"set",value:function(a,u,d){return mh(_J(a,d))}}]),i}(rn),wJ=[31,28,31,30,31,30,31,31,30,31,30,31],CJ=[31,29,31,30,31,30,31,31,30,31,30,31],AJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",90),ut(ht(o),"subPriority",1),ut(ht(o),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"d":return Vn(Jn.date,a);case"do":return d.ordinalNumber(a,{unit:"date"});default:return Gn(u.length,a)}}},{key:"validate",value:function(a,u){var d=a.getUTCFullYear(),p=SB(d),m=a.getUTCMonth();return p?u>=1&&u<=CJ[m]:u>=1&&u<=wJ[m]}},{key:"set",value:function(a,u,d){return a.setUTCDate(d),a.setUTCHours(0,0,0,0),a}}]),i}(rn),TJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",90),ut(ht(o),"subpriority",1),ut(ht(o),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"D":case"DD":return Vn(Jn.dayOfYear,a);case"Do":return d.ordinalNumber(a,{unit:"date"});default:return Gn(u.length,a)}}},{key:"validate",value:function(a,u){var d=a.getUTCFullYear(),p=SB(d);return p?u>=1&&u<=366:u>=1&&u<=365}},{key:"set",value:function(a,u,d){return a.setUTCMonth(0,d),a.setUTCHours(0,0,0,0),a}}]),i}(rn);function e1(n,e,i){var o,a,u,d,p,m,k,w;bt(2,arguments);var y=Vs(),T=At((o=(a=(u=(d=i==null?void 0:i.weekStartsOn)!==null&&d!==void 0?d:i==null||(p=i.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&u!==void 0?u:y.weekStartsOn)!==null&&a!==void 0?a:(k=y.locale)===null||k===void 0||(w=k.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&o!==void 0?o:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var E=Et(n),S=At(e),R=E.getUTCDay(),V=S%7,L=(V+7)%7,j=(L<T?7:0)+S-R;return E.setUTCDate(E.getUTCDate()+j),E}var xJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",90),ut(ht(o),"incompatibleTokens",["D","i","e","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"E":case"EE":case"EEE":return d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return d.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=6}},{key:"set",value:function(a,u,d,p){return a=e1(a,d,p),a.setUTCHours(0,0,0,0),a}}]),i}(rn),EJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",90),ut(ht(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d,p){var m=function(w){var y=Math.floor((w-1)/7)*7;return(w+p.weekStartsOn+6)%7+y};switch(u){case"e":case"ee":return ei(Gn(u.length,a),m);case"eo":return ei(d.ordinalNumber(a,{unit:"day"}),m);case"eee":return d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"eeeee":return d.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=6}},{key:"set",value:function(a,u,d,p){return a=e1(a,d,p),a.setUTCHours(0,0,0,0),a}}]),i}(rn),SJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",90),ut(ht(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d,p){var m=function(w){var y=Math.floor((w-1)/7)*7;return(w+p.weekStartsOn+6)%7+y};switch(u){case"c":case"cc":return ei(Gn(u.length,a),m);case"co":return ei(d.ordinalNumber(a,{unit:"day"}),m);case"ccc":return d.day(a,{width:"abbreviated",context:"standalone"})||d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"});case"ccccc":return d.day(a,{width:"narrow",context:"standalone"});case"cccccc":return d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return d.day(a,{width:"wide",context:"standalone"})||d.day(a,{width:"abbreviated",context:"standalone"})||d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=6}},{key:"set",value:function(a,u,d,p){return a=e1(a,d,p),a.setUTCHours(0,0,0,0),a}}]),i}(rn);function DJ(n,e){bt(2,arguments);var i=At(e);i%7===0&&(i=i-7);var o=1,a=Et(n),u=a.getUTCDay(),d=i%7,p=(d+7)%7,m=(p<o?7:0)+i-u;return a.setUTCDate(a.getUTCDate()+m),a}var IJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",90),ut(ht(o),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){var p=function(k){return k===0?7:k};switch(u){case"i":case"ii":return Gn(u.length,a);case"io":return d.ordinalNumber(a,{unit:"day"});case"iii":return ei(d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),p);case"iiiii":return ei(d.day(a,{width:"narrow",context:"formatting"}),p);case"iiiiii":return ei(d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),p);case"iiii":default:return ei(d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),p)}}},{key:"validate",value:function(a,u){return u>=1&&u<=7}},{key:"set",value:function(a,u,d){return a=DJ(a,d),a.setUTCHours(0,0,0,0),a}}]),i}(rn),MJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",80),ut(ht(o),"incompatibleTokens",["b","B","H","k","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"a":case"aa":case"aaa":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,u,d){return a.setUTCHours(JC(d),0,0,0),a}}]),i}(rn),PJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",80),ut(ht(o),"incompatibleTokens",["a","B","H","k","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"b":case"bb":case"bbb":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,u,d){return a.setUTCHours(JC(d),0,0,0),a}}]),i}(rn),NJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",80),ut(ht(o),"incompatibleTokens",["a","b","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"B":case"BB":case"BBB":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,u,d){return a.setUTCHours(JC(d),0,0,0),a}}]),i}(rn),BJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",70),ut(ht(o),"incompatibleTokens",["H","K","k","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"h":return Vn(Jn.hour12h,a);case"ho":return d.ordinalNumber(a,{unit:"hour"});default:return Gn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=12}},{key:"set",value:function(a,u,d){var p=a.getUTCHours()>=12;return p&&d<12?a.setUTCHours(d+12,0,0,0):!p&&d===12?a.setUTCHours(0,0,0,0):a.setUTCHours(d,0,0,0),a}}]),i}(rn),OJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",70),ut(ht(o),"incompatibleTokens",["a","b","h","K","k","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"H":return Vn(Jn.hour23h,a);case"Ho":return d.ordinalNumber(a,{unit:"hour"});default:return Gn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=23}},{key:"set",value:function(a,u,d){return a.setUTCHours(d,0,0,0),a}}]),i}(rn),LJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",70),ut(ht(o),"incompatibleTokens",["h","H","k","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"K":return Vn(Jn.hour11h,a);case"Ko":return d.ordinalNumber(a,{unit:"hour"});default:return Gn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=11}},{key:"set",value:function(a,u,d){var p=a.getUTCHours()>=12;return p&&d<12?a.setUTCHours(d+12,0,0,0):a.setUTCHours(d,0,0,0),a}}]),i}(rn),RJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",70),ut(ht(o),"incompatibleTokens",["a","b","h","H","K","t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"k":return Vn(Jn.hour24h,a);case"ko":return d.ordinalNumber(a,{unit:"hour"});default:return Gn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=24}},{key:"set",value:function(a,u,d){var p=d<=24?d%24:d;return a.setUTCHours(p,0,0,0),a}}]),i}(rn),FJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",60),ut(ht(o),"incompatibleTokens",["t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"m":return Vn(Jn.minute,a);case"mo":return d.ordinalNumber(a,{unit:"minute"});default:return Gn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=59}},{key:"set",value:function(a,u,d){return a.setUTCMinutes(d,0,0),a}}]),i}(rn),jJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",50),ut(ht(o),"incompatibleTokens",["t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u,d){switch(u){case"s":return Vn(Jn.second,a);case"so":return d.ordinalNumber(a,{unit:"second"});default:return Gn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=59}},{key:"set",value:function(a,u,d){return a.setUTCSeconds(d,0),a}}]),i}(rn),zJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",30),ut(ht(o),"incompatibleTokens",["t","T"]),o}return Ut(i,[{key:"parse",value:function(a,u){var d=function(m){return Math.floor(m*Math.pow(10,-u.length+3))};return ei(Gn(u.length,a),d)}},{key:"set",value:function(a,u,d){return a.setUTCMilliseconds(d),a}}]),i}(rn),VJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",10),ut(ht(o),"incompatibleTokens",["t","T","x"]),o}return Ut(i,[{key:"parse",value:function(a,u){switch(u){case"X":return ys(_s.basicOptionalMinutes,a);case"XX":return ys(_s.basic,a);case"XXXX":return ys(_s.basicOptionalSeconds,a);case"XXXXX":return ys(_s.extendedOptionalSeconds,a);case"XXX":default:return ys(_s.extended,a)}}},{key:"set",value:function(a,u,d){return u.timestampIsSet?a:new Date(a.getTime()-d)}}]),i}(rn),UJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",10),ut(ht(o),"incompatibleTokens",["t","T","X"]),o}return Ut(i,[{key:"parse",value:function(a,u){switch(u){case"x":return ys(_s.basicOptionalMinutes,a);case"xx":return ys(_s.basic,a);case"xxxx":return ys(_s.basicOptionalSeconds,a);case"xxxxx":return ys(_s.extendedOptionalSeconds,a);case"xxx":default:return ys(_s.extended,a)}}},{key:"set",value:function(a,u,d){return u.timestampIsSet?a:new Date(a.getTime()-d)}}]),i}(rn),HJ=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",40),ut(ht(o),"incompatibleTokens","*"),o}return Ut(i,[{key:"parse",value:function(a){return xB(a)}},{key:"set",value:function(a,u,d){return[new Date(d*1e3),{timestampIsSet:!0}]}}]),i}(rn),$J=function(n){Yt(i,n);var e=Qt(i);function i(){var o;Vt(this,i);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return o=e.call.apply(e,[this].concat(u)),ut(ht(o),"priority",20),ut(ht(o),"incompatibleTokens","*"),o}return Ut(i,[{key:"parse",value:function(a){return xB(a)}},{key:"set",value:function(a,u,d){return[new Date(d),{timestampIsSet:!0}]}}]),i}(rn),qJ={G:new cJ,y:new uJ,Y:new dJ,R:new hJ,u:new fJ,Q:new pJ,q:new mJ,M:new gJ,L:new bJ,w:new vJ,I:new yJ,d:new AJ,D:new TJ,E:new xJ,e:new EJ,c:new SJ,i:new IJ,a:new MJ,b:new PJ,B:new NJ,h:new BJ,H:new OJ,K:new LJ,k:new RJ,m:new FJ,s:new jJ,S:new zJ,X:new VJ,x:new UJ,t:new HJ,T:new $J},WJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KJ=/^'([^]*?)'?$/,YJ=/''/g,QJ=/\S/,ZJ=/[a-zA-Z]/;function Ky(n,e,i,o){var a,u,d,p,m,k,w,y,T,E,S,R,V,L,j,Y,W,q;bt(3,arguments);var ue=String(n),te=String(e),F=Vs(),Q=(a=(u=o==null?void 0:o.locale)!==null&&u!==void 0?u:F.locale)!==null&&a!==void 0?a:CB;if(!Q.match)throw new RangeError("locale must contain match property");var de=At((d=(p=(m=(k=o==null?void 0:o.firstWeekContainsDate)!==null&&k!==void 0?k:o==null||(w=o.locale)===null||w===void 0||(y=w.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&m!==void 0?m:F.firstWeekContainsDate)!==null&&p!==void 0?p:(T=F.locale)===null||T===void 0||(E=T.options)===null||E===void 0?void 0:E.firstWeekContainsDate)!==null&&d!==void 0?d:1);if(!(de>=1&&de<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ee=At((S=(R=(V=(L=o==null?void 0:o.weekStartsOn)!==null&&L!==void 0?L:o==null||(j=o.locale)===null||j===void 0||(Y=j.options)===null||Y===void 0?void 0:Y.weekStartsOn)!==null&&V!==void 0?V:F.weekStartsOn)!==null&&R!==void 0?R:(W=F.locale)===null||W===void 0||(q=W.options)===null||q===void 0?void 0:q.weekStartsOn)!==null&&S!==void 0?S:0);if(!(ee>=0&&ee<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(te==="")return ue===""?Et(i):new Date(NaN);var K={firstWeekContainsDate:de,weekStartsOn:ee,locale:Q},J=[new lJ],be=te.match(GJ).map(function(Ke){var dt=Ke[0];if(dt in Wy){var Te=Wy[dt];return Te(Ke,Q.formatLong)}return Ke}).join("").match(WJ),ke=[],ve=l3(be),oe;try{var ne=function(){var dt=oe.value;!(o!=null&&o.useAdditionalWeekYearTokens)&&wB(dt)&&F0(dt,te,n),!(o!=null&&o.useAdditionalDayOfYearTokens)&&yB(dt)&&F0(dt,te,n);var Te=dt[0],Xe=qJ[Te];if(Xe){var le=Xe.incompatibleTokens;if(Array.isArray(le)){var ce=ke.find(function(xe){return le.includes(xe.token)||xe.token===Te});if(ce)throw new RangeError("The format string mustn't contain `".concat(ce.fullToken,"` and `").concat(dt,"` at the same time"))}else if(Xe.incompatibleTokens==="*"&&ke.length>0)throw new RangeError("The format string mustn't contain `".concat(dt,"` and any other token at the same time"));ke.push({token:Te,fullToken:dt});var Se=Xe.run(ue,dt,Q.match,K);if(!Se)return{v:new Date(NaN)};J.push(Se.setter),ue=Se.rest}else{if(Te.match(ZJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Te+"`");if(dt==="''"?dt="'":Te==="'"&&(dt=XJ(dt)),ue.indexOf(dt)===0)ue=ue.slice(dt.length);else return{v:new Date(NaN)}}};for(ve.s();!(oe=ve.n()).done;){var _e=ne();if(po(_e)==="object")return _e.v}}catch(Ke){ve.e(Ke)}finally{ve.f()}if(ue.length>0&&QJ.test(ue))return new Date(NaN);var re=J.map(function(Ke){return Ke.priority}).sort(function(Ke,dt){return dt-Ke}).filter(function(Ke,dt,Te){return Te.indexOf(Ke)===dt}).map(function(Ke){return J.filter(function(dt){return dt.priority===Ke}).sort(function(dt,Te){return Te.subPriority-dt.subPriority})}).map(function(Ke){return Ke[0]}),Ie=Et(i);if(isNaN(Ie.getTime()))return new Date(NaN);var he=gB(Ie,R0(Ie)),Ae={},Me=l3(re),Ne;try{for(Me.s();!(Ne=Me.n()).done;){var rt=Ne.value;if(!rt.validate(he,K))return new Date(NaN);var ft=rt.set(he,Ae,K);Array.isArray(ft)?(he=ft[0],GX(Ae,ft[1])):he=ft}}catch(Ke){Me.e(Ke)}finally{Me.f()}return he}function XJ(n){return n.match(KJ)[1].replace(YJ,"'")}function JJ(n,e){bt(2,arguments);var i=At(e);return ka(n,-i)}function eee(n,e){var i;bt(1,arguments);var o=At((i=e==null?void 0:e.additionalDigits)!==null&&i!==void 0?i:2);if(o!==2&&o!==1&&o!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var a=ree(n),u;if(a.date){var d=oee(a.date,o);u=see(d.restDateString,d.year)}if(!u||isNaN(u.getTime()))return new Date(NaN);var p=u.getTime(),m=0,k;if(a.time&&(m=aee(a.time),isNaN(m)))return new Date(NaN);if(a.timezone){if(k=lee(a.timezone),isNaN(k))return new Date(NaN)}else{var w=new Date(p+m),y=new Date(0);return y.setFullYear(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()),y.setHours(w.getUTCHours(),w.getUTCMinutes(),w.getUTCSeconds(),w.getUTCMilliseconds()),y}return new Date(p+m+k)}var Kg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tee=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nee=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,iee=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ree(n){var e={},i=n.split(Kg.dateTimeDelimiter),o;if(i.length>2)return e;if(/:/.test(i[0])?o=i[0]:(e.date=i[0],o=i[1],Kg.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Kg.timeZoneDelimiter)[0],o=n.substr(e.date.length,n.length))),o){var a=Kg.timezone.exec(o);a?(e.time=o.replace(a[1],""),e.timezone=a[1]):e.time=o}return e}function oee(n,e){var i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),o=n.match(i);if(!o)return{year:NaN,restDateString:""};var a=o[1]?parseInt(o[1]):null,u=o[2]?parseInt(o[2]):null;return{year:u===null?a:u*100,restDateString:n.slice((o[1]||o[2]).length)}}function see(n,e){if(e===null)return new Date(NaN);var i=n.match(tee);if(!i)return new Date(NaN);var o=!!i[4],a=Zf(i[1]),u=Zf(i[2])-1,d=Zf(i[3]),p=Zf(i[4]),m=Zf(i[5])-1;if(o)return fee(e,p,m)?cee(e,p,m):new Date(NaN);var k=new Date(0);return!dee(e,u,d)||!hee(e,a)?new Date(NaN):(k.setUTCFullYear(e,u,Math.max(a,d)),k)}function Zf(n){return n?parseInt(n):1}function aee(n){var e=n.match(nee);if(!e)return NaN;var i=z_(e[1]),o=z_(e[2]),a=z_(e[3]);return pee(i,o,a)?i*ZC+o*QC+a*1e3:NaN}function z_(n){return n&&parseFloat(n.replace(",","."))||0}function lee(n){if(n==="Z")return 0;var e=n.match(iee);if(!e)return 0;var i=e[1]==="+"?-1:1,o=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return mee(o,a)?i*(o*ZC+a*QC):NaN}function cee(n,e,i){var o=new Date(0);o.setUTCFullYear(n,0,4);var a=o.getUTCDay()||7,u=(e-1)*7+i+1-a;return o.setUTCDate(o.getUTCDate()+u),o}var uee=[31,null,31,30,31,30,31,31,30,31,30,31];function DB(n){return n%400===0||n%4===0&&n%100!==0}function dee(n,e,i){return e>=0&&e<=11&&i>=1&&i<=(uee[e]||(DB(n)?29:28))}function hee(n,e){return e>=1&&e<=(DB(n)?366:365)}function fee(n,e,i){return e>=1&&e<=53&&i>=0&&i<=6}function pee(n,e,i){return n===24?e===0&&i===0:i>=0&&i<60&&e>=0&&e<60&&n>=0&&n<25}function mee(n,e){return e>=0&&e<=59}function IB(n,e){bt(2,arguments);var i=Et(n),o=At(e),a=i.getFullYear(),u=i.getDate(),d=new Date(0);d.setFullYear(a,o,15),d.setHours(0,0,0,0);var p=YX(d);return i.setMonth(o,Math.min(u,p)),i}function Rn(n,e){if(bt(2,arguments),po(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var i=Et(n);return isNaN(i.getTime())?new Date(NaN):(e.year!=null&&i.setFullYear(e.year),e.month!=null&&(i=IB(i,e.month)),e.date!=null&&i.setDate(At(e.date)),e.hours!=null&&i.setHours(At(e.hours)),e.minutes!=null&&i.setMinutes(At(e.minutes)),e.seconds!=null&&i.setSeconds(At(e.seconds)),e.milliseconds!=null&&i.setMilliseconds(At(e.milliseconds)),i)}function MB(n,e){bt(2,arguments);var i=Et(n),o=At(e);return i.setHours(o),i}function t1(n,e){bt(2,arguments);var i=Et(n),o=At(e);return i.setMilliseconds(o),i}function PB(n,e){bt(2,arguments);var i=Et(n),o=At(e);return i.setMinutes(o),i}function NB(n,e){bt(2,arguments);var i=Et(n),o=At(e);return i.setSeconds(o),i}function gu(n,e){bt(2,arguments);var i=Et(n),o=At(e);return isNaN(i.getTime())?new Date(NaN):(i.setFullYear(o),i)}function bh(n,e){bt(2,arguments);var i=At(e);return xs(n,-i)}function gee(n,e){if(bt(2,arguments),!e||po(e)!=="object")return new Date(NaN);var i=e.years?At(e.years):0,o=e.months?At(e.months):0,a=e.weeks?At(e.weeks):0,u=e.days?At(e.days):0,d=e.hours?At(e.hours):0,p=e.minutes?At(e.minutes):0,m=e.seconds?At(e.seconds):0,k=bh(n,o+i*12),w=JJ(k,u+a*7),y=p+d*60,T=m+y*60,E=T*1e3,S=new Date(w.getTime()-E);return S}function BB(n,e){bt(2,arguments);var i=At(e);return YC(n,-i)}function Tm(){return v.openBlock(),v.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),v.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),v.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),v.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Tm.compatConfig={MODE:3};function OB(){return v.openBlock(),v.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),v.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}OB.compatConfig={MODE:3};function n1(){return v.openBlock(),v.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}n1.compatConfig={MODE:3};function i1(){return v.openBlock(),v.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}i1.compatConfig={MODE:3};function r1(){return v.openBlock(),v.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),v.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}r1.compatConfig={MODE:3};function o1(){return v.openBlock(),v.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}o1.compatConfig={MODE:3};function s1(){return v.openBlock(),v.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}s1.compatConfig={MODE:3};function a1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var LB={exports:{}};(function(n){function e(i){return i&&i.__esModule?i:{default:i}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(LB);var bee=LB.exports,Yy={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function i(o){if(o===null||o===!0||o===!1)return NaN;var a=Number(o);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}n.exports=e.default})(Yy,Yy.exports);var kee=Yy.exports;const vee=a1(kee);var Qy={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function i(o){var a=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return a.setUTCFullYear(o.getFullYear()),o.getTime()-a.getTime()}n.exports=e.default})(Qy,Qy.exports);var _ee=Qy.exports;const u3=a1(_ee);function yee(n,e){var i=Tee(e);return i.formatToParts?Cee(i,n):Aee(i,n)}var wee={year:0,month:1,day:2,hour:3,minute:4,second:5};function Cee(n,e){try{for(var i=n.formatToParts(e),o=[],a=0;a<i.length;a++){var u=wee[i[a].type];u>=0&&(o[u]=parseInt(i[a].value,10))}return o}catch(d){if(d instanceof RangeError)return[NaN];throw d}}function Aee(n,e){var i=n.format(e).replace(/\u200E/g,""),o=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i);return[o[3],o[1],o[2],o[4],o[5],o[6]]}var V_={};function Tee(n){if(!V_[n]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),i=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";V_[n]=i?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:n,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return V_[n]}function l1(n,e,i,o,a,u,d){var p=new Date(0);return p.setUTCFullYear(n,e,i),p.setUTCHours(o,a,u,d),p}var d3=36e5,xee=6e4,U_={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function c1(n,e,i){var o,a;if(!n||(o=U_.timezoneZ.exec(n),o))return 0;var u;if(o=U_.timezoneHH.exec(n),o)return u=parseInt(o[1],10),h3(u)?-(u*d3):NaN;if(o=U_.timezoneHHMM.exec(n),o){u=parseInt(o[1],10);var d=parseInt(o[2],10);return h3(u,d)?(a=Math.abs(u)*d3+d*xee,u>0?-a:a):NaN}if(Dee(n)){e=new Date(e||Date.now());var p=i?e:Eee(e),m=Zy(p,n),k=i?m:See(e,m,n);return-k}return NaN}function Eee(n){return l1(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}function Zy(n,e){var i=yee(n,e),o=l1(i[0],i[1]-1,i[2],i[3]%24,i[4],i[5],0).getTime(),a=n.getTime(),u=a%1e3;return a-=u>=0?u:1e3+u,o-a}function See(n,e,i){var o=n.getTime(),a=o-e,u=Zy(new Date(a),i);if(e===u)return e;a-=u-e;var d=Zy(new Date(a),i);return u===d?u:Math.max(u,d)}function h3(n,e){return-23<=n&&n<=23&&(e==null||0<=e&&e<=59)}var f3={};function Dee(n){if(f3[n])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:n}),f3[n]=!0,!0}catch{return!1}}var RB=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,H_=36e5,p3=6e4,Iee=2,tr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:RB};function Xy(n,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(n===null)return new Date(NaN);var i=e||{},o=i.additionalDigits==null?Iee:vee(i.additionalDigits);if(o!==2&&o!==1&&o!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]")return new Date(n.getTime());if(typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]")return new Date(n);if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var a=Mee(n),u=Pee(a.date,o),d=u.year,p=u.restDateString,m=Nee(p,d);if(isNaN(m))return new Date(NaN);if(m){var k=m.getTime(),w=0,y;if(a.time&&(w=Bee(a.time),isNaN(w)))return new Date(NaN);if(a.timeZone||i.timeZone){if(y=c1(a.timeZone||i.timeZone,new Date(k+w)),isNaN(y))return new Date(NaN)}else y=u3(new Date(k+w)),y=u3(new Date(k+w+y));return new Date(k+w+y)}else return new Date(NaN)}function Mee(n){var e={},i=tr.dateTimePattern.exec(n),o;if(i?(e.date=i[1],o=i[3]):(i=tr.datePattern.exec(n),i?(e.date=i[1],o=i[2]):(e.date=null,o=n)),o){var a=tr.timeZone.exec(o);a?(e.time=o.replace(a[1],""),e.timeZone=a[1].trim()):e.time=o}return e}function Pee(n,e){var i=tr.YYY[e],o=tr.YYYYY[e],a;if(a=tr.YYYY.exec(n)||o.exec(n),a){var u=a[1];return{year:parseInt(u,10),restDateString:n.slice(u.length)}}if(a=tr.YY.exec(n)||i.exec(n),a){var d=a[1];return{year:parseInt(d,10)*100,restDateString:n.slice(d.length)}}return{year:null}}function Nee(n,e){if(e===null)return null;var i,o,a,u;if(n.length===0)return o=new Date(0),o.setUTCFullYear(e),o;if(i=tr.MM.exec(n),i)return o=new Date(0),a=parseInt(i[1],10)-1,g3(e,a)?(o.setUTCFullYear(e,a),o):new Date(NaN);if(i=tr.DDD.exec(n),i){o=new Date(0);var d=parseInt(i[1],10);return Ree(e,d)?(o.setUTCFullYear(e,0,d),o):new Date(NaN)}if(i=tr.MMDD.exec(n),i){o=new Date(0),a=parseInt(i[1],10)-1;var p=parseInt(i[2],10);return g3(e,a,p)?(o.setUTCFullYear(e,a,p),o):new Date(NaN)}if(i=tr.Www.exec(n),i)return u=parseInt(i[1],10)-1,b3(e,u)?m3(e,u):new Date(NaN);if(i=tr.WwwD.exec(n),i){u=parseInt(i[1],10)-1;var m=parseInt(i[2],10)-1;return b3(e,u,m)?m3(e,u,m):new Date(NaN)}return null}function Bee(n){var e,i,o;if(e=tr.HH.exec(n),e)return i=parseFloat(e[1].replace(",",".")),$_(i)?i%24*H_:NaN;if(e=tr.HHMM.exec(n),e)return i=parseInt(e[1],10),o=parseFloat(e[2].replace(",",".")),$_(i,o)?i%24*H_+o*p3:NaN;if(e=tr.HHMMSS.exec(n),e){i=parseInt(e[1],10),o=parseInt(e[2],10);var a=parseFloat(e[3].replace(",","."));return $_(i,o,a)?i%24*H_+o*p3+a*1e3:NaN}return null}function m3(n,e,i){e=e||0,i=i||0;var o=new Date(0);o.setUTCFullYear(n,0,4);var a=o.getUTCDay()||7,u=e*7+i+1-a;return o.setUTCDate(o.getUTCDate()+u),o}var Oee=[31,28,31,30,31,30,31,31,30,31,30,31],Lee=[31,29,31,30,31,30,31,31,30,31,30,31];function FB(n){return n%400===0||n%4===0&&n%100!==0}function g3(n,e,i){if(e<0||e>11)return!1;if(i!=null){if(i<1)return!1;var o=FB(n);if(o&&i>Lee[e]||!o&&i>Oee[e])return!1}return!0}function Ree(n,e){if(e<1)return!1;var i=FB(n);return!(i&&e>366||!i&&e>365)}function b3(n,e,i){return!(e<0||e>52||i!=null&&(i<0||i>6))}function $_(n,e,i){return!(n!=null&&(n<0||n>=25)||e!=null&&(e<0||e>=60)||i!=null&&(i<0||i>=60))}var Jy={exports:{}},ew={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function i(o,a){if(o==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(o[u]=a[u]);return o}n.exports=e.default})(ew,ew.exports);var Fee=ew.exports;(function(n,e){var i=bee.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var o=i(Fee);function a(u){return(0,o.default)({},u)}n.exports=e.default})(Jy,Jy.exports);var jee=Jy.exports;const zee=a1(jee);function Vee(n,e,i){var o=Xy(n,i),a=c1(e,o,!0),u=new Date(o.getTime()-a),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}function Uee(n,e,i){if(typeof n=="string"&&!n.match(RB)){var o=zee(i);return o.timeZone=e,Xy(n,o)}var a=Xy(n,i),u=l1(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()).getTime(),d=c1(e,new Date(u));return new Date(u+d)}function k3(n){return e=>new Intl.DateTimeFormat(n,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function Hee(n){return e=>mu(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:n})}const $ee=(n,e,i)=>{const o=[1,2,3,4,5,6,7];let a;if(n!==null)try{a=o.map(Hee(n))}catch{a=o.map(k3(e))}else a=o.map(k3(e));const u=a.slice(0,i),d=a.slice(i+1,a.length);return[a[i]].concat(...d).concat(...u)},u1=(n,e)=>{const i=[];for(let o=+n[0];o<=+n[1];o++)i.push({value:+o,text:`${o}`});return e?i.reverse():i},jB=(n,e,i)=>{const o=[1,2,3,4,5,6,7,8,9,10,11,12].map(u=>{const d=u<10?`0${u}`:u;return new Date(`2017-${d}-01T00:00:00+00:00`)});if(n!==null)try{const u=i==="long"?"MMMM":"MMM";return o.map((d,p)=>{const m=mu(d,u,{locale:n});return{text:m.charAt(0).toUpperCase()+m.substring(1),value:p}})}catch{}const a=new Intl.DateTimeFormat(e,{month:i,timeZone:"UTC"});return o.map((u,d)=>{const p=a.format(u);return{text:p.charAt(0).toUpperCase()+p.substring(1),value:d}})},qee=n=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][n],ui=n=>{const e=v.unref(n);return e!=null&&e.$el?e==null?void 0:e.$el:e},Wee=n=>Object.assign({type:"dot"},n),zB=n=>Array.isArray(n)?!!n[0]&&!!n[1]:!1,V0={prop:n=>`"${n}" prop must be enabled!`,dateArr:n=>`You need to use array as "model-value" binding in order to support "${n}"`},ki=n=>n,v3=n=>n===0?n:!n||isNaN(+n)?null:+n,_3=n=>n===null,Gee=n=>{if(n)return[...n.querySelectorAll("input, button, select, textarea, a[href]")][0]},Kee=n=>{const e=[],i=o=>o.filter(a=>a);for(let o=0;o<n.length;o+=3){const a=[n[o],n[o+1],n[o+2]];e.push(i(a))}return e},tm=(n,e,i)=>{const o=i??i===0,a=e??e===0;if(!o&&!a)return!1;const u=+i,d=+e;return o&&a?+n>u||+n<d:o?+n>u:a?+n<d:!1},kh=(n,e)=>Kee(n).map(i=>i.map(o=>{const{active:a,disabled:u,isBetween:d}=e(o);return{...o,active:a,disabled:u,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:u,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:u&&a,dp__cell_in_between:d}}})),y3=(n,e,i,o,a)=>{const u=Ky(n,e.slice(0,n.length),new Date);return Cp(u)&&pB(u)?o||a?u:Rn(u,{hours:+i.hours,minutes:+(i==null?void 0:i.minutes),seconds:+(i==null?void 0:i.seconds),milliseconds:0}):null},Yee=(n,e,i,o,a)=>{const u=Array.isArray(i)?i[0]:i;if(typeof e=="string")return y3(n,e,u,o,a);if(Array.isArray(e)){let d=null;for(const p of e)if(d=y3(n,p,u,o,a),d)break;return d}return typeof e=="function"?e(n):null},qe=n=>n?new Date(n):new Date,Qee=(n,e,i)=>{if(e){const a=(n.getMonth()+1).toString().padStart(2,"0"),u=n.getDate().toString().padStart(2,"0"),d=n.getHours().toString().padStart(2,"0"),p=n.getMinutes().toString().padStart(2,"0"),m=i?n.getSeconds().toString().padStart(2,"0"):"00";return`${n.getFullYear()}-${a}-${u}T${d}:${p}:${m}.000Z`}const o=Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds());return new Date(o).toISOString()},mo=n=>{let e=qe(JSON.parse(JSON.stringify(n)));return e=MB(e,0),e=PB(e,0),e=NB(e,0),e=t1(e,0),e},Ml=(n,e,i,o)=>{let a=n?qe(n):qe();return(e||e===0)&&(a=MB(a,+e)),(i||i===0)&&(a=PB(a,+i)),(o||o===0)&&(a=NB(a,+o)),t1(a,0)},Mi=(n,e)=>!n||!e?!1:em(mo(n),mo(e)),dn=(n,e)=>!n||!e?!1:$d(mo(n),mo(e)),Vi=(n,e)=>!n||!e?!1:Jp(mo(n),mo(e)),d1=(n,e,i)=>n!=null&&n[0]&&n!=null&&n[1]?Vi(i,n[0])&&Mi(i,n[1]):n!=null&&n[0]&&e?Vi(i,n[0])&&Mi(i,e)||Mi(i,n[0])&&Vi(i,e):!1,Vo=n=>{const e=Rn(new Date(n),{date:1});return mo(e)},q_=(n,e,i)=>e&&(i||i===0)?Object.fromEntries(["hours","minutes","seconds"].map(o=>o===e?[o,i]:[o,isNaN(+n[o])?void 0:+n[o]])):{hours:isNaN(+n.hours)?void 0:+n.hours,minutes:isNaN(+n.minutes)?void 0:+n.minutes,seconds:isNaN(+n.seconds)?void 0:+n.seconds},bu=n=>({hours:Es(n),minutes:Ss(n),seconds:gh(n)}),VB=(n,e)=>{if(e){const i=Jt(qe(e));if(i>n)return 12;if(i===n)return tn(qe(e))}},UB=(n,e)=>{if(e){const i=Jt(qe(e));return i<n?-1:i===n?tn(qe(e)):void 0}},vh=n=>{if(n)return Jt(qe(n))},ws=(n,e)=>e?Vee(n,e):n,Zee=(n,e)=>e?Uee(n,e):n,w3=n=>n instanceof Date?n:eee(n),HB=(n,e)=>{const i=Vi(n,e)?e:n,o=Vi(e,n)?e:n;return mB({start:i,end:o})},Xee=n=>{const e=xs(n,1);return{month:tn(e),year:Jt(e)}},m0=(n,e,i)=>{const o=Mu(ws(n,e),{weekStartsOn:+i}),a=HZ(ws(n,e),{weekStartsOn:+i});return[o,a]},$B=(n,e)=>{const i={hours:Es(qe()),minutes:Ss(qe()),seconds:e?gh(qe()):0};return Object.assign(i,n)},El=(n,e,i)=>[Rn(qe(n),{date:1}),Rn(qe(),{month:e,year:i,date:1})],ya=(n,e,i)=>{let o=n?qe(n):qe();return(e||e===0)&&(o=IB(o,e)),i&&(o=gu(o,i)),o},qB=(n,e,i,o,a)=>{if(!o||a&&!e||!a&&!i)return!1;const u=a?xs(n,1):bh(n,1),d=[tn(u),Jt(u)];return a?!ete(...d,e):!Jee(...d,i)},Jee=(n,e,i)=>Mi(...El(i,n,e))||dn(...El(i,n,e)),ete=(n,e,i)=>Vi(...El(i,n,e))||dn(...El(i,n,e)),WB=(n,e,i,o,a,u)=>{if(typeof e=="function")return e(n);const d=i?{locale:i}:void 0;return Array.isArray(n)?`${mu(n[0],u,d)}${a&&!n[1]?"":o}${n[1]?mu(n[1],u,d):""}`:mu(n,u,d)},Bd=n=>{if(n)return null;throw new Error(V0.prop("partial-range"))},Yg=(n,e)=>{if(e)return n();throw new Error(V0.prop("range"))},tw=n=>Array.isArray(n)?Cp(n[0])&&(n[1]?Cp(n[1]):!0):n?Cp(n):!1,tte=n=>Rn(qe(),{hours:+n.hours||0,minutes:+n.minutes||0,seconds:+n.seconds||0}),W_=(n,e,i,o)=>{if(!n)return!0;if(o){const a=i==="max"?em(n,e):Jp(n,e),u={seconds:0,milliseconds:0};return a||$d(Rn(n,u),Rn(e,u))}return i==="max"?n.getTime()<=e.getTime():n.getTime()>=e.getTime()},C3=(n,e,i,o,a)=>{const u=n?tte(n):qe(e);return Array.isArray(o)?W_(o[0],u,i,!!e)&&W_(o[1],u,i,!!e)&&a:W_(o,u,i,!!e)&&a},G_=n=>Rn(qe(),bu(n)),nte=(n,e)=>Array.isArray(n)?n.map(i=>qe(i)).filter(i=>Jt(qe(i))===e).map(i=>tn(i)):[],Xf=v.reactive({menuFocused:!1,shiftKeyInMenu:!1}),GB=()=>{const n=i=>{Xf.menuFocused=i},e=i=>{Xf.shiftKeyInMenu!==i&&(Xf.shiftKeyInMenu=i)};return{control:v.computed(()=>({shiftKeyInMenu:Xf.shiftKeyInMenu,menuFocused:Xf.menuFocused})),setMenuFocused:n,setShiftKey:e}},Dn=v.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),K_=v.ref(null),Qg=v.ref(!1),Y_=v.ref(!1),Q_=v.ref(!1),Z_=v.ref(!1),Qi=v.ref(0),Ei=v.ref(0),Hl=()=>{const n=v.computed(()=>Qg.value?[...Dn.selectionGrid,Dn.actionRow].filter(y=>y.length):Y_.value?[...Dn.timePicker[0],...Dn.timePicker[1],Z_.value?[]:[K_.value],Dn.actionRow].filter(y=>y.length):Q_.value?[...Dn.monthPicker,Dn.actionRow]:[Dn.monthYear,...Dn.calendar,Dn.time,Dn.actionRow].filter(y=>y.length)),e=y=>{Qi.value=y?Qi.value+1:Qi.value-1;let T=null;n.value[Ei.value]&&(T=n.value[Ei.value][Qi.value]),T||(Qi.value=y?Qi.value-1:Qi.value+1)},i=y=>{Ei.value===0&&!y||Ei.value===n.value.length&&y||(Ei.value=y?Ei.value+1:Ei.value-1,n.value[Ei.value]?n.value[Ei.value]&&!n.value[Ei.value][Qi.value]&&Qi.value!==0&&(Qi.value=n.value[Ei.value].length-1):Ei.value=y?Ei.value-1:Ei.value+1)},o=y=>{let T=null;n.value[Ei.value]&&(T=n.value[Ei.value][Qi.value]),T?T.focus({preventScroll:!Qg.value}):Qi.value=y?Qi.value-1:Qi.value+1},a=()=>{e(!0),o(!0)},u=()=>{e(!1),o(!1)},d=()=>{i(!1),o(!0)},p=()=>{i(!0),o(!0)},m=(y,T)=>{Dn[T]=y},k=(y,T)=>{Dn[T]=y},w=()=>{Qi.value=0,Ei.value=0};return{buildMatrix:m,buildMultiLevelMatrix:k,setTimePickerBackRef:y=>{K_.value=y},setSelectionGrid:y=>{Qg.value=y,w(),y||(Dn.selectionGrid=[])},setTimePicker:(y,T=!1)=>{Y_.value=y,Z_.value=T,w(),y||(Dn.timePicker[0]=[],Dn.timePicker[1]=[])},setTimePickerElements:(y,T=0)=>{Dn.timePicker[T]=y},arrowRight:a,arrowLeft:u,arrowUp:d,arrowDown:p,clearArrowNav:()=>{Dn.monthYear=[],Dn.calendar=[],Dn.time=[],Dn.actionRow=[],Dn.selectionGrid=[],Dn.timePicker[0]=[],Dn.timePicker[1]=[],Qg.value=!1,Y_.value=!1,Z_.value=!1,Q_.value=!1,w(),K_.value=null},setMonthPicker:y=>{Q_.value=y,w()},refSets:Dn}},A3=n=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...n??{}}),ite=n=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...n??{}}),T3=n=>n?typeof n=="boolean"?n?2:0:+n>=2?+n:2:0,rte=n=>{const e=typeof n=="object"&&n,i={static:!0,solo:!1};if(!n)return{...i,count:T3(!1)};const o=e?n:{},a=e?o.count??!0:n,u=T3(a);return Object.assign(i,o,{count:u})},ote=(n,e,i)=>n||(typeof i=="string"?i:e),ste=n=>typeof n=="boolean"?n?A3({}):!1:A3(n),ate=n=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "};return typeof n=="object"?{...e,...n??{},enabled:!0}:{...e,enabled:n}},lte=n=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...n??{}}),cte=n=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...n??{}}),ute=n=>{const e={input:!1};return typeof n=="object"?{...e,...n??{},enabled:!0}:{enabled:n,...e}},Ni=n=>{const e=()=>{const S=n.enableSeconds?":ss":"";return n.is24?`HH:mm${S}`:`hh:mm${S} aa`},i=()=>n.format?n.format:n.monthPicker?"MM/yyyy":n.timePicker?e():n.weekPicker?"MM/dd/yyyy":n.yearPicker?"yyyy":n.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",o=S=>$B(S,n.enableSeconds),a=()=>n.range?n.startTime&&Array.isArray(n.startTime)?[o(n.startTime[0]),o(n.startTime[1])]:null:n.startTime&&!Array.isArray(n.startTime)?o(n.startTime):null,u=v.computed(()=>rte(n.multiCalendars)),d=v.computed(()=>a()),p=v.computed(()=>ite(n.ariaLabels)),m=v.computed(()=>lte(n.filters)),k=v.computed(()=>ste(n.transitions)),w=v.computed(()=>cte(n.actionRow)),y=v.computed(()=>ote(n.previewFormat,n.format,i())),T=v.computed(()=>ate(n.textInput)),E=v.computed(()=>ute(n.inline));return{defaultedTransitions:k,defaultedMultiCalendars:u,defaultedStartTime:d,defaultedAriaLabels:p,defaultedFilters:m,defaultedActionRow:w,defaultedPreviewFormat:y,defaultedTextInput:T,defaultedInline:E,getDefaultPattern:i,getDefaultStartTime:a}},dte=(n,e,i)=>{const o=v.ref(),{defaultedTextInput:a,getDefaultPattern:u}=Ni(e),d=v.ref(""),p=v.toRef(e,"format");v.watch(o,()=>{n("internal-model-change",o.value)}),v.watch(p,()=>{be()});const m=re=>Zee(re,e.timezone),k=re=>ws(re,e.timezone),w=(re,Ie)=>WB(re,e.format,e.formatLocale,a.value.rangeSeparator,e.modelAuto,Ie??u()),y=re=>{const Ie=re??qe();return e.modelType?ve(Ie):{hours:Es(Ie),minutes:Ss(Ie),seconds:e.enableSeconds?gh(Ie):0}},T=re=>e.modelType?ve(re):{month:tn(re),year:Jt(re)},E=re=>Array.isArray(re)?Yg(()=>[gu(qe(),re[0]),re[1]?gu(qe(),re[1]):Bd(e.partialRange)],e.range):gu(qe(),+re),S=(re,Ie)=>(typeof re=="string"||typeof re=="number")&&e.modelType?ke(re):Ie,R=re=>Array.isArray(re)?[S(re[0],Ml(null,+re[0].hours,+re[0].minutes,re[0].seconds)),S(re[1],Ml(null,+re[1].hours,+re[1].minutes,re[1].seconds))]:S(re,Ml(null,re.hours,re.minutes,re.seconds)),V=re=>Array.isArray(re)?e.multiDates?re.map(Ie=>S(Ie,ya(null,+Ie.month,+Ie.year))):Yg(()=>[S(re[0],ya(null,+re[0].month,+re[0].year)),S(re[1],re[1]?ya(null,+re[1].month,+re[1].year):Bd(e.partialRange))],e.range):S(re,ya(null,+re.month,+re.year)),L=re=>{if(Array.isArray(re))return re.map(Ie=>ke(Ie));throw new Error(V0.dateArr("multi-dates"))},j=re=>{if(Array.isArray(re))return[qe(re[0]),qe(re[1])];throw new Error(V0.dateArr("week-picker"))},Y=re=>e.modelAuto?Array.isArray(re)?[ke(re[0]),ke(re[1])]:e.autoApply?[ke(re)]:[ke(re),null]:Array.isArray(re)?Yg(()=>[ke(re[0]),re[1]?ke(re[1]):Bd(e.partialRange)],e.range):ke(re),W=()=>{Array.isArray(o.value)&&e.range&&o.value.length===1&&o.value.push(Bd(e.partialRange))},q=()=>{const re=o.value;return[ve(re[0]),re[1]?ve(re[1]):Bd(e.partialRange)]},ue=()=>o.value[1]?q():ve(ki(o.value[0])),te=()=>(o.value||[]).map(re=>ve(re)),F=()=>(W(),e.modelAuto?ue():e.multiDates?te():Array.isArray(o.value)?Yg(()=>q(),e.range):ve(ki(o.value))),Q=re=>!re||Array.isArray(re)&&!re.length?null:e.timePicker?R(ki(re)):e.monthPicker?V(ki(re)):e.yearPicker?E(ki(re)):e.multiDates?L(ki(re)):e.weekPicker?j(ki(re)):Y(ki(re)),de=re=>{const Ie=Q(re);tw(ki(Ie))?(o.value=ki(Ie),be()):(o.value=null,d.value="")},ee=()=>{const re=Ie=>mu(Ie,a.value.format);return`${re(o.value[0])} ${a.value.rangeSeparator} ${o.value[1]?re(o.value[1]):""}`},K=()=>i.value&&o.value?Array.isArray(o.value)?ee():mu(o.value,a.value.format):w(o.value),J=()=>o.value?e.multiDates?o.value.map(re=>w(re)).join("; "):a.value.enabled&&typeof a.value.format=="string"?K():w(o.value):"",be=()=>{!e.format||typeof e.format=="string"||a.value.enabled&&typeof a.value.format=="string"?d.value=J():d.value=e.format(o.value)},ke=re=>{if(e.utc){const Ie=new Date(re);return e.utc==="preserve"?new Date(Ie.getTime()+Ie.getTimezoneOffset()*6e4):Ie}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?k(new Date(re)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Ky(re,u(),new Date):k(Ky(re,e.modelType,new Date)):k(new Date(re))},ve=re=>re?e.utc?Qee(re,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+m(re):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?w(m(re)):w(m(re),e.modelType):m(re):"",oe=(re,Ie=!1)=>{if(n("update:model-value",re),e.emitTimezone&&Ie){const he=Array.isArray(re)?re.map(Ae=>ws(ki(Ae)),e.emitTimezone):ws(ki(re),e.emitTimezone);n("update:model-timezone-value",he)}},ne=re=>Array.isArray(o.value)?e.multiDates?o.value.map(Ie=>re(Ie)):[re(o.value[0]),o.value[1]?re(o.value[1]):Bd(e.partialRange)]:re(ki(o.value)),_e=re=>oe(ki(ne(re)));return{inputValue:d,internalModelValue:o,checkBeforeEmit:()=>o.value?e.range?e.partialRange?o.value.length>=1:o.value.length===2:!!o.value:!1,parseExternalModelValue:de,formatInputValue:be,emitModelValue:()=>(be(),e.monthPicker?_e(T):e.timePicker?_e(y):e.yearPicker?_e(Jt):e.weekPicker?oe(o.value,!0):oe(F(),!0))}},hte=(n,e)=>{const{defaultedFilters:i}=Ni(n),{validateMonthYearInRange:o}=Em(n),a=(k,w)=>{let y=k;return i.value.months.includes(tn(y))?(y=w?xs(k,1):bh(k,1),a(y,w)):y},u=(k,w)=>{let y=k;return i.value.years.includes(Jt(y))?(y=w?YC(k,1):BB(k,1),u(y,w)):y},d=(k,w=!1)=>{const y=Rn(new Date,{month:n.month,year:n.year});let T=k?xs(y,1):bh(y,1);n.disableYearSelect&&(T=gu(T,n.year));let E=tn(T),S=Jt(T);i.value.months.includes(E)&&(T=a(T,k),E=tn(T),S=Jt(T)),i.value.years.includes(S)&&(T=u(T,k),S=Jt(T)),o(E,S,k,n.preventMinMaxNavigation)&&p(E,S,w)},p=(k,w,y)=>{e("update-month-year",{month:k,year:w,fromNav:y})},m=v.computed(()=>k=>qB(Rn(new Date,{month:n.month,year:n.year}),n.maxDate,n.minDate,n.preventMinMaxNavigation,k));return{handleMonthYearChange:d,isDisabled:m,updateMonthYear:p}};var Hd=(n=>(n.center="center",n.left="left",n.right="right",n))(Hd||{}),Ro=(n=>(n.month="month",n.year="year",n))(Ro||{}),Zc=(n=>(n.top="top",n.bottom="bottom",n))(Zc||{}),ku=(n=>(n.header="header",n.calendar="calendar",n.timePicker="timePicker",n))(ku||{}),gs=(n=>(n.month="month",n.year="year",n.calendar="calendar",n.time="time",n.minutes="minutes",n.hours="hours",n.seconds="seconds",n))(gs||{});const fte=({menuRef:n,menuRefInner:e,inputRef:i,pickerWrapperRef:o,inline:a,emit:u,props:d,slots:p})=>{const m=v.ref({}),k=v.ref(!1),w=v.ref({top:"0",left:"0"}),y=v.ref(!1),T=v.toRef(d,"teleportCenter");v.watch(T,()=>{w.value=JSON.parse(JSON.stringify({})),W()});const E=ke=>{if(d.teleport){const ve=ke.getBoundingClientRect();return{left:ve.left+window.scrollX,top:ve.top+window.scrollY}}return{top:0,left:0}},S=(ke,ve)=>{w.value.left=`${ke+ve-m.value.width}px`},R=ke=>{w.value.left=`${ke}px`},V=(ke,ve)=>{d.position===Hd.left&&R(ke),d.position===Hd.right&&S(ke,ve),d.position===Hd.center&&(w.value.left=`${ke+ve/2-m.value.width/2}px`)},L=ke=>{const{width:ve,height:oe}=ke.getBoundingClientRect(),{top:ne,left:_e}=d.altPosition?d.altPosition(ke):E(ke);return{top:+ne,left:+_e,width:ve,height:oe}},j=()=>{w.value.left="50%",w.value.top="50%",w.value.transform="translate(-50%, -50%)",w.value.position="fixed",delete w.value.opacity},Y=()=>{const ke=ui(i),{top:ve,left:oe,transform:ne}=d.altPosition(ke);w.value={top:`${ve}px`,left:`${oe}px`,transform:ne??""}},W=(ke=!0)=>{var ve;if(!a.value.enabled){if(T.value)return j();if(d.altPosition!==null)return Y();if(ke){const oe=d.teleport?(ve=e.value)==null?void 0:ve.$el:n.value;oe&&(m.value=oe.getBoundingClientRect()),u("recalculate-position")}return ee()}},q=({inputEl:ke,left:ve,width:oe})=>{window.screen.width>768&&!k.value&&V(ve,oe),F(ke)},ue=ke=>{const{top:ve,left:oe,height:ne,width:_e}=L(ke);w.value.top=`${ne+ve+ +d.offset}px`,y.value=!1,k.value||(w.value.left=`${oe+_e/2-m.value.width/2}px`),q({inputEl:ke,left:oe,width:_e})},te=ke=>{const{top:ve,left:oe,width:ne}=L(ke);w.value.top=`${ve-+d.offset-m.value.height}px`,y.value=!0,q({inputEl:ke,left:oe,width:ne})},F=ke=>{if(d.autoPosition){const{left:ve,width:oe}=L(ke),{left:ne,right:_e}=m.value;if(!k.value){if(Math.abs(ne)!==Math.abs(_e)){if(ne<=0)return k.value=!0,R(ve);if(_e>=document.documentElement.clientWidth)return k.value=!0,S(ve,oe)}return V(ve,oe)}}},Q=()=>{const ke=ui(i);if(ke){const{height:ve}=m.value,{top:oe,height:ne}=ke.getBoundingClientRect(),_e=window.innerHeight-oe-ne,re=oe;return ve<=_e?Zc.bottom:ve>_e&&ve<=re?Zc.top:_e>=re?Zc.bottom:Zc.top}return Zc.bottom},de=ke=>Q()===Zc.bottom?ue(ke):te(ke),ee=()=>{const ke=ui(i);if(ke)return d.autoPosition?de(ke):ue(ke)},K=function(ke){if(ke){const ve=ke.scrollHeight>ke.clientHeight,oe=window.getComputedStyle(ke).overflowY.indexOf("hidden")!==-1;return ve&&!oe}return!0},J=function(ke){return!ke||ke===document.body||ke.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:K(ke)?ke:J(ke.parentNode)},be=ke=>{if(ke)switch(d.position){case Hd.left:return{left:0,transform:"translateX(0)"};case Hd.right:return{left:`${ke.width}px`,transform:"translateX(-100%)"};default:return{left:`${ke.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:y,menuStyle:w,xCorrect:k,setMenuPosition:W,getScrollableParent:J,shadowRender:(ke,ve)=>{var oe,ne,_e;const re=document.createElement("div"),Ie=(oe=ui(i))==null?void 0:oe.getBoundingClientRect();re.setAttribute("id","dp--temp-container");const he=(ne=o.value)!=null&&ne.clientWidth?o.value:document.body;he.append(re);const Ae=document.getElementById("dp--temp-container"),Me=be(Ie),Ne=v.h(ke,{...ve,shadow:!0,style:{opacity:0,position:"absolute",...Me}},Object.fromEntries(Object.keys(p).map(rt=>[rt,p[rt]])));v.render(Ne,Ae),m.value=(_e=Ne.el)==null?void 0:_e.getBoundingClientRect(),v.render(null,Ae),he.removeChild(Ae)}}},Gc=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared"]},{name:"arrow-right",use:["month-year","calendar","shared"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]}],pte=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],mte={all:()=>Gc,monthYear:()=>Gc.filter(n=>n.use.includes("month-year")),input:()=>pte,timePicker:()=>Gc.filter(n=>n.use.includes("time")),action:()=>Gc.filter(n=>n.use.includes("action")),calendar:()=>Gc.filter(n=>n.use.includes("calendar")),menu:()=>Gc.filter(n=>n.use.includes("menu")),shared:()=>Gc.filter(n=>n.use.includes("shared"))},Ho=(n,e,i)=>{const o=[];return mte[e]().forEach(a=>{n[a.name]&&o.push(a.name)}),i!=null&&i.length&&i.forEach(a=>{a.slot&&o.push(a.slot)}),o},xm=n=>{const e=v.computed(()=>o=>n.value?o?n.value.open:n.value.close:""),i=v.computed(()=>o=>n.value?o?n.value.menuAppearTop:n.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!n.value,menuTransition:i}},ok=(n,e)=>{const i=v.ref([{month:tn(qe()),year:Jt(qe())}]),o=v.reactive({hours:n.range?[Es(qe()),Es(qe())]:Es(qe()),minutes:n.range?[Ss(qe()),Ss(qe())]:Ss(qe()),seconds:n.range?[0,0]:0}),a=v.computed({get:()=>n.internalModelValue,set:p=>{!n.readonly&&!n.disabled&&e("update:internal-model-value",p)}}),u=v.computed(()=>p=>i.value[p]?i.value[p].month:0),d=v.computed(()=>p=>i.value[p]?i.value[p].year:0);return{calendars:i,time:o,modelValue:a,month:u,year:d}},gte=(n,e)=>{const{defaultedMultiCalendars:i}=Ni(e),{isDisabled:o,matchDate:a}=Em(e),u=v.ref(null),d=v.ref(qe()),p=ne=>{!ne.current&&e.hideOffsetDates||(u.value=ne.value)},m=()=>{u.value=null},k=ne=>Array.isArray(n.value)&&e.range&&n.value[0]&&u.value?ne?Vi(u.value,n.value[0]):Mi(u.value,n.value[0]):!0,w=(ne,_e)=>{const re=()=>n.value?_e?n.value[0]||null:n.value[1]:null,Ie=n.value&&Array.isArray(n.value)?re():null;return dn(qe(ne.value),Ie)},y=ne=>{const _e=Array.isArray(n.value)?n.value[0]:null;return ne?!Mi(u.value??null,_e):!0},T=(ne,_e=!0)=>(e.range||e.weekPicker)&&Array.isArray(n.value)&&n.value.length===2?e.hideOffsetDates&&!ne.current?!1:dn(qe(ne.value),n.value[_e?0:1]):e.range?w(ne,_e)&&y(_e)||dn(ne.value,Array.isArray(n.value)?n.value[0]:null)&&k(_e):!1,E=(ne,_e,re)=>Array.isArray(n.value)&&n.value[0]&&n.value.length===1?ne?!1:re?Vi(n.value[0],_e.value):Mi(n.value[0],_e.value):!1,S=ne=>!n.value||e.hideOffsetDates&&!ne.current?!1:e.range?e.modelAuto&&Array.isArray(n.value)?dn(ne.value,n.value[0]?n.value[0]:d.value):!1:e.multiDates&&Array.isArray(n.value)?n.value.some(_e=>dn(_e,ne.value)):dn(ne.value,n.value?n.value:d.value),R=ne=>{if(e.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!ne.current)return!1;const _e=ka(u.value,+e.autoRange),re=m0(qe(u.value),e.timezone,e.weekStart);return e.weekPicker?dn(re[1],qe(ne.value)):dn(_e,qe(ne.value))}return!1}return!1},V=ne=>{if(e.autoRange||e.weekPicker){if(u.value){const _e=ka(u.value,+e.autoRange);if(e.hideOffsetDates&&!ne.current)return!1;const re=m0(qe(u.value),e.timezone,e.weekStart);return e.weekPicker?Vi(ne.value,re[0])&&Mi(ne.value,re[1]):Vi(ne.value,u.value)&&Mi(ne.value,_e)}return!1}return!1},L=ne=>{if(e.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!ne.current)return!1;const _e=m0(qe(u.value),e.timezone,e.weekStart);return e.weekPicker?dn(_e[0],ne.value):dn(u.value,ne.value)}return!1}return!1},j=ne=>d1(n.value,u.value,ne.value),Y=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,W=()=>e.modelAuto?zB(e.internalModelValue):!0,q=ne=>{if(Array.isArray(n.value)&&n.value.length||e.weekPicker)return!1;const _e=e.range?!T(ne)&&!T(ne,!1):!0;return!o(ne.value)&&!S(ne)&&!(!ne.current&&e.hideOffsetDates)&&_e},ue=ne=>e.range?e.modelAuto?Y()&&S(ne):!1:S(ne),te=ne=>{var _e;return e.highlight?a(ne.value,(_e=e.arrMapValues)!=null&&_e.highlightedDates?e.arrMapValues.highlightedDates:e.highlight):!1},F=ne=>o(ne.value)&&e.highlightDisabledDays===!1,Q=ne=>{var _e;return(_e=e.highlightWeekDays)==null?void 0:_e.includes(ne.value.getDay())},de=ne=>(e.range||e.weekPicker)&&(!(i.value.count>0)||ne.current)&&W()&&!(!ne.current&&e.hideOffsetDates)&&!S(ne)?j(ne):!1,ee=ne=>{const{isRangeStart:_e,isRangeEnd:re}=be(ne),Ie=e.range?_e||re:!1;return{dp__cell_offset:!ne.current,dp__pointer:!e.disabled&&!(!ne.current&&e.hideOffsetDates)&&!o(ne.value),dp__cell_disabled:o(ne.value),dp__cell_highlight:!F(ne)&&(te(ne)||Q(ne))&&!ue(ne)&&!Ie,dp__cell_highlight_active:!F(ne)&&(te(ne)||Q(ne))&&ue(ne),dp__today:!e.noToday&&dn(ne.value,d.value)&&ne.current}},K=ne=>({dp__active_date:ue(ne),dp__date_hover:q(ne)}),J=ne=>({...ke(ne),...ve(ne),dp__range_between_week:de(ne)&&e.weekPicker}),be=ne=>{const _e=i.value.count>0?ne.current&&T(ne)&&W():T(ne)&&W(),re=i.value.count>0?ne.current&&T(ne,!1)&&W():T(ne,!1)&&W();return{isRangeStart:_e,isRangeEnd:re}},ke=ne=>{const{isRangeStart:_e,isRangeEnd:re}=be(ne);return{dp__range_start:_e,dp__range_end:re,dp__range_between:de(ne)&&!e.weekPicker,dp__date_hover_start:E(q(ne),ne,!0),dp__date_hover_end:E(q(ne),ne,!1)}},ve=ne=>({...ke(ne),dp__cell_auto_range:V(ne),dp__cell_auto_range_start:L(ne),dp__cell_auto_range_end:R(ne)}),oe=ne=>e.range?e.autoRange?ve(ne):e.modelAuto?{...K(ne),...ke(ne)}:ke(ne):e.weekPicker?J(ne):K(ne);return{setHoverDate:p,clearHoverDate:m,getDayClassData:ne=>e.hideOffsetDates&&!ne.current?{}:{...ee(ne),...oe(ne),[e.dayClass?e.dayClass(ne.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Em=n=>{const{defaultedFilters:e}=Ni(n),i=F=>{const Q=mo(o(qe(F))).toISOString(),[de]=Q.split("T");return de},o=F=>ws(F,n.timezone),a=F=>{var Q;const de=n.maxDate?Vi(o(F),o(qe(n.maxDate))):!1,ee=n.minDate?Mi(o(F),o(qe(n.minDate))):!1,K=m(F,(Q=n.arrMapValues)!=null&&Q.disabledDates?n.arrMapValues.disabledDates:n.disabledDates),J=e.value.months.map(ne=>+ne).includes(tn(F)),be=n.disabledWeekDays.length?n.disabledWeekDays.some(ne=>+ne===KX(F)):!1,ke=w(F),ve=Jt(F),oe=ve<+n.yearRange[0]||ve>+n.yearRange[1];return!(de||ee||K||J||oe||be||ke)},u=(F,Q)=>Mi(...El(n.minDate,F,Q))||dn(...El(n.minDate,F,Q)),d=(F,Q)=>Vi(...El(n.maxDate,F,Q))||dn(...El(n.maxDate,F,Q)),p=(F,Q,de)=>{let ee=!1;return n.maxDate&&de&&d(F,Q)&&(ee=!0),n.minDate&&!de&&u(F,Q)&&(ee=!0),ee},m=(F,Q)=>F?Q instanceof Map?!!Q.get(i(F)):Array.isArray(Q)?Q.some(de=>dn(o(qe(de)),o(F))):Q?Q(qe(JSON.parse(JSON.stringify(F)))):!1:!0,k=(F,Q,de,ee)=>{let K=!1;return ee?n.minDate&&n.maxDate?K=p(F,Q,de):(n.minDate&&u(F,Q)||n.maxDate&&d(F,Q))&&(K=!0):K=!0,K},w=F=>{var Q,de,ee,K,J;return Array.isArray(n.allowedDates)&&!((Q=n.allowedDates)!=null&&Q.length)?!0:(de=n.arrMapValues)!=null&&de.allowedDates?!m(F,(ee=n.arrMapValues)==null?void 0:ee.allowedDates):(K=n.allowedDates)!=null&&K.length?!((J=n.allowedDates)!=null&&J.some(be=>dn(o(qe(be)),o(F)))):!1},y=F=>!a(F),T=F=>!mB({start:F[0],end:F[1]}).some(Q=>y(Q)),E=(F,Q,de=0)=>{if(Array.isArray(Q)&&Q[de]){const ee=VZ(F,Q[de]),K=HB(Q[de],F),J=K.length===1?0:K.filter(ke=>y(ke)).length,be=Math.abs(ee)-J;if(n.minRange&&n.maxRange)return be>=+n.minRange&&be<=+n.maxRange;if(n.minRange)return be>=+n.minRange;if(n.maxRange)return be<=+n.maxRange}return!0},S=F=>new Map(F.map(Q=>[i(Q),!0])),R=F=>Array.isArray(F)&&F.length>0,V=()=>{const F={disabledDates:null,allowedDates:null,highlightedDates:null};return R(n.allowedDates)&&(F.allowedDates=S(n.allowedDates)),R(n.highlight)&&(F.highlightedDates=S(n.highlight)),R(n.disabledDates)&&(F.disabledDates=S(n.disabledDates)),F},L=()=>!n.enableTimePicker||n.monthPicker||n.yearPicker||n.ignoreTimeValidation,j=F=>Array.isArray(F)?[F[0]?G_(F[0]):null,F[1]?G_(F[1]):null]:G_(F),Y=(F,Q,de)=>F.find(ee=>+ee.hours===Es(Q)&&ee.minutes==="*"?!0:+ee.minutes===Ss(Q))&&de,W=(F,Q,de)=>{const[ee,K]=F,[J,be]=Q;return!Y(ee,J,de)&&!Y(K,be,de)&&de},q=(F,Q)=>{const de=Array.isArray(Q)?Q:[Q];return Array.isArray(n.disabledTimes)?Array.isArray(n.disabledTimes[0])?W(n.disabledTimes,de,F):!de.some(ee=>Y(n.disabledTimes,ee,F)):F},ue=(F,Q)=>{const de=Array.isArray(Q)?[bu(Q[0]),Q[1]?bu(Q[1]):void 0]:bu(Q),ee=!n.disabledTimes(de);return F&&ee},te=(F,Q)=>n.disabledTimes?Array.isArray(n.disabledTimes)?q(Q,F):ue(Q,F):Q;return{isDisabled:y,validateDate:a,validateMonthYearInRange:k,isDateRangeAllowed:T,checkMinMaxRange:E,matchDate:m,mapDatesArrToMap:V,isValidTime:F=>{let Q=!0;if(!F||L())return!0;const de=!n.minDate&&!n.maxDate?j(F):F;return(n.maxTime||n.maxDate)&&(Q=C3(n.maxTime,n.maxDate,"max",ki(de),Q)),(n.minTime||n.minDate)&&(Q=C3(n.minTime,n.minDate,"min",ki(de),Q)),te(F,Q)}}},sk=()=>{const n=v.computed(()=>(o,a)=>o==null?void 0:o.includes(a)),e=v.computed(()=>(o,a)=>o.count?o.solo?!0:a===0:!0),i=v.computed(()=>(o,a)=>o.count?o.solo?!0:a===o.count-1:!0);return{hideNavigationButtons:n,showLeftIcon:e,showRightIcon:i}},bte=(n,e,i)=>{const o=v.ref(0),a=v.reactive({[ku.timePicker]:!n.enableTimePicker||n.timePicker||n.monthPicker,[ku.calendar]:!1,[ku.header]:!1}),u=w=>{var y;(y=n.flow)!=null&&y.length&&(a[w]=!0,Object.keys(a).filter(T=>!a[T]).length||k())},d=()=>{var w;(w=n.flow)!=null&&w.length&&o.value!==-1&&(o.value+=1,e("flow-step",o.value),k())},p=()=>{o.value=-1},m=(w,y,...T)=>{n.flow[o.value]===w&&i.value&&i.value[y](...T)},k=()=>{m(gs.month,"toggleMonthPicker",!0),m(gs.year,"toggleYearPicker",!0),m(gs.calendar,"toggleTimePicker",!1,!0),m(gs.time,"toggleTimePicker",!0,!0);const w=n.flow[o.value];(w===gs.hours||w===gs.minutes||w===gs.seconds)&&m(w,"toggleTimePicker",!0,!0,w)};return{childMount:u,updateFlowStep:d,resetFlow:p,flowStep:o}},ak={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null}},Ra={...ak,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},kte={key:1,class:"dp__input_wrap"},vte=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid","onKeydown"],_te={key:2,class:"dp__clear_icon"},yte=v.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...ak},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(n,{expose:e,emit:i}){const o=n,{defaultedTextInput:a,defaultedAriaLabels:u,defaultedInline:d,getDefaultPattern:p,getDefaultStartTime:m}=Ni(o),k=v.ref(),w=v.ref(null),y=v.ref(!1),T=v.ref(!1),E=v.computed(()=>({dp__pointer:!o.disabled&&!o.readonly&&!a.value.enabled,dp__disabled:o.disabled,dp__input_readonly:!a.value.enabled,dp__input:!0,dp__input_icon_pad:!o.hideInputIcon,dp__input_valid:!!o.state,dp__input_invalid:o.state===!1,dp__input_focus:y.value||o.isMenuOpen,dp__input_reg:!a.value.enabled,[o.inputClassName]:!!o.inputClassName})),S=()=>{i("set-input-date",null),o.autoApply&&(i("set-empty-date"),k.value=null)},R=ee=>{const K=m();return Yee(ee,a.value.format??p(),K??$B({},o.enableSeconds),o.inputValue,T.value)},V=ee=>{const{rangeSeparator:K}=a.value,[J,be]=ee.split(`${K}`);if(J){const ke=R(J.trim()),ve=be?R(be.trim()):null,oe=ke&&ve?[ke,ve]:[ke];k.value=ke?oe:null}},L=()=>{T.value=!0},j=ee=>{if(o.range)V(ee);else if(o.multiDates){const K=ee.split(";");k.value=K.map(J=>R(J.trim())).filter(J=>J)}else k.value=R(ee)},Y=ee=>{var K;const J=typeof ee=="string"?ee:(K=ee.target)==null?void 0:K.value;J!==""?(a.value.openMenu&&!o.isMenuOpen&&i("open"),j(J),i("set-input-date",k.value)):S(),T.value=!1,i("update:input-value",J)},W=ee=>{a.value.enabled?(j(ee.target.value),a.value.enterSubmit&&tw(k.value)&&o.inputValue!==""?(i("set-input-date",k.value,!0),k.value=null):a.value.enterSubmit&&o.inputValue===""&&(k.value=null,i("clear"))):te(ee)},q=ee=>{a.value.enabled&&a.value.tabSubmit&&j(ee.target.value),a.value.tabSubmit&&tw(k.value)&&o.inputValue!==""?(i("set-input-date",k.value,!0),k.value=null):a.value.tabSubmit&&o.inputValue===""&&(k.value=null,i("clear"))},ue=()=>{y.value=!0,i("focus")},te=ee=>{ee.preventDefault(),ee.stopImmediatePropagation(),ee.stopPropagation(),a.value.enabled&&a.value.openMenu&&!d.value.input&&!o.isMenuOpen?i("open"):a.value.enabled||i("toggle")},F=()=>{i("real-blur"),y.value=!1,(!o.isMenuOpen||d.value.enabled&&d.value.input)&&i("blur"),o.autoApply&&a.value.enabled&&k.value&&!o.isMenuOpen&&(i("set-input-date",k.value),i("select-date"),k.value=null)},Q=()=>{i("clear")},de=ee=>{if(!a.value.enabled){if(ee.code==="Tab")return;ee.preventDefault()}};return e({focusInput:()=>{var ee;(ee=w.value)==null||ee.focus({preventScroll:!0})},setParsedDate:ee=>{k.value=ee}}),(ee,K)=>{var J;return v.openBlock(),v.createElementBlock("div",{onClick:te},[ee.$slots.trigger&&!ee.$slots["dp-input"]&&!v.unref(d).enabled?v.renderSlot(ee.$slots,"trigger",{key:0}):v.createCommentVNode("",!0),!ee.$slots.trigger&&(!v.unref(d).enabled||v.unref(d).input)?(v.openBlock(),v.createElementBlock("div",kte,[ee.$slots["dp-input"]&&!ee.$slots.trigger&&!v.unref(d).enabled?v.renderSlot(ee.$slots,"dp-input",{key:0,value:n.inputValue,isMenuOpen:n.isMenuOpen,onInput:Y,onEnter:W,onTab:q,onClear:Q,onBlur:F,onKeypress:de,onPaste:L}):v.createCommentVNode("",!0),ee.$slots["dp-input"]?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock("input",{key:1,ref_key:"inputRef",ref:w,id:ee.uid?`dp-input-${ee.uid}`:void 0,name:ee.name,class:v.normalizeClass(E.value),inputmode:v.unref(a).enabled?"text":"none",placeholder:ee.placeholder,disabled:ee.disabled,readonly:ee.readonly,required:ee.required,value:n.inputValue,autocomplete:ee.autocomplete,"aria-label":(J=v.unref(u))==null?void 0:J.input,"aria-disabled":ee.disabled||void 0,"aria-invalid":ee.state===!1?!0:void 0,onInput:Y,onKeydown:[v.withKeys(W,["enter"]),v.withKeys(q,["tab"]),de],onBlur:F,onFocus:ue,onKeypress:de,onPaste:L},null,42,vte)),v.createElementVNode("div",{onClick:K[2]||(K[2]=be=>i("toggle"))},[ee.$slots["input-icon"]&&!ee.hideInputIcon?(v.openBlock(),v.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:K[0]||(K[0]=be=>i("toggle"))},[v.renderSlot(ee.$slots,"input-icon")])):v.createCommentVNode("",!0),!ee.$slots["input-icon"]&&!ee.hideInputIcon&&!ee.$slots["dp-input"]?(v.openBlock(),v.createBlock(v.unref(Tm),{key:1,onClick:K[1]||(K[1]=be=>i("toggle")),class:"dp__input_icon dp__input_icons"})):v.createCommentVNode("",!0)]),ee.$slots["clear-icon"]&&n.inputValue&&ee.clearable&&!ee.disabled&&!ee.readonly?(v.openBlock(),v.createElementBlock("span",_te,[v.renderSlot(ee.$slots,"clear-icon",{clear:Q})])):v.createCommentVNode("",!0),ee.clearable&&!ee.$slots["clear-icon"]&&n.inputValue&&!ee.disabled&&!ee.readonly?(v.openBlock(),v.createBlock(v.unref(OB),{key:3,class:"dp__clear_icon dp__input_icons",onClick:v.withModifiers(Q,["stop","prevent"])},null,8,["onClick"])):v.createCommentVNode("",!0)])):v.createCommentVNode("",!0)])}}}),wte=["title"],Cte={class:"dp__action_buttons"},Ate=["onKeydown","disabled"],Tte=v.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Ra},emits:["close-picker","select-date","select-now","invalid-select"],setup(n,{emit:e}){const i=n,{defaultedActionRow:o,defaultedPreviewFormat:a,defaultedMultiCalendars:u,defaultedTextInput:d,defaultedInline:p,getDefaultPattern:m}=Ni(i),{isValidTime:k}=Em(i),{buildMatrix:w}=Hl(),y=v.ref(null),T=v.ref(null);v.onMounted(()=>{i.arrowNavigation&&w([ui(y),ui(T)],"actionRow")});const E=v.computed(()=>i.range&&!i.partialRange&&i.internalModelValue?i.internalModelValue.length===2:!0),S=v.computed(()=>!R.value||!V.value||!E.value),R=v.computed(()=>!i.enableTimePicker||i.ignoreTimeValidation?!0:k(i.internalModelValue)),V=v.computed(()=>i.monthPicker?i.range&&Array.isArray(i.internalModelValue)?!i.internalModelValue.filter(Q=>!te(Q)).length:te(i.internalModelValue):!0),L=()=>{const Q=a.value;return i.timePicker||i.monthPicker,Q(ki(i.internalModelValue))},j=()=>{const Q=i.internalModelValue;return u.value.count>0?`${Y(Q[0])} - ${Y(Q[1])}`:[Y(Q[0]),Y(Q[1])]},Y=Q=>WB(Q,a.value,i.formatLocale,d.value.rangeSeparator,i.modelAuto,m()),W=v.computed(()=>!i.internalModelValue||!i.menuMount?"":typeof a.value=="string"?Array.isArray(i.internalModelValue)?i.internalModelValue.length===2&&i.internalModelValue[1]?j():i.multiDates?i.internalModelValue.map(Q=>`${Y(Q)}`):i.modelAuto?`${Y(i.internalModelValue[0])}`:`${Y(i.internalModelValue[0])} -`:Y(i.internalModelValue):L()),q=()=>i.multiDates?"; ":" - ",ue=v.computed(()=>Array.isArray(W.value)?W.value.join(q()):W.value),te=Q=>{if(!i.monthPicker)return!0;let de=!0;const ee=qe(Vo(Q));if(i.minDate&&i.maxDate){const K=qe(Vo(i.minDate)),J=qe(Vo(i.maxDate));return Vi(ee,K)&&Mi(ee,J)||dn(ee,K)||dn(ee,J)}if(i.minDate){const K=qe(Vo(i.minDate));de=Vi(ee,K)||dn(ee,K)}if(i.maxDate){const K=qe(Vo(i.maxDate));de=Mi(ee,K)||dn(ee,K)}return de},F=()=>{R.value&&V.value&&E.value?e("select-date"):e("invalid-select")};return(Q,de)=>(v.openBlock(),v.createElementBlock("div",{class:"dp__action_row",style:v.normalizeStyle(n.calendarWidth?{width:`${n.calendarWidth}px`}:{})},[Q.$slots["action-row"]?v.renderSlot(Q.$slots,"action-row",v.normalizeProps(v.mergeProps({key:0},{internalModelValue:Q.internalModelValue,disabled:S.value,selectDate:()=>Q.$emit("select-date"),closePicker:()=>Q.$emit("close-picker")}))):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[v.unref(o).showPreview?(v.openBlock(),v.createElementBlock("div",{key:0,class:"dp__selection_preview",title:ue.value},[Q.$slots["action-preview"]?v.renderSlot(Q.$slots,"action-preview",{key:0,value:Q.internalModelValue}):v.createCommentVNode("",!0),Q.$slots["action-preview"]?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[v.createTextVNode(v.toDisplayString(ue.value),1)],64))],8,wte)):v.createCommentVNode("",!0),v.createElementVNode("div",Cte,[Q.$slots["action-buttons"]?v.renderSlot(Q.$slots,"action-buttons",{key:0,value:Q.internalModelValue}):v.createCommentVNode("",!0),Q.$slots["action-buttons"]?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[!v.unref(p).enabled&&v.unref(o).showCancel?(v.openBlock(),v.createElementBlock("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:y,class:"dp__action_button dp__action_cancel",onClick:de[0]||(de[0]=ee=>Q.$emit("close-picker")),onKeydown:[de[1]||(de[1]=v.withKeys(ee=>Q.$emit("close-picker"),["enter"])),de[2]||(de[2]=v.withKeys(ee=>Q.$emit("close-picker"),["space"]))]},v.toDisplayString(Q.cancelText),545)):v.createCommentVNode("",!0),v.unref(o).showNow?(v.openBlock(),v.createElementBlock("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:y,class:"dp__action_button dp__action_cancel",onClick:de[3]||(de[3]=ee=>Q.$emit("select-now")),onKeydown:[de[4]||(de[4]=v.withKeys(ee=>Q.$emit("select-now"),["enter"])),de[5]||(de[5]=v.withKeys(ee=>Q.$emit("select-now"),["space"]))]},v.toDisplayString(Q.nowButtonLabel),545)):v.createCommentVNode("",!0),v.unref(o).showSelect?(v.openBlock(),v.createElementBlock("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[v.withKeys(F,["enter"]),v.withKeys(F,["space"])],onClick:F,disabled:S.value,ref_key:"selectButtonRef",ref:T},v.toDisplayString(Q.selectText),41,Ate)):v.createCommentVNode("",!0)],64))])],64))],4))}}),xte=["onKeydown"],Ete={class:"dp__selection_grid_header"},Ste=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Dte=["aria-label","onKeydown"],nm=v.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]}},emits:["selected","toggle","reset-flow","hover-value"],setup(n,{expose:e,emit:i}){const o=n,{setSelectionGrid:a,buildMultiLevelMatrix:u,setMonthPicker:d}=Hl(),{defaultedAriaLabels:p,defaultedTextInput:m}=Ni(o),{hideNavigationButtons:k}=sk(),w=v.ref(!1),y=v.ref(null),T=v.ref(null),E=v.ref([]),S=v.ref(),R=v.ref(null),V=v.ref(0),L=v.ref(null);v.onBeforeUpdate(()=>{y.value=null}),v.onMounted(()=>{v.nextTick().then(()=>Q()),Y(),j(!0)}),v.onUnmounted(()=>j(!1));const j=oe=>{var ne;o.arrowNavigation&&((ne=o.headerRefs)!=null&&ne.length?d(oe):a(oe))},Y=()=>{var oe;const ne=ui(T);ne&&(m.value.enabled||(y.value?(oe=y.value)==null||oe.focus({preventScroll:!0}):ne.focus({preventScroll:!0})),w.value=ne.clientHeight<ne.scrollHeight)},W=v.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!o.useRelative,"dp--overlay-relative":o.useRelative})),q=v.computed(()=>o.useRelative?{height:`${o.height}px`,width:"260px"}:void 0),ue=v.computed(()=>({dp__overlay_col:!0})),te=v.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:w.value,dp__button_bottom:o.isLast})),F=v.computed(()=>{var oe,ne;return{dp__overlay_container:!0,dp__container_flex:((oe=o.items)==null?void 0:oe.length)<=6,dp__container_block:((ne=o.items)==null?void 0:ne.length)>6}}),Q=()=>{v.nextTick().then(()=>{const oe=ui(y),ne=ui(T),_e=ui(R),re=ui(L),Ie=_e?_e.getBoundingClientRect().height:0;ne&&(V.value=ne.getBoundingClientRect().height-Ie),oe&&re&&(re.scrollTop=oe.offsetTop-re.offsetTop-(V.value/2-oe.getBoundingClientRect().height)-Ie)})},de=oe=>{oe.disabled||i("selected",oe.value)},ee=()=>{i("toggle"),i("reset-flow")},K=()=>{o.escClose&&ee()},J=(oe,ne,_e,re)=>{oe&&(ne.active&&(y.value=oe),o.arrowNavigation&&(Array.isArray(E.value[_e])?E.value[_e][re]=oe:E.value[_e]=[oe],be()))},be=()=>{var oe,ne;const _e=(oe=o.headerRefs)!=null&&oe.length?[o.headerRefs].concat(E.value):E.value.concat([o.skipButtonRef?[]:[R.value]]);u(ki(_e),(ne=o.headerRefs)!=null&&ne.length?"monthPicker":"selectionGrid")},ke=oe=>{o.arrowNavigation||oe.stopImmediatePropagation()},ve=oe=>{S.value=oe,i("hover-value",oe)};return e({focusGrid:Y}),(oe,ne)=>{var _e;return v.openBlock(),v.createElementBlock("div",{ref_key:"gridWrapRef",ref:T,class:v.normalizeClass(W.value),style:v.normalizeStyle(q.value),role:"dialog",tabindex:"0",onKeydown:[v.withKeys(v.withModifiers(K,["prevent"]),["esc"]),ne[0]||(ne[0]=v.withKeys(v.withModifiers(re=>ke(re),["prevent"]),["left"])),ne[1]||(ne[1]=v.withKeys(v.withModifiers(re=>ke(re),["prevent"]),["up"])),ne[2]||(ne[2]=v.withKeys(v.withModifiers(re=>ke(re),["prevent"]),["down"])),ne[3]||(ne[3]=v.withKeys(v.withModifiers(re=>ke(re),["prevent"]),["right"]))]},[v.createElementVNode("div",{class:v.normalizeClass(F.value),ref_key:"containerRef",ref:L,role:"grid",style:v.normalizeStyle({height:`${V.value}px`})},[v.createElementVNode("div",Ete,[v.renderSlot(oe.$slots,"header")]),oe.$slots.overlay?v.renderSlot(oe.$slots,"overlay",{key:0}):(v.openBlock(!0),v.createElementBlock(v.Fragment,{key:1},v.renderList(oe.items,(re,Ie)=>(v.openBlock(),v.createElementBlock("div",{class:v.normalizeClass(["dp__overlay_row",{dp__flex_row:oe.items.length>=3}]),key:Ie,role:"row"},[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(re,(he,Ae)=>(v.openBlock(),v.createElementBlock("div",{role:"gridcell",class:v.normalizeClass(ue.value),key:he.value,"aria-selected":he.active,"aria-disabled":he.disabled||void 0,ref_for:!0,ref:Me=>J(Me,he,Ie,Ae),tabindex:"0",onClick:Me=>de(he),onKeydown:[v.withKeys(v.withModifiers(Me=>de(he),["prevent"]),["enter"]),v.withKeys(v.withModifiers(Me=>de(he),["prevent"]),["space"])],onMouseover:Me=>ve(he.value)},[v.createElementVNode("div",{class:v.normalizeClass(he.className)},[oe.$slots.item?v.renderSlot(oe.$slots,"item",{key:0,item:he}):v.createCommentVNode("",!0),oe.$slots.item?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[v.createTextVNode(v.toDisplayString(he.text),1)],64))],2)],42,Ste))),128))],2))),128))],6),oe.$slots["button-icon"]?v.withDirectives((v.openBlock(),v.createElementBlock("button",{key:0,type:"button","aria-label":(_e=v.unref(p))==null?void 0:_e.toggleOverlay,class:v.normalizeClass(te.value),tabindex:"0",ref_key:"toggleButton",ref:R,onClick:ee,onKeydown:[v.withKeys(ee,["enter"]),v.withKeys(ee,["tab"])]},[v.renderSlot(oe.$slots,"button-icon")],42,Dte)),[[v.vShow,!v.unref(k)(oe.hideNavigation,oe.type)]]):v.createCommentVNode("",!0)],46,xte)}}}),h1=v.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(n){const e=n,i=v.computed(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),o=v.computed(()=>({dp__instance_calendar:e.multiCalendars>0}));return(a,u)=>(v.openBlock(),v.createElementBlock("div",{class:v.normalizeClass({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0})},[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(i.value,(d,p)=>(v.openBlock(),v.createElementBlock("div",{key:d,class:v.normalizeClass(o.value)},[v.renderSlot(a.$slots,"default",{instance:d,index:p})],2))),128))],2))}}),Ite=["aria-label","aria-disabled"],Ap=v.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(n,{emit:e}){const i=v.ref(null);return v.onMounted(()=>e("set-ref",i)),(o,a)=>(v.openBlock(),v.createElementBlock("button",{type:"button",class:"dp__btn dp--arrow-btn-nav",onClick:a[0]||(a[0]=u=>o.$emit("activate")),onKeydown:[a[1]||(a[1]=v.withKeys(v.withModifiers(u=>o.$emit("activate"),["prevent"]),["enter"])),a[2]||(a[2]=v.withKeys(v.withModifiers(u=>o.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":o.ariaLabel,"aria-disabled":o.disabled||void 0,ref_key:"elRef",ref:i},[v.createElementVNode("span",{class:v.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:o.disabled}])},[v.renderSlot(o.$slots,"default")],2)],40,Ite))}}),f1=(n,e,i)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(o=>dn(n,o))){const o=e.value.filter(a=>!dn(a,n));e.value=o.length?o:null}else(i&&+i>e.value.length||!i)&&e.value.push(n);else e.value=[n]},KB=(n,e,i)=>{let o=n.value?n.value.slice():[];return o.length===2&&o[1]!==null&&(o=[]),o.length?Mi(e,o[0])?(o.unshift(e),i("range-start",o[0]),i("range-start",o[1])):(o[1]=e,i("range-end",e)):(o=[e],i("range-start",e)),n.value=o,o},p1=(n,e,i,o)=>{n[0]&&n[1]&&i&&e("auto-apply"),n[0]&&!n[1]&&o&&i&&e("auto-apply")},Mte=(n,e)=>{const{defaultedMultiCalendars:i,defaultedAriaLabels:o,defaultedTransitions:a}=Ni(n),{modelValue:u,year:d,month:p,calendars:m}=ok(n,e),k=v.computed(()=>jB(n.formatLocale,n.locale,n.monthNameFormat)),w=v.computed(()=>u1(n.yearRange,n.reverseYears)),y=v.ref(null),T=()=>{for(let K=0;K<i.value.count;K++)if(K===0)m.value[K]=m.value[0];else{const J=Rn(qe(),m.value[K-1]);m.value[K]={month:tn(J),year:Jt(YC(J,K))}}},E=K=>{if(!K)return T();const J=Rn(qe(),m.value[K]);return m.value[0].year=Jt(BB(J,i.value.count-1)),T()},S=K=>n.focusStartDate?K[0]:K[1]?K[1]:K[0],R=()=>{if(u.value){const K=Array.isArray(u.value)?S(u.value):u.value;m.value[0]={month:tn(K),year:Jt(K)}}};v.onMounted(()=>{R(),i.value.count&&T()});const V=v.computed(()=>(K,J)=>{const be=Rn(Vo(new Date),{month:p.value(K),year:d.value(K)});return qB(be,n.maxDate,n.minDate,n.preventMinMaxNavigation,J)}),L=K=>K?{month:tn(K),year:Jt(K)}:{month:null,year:null},j=()=>u.value?Array.isArray(u.value)?u.value.map(K=>L(K)):L(u.value):L(),Y=(K,J)=>{const be=m.value[K],ke=j();return Array.isArray(ke)?ke.some(ve=>ve.year===(be==null?void 0:be.year)&&ve.month===J):(be==null?void 0:be.year)===ke.year&&J===ke.month},W=(K,J,be)=>{var ke,ve;const oe=j();return Array.isArray(oe)?d.value(J)===((ke=oe[be])==null?void 0:ke.year)&&K===((ve=oe[be])==null?void 0:ve.month):!1},q=(K,J)=>{if(n.range){const be=j();if(Array.isArray(u.value)&&Array.isArray(be)){const ke=W(K,J,0)||W(K,J,1),ve=ya(Vo(qe()),K,d.value(J));return d1(u.value,y.value,ve)&&!ke}return!1}return!1},ue=v.computed(()=>K=>kh(k.value,J=>{const be=Y(K,J.value),ke=tm(J.value,VB(d.value(K),n.minDate),UB(d.value(K),n.maxDate))||nte(n.disabledDates,d.value(K)).includes(J.value),ve=q(J.value,K);return{active:be,disabled:ke,isBetween:ve}})),te=v.computed(()=>K=>kh(w.value,J=>{const be=d.value(K)===J.value,ke=tm(J.value,vh(n.minDate),vh(n.maxDate));return{active:be,disabled:ke}})),F=(K,J)=>ya(Vo(qe()),K,d.value(J)),Q=(K,J)=>{const be=u.value?u.value:Vo(new Date);u.value=ya(be,K,d.value(J)),e("auto-apply")},de=(K,J)=>{const be=KB(u,F(K,J),e);p1(be,e,n.autoApply,n.modelAuto)},ee=(K,J)=>{f1(F(K,J),u,n.multiDatesLimit),e("auto-apply",!0)};return{groupedMonths:ue,groupedYears:te,year:d,isDisabled:V,defaultedMultiCalendars:i,defaultedAriaLabels:o,defaultedTransitions:a,setHoverDate:(K,J)=>{y.value=F(K,J)},selectMonth:(K,J)=>(m.value[J].month=K,n.multiDates?ee(K,J):n.range?de(K,J):Q(K,J)),selectYear:(K,J)=>{m.value[J].year=K,i.value.count&&!i.value.solo&&E(J)}}},Pte={class:"dp__month_picker_header"},Nte=["aria-label","onClick","onKeydown"],Bte=v.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Ra},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply"],setup(n,{emit:e}){const i=n,{groupedMonths:o,groupedYears:a,year:u,isDisabled:d,defaultedMultiCalendars:p,defaultedAriaLabels:m,defaultedTransitions:k,setHoverDate:w,selectMonth:y,selectYear:T}=Mte(i,e),{transitionName:E,showTransition:S}=xm(k),{showRightIcon:R,showLeftIcon:V}=sk(),L=v.ref([!1]),j=(q,ue)=>{T(q,ue),W(ue)},Y=(q,ue=!1)=>{if(!d.value(q,ue)){const te=ue?u.value(q)+1:u.value(q)-1;T(te,q)}},W=(q,ue=!1,te)=>{ue||e("reset-flow"),te!==void 0?L.value[q]=te:L.value[q]=!L.value[q],L.value||e("overlay-closed")};return(q,ue)=>(v.openBlock(),v.createBlock(h1,{"multi-calendars":v.unref(p).count,stretch:""},{default:v.withCtx(({instance:te})=>[q.$slots["month-year"]?v.renderSlot(q.$slots,"month-year",v.normalizeProps(v.mergeProps({key:0},{year:v.unref(u),months:v.unref(o)(te),years:v.unref(a)(te),selectMonth:v.unref(y),selectYear:v.unref(T),instance:te}))):(v.openBlock(),v.createBlock(nm,{key:1,items:v.unref(o)(te),"arrow-navigation":q.arrowNavigation,"is-last":q.autoApply&&!q.keepActionRow,"esc-close":q.escClose,height:q.modeHeight,onSelected:F=>v.unref(y)(F,te),onHoverValue:F=>v.unref(w)(F,te),"use-relative":"",type:"month"},{header:v.withCtx(()=>{var F,Q,de;return[v.createElementVNode("div",Pte,[v.unref(V)(v.unref(p),te)?(v.openBlock(),v.createBlock(Ap,{key:0,ref:"mpPrevIconRef","aria-label":(F=v.unref(m))==null?void 0:F.prevYear,disabled:v.unref(d)(te,!1),onActivate:ee=>Y(te,!1)},{default:v.withCtx(()=>[q.$slots["arrow-left"]?v.renderSlot(q.$slots,"arrow-left",{key:0}):v.createCommentVNode("",!0),q.$slots["arrow-left"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.unref(n1),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):v.createCommentVNode("",!0),v.createElementVNode("div",{class:"dp--year-select",role:"button",ref:"mpYearButtonRef","aria-label":(Q=v.unref(m))==null?void 0:Q.openYearsOverlay,tabindex:"0",onClick:()=>W(te,!1),onKeydown:v.withKeys(()=>W(te,!1),["enter"])},[q.$slots.year?v.renderSlot(q.$slots,"year",{key:0,year:v.unref(u)(te)}):v.createCommentVNode("",!0),q.$slots.year?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[v.createTextVNode(v.toDisplayString(v.unref(u)(te)),1)],64))],40,Nte),v.unref(R)(v.unref(p),te)?(v.openBlock(),v.createBlock(Ap,{key:1,ref:"mpNextIconRef","aria-label":(de=v.unref(m))==null?void 0:de.nextYear,disabled:v.unref(d)(te,!1),onActivate:ee=>Y(te,!0)},{default:v.withCtx(()=>[q.$slots["arrow-right"]?v.renderSlot(q.$slots,"arrow-right",{key:0}):v.createCommentVNode("",!0),q.$slots["arrow-right"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.unref(i1),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):v.createCommentVNode("",!0),v.createVNode(v.Transition,{name:v.unref(E)(L.value[te]),css:v.unref(S)},{default:v.withCtx(()=>[L.value[te]?(v.openBlock(),v.createBlock(nm,{key:0,items:v.unref(a)(te),"text-input":q.textInput,"esc-close":q.escClose,onToggle:ee=>W(te),onSelected:ee=>j(ee,te),"is-last":q.autoApply&&!q.keepActionRow,type:"year"},v.createSlots({"button-icon":v.withCtx(()=>[q.$slots["calendar-icon"]?v.renderSlot(q.$slots,"calendar-icon",{key:0}):v.createCommentVNode("",!0),q.$slots["calendar-icon"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.unref(Tm),{key:1}))]),_:2},[q.$slots["year-overlay-value"]?{name:"item",fn:v.withCtx(({item:ee})=>[v.renderSlot(q.$slots,"year-overlay-value",{text:ee.text,value:ee.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","onToggle","onSelected","is-last"])):v.createCommentVNode("",!0)]),_:2},1032,["name","css"])])]}),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),Ote=(n,e)=>{const{modelValue:i}=ok(n,e),o=v.ref(null),a=m=>Array.isArray(i.value)?i.value.some(k=>Jt(k)===m):i.value?Jt(i.value)===m:!1,u=m=>n.range&&Array.isArray(i.value)?d1(i.value,o.value,p(m)):!1,d=v.computed(()=>kh(u1(n.yearRange,n.reverseYears),m=>{const k=a(m.value),w=tm(m.value,vh(n.minDate),vh(n.maxDate)),y=u(m.value);return{active:k,disabled:w,isBetween:y}})),p=m=>gu(Vo(new Date),m);return{groupedYears:d,setHoverValue:m=>{o.value=gu(Vo(new Date),m)},selectYear:m=>{if(n.multiDates)return f1(p(m),i,n.multiDatesLimit),e("auto-apply",!0);if(n.range){const k=KB(i,p(m),e);return p1(k,e,n.autoApply,n.modelAuto)}i.value=p(m),e("auto-apply")}}},Lte=v.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Ra},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(n,{emit:e}){const i=n,{groupedYears:o,selectYear:a,setHoverValue:u}=Ote(i,e);return(d,p)=>(v.openBlock(),v.createElementBlock("div",null,[d.$slots["month-year"]?v.renderSlot(d.$slots,"month-year",v.normalizeProps(v.mergeProps({key:0},{years:v.unref(o),selectYear:v.unref(a)}))):(v.openBlock(),v.createBlock(nm,{key:1,items:v.unref(o),"is-last":d.autoApply&&!d.keepActionRow,height:d.modeHeight,type:"year","use-relative":"",onSelected:v.unref(a),onHoverValue:v.unref(u)},v.createSlots({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:v.withCtx(({item:m})=>[v.renderSlot(d.$slots,"year-overlay-value",{text:m.text,value:m.value})]),key:"0"}:void 0]),1032,["items","is-last","height","onSelected","onHoverValue"]))]))}}),Rte={key:0,class:"dp__time_input"},Fte=["aria-label","onKeydown","onClick"],jte=v.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),zte=v.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Vte=["aria-label","disabled","onKeydown","onClick"],Ute=["aria-label","onKeydown","onClick"],Hte=v.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),$te=v.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),qte={key:0},Wte=["aria-label","onKeydown"],Gte=v.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},...Ra},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(n,{expose:e,emit:i}){const o=n,{setTimePickerElements:a,setTimePickerBackRef:u}=Hl(),{defaultedAriaLabels:d,defaultedTransitions:p,defaultedFilters:m}=Ni(o),{transitionName:k,showTransition:w}=xm(p),y=v.reactive({hours:!1,minutes:!1,seconds:!1}),T=v.ref("AM"),E=v.ref(null),S=v.ref([]);v.onMounted(()=>{i("mounted")});const R=he=>Rn(new Date,{hours:he.hours,minutes:he.minutes,seconds:o.enableSeconds?he.seconds:0,milliseconds:0}),V=v.computed(()=>he=>de(he,o[he])),L=v.computed(()=>({hours:o.hours,minutes:o.minutes,seconds:o.seconds})),j=v.computed(()=>he=>!K(+o[he]+ +o[`${he}Increment`],he)),Y=v.computed(()=>he=>!K(+o[he]-+o[`${he}Increment`],he)),W=(he,Ae)=>fB(Rn(qe(),he),Ae),q=(he,Ae)=>gee(Rn(qe(),he),Ae),ue=v.computed(()=>({dp__time_col:!0,dp__time_col_block:!o.timePickerInline,dp__time_col_reg_block:!o.enableSeconds&&o.is24&&!o.timePickerInline,dp__time_col_reg_inline:!o.enableSeconds&&o.is24&&o.timePickerInline,dp__time_col_reg_with_button:!o.enableSeconds&&!o.is24,dp__time_col_sec:o.enableSeconds&&o.is24,dp__time_col_sec_with_button:o.enableSeconds&&!o.is24})),te=v.computed(()=>{const he=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return o.enableSeconds?he.concat([{type:"",separator:!0},{type:"seconds"}]):he}),F=v.computed(()=>te.value.filter(he=>!he.separator)),Q=v.computed(()=>he=>{if(he==="hours"){const Ae=oe(+o.hours);return{text:Ae<10?`0${Ae}`:`${Ae}`,value:Ae}}return{text:o[he]<10?`0${o[he]}`:`${o[he]}`,value:o[he]}}),de=(he,Ae)=>{var Me;if(!o.disabledTimesConfig)return!1;const Ne=o.disabledTimesConfig(o.order,he==="hours"?Ae:void 0);return Ne[he]?!!((Me=Ne[he])!=null&&Me.includes(Ae)):!0},ee=he=>{const Ae=o.is24?24:12,Me=he==="hours"?Ae:60,Ne=+o[`${he}GridIncrement`],rt=he==="hours"&&!o.is24?Ne:0,ft=[];for(let Ke=rt;Ke<Me;Ke+=Ne)ft.push({value:Ke,text:Ke<10?`0${Ke}`:`${Ke}`});return he==="hours"&&!o.is24&&ft.push({value:0,text:"12"}),kh(ft,Ke=>({active:!1,disabled:m.value.times[he].includes(Ke.value)||!K(Ke.value,he)||de(he,Ke.value)}))},K=(he,Ae)=>{const Me=o.minTime?R(q_(o.minTime)):null,Ne=o.maxTime?R(q_(o.maxTime)):null,rt=R(q_(L.value,Ae,he));return Me&&Ne?(em(rt,Ne)||$d(rt,Ne))&&(Jp(rt,Me)||$d(rt,Me)):Me?Jp(rt,Me)||$d(rt,Me):Ne?em(rt,Ne)||$d(rt,Ne):!0},J=he=>o[`no${he[0].toUpperCase()+he.slice(1)}Overlay`],be=he=>{J(he)||(y[he]=!y[he],y[he]||i("overlay-closed"))},ke=he=>he==="hours"?Es:he==="minutes"?Ss:gh,ve=(he,Ae=!0)=>{const Me=Ae?W:q,Ne=Ae?+o[`${he}Increment`]:-+o[`${he}Increment`];K(+o[he]+Ne,he)&&i(`update:${he}`,ke(he)(Me({[he]:+o[he]},{[he]:+o[`${he}Increment`]})))},oe=he=>o.is24?he:(he>=12?T.value="PM":T.value="AM",qee(he)),ne=()=>{T.value==="PM"?(T.value="AM",i("update:hours",o.hours-12)):(T.value="PM",i("update:hours",o.hours+12)),i("am-pm-change",T.value)},_e=he=>{y[he]=!0},re=(he,Ae,Me)=>{if(he&&o.arrowNavigation){Array.isArray(S.value[Ae])?S.value[Ae][Me]=he:S.value[Ae]=[he];const Ne=S.value.reduce((rt,ft)=>ft.map((Ke,dt)=>[...rt[dt]||[],ft[dt]]),[]);u(o.closeTimePickerBtn),E.value&&(Ne[1]=Ne[1].concat(E.value)),a(Ne,o.order)}},Ie=(he,Ae)=>(be(he),he==="hours"&&!o.is24?i(`update:${he}`,T.value==="PM"?Ae+12:Ae):i(`update:${he}`,Ae));return e({openChildCmp:_e}),(he,Ae)=>{var Me;return he.disabled?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock("div",Rte,[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(te.value,(Ne,rt)=>{var ft,Ke,dt;return v.openBlock(),v.createElementBlock("div",{key:rt,class:v.normalizeClass(ue.value)},[Ne.separator?(v.openBlock(),v.createElementBlock(v.Fragment,{key:0},[v.createTextVNode(" : ")],64)):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[v.createElementVNode("button",{type:"button",class:v.normalizeClass({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_top:o.timePickerInline,dp__inc_dec_button_disabled:j.value(Ne.type)}),"aria-label":(ft=v.unref(d))==null?void 0:ft.incrementValue(Ne.type),tabindex:"0",onKeydown:[v.withKeys(v.withModifiers(Te=>ve(Ne.type),["prevent"]),["enter"]),v.withKeys(v.withModifiers(Te=>ve(Ne.type),["prevent"]),["space"])],onClick:Te=>ve(Ne.type),ref_for:!0,ref:Te=>re(Te,rt,0)},[o.timePickerInline?(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[jte,zte],64)):(v.openBlock(),v.createElementBlock(v.Fragment,{key:0},[he.$slots["arrow-up"]?v.renderSlot(he.$slots,"arrow-up",{key:0}):v.createCommentVNode("",!0),he.$slots["arrow-up"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.unref(o1),{key:1}))],64))],42,Fte),v.createElementVNode("button",{type:"button","aria-label":(Ke=v.unref(d))==null?void 0:Ke.openTpOverlay(Ne.type),class:v.normalizeClass({dp__time_display:!0,dp__time_display_block:!o.timePickerInline,dp__time_display_inline:o.timePickerInline,"dp--time-invalid":V.value(Ne.type),"dp--time-overlay-btn":!V.value(Ne.type)}),disabled:J(Ne.type),tabindex:"0",onKeydown:[v.withKeys(v.withModifiers(Te=>be(Ne.type),["prevent"]),["enter"]),v.withKeys(v.withModifiers(Te=>be(Ne.type),["prevent"]),["space"])],onClick:Te=>be(Ne.type),ref_for:!0,ref:Te=>re(Te,rt,1)},[he.$slots[Ne.type]?v.renderSlot(he.$slots,Ne.type,{key:0,text:Q.value(Ne.type).text,value:Q.value(Ne.type).value}):v.createCommentVNode("",!0),he.$slots[Ne.type]?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[v.createTextVNode(v.toDisplayString(Q.value(Ne.type).text),1)],64))],42,Vte),v.createElementVNode("button",{type:"button",class:v.normalizeClass({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_bottom:o.timePickerInline,dp__inc_dec_button_disabled:Y.value(Ne.type)}),"aria-label":(dt=v.unref(d))==null?void 0:dt.decrementValue(Ne.type),tabindex:"0",onKeydown:[v.withKeys(v.withModifiers(Te=>ve(Ne.type,!1),["prevent"]),["enter"]),v.withKeys(v.withModifiers(Te=>ve(Ne.type,!1),["prevent"]),["space"])],onClick:Te=>ve(Ne.type,!1),ref_for:!0,ref:Te=>re(Te,rt,2)},[o.timePickerInline?(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[Hte,$te],64)):(v.openBlock(),v.createElementBlock(v.Fragment,{key:0},[he.$slots["arrow-down"]?v.renderSlot(he.$slots,"arrow-down",{key:0}):v.createCommentVNode("",!0),he.$slots["arrow-down"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.unref(s1),{key:1}))],64))],42,Ute)],64))],2)}),128)),he.is24?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock("div",qte,[he.$slots["am-pm-button"]?v.renderSlot(he.$slots,"am-pm-button",{key:0,toggle:ne,value:T.value}):v.createCommentVNode("",!0),he.$slots["am-pm-button"]?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:E,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(Me=v.unref(d))==null?void 0:Me.amPmButton,tabindex:"0",onClick:ne,onKeydown:[v.withKeys(v.withModifiers(ne,["prevent"]),["enter"]),v.withKeys(v.withModifiers(ne,["prevent"]),["space"])]},v.toDisplayString(T.value),41,Wte))])),(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(F.value,(Ne,rt)=>(v.openBlock(),v.createBlock(v.Transition,{key:rt,name:v.unref(k)(y[Ne.type]),css:v.unref(w)},{default:v.withCtx(()=>[y[Ne.type]?(v.openBlock(),v.createBlock(nm,{key:0,items:ee(Ne.type),"is-last":he.autoApply&&!he.keepActionRow,"esc-close":he.escClose,type:Ne.type,"text-input":he.textInput,"arrow-navigation":he.arrowNavigation,onSelected:ft=>Ie(Ne.type,ft),onToggle:ft=>be(Ne.type),onResetFlow:Ae[0]||(Ae[0]=ft=>he.$emit("reset-flow"))},v.createSlots({"button-icon":v.withCtx(()=>[he.$slots["clock-icon"]?v.renderSlot(he.$slots,"clock-icon",{key:0}):v.createCommentVNode("",!0),he.$slots["clock-icon"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.unref(r1),{key:1}))]),_:2},[he.$slots[`${Ne.type}-overlay-value`]?{name:"item",fn:v.withCtx(({item:ft})=>[v.renderSlot(he.$slots,`${Ne.type}-overlay-value`,{text:ft.text,value:ft.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","arrow-navigation","onSelected","onToggle"])):v.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Kte=["aria-label"],Yte=["tabindex"],Qte=["aria-label"],YB=v.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},...Ra},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(n,{expose:e,emit:i}){const o=n,{buildMatrix:a,setTimePicker:u}=Hl(),d=v.useSlots(),{defaultedTransitions:p,defaultedAriaLabels:m,defaultedTextInput:k}=Ni(o),{transitionName:w,showTransition:y}=xm(p),{hideNavigationButtons:T}=sk(),E=v.ref(null),S=v.ref(null),R=v.ref([]),V=v.ref(null);v.onMounted(()=>{i("mount"),!o.timePicker&&o.arrowNavigation?a([ui(E.value)],"time"):u(!0,o.timePicker)});const L=v.computed(()=>o.range&&o.modelAuto?zB(o.internalModelValue):!0),j=v.ref(!1),Y=J=>({hours:Array.isArray(o.hours)?o.hours[J]:o.hours,minutes:Array.isArray(o.minutes)?o.minutes[J]:o.minutes,seconds:Array.isArray(o.seconds)?o.seconds[J]:o.seconds}),W=v.computed(()=>{const J=[];if(o.range)for(let be=0;be<2;be++)J.push(Y(be));else J.push(Y(0));return J}),q=(J,be=!1,ke="")=>{be||i("reset-flow"),j.value=J,i(J?"overlay-opened":"overlay-closed"),o.arrowNavigation&&u(J),v.nextTick(()=>{ke!==""&&R.value[0]&&R.value[0].openChildCmp(ke)})},ue=v.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:o.autoApply&&!o.keepActionRow})),te=Ho(d,"timePicker"),F=(J,be,ke)=>o.range?be===0?[J,W.value[1][ke]]:[W.value[0][ke],J]:J,Q=J=>{i("update:hours",J)},de=J=>{i("update:minutes",J)},ee=J=>{i("update:seconds",J)},K=()=>{if(V.value&&!k.value.enabled){const J=Gee(V.value);J&&J.focus({preventScroll:!0})}};return e({toggleTimePicker:q}),(J,be)=>{var ke;return v.openBlock(),v.createElementBlock("div",null,[!J.timePicker&&!J.timePickerInline?v.withDirectives((v.openBlock(),v.createElementBlock("button",{key:0,type:"button",class:v.normalizeClass(ue.value),"aria-label":(ke=v.unref(m))==null?void 0:ke.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:E,onKeydown:[be[0]||(be[0]=v.withKeys(ve=>q(!0),["enter"])),be[1]||(be[1]=v.withKeys(ve=>q(!0),["space"]))],onClick:be[2]||(be[2]=ve=>q(!0))},[J.$slots["clock-icon"]?v.renderSlot(J.$slots,"clock-icon",{key:0}):v.createCommentVNode("",!0),J.$slots["clock-icon"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.unref(r1),{key:1}))],42,Kte)),[[v.vShow,!v.unref(T)(J.hideNavigation,"time")]]):v.createCommentVNode("",!0),v.createVNode(v.Transition,{name:v.unref(w)(j.value),css:v.unref(y)&&!J.timePickerInline},{default:v.withCtx(()=>{var ve;return[j.value||J.timePicker||J.timePickerInline?(v.openBlock(),v.createElementBlock("div",{key:0,class:v.normalizeClass({dp__overlay:!J.timePickerInline,"dp--overlay-absolute":!o.timePicker&&!J.timePickerInline,"dp--overlay-relative":o.timePicker}),style:v.normalizeStyle(J.timePicker?{height:`${J.modeHeight}px`}:void 0),ref_key:"overlayRef",ref:V,tabindex:J.timePickerInline?void 0:0},[v.createElementVNode("div",{class:v.normalizeClass(J.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[J.$slots["time-picker-overlay"]?v.renderSlot(J.$slots,"time-picker-overlay",{key:0,hours:n.hours,minutes:n.minutes,seconds:n.seconds,setHours:Q,setMinutes:de,setSeconds:ee}):v.createCommentVNode("",!0),J.$slots["time-picker-overlay"]?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock("div",{key:1,class:v.normalizeClass(J.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(W.value,(oe,ne)=>v.withDirectives((v.openBlock(),v.createBlock(Gte,v.mergeProps({key:ne},{...J.$props,order:ne,hours:oe.hours,minutes:oe.minutes,seconds:oe.seconds,closeTimePickerBtn:S.value,disabledTimesConfig:n.disabledTimesConfig,disabled:ne===0?J.fixedStart:J.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:R,"onUpdate:hours":_e=>Q(F(_e,ne,"hours")),"onUpdate:minutes":_e=>de(F(_e,ne,"minutes")),"onUpdate:seconds":_e=>ee(F(_e,ne,"seconds")),onMounted:K,onOverlayClosed:K,onAmPmChange:be[3]||(be[3]=_e=>J.$emit("am-pm-change",_e))}),v.createSlots({_:2},[v.renderList(v.unref(te),(_e,re)=>({name:_e,fn:v.withCtx(Ie=>[v.renderSlot(J.$slots,_e,v.normalizeProps(v.guardReactiveProps(Ie)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[v.vShow,ne===0?!0:L.value]])),128))],2)),!J.timePicker&&!J.timePickerInline?v.withDirectives((v.openBlock(),v.createElementBlock("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:S,class:v.normalizeClass(ue.value),"aria-label":(ve=v.unref(m))==null?void 0:ve.closeTimePicker,tabindex:"0",onKeydown:[be[4]||(be[4]=v.withKeys(oe=>q(!1),["enter"])),be[5]||(be[5]=v.withKeys(oe=>q(!1),["space"]))],onClick:be[6]||(be[6]=oe=>q(!1))},[J.$slots["calendar-icon"]?v.renderSlot(J.$slots,"calendar-icon",{key:0}):v.createCommentVNode("",!0),J.$slots["calendar-icon"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.unref(Tm),{key:1}))],42,Qte)),[[v.vShow,!v.unref(T)(J.hideNavigation,"time")]]):v.createCommentVNode("",!0)],2)],14,Yte)):v.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),QB=(n,e,i,o)=>{const a=(L,j)=>Array.isArray(e[L])?e[L][j]:e[L],u=L=>n.enableSeconds?Array.isArray(e.seconds)?e.seconds[L]:e.seconds:0,d=(L,j)=>L?j!==void 0?Ml(L,a("hours",j),a("minutes",j),u(j)):Ml(L,e.hours,e.minutes,u()):qe(),p=(L,j)=>{e[L]=j},m=(L,j)=>{const Y=Object.fromEntries(Object.keys(e).map(W=>W===L?[W,j]:[W,e[W]].slice()));if(n.range&&!n.disableTimeRangeValidation){const W=ue=>i.value?Ml(i.value[ue],Y.hours[ue],Y.minutes[ue],Y.seconds[ue]):null,q=ue=>t1(i.value[ue],0);return!(dn(W(0),W(1))&&(Jp(W(0),q(1))||em(W(1),q(0))))}return!0},k=(L,j)=>{m(L,j)&&(p(L,j),o&&o())},w=L=>{k("hours",L)},y=L=>{k("minutes",L)},T=L=>{k("seconds",L)},E=(L,j,Y,W)=>{j&&w(L),!j&&!Y&&y(L),Y&&T(L),i.value&&W(i.value)},S=L=>{if(L){const j=Array.isArray(L),Y=j?[+L[0].hours,+L[1].hours]:+L.hours,W=j?[+L[0].minutes,+L[1].minutes]:+L.minutes,q=j?[+L[0].seconds,+L[1].seconds]:+L.seconds;p("hours",Y),p("minutes",W),n.enableSeconds&&p("seconds",q)}},R=(L,j)=>{const Y={hours:Array.isArray(e.hours)?e.hours[L]:e.hours,disabledArr:[]};return(j||j===0)&&(Y.hours=j),Array.isArray(n.disabledTimes)&&(Y.disabledArr=n.range&&Array.isArray(n.disabledTimes[L])?n.disabledTimes[L]:n.disabledTimes),Y},V=v.computed(()=>(L,j)=>{var Y;if(Array.isArray(n.disabledTimes)){const{disabledArr:W,hours:q}=R(L,j),ue=W.filter(te=>+te.hours===q);return((Y=ue[0])==null?void 0:Y.minutes)==="*"?{hours:[q],minutes:void 0,seconds:void 0}:{hours:[],minutes:(ue==null?void 0:ue.map(te=>+te.minutes))??[],seconds:(ue==null?void 0:ue.map(te=>te.seconds?+te.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:p,updateHours:w,updateMinutes:y,updateSeconds:T,getSetDateTime:d,updateTimeValues:E,getSecondsValue:u,assignStartTime:S,disabledTimesConfig:V}},Zte=(n,e)=>{const{modelValue:i,time:o}=ok(n,e),{defaultedStartTime:a}=Ni(n),{updateTimeValues:u,getSetDateTime:d,setTime:p,assignStartTime:m,disabledTimesConfig:k}=QB(n,o,i),w=L=>{const{hours:j,minutes:Y,seconds:W}=L;return{hours:+j,minutes:+Y,seconds:W?+W:0}},y=()=>{if(n.startTime){if(Array.isArray(n.startTime)){const j=w(n.startTime[0]),Y=w(n.startTime[1]);return[Rn(qe(),j),Rn(qe(),Y)]}const L=w(n.startTime);return Rn(qe(),L)}return n.range?[null,null]:null},T=()=>{if(n.range){const[L,j]=y();i.value=[d(L,0),d(j,1)]}else i.value=d(y())},E=L=>Array.isArray(L)?[bu(qe(L[0])),bu(qe(L[1]))]:[bu(L??qe())],S=(L,j,Y)=>{p("hours",L),p("minutes",j),n.enableSeconds&&p("seconds",Y)},R=()=>{const[L,j]=E(i.value);return n.range?S([L.hours,j.hours],[L.minutes,j.minutes],[L.seconds,j.minutes]):S(L.hours,L.minutes,L.seconds)};v.onMounted(()=>{if(!n.shadow)return m(a.value),i.value?R():T()});const V=()=>{Array.isArray(i.value)?i.value=i.value.map((L,j)=>L&&d(L,j)):i.value=d(i.value),e("time-update")};return{time:o,disabledTimesConfig:k,updateTime:(L,j=!0,Y=!1)=>{u(L,j,Y,V)}}},Xte=v.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Ra},emits:["update:internal-model-value","time-update","am-pm-change"],setup(n,{emit:e}){const i=n,o=v.useSlots(),a=Ho(o,"timePicker"),{time:u,disabledTimesConfig:d,updateTime:p}=Zte(i,e);return(m,k)=>(v.openBlock(),v.createBlock(h1,{"multi-calendars":0,stretch:""},{default:v.withCtx(()=>[v.createVNode(YB,v.mergeProps(m.$props,{hours:v.unref(u).hours,minutes:v.unref(u).minutes,seconds:v.unref(u).seconds,"internal-model-value":m.internalModelValue,"disabled-times-config":v.unref(d),"onUpdate:hours":k[0]||(k[0]=w=>v.unref(p)(w)),"onUpdate:minutes":k[1]||(k[1]=w=>v.unref(p)(w,!1)),"onUpdate:seconds":k[2]||(k[2]=w=>v.unref(p)(w,!1,!0)),onAmPmChange:k[3]||(k[3]=w=>m.$emit("am-pm-change",w))}),v.createSlots({_:2},[v.renderList(v.unref(a),(w,y)=>({name:w,fn:v.withCtx(T=>[v.renderSlot(m.$slots,w,v.normalizeProps(v.guardReactiveProps(T)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"])]),_:3}))}}),Jte={class:"dp__month_year_row"},ene=["aria-label","onClick","onKeydown"],tne=v.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Ra},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(n,{expose:e,emit:i}){const o=n,{defaultedTransitions:a,defaultedAriaLabels:u,defaultedMultiCalendars:d,defaultedFilters:p}=Ni(o),{transitionName:m,showTransition:k}=xm(a),{buildMatrix:w}=Hl(),{handleMonthYearChange:y,isDisabled:T,updateMonthYear:E}=hte(o,i),{showLeftIcon:S,showRightIcon:R}=sk(),V=v.ref(!1),L=v.ref(!1),j=v.ref([null,null,null,null]);v.onMounted(()=>{i("mount")});const Y=oe=>({get:()=>o[oe],set:ne=>{const _e=oe===Ro.month?Ro.year:Ro.month;i("update-month-year",{[oe]:ne,[_e]:o[_e]}),oe===Ro.month?ee(!0):K(!0)}}),W=v.computed(Y(Ro.month)),q=v.computed(Y(Ro.year)),ue=v.computed(()=>oe=>({month:o.month,year:o.year,items:oe===Ro.month?o.months:o.years,instance:o.instance,updateMonthYear:E,toggle:oe===Ro.month?ee:K})),te=v.computed(()=>o.months.find(ne=>ne.value===o.month)||{text:"",value:0}),F=v.computed(()=>kh(o.months,oe=>{const ne=o.month===oe.value,_e=tm(oe.value,VB(o.year,o.minDate),UB(o.year,o.maxDate))||p.value.months.includes(oe.value);return{active:ne,disabled:_e}})),Q=v.computed(()=>kh(o.years,oe=>{const ne=o.year===oe.value,_e=tm(oe.value,vh(o.minDate),vh(o.maxDate))||p.value.years.includes(oe.value);return{active:ne,disabled:_e}})),de=(oe,ne)=>{ne!==void 0?oe.value=ne:oe.value=!oe.value,oe.value||i("overlay-closed")},ee=(oe=!1,ne)=>{J(oe),de(V,ne)},K=(oe=!1,ne)=>{J(oe),de(L,ne)},J=oe=>{oe||i("reset-flow")},be=(oe,ne)=>{o.arrowNavigation&&(j.value[ne]=ui(oe),w(j.value,"monthYear"))},ke=v.computed(()=>{var oe,ne;return[{type:Ro.month,index:1,toggle:ee,modelValue:W.value,updateModelValue:_e=>W.value=_e,text:te.value.text,showSelectionGrid:V.value,items:F.value,ariaLabel:(oe=u.value)==null?void 0:oe.openMonthsOverlay},{type:Ro.year,index:2,toggle:K,modelValue:q.value,updateModelValue:_e=>q.value=_e,text:o.year,showSelectionGrid:L.value,items:Q.value,ariaLabel:(ne=u.value)==null?void 0:ne.openYearsOverlay}]}),ve=v.computed(()=>o.disableYearSelect?[ke.value[0]]:ke.value);return e({toggleMonthPicker:ee,toggleYearPicker:K,handleMonthYearChange:y}),(oe,ne)=>{var _e,re,Ie;return v.openBlock(),v.createElementBlock("div",Jte,[oe.$slots["month-year"]?v.renderSlot(oe.$slots,"month-year",v.normalizeProps(v.mergeProps({key:0},{month:n.month,year:n.year,months:n.months,years:n.years,updateMonthYear:v.unref(E),handleMonthYearChange:v.unref(y),instance:n.instance}))):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[v.unref(S)(v.unref(d),n.instance)&&!oe.vertical?(v.openBlock(),v.createBlock(Ap,{key:0,"aria-label":(_e=v.unref(u))==null?void 0:_e.prevMonth,disabled:v.unref(T)(!1),onActivate:ne[0]||(ne[0]=he=>v.unref(y)(!1,!0)),onSetRef:ne[1]||(ne[1]=he=>be(he,0))},{default:v.withCtx(()=>[oe.$slots["arrow-left"]?v.renderSlot(oe.$slots,"arrow-left",{key:0}):v.createCommentVNode("",!0),oe.$slots["arrow-left"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.unref(n1),{key:1}))]),_:3},8,["aria-label","disabled"])):v.createCommentVNode("",!0),v.createElementVNode("div",{class:v.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:oe.disableYearSelect}])},[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(ve.value,(he,Ae)=>(v.openBlock(),v.createElementBlock(v.Fragment,{key:he.type},[v.createElementVNode("button",{type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":he.ariaLabel,ref_for:!0,ref:Me=>be(Me,Ae+1),onClick:he.toggle,onKeydown:[v.withKeys(v.withModifiers(he.toggle,["prevent"]),["enter"]),v.withKeys(v.withModifiers(he.toggle,["prevent"]),["space"])]},[oe.$slots[he.type]?v.renderSlot(oe.$slots,he.type,{key:0,text:he.text,value:o[he.type]}):v.createCommentVNode("",!0),oe.$slots[he.type]?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[v.createTextVNode(v.toDisplayString(he.text),1)],64))],40,ene),v.createVNode(v.Transition,{name:v.unref(m)(he.showSelectionGrid),css:v.unref(k)},{default:v.withCtx(()=>[he.showSelectionGrid?(v.openBlock(),v.createBlock(nm,{key:0,items:he.items,"arrow-navigation":oe.arrowNavigation,"hide-navigation":oe.hideNavigation,"is-last":oe.autoApply&&!oe.keepActionRow,"skip-button-ref":!1,type:he.type,"header-refs":[],"esc-close":oe.escClose,"text-input":oe.textInput,onSelected:he.updateModelValue,onToggle:he.toggle},v.createSlots({"button-icon":v.withCtx(()=>[oe.$slots["calendar-icon"]?v.renderSlot(oe.$slots,"calendar-icon",{key:0}):v.createCommentVNode("",!0),oe.$slots["calendar-icon"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.unref(Tm),{key:1}))]),_:2},[oe.$slots[`${he.type}-overlay-val`]?{name:"item",fn:v.withCtx(({item:Me})=>[v.renderSlot(oe.$slots,`${he.type}-overlay-val`,{text:Me.text,value:Me.value})]),key:"0"}:void 0,oe.$slots[`${he.type}-overlay`]?{name:"overlay",fn:v.withCtx(()=>[v.renderSlot(oe.$slots,`${he.type}-overlay`,v.normalizeProps(v.guardReactiveProps(ue.value(he.type))))]),key:"1"}:void 0,oe.$slots[`${he.type}-overlay-header`]?{name:"header",fn:v.withCtx(()=>[v.renderSlot(oe.$slots,`${he.type}-overlay-header`,{toggle:he.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","type","esc-close","text-input","onSelected","onToggle"])):v.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),v.unref(S)(v.unref(d),n.instance)&&oe.vertical?(v.openBlock(),v.createBlock(Ap,{key:1,"aria-label":(re=v.unref(u))==null?void 0:re.prevMonth,disabled:v.unref(T)(!1),onActivate:ne[2]||(ne[2]=he=>v.unref(y)(!1,!0))},{default:v.withCtx(()=>[oe.$slots["arrow-up"]?v.renderSlot(oe.$slots,"arrow-up",{key:0}):v.createCommentVNode("",!0),oe.$slots["arrow-up"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.unref(o1),{key:1}))]),_:3},8,["aria-label","disabled"])):v.createCommentVNode("",!0),v.unref(R)(v.unref(d),n.instance)?(v.openBlock(),v.createBlock(Ap,{key:2,ref:"rightIcon",disabled:v.unref(T)(!0),"aria-label":(Ie=v.unref(u))==null?void 0:Ie.nextMonth,onActivate:ne[3]||(ne[3]=he=>v.unref(y)(!0,!0)),onSetRef:ne[4]||(ne[4]=he=>be(he,oe.disableYearSelect?2:3))},{default:v.withCtx(()=>[oe.$slots[oe.vertical?"arrow-down":"arrow-right"]?v.renderSlot(oe.$slots,oe.vertical?"arrow-down":"arrow-right",{key:0}):v.createCommentVNode("",!0),oe.$slots[oe.vertical?"arrow-down":"arrow-right"]?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(v.resolveDynamicComponent(oe.vertical?v.unref(s1):v.unref(i1)),{key:1}))]),_:3},8,["disabled","aria-label"])):v.createCommentVNode("",!0)],64))])}}}),nne=["aria-label"],ine={class:"dp__calendar_header",role:"row"},rne={key:0,class:"dp__calendar_header_item",role:"gridcell"},one=v.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),sne=["aria-label"],ane={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},lne={class:"dp__cell_inner"},cne=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],une=v.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ra},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(n,{expose:e,emit:i}){const o=n,{buildMultiLevelMatrix:a}=Hl(),{defaultedTransitions:u,defaultedAriaLabels:d,defaultedMultiCalendars:p}=Ni(o),m=v.ref(null),k=v.ref({bottom:"",left:"",transform:""}),w=v.ref([]),y=v.ref(null),T=v.ref(!0),E=v.ref(""),S=v.ref({startX:0,endX:0,startY:0,endY:0}),R=v.ref([]),V=v.ref({left:"50%"}),L=v.computed(()=>o.calendar?o.calendar(o.mappedDates):o.mappedDates),j=v.computed(()=>o.dayNames?Array.isArray(o.dayNames)?o.dayNames:o.dayNames(o.locale,+o.weekStart):$ee(o.formatLocale,o.locale,+o.weekStart));v.onMounted(()=>{i("mount",{cmp:"calendar",refs:w}),o.noSwipe||y.value&&(y.value.addEventListener("touchstart",K,{passive:!1}),y.value.addEventListener("touchend",J,{passive:!1}),y.value.addEventListener("touchmove",be,{passive:!1})),o.monthChangeOnScroll&&y.value&&y.value.addEventListener("wheel",oe,{passive:!1})});const Y=_e=>_e?o.vertical?"vNext":"next":o.vertical?"vPrevious":"previous",W=(_e,re)=>{if(o.transitions){const Ie=mo(ya(qe(),o.month,o.year));E.value=Vi(mo(ya(qe(),_e,re)),Ie)?u.value[Y(!0)]:u.value[Y(!1)],T.value=!1,v.nextTick(()=>{T.value=!0})}},q=v.computed(()=>({[o.calendarClassName]:!!o.calendarClassName})),ue=v.computed(()=>_e=>{const re=Wee(_e);return{dp__marker_dot:re.type==="dot",dp__marker_line:re.type==="line"}}),te=v.computed(()=>_e=>dn(_e,m.value)),F=v.computed(()=>({dp__calendar:!0,dp__calendar_next:p.value.count>0&&o.instance!==0})),Q=v.computed(()=>_e=>o.hideOffsetDates?_e.current:!0),de=async(_e,re,Ie)=>{var he,Ae;if(i("set-hover-date",_e),(Ae=(he=_e.marker)==null?void 0:he.tooltip)!=null&&Ae.length){const Me=ui(w.value[re][Ie]);if(Me){const{width:Ne,height:rt}=Me.getBoundingClientRect();m.value=_e.value;let ft={left:`${Ne/2}px`},Ke=-50;if(await v.nextTick(),R.value[0]){const{left:dt,width:Te}=R.value[0].getBoundingClientRect();dt<0&&(ft={left:"0"},Ke=0,V.value.left=`${Ne/2}px`),window.innerWidth<dt+Te&&(ft={right:"0"},Ke=0,V.value.left=`${Te-Ne/2}px`)}k.value={bottom:`${rt}px`,...ft,transform:`translateX(${Ke}%)`},i("tooltip-open",_e.marker)}}},ee=_e=>{m.value&&(m.value=null,k.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),i("tooltip-close",_e.marker))},K=_e=>{S.value.startX=_e.changedTouches[0].screenX,S.value.startY=_e.changedTouches[0].screenY},J=_e=>{S.value.endX=_e.changedTouches[0].screenX,S.value.endY=_e.changedTouches[0].screenY,ke()},be=_e=>{o.vertical&&!o.inline&&_e.preventDefault()},ke=()=>{const _e=o.vertical?"Y":"X";Math.abs(S.value[`start${_e}`]-S.value[`end${_e}`])>10&&i("handle-swipe",S.value[`start${_e}`]>S.value[`end${_e}`]?"right":"left")},ve=(_e,re,Ie)=>{_e&&(Array.isArray(w.value[re])?w.value[re][Ie]=_e:w.value[re]=[_e]),o.arrowNavigation&&a(w.value,"calendar")},oe=_e=>{o.monthChangeOnScroll&&(_e.preventDefault(),i("handle-scroll",_e))},ne=_e=>{const re=_e[0];return o.weekNumbers==="local"?tJ(re.value,{weekStartsOn:+o.weekStart}):o.weekNumbers==="iso"?ZX(re.value):typeof o.weekNumbers=="function"?o.weekNumbers(re.value):""};return e({triggerTransition:W}),(_e,re)=>{var Ie;return v.openBlock(),v.createElementBlock("div",{class:v.normalizeClass(F.value)},[v.createElementVNode("div",{ref_key:"calendarWrapRef",ref:y,role:"grid",class:v.normalizeClass(q.value),"aria-label":(Ie=v.unref(d))==null?void 0:Ie.calendarWrap},[(v.openBlock(),v.createElementBlock(v.Fragment,{key:0},[v.createElementVNode("div",ine,[_e.weekNumbers?(v.openBlock(),v.createElementBlock("div",rne,v.toDisplayString(_e.weekNumName),1)):v.createCommentVNode("",!0),(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(j.value,(he,Ae)=>(v.openBlock(),v.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:Ae},[_e.$slots["calendar-header"]?v.renderSlot(_e.$slots,"calendar-header",{key:0,day:he,index:Ae}):v.createCommentVNode("",!0),_e.$slots["calendar-header"]?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[v.createTextVNode(v.toDisplayString(he),1)],64))]))),128))]),one,v.createVNode(v.Transition,{name:E.value,css:!!_e.transitions},{default:v.withCtx(()=>{var he;return[T.value?(v.openBlock(),v.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":((he=v.unref(d))==null?void 0:he.calendarDays)||void 0},[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(L.value,(Ae,Me)=>(v.openBlock(),v.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:Me},[_e.weekNumbers?(v.openBlock(),v.createElementBlock("div",ane,[v.createElementVNode("div",lne,v.toDisplayString(ne(Ae.days)),1)])):v.createCommentVNode("",!0),(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(Ae.days,(Ne,rt)=>{var ft,Ke,dt;return v.openBlock(),v.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:Te=>ve(Te,Me,rt),key:rt+Me,"aria-selected":Ne.classData.dp__active_date||Ne.classData.dp__range_start||Ne.classData.dp__range_start,"aria-disabled":Ne.classData.dp__cell_disabled||void 0,"aria-label":(Ke=(ft=v.unref(d))==null?void 0:ft.day)==null?void 0:Ke.call(ft,Ne),tabindex:"0",onClick:v.withModifiers(Te=>_e.$emit("select-date",Ne),["stop","prevent"]),onKeydown:[v.withKeys(Te=>_e.$emit("select-date",Ne),["enter"]),v.withKeys(Te=>_e.$emit("handle-space",Ne),["space"])],onMouseenter:Te=>de(Ne,Me,rt),onMouseleave:Te=>ee(Ne)},[v.createElementVNode("div",{class:v.normalizeClass(["dp__cell_inner",Ne.classData])},[_e.$slots.day&&Q.value(Ne)?v.renderSlot(_e.$slots,"day",{key:0,day:+Ne.text,date:Ne.value}):v.createCommentVNode("",!0),_e.$slots.day?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[v.createTextVNode(v.toDisplayString(Ne.text),1)],64)),Ne.marker&&Q.value(Ne)?(v.openBlock(),v.createElementBlock(v.Fragment,{key:2},[_e.$slots.marker?v.renderSlot(_e.$slots,"marker",{key:0,marker:Ne.marker,day:+Ne.text,date:Ne.value}):(v.openBlock(),v.createElementBlock("div",{key:1,class:v.normalizeClass(ue.value(Ne.marker)),style:v.normalizeStyle(Ne.marker.color?{backgroundColor:Ne.marker.color}:{})},null,6))],64)):v.createCommentVNode("",!0),te.value(Ne.value)?(v.openBlock(),v.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:R,style:v.normalizeStyle(k.value)},[(dt=Ne.marker)!=null&&dt.tooltip?(v.openBlock(),v.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:re[0]||(re[0]=v.withModifiers(()=>{},["stop"]))},[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(Ne.marker.tooltip,(Te,Xe)=>(v.openBlock(),v.createElementBlock("div",{key:Xe,class:"dp__tooltip_text"},[_e.$slots["marker-tooltip"]?v.renderSlot(_e.$slots,"marker-tooltip",{key:0,tooltip:Te,day:Ne.value}):v.createCommentVNode("",!0),_e.$slots["marker-tooltip"]?v.createCommentVNode("",!0):(v.openBlock(),v.createElementBlock(v.Fragment,{key:1},[v.createElementVNode("div",{class:"dp__tooltip_mark",style:v.normalizeStyle(Te.color?{backgroundColor:Te.color}:{})},null,4),v.createElementVNode("div",null,v.toDisplayString(Te.text),1)],64))]))),128)),v.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:v.normalizeStyle(V.value)},null,4)])):v.createCommentVNode("",!0)],4)):v.createCommentVNode("",!0)],2)],40,cne)}),128))]))),128))],8,sne)):v.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64))],10,nne)],2)}}}),x3=n=>Array.isArray(n),dne=(n,e,i,o)=>{const a=v.ref([]),{modelValue:u,calendars:d,time:p}=ok(n,e),{defaultedMultiCalendars:m,defaultedStartTime:k}=Ni(n),{validateMonthYearInRange:w,isDisabled:y,isDateRangeAllowed:T,checkMinMaxRange:E}=Em(n),{updateTimeValues:S,getSetDateTime:R,setTime:V,assignStartTime:L,disabledTimesConfig:j}=QB(n,p,u,o),Y=v.computed(()=>pe=>d.value[pe]?d.value[pe].month:0),W=v.computed(()=>pe=>d.value[pe]?d.value[pe].year:0),q=(pe,Ce,nt)=>{var at,wt;d.value[pe]||(d.value[pe]={month:0,year:0}),d.value[pe].month=_3(Ce)?(at=d.value[pe])==null?void 0:at.month:Ce,d.value[pe].year=_3(nt)?(wt=d.value[pe])==null?void 0:wt.year:nt},ue=()=>{n.autoApply&&e("select-date")};v.watch(u,(pe,Ce)=>{JSON.stringify(pe)!==JSON.stringify(Ce)&&Q()}),v.onMounted(()=>{n.shadow||(u.value||(_e(),k.value&&L(k.value)),Q(!0),n.focusStartDate&&n.startDate&&_e())});const te=v.computed(()=>{var pe;return(pe=n.flow)!=null&&pe.length&&!n.partialFlow?n.flowStep===n.flow.length:!0}),F=()=>{n.autoApply&&te.value&&e("auto-apply",n.partialFlow)},Q=(pe=!1)=>{if(u.value)return Array.isArray(u.value)?(a.value=u.value,ke(pe)):ee(u.value,pe);if(m.value.count&&pe&&!n.startDate)return de(qe(),pe)},de=(pe,Ce=!1)=>{if((!m.value.count||!m.value.static||Ce)&&q(0,tn(pe),Jt(pe)),m.value.count)for(let nt=1;nt<m.value.count;nt++){const at=Rn(qe(),{month:Y.value(nt-1),year:W.value(nt-1)}),wt=fB(at,{months:1});d.value[nt]={month:tn(wt),year:Jt(wt)}}},ee=(pe,Ce)=>{de(pe),V("hours",Es(pe)),V("minutes",Ss(pe)),V("seconds",gh(pe)),m.value.count&&Ce&&ne()},K=pe=>{if(m.value.count){if(m.value.solo)return 0;const Ce=tn(pe[0]),nt=tn(pe[1]);return Math.abs(nt-Ce)<m.value.count?0:1}return 1},J=(pe,Ce)=>{pe[1]&&n.showLastInRange?de(pe[K(pe)],Ce):de(pe[0],Ce);const nt=(at,wt)=>[at(pe[0]),pe[1]?at(pe[1]):p[wt][1]];V("hours",nt(Es,"hours")),V("minutes",nt(Ss,"minutes")),V("seconds",nt(gh,"seconds"))},be=(pe,Ce)=>{if((n.range||n.weekPicker)&&!n.multiDates)return J(pe,Ce);if(n.multiDates&&Ce){const nt=pe[pe.length-1];return ee(nt,Ce)}},ke=pe=>{const Ce=u.value;be(Ce,pe),m.value.count&&m.value.solo&&ne()},ve=(pe,Ce)=>{const nt=Rn(qe(),{month:Y.value(Ce),year:W.value(Ce)}),at=pe<0?xs(nt,1):bh(nt,1);w(tn(at),Jt(at),pe<0,n.preventMinMaxNavigation)&&(q(Ce,tn(at),Jt(at)),m.value.count&&!m.value.solo&&oe(Ce),i())},oe=pe=>{for(let Ce=pe-1;Ce>=0;Ce--){const nt=bh(Rn(qe(),{month:Y.value(Ce+1),year:W.value(Ce+1)}),1);q(Ce,tn(nt),Jt(nt))}for(let Ce=pe+1;Ce<=m.value.count-1;Ce++){const nt=xs(Rn(qe(),{month:Y.value(Ce-1),year:W.value(Ce-1)}),1);q(Ce,tn(nt),Jt(nt))}},ne=()=>{if(Array.isArray(u.value)&&u.value.length===2){const pe=qe(qe(u.value[1]?u.value[1]:xs(u.value[0],1))),[Ce,nt]=[tn(u.value[0]),Jt(u.value[0])],[at,wt]=[tn(u.value[1]),Jt(u.value[1])];(Ce!==at||Ce===at&&nt!==wt)&&m.value.solo&&q(1,tn(pe),Jt(pe))}else u.value&&!Array.isArray(u.value)&&(q(0,tn(u.value),Jt(u.value)),de(qe()))},_e=()=>{n.startDate&&(q(0,tn(qe(n.startDate)),Jt(qe(n.startDate))),m.value.count&&oe(0))},re=(pe,Ce)=>{n.monthChangeOnScroll&&ve(n.monthChangeOnScroll!=="inverse"?-pe.deltaY:pe.deltaY,Ce)},Ie=(pe,Ce,nt=!1)=>{n.monthChangeOnArrows&&n.vertical===nt&&he(pe,Ce)},he=(pe,Ce)=>{ve(pe==="right"?-1:1,Ce)},Ae=pe=>n.markers.find(Ce=>dn(w3(pe.value),w3(Ce.date))),Me=(pe,Ce)=>{switch(n.sixWeeks===!0?"append":n.sixWeeks){case"prepend":return[!0,!1];case"center":return[pe==0,!0];case"fair":return[pe==0||Ce>pe,!0];case"append":return[!1,!1];default:return[!1,!1]}},Ne=(pe,Ce,nt,at)=>{if(n.sixWeeks&&pe.length<6){const wt=6-pe.length,It=(Ce.getDay()+7-at)%7,Kn=6-(nt.getDay()+7-at)%7,[pn,Pn]=Me(It,Kn);for(let Nn=1;Nn<=wt;Nn++)if(Pn?!!(Nn%2)==pn:pn){const xn=pe[0].days[0],En=rt(ka(xn.value,-7),tn(Ce));pe.unshift({days:En})}else{const xn=pe[pe.length-1],En=xn.days[xn.days.length-1],pi=rt(ka(En.value,1),tn(Ce));pe.push({days:pi})}}return pe},rt=(pe,Ce)=>{const nt=qe(JSON.parse(JSON.stringify(pe))),at=[];for(let wt=0;wt<7;wt++){const It=ka(nt,wt),Kn=tn(It)!==Ce;at.push({text:n.hideOffsetDates&&Kn?"":It.getDate(),value:It,current:!Kn,classData:{}})}return at},ft=(pe,Ce)=>{const nt=[],at=qe(ws(new Date(Ce,pe),n.timezone)),wt=qe(ws(new Date(Ce,pe+1,0),n.timezone)),It=n.weekStart,Kn=Mu(at,{weekStartsOn:It}),pn=Pn=>{const Nn=rt(Pn,pe);if(nt.push({days:Nn}),!nt[nt.length-1].days.some(xn=>dn(mo(xn.value),mo(wt)))){const xn=ka(Pn,7);pn(xn)}};return pn(Kn),Ne(nt,at,wt,It)},Ke=pe=>(u.value=m0(qe(pe.value),n.timezone,n.weekStart),F()),dt=pe=>{const Ce=Ml(qe(pe.value),p.hours,p.minutes,Ye());n.multiDates?f1(Ce,u,n.multiDatesLimit):u.value=Ce,o(),v.nextTick().then(()=>{F()})},Te=pe=>n.noDisabledRange?HB(a.value[0],pe).some(Ce=>y(Ce)):!1,Xe=()=>{a.value=u.value?u.value.slice():[],a.value.length===2&&!(n.fixedStart||n.fixedEnd)&&(a.value=[])},le=(pe,Ce)=>{const nt=[qe(pe.value),ka(qe(pe.value),+n.autoRange)];T(nt)&&(Ce&&ce(pe.value),a.value=nt)},ce=pe=>{const Ce=tn(qe(pe)),nt=Jt(qe(pe));if(q(0,Ce,nt),m.value.count>0)for(let at=1;at<m.value.count;at++){const wt=Xee(Rn(qe(pe),{year:Y.value(at-1),month:W.value(at-1)}));q(at,wt.month,wt.year)}},Se=pe=>Array.isArray(u.value)&&u.value.length===2?n.fixedStart&&(Vi(pe,u.value[0])||dn(pe,u.value[0]))?[u.value[0],pe]:n.fixedEnd&&(Mi(pe,u.value[1])||dn(pe,u.value[1]))?[pe,u.value[1]]:(e("invalid-fixed-range",pe),u.value):[],xe=pe=>{Te(pe.value)||!E(pe.value,u.value,n.fixedStart?0:1)||(a.value=Se(qe(pe.value)))},Oe=(pe,Ce)=>{if(Xe(),n.autoRange)return le(pe,Ce);if(n.fixedStart||n.fixedEnd)return xe(pe);a.value[0]?E(qe(pe.value),u.value)&&!Te(pe.value)&&(Mi(qe(pe.value),qe(a.value[0]))?(a.value.unshift(qe(pe.value)),e("range-end",a.value[0])):(a.value[1]=qe(pe.value),e("range-end",a.value[1]))):(a.value[0]=qe(pe.value),e("range-start",a.value[0]))},Ye=(pe=!0)=>n.enableSeconds?Array.isArray(p.seconds)?pe?p.seconds[0]:p.seconds[1]:p.seconds:0,We=pe=>{a.value[pe]=Ml(a.value[pe],p.hours[pe],p.minutes[pe],Ye(pe!==1))},ze=()=>{var pe,Ce;a.value[0]&&a.value[1]&&+((pe=a.value)==null?void 0:pe[0])>+((Ce=a.value)==null?void 0:Ce[1])&&(a.value.reverse(),e("range-start",a.value[0]),e("range-end",a.value[1]))},Re=()=>{a.value.length&&(a.value[0]&&!a.value[1]?We(0):(We(0),We(1),o()),ze(),u.value=a.value.slice(),p1(a.value,e,n.autoApply,n.modelAuto))},He=(pe,Ce=!1)=>{if(!(y(pe.value)||!pe.current&&n.hideOffsetDates)){if(n.weekPicker)return Ke(pe);if(!n.range)return dt(pe);x3(p.hours)&&x3(p.minutes)&&!n.multiDates&&(Oe(pe,Ce),Re())}},Qe=(pe,Ce)=>{var nt;q(pe,Ce.month,Ce.year),m.value.count&&!m.value.solo&&oe(pe),e("update-month-year",{instance:pe,month:Ce.month,year:Ce.year}),i(m.value.solo?pe:void 0);const at=(nt=n.flow)!=null&&nt.length?n.flow[n.flowStep]:void 0;!Ce.fromNav&&(at===gs.month||at===gs.year)&&o()},Ge=(pe,Ce)=>{Array.isArray(pe)&&pe.length<=2&&n.range?u.value=pe.map(nt=>ws(qe(nt),Ce?void 0:n.timezone)):Array.isArray(pe)||(u.value=ws(qe(pe),Ce?void 0:n.timezone)),ue(),n.multiCalendars&&v.nextTick().then(()=>Q(!0))},it=()=>{n.range?u.value&&Array.isArray(u.value)&&u.value[0]?u.value=Mi(qe(),u.value[0])?[qe(),u.value[0]]:[u.value[0],qe()]:u.value=[qe()]:u.value=qe(),ue()},gt=()=>{if(Array.isArray(u.value))if(n.multiDates){const pe=Le();u.value[u.value.length-1]=R(pe)}else u.value=u.value.map((pe,Ce)=>pe&&R(pe,Ce));else u.value=R(u.value);e("time-update")},Le=()=>Array.isArray(u.value)&&u.value.length?u.value[u.value.length-1]:null;return{calendars:d,modelValue:u,month:Y,year:W,time:p,disabledTimesConfig:j,getCalendarDays:ft,getMarker:Ae,handleScroll:re,handleSwipe:he,handleArrow:Ie,selectDate:He,updateMonthYear:Qe,presetDate:Ge,selectCurrentDate:it,updateTime:(pe,Ce=!0,nt=!1)=>{S(pe,Ce,nt,gt)}}},hne={key:0},fne=v.defineComponent({__name:"DatePicker",props:{...Ra},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year"],setup(n,{expose:e,emit:i}){const o=n,{calendars:a,month:u,year:d,modelValue:p,time:m,disabledTimesConfig:k,getCalendarDays:w,getMarker:y,handleArrow:T,handleScroll:E,handleSwipe:S,selectDate:R,updateMonthYear:V,presetDate:L,selectCurrentDate:j,updateTime:Y}=dne(o,i,oe,ne),W=v.useSlots(),{setHoverDate:q,getDayClassData:ue,clearHoverDate:te}=gte(p,o),{defaultedMultiCalendars:F}=Ni(o),Q=v.ref([]),de=v.ref([]),ee=v.ref(null),K=Ho(W,"calendar"),J=Ho(W,"monthYear"),be=Ho(W,"timePicker"),ke=re=>{o.shadow||i("mount",re)};v.watch(a,()=>{o.shadow||setTimeout(()=>{i("recalculate-position")},0)},{deep:!0});const ve=v.computed(()=>re=>w(u.value(re),d.value(re)).map(Ie=>({...Ie,days:Ie.days.map(he=>(he.marker=y(he),he.classData=ue(he),he))})));function oe(re){var Ie;re||re===0?(Ie=de.value[re])==null||Ie.triggerTransition(u.value(re),d.value(re)):de.value.forEach((he,Ae)=>he.triggerTransition(u.value(Ae),d.value(Ae)))}function ne(){i("update-flow-step")}const _e=(re,Ie=!1)=>{R(re,Ie),o.spaceConfirm&&i("select-date")};return e({clearHoverDate:te,presetDate:L,selectCurrentDate:j,toggleMonthPicker:(re,Ie,he=0)=>{var Ae;(Ae=Q.value[he])==null||Ae.toggleMonthPicker(re,Ie)},toggleYearPicker:(re,Ie,he=0)=>{var Ae;(Ae=Q.value[he])==null||Ae.toggleYearPicker(re,Ie)},toggleTimePicker:(re,Ie,he)=>{var Ae;(Ae=ee.value)==null||Ae.toggleTimePicker(re,Ie,he)},handleArrow:T,updateMonthYear:V,getSidebarProps:()=>({modelValue:p,month:u,year:d,time:m,updateTime:Y,updateMonthYear:V,selectDate:R,presetDate:L})}),(re,Ie)=>(v.openBlock(),v.createElementBlock(v.Fragment,null,[v.createVNode(h1,{"multi-calendars":v.unref(F).count},{default:v.withCtx(({instance:he,index:Ae})=>[re.disableMonthYearSelect?v.createCommentVNode("",!0):(v.openBlock(),v.createBlock(tne,v.mergeProps({key:0,ref:Me=>{Me&&(Q.value[Ae]=Me)},months:v.unref(jB)(re.formatLocale,re.locale,re.monthNameFormat),years:v.unref(u1)(re.yearRange,re.reverseYears),month:v.unref(u)(he),year:v.unref(d)(he),instance:he},re.$props,{onMount:Ie[0]||(Ie[0]=Me=>ke(v.unref(ku).header)),onResetFlow:Ie[1]||(Ie[1]=Me=>re.$emit("reset-flow")),onUpdateMonthYear:Me=>v.unref(V)(he,Me),onOverlayClosed:Ie[2]||(Ie[2]=Me=>re.$emit("focus-menu"))}),v.createSlots({_:2},[v.renderList(v.unref(J),(Me,Ne)=>({name:Me,fn:v.withCtx(rt=>[v.renderSlot(re.$slots,Me,v.normalizeProps(v.guardReactiveProps(rt)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),v.createVNode(une,v.mergeProps({ref:Me=>{Me&&(de.value[Ae]=Me)},"mapped-dates":ve.value(he),month:v.unref(u)(he),year:v.unref(d)(he)},re.$props,{onSelectDate:Me=>v.unref(R)(Me,he!==1),onHandleSpace:Me=>_e(Me,he!==1),onSetHoverDate:Ie[3]||(Ie[3]=Me=>v.unref(q)(Me)),onHandleScroll:Me=>v.unref(E)(Me,he),onHandleSwipe:Me=>v.unref(S)(Me,he),onMount:Ie[4]||(Ie[4]=Me=>ke(v.unref(ku).calendar)),onResetFlow:Ie[5]||(Ie[5]=Me=>re.$emit("reset-flow")),onTooltipOpen:Ie[6]||(Ie[6]=Me=>re.$emit("tooltip-open",Me)),onTooltipClose:Ie[7]||(Ie[7]=Me=>re.$emit("tooltip-close",Me))}),v.createSlots({_:2},[v.renderList(v.unref(K),(Me,Ne)=>({name:Me,fn:v.withCtx(rt=>[v.renderSlot(re.$slots,Me,v.normalizeProps(v.guardReactiveProps({...rt})))])}))]),1040,["mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),re.enableTimePicker?(v.openBlock(),v.createElementBlock("div",hne,[re.$slots["time-picker"]?v.renderSlot(re.$slots,"time-picker",v.normalizeProps(v.mergeProps({key:0},{time:v.unref(m),updateTime:v.unref(Y)}))):(v.openBlock(),v.createBlock(YB,v.mergeProps({key:1,ref_key:"timePickerRef",ref:ee},re.$props,{hours:v.unref(m).hours,minutes:v.unref(m).minutes,seconds:v.unref(m).seconds,"internal-model-value":re.internalModelValue,"disabled-times-config":v.unref(k),onMount:Ie[8]||(Ie[8]=he=>ke(v.unref(ku).timePicker)),"onUpdate:hours":Ie[9]||(Ie[9]=he=>v.unref(Y)(he)),"onUpdate:minutes":Ie[10]||(Ie[10]=he=>v.unref(Y)(he,!1)),"onUpdate:seconds":Ie[11]||(Ie[11]=he=>v.unref(Y)(he,!1,!0)),onResetFlow:Ie[12]||(Ie[12]=he=>re.$emit("reset-flow")),onOverlayClosed:Ie[13]||(Ie[13]=he=>re.$emit("time-picker-close")),onOverlayOpened:Ie[14]||(Ie[14]=he=>re.$emit("time-picker-open",he)),onAmPmChange:Ie[15]||(Ie[15]=he=>re.$emit("am-pm-change",he))}),v.createSlots({_:2},[v.renderList(v.unref(be),(he,Ae)=>({name:he,fn:v.withCtx(Me=>[v.renderSlot(re.$slots,he,v.normalizeProps(v.guardReactiveProps(Me)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"]))])):v.createCommentVNode("",!0)],64))}}),pne=["id","onKeydown"],mne={key:0,class:"dp__sidebar_left"},gne={key:1,class:"dp--preset-dates"},bne=["onClick","onKeydown"],kne={key:2,class:"dp__sidebar_right"},vne={key:3,class:"dp__action_extra"},E3=v.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...ak,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(n,{expose:e,emit:i}){const o=n,a=v.computed(()=>{const{openOnTop:Te,...Xe}=o;return{...Xe,flowStep:ue.value}}),{setMenuFocused:u,setShiftKey:d,control:p}=GB(),m=v.useSlots(),{defaultedTextInput:k,defaultedInline:w}=Ni(o),y=v.ref(null),T=v.ref(0),E=v.ref(null),S=v.ref(null),R=v.ref(!1),V=v.ref(null);v.onMounted(()=>{if(!o.shadow){R.value=!0,L(),window.addEventListener("resize",L);const Te=ui(E);if(Te&&!k.value.enabled&&!w.value.enabled&&(u(!0),ee()),Te){const Xe=le=>{o.allowPreventDefault&&le.preventDefault(),le.stopImmediatePropagation(),le.stopPropagation()};Te.addEventListener("pointerdown",Xe),Te.addEventListener("mousedown",Xe)}}}),v.onUnmounted(()=>{window.removeEventListener("resize",L)});const L=()=>{const Te=ui(S);Te&&(T.value=Te.getBoundingClientRect().width)},{arrowRight:j,arrowLeft:Y,arrowDown:W,arrowUp:q}=Hl(),{flowStep:ue,updateFlowStep:te,childMount:F,resetFlow:Q}=bte(o,i,V),de=v.computed(()=>o.monthPicker?Bte:o.yearPicker?Lte:o.timePicker?Xte:fne),ee=()=>{const Te=ui(E);Te&&Te.focus({preventScroll:!0})},K=v.computed(()=>{var Te;return((Te=V.value)==null?void 0:Te.getSidebarProps())||{}}),J=()=>{o.openOnTop&&i("recalculate-position")},be=Ho(m,"action"),ke=v.computed(()=>o.monthPicker||o.yearPicker?Ho(m,"monthYear"):o.timePicker?Ho(m,"timePicker"):Ho(m,"shared")),ve=v.computed(()=>o.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),oe=v.computed(()=>({dp__menu_disabled:o.disabled,dp__menu_readonly:o.readonly})),ne=v.computed(()=>({dp__menu:!0,dp__menu_index:!w.value.enabled,dp__relative:w.value.enabled,[o.menuClassName]:!!o.menuClassName})),_e=Te=>{Te.stopPropagation(),Te.stopImmediatePropagation()},re=()=>{o.escClose&&i("close-picker")},Ie=Te=>{if(o.arrowNavigation){if(Te==="up")return q();if(Te==="down")return W();if(Te==="left")return Y();if(Te==="right")return j()}else Te==="left"||Te==="up"?rt("handleArrow","left",0,Te==="up"):rt("handleArrow","right",0,Te==="down")},he=Te=>{d(Te.shiftKey),!o.disableMonthYearSelect&&Te.code==="Tab"&&Te.target.classList.contains("dp__menu")&&p.value.shiftKeyInMenu&&(Te.preventDefault(),Te.stopImmediatePropagation(),i("close-picker"))},Ae=()=>{ee(),i("time-picker-close")},Me=Te=>{var Xe,le,ce;(Xe=V.value)==null||Xe.toggleTimePicker(!1,!1),(le=V.value)==null||le.toggleMonthPicker(!1,!1,Te),(ce=V.value)==null||ce.toggleYearPicker(!1,!1,Te)},Ne=(Te,Xe=0)=>{var le,ce,Se;return Te==="month"?(le=V.value)==null?void 0:le.toggleMonthPicker(!1,!0,Xe):Te==="year"?(ce=V.value)==null?void 0:ce.toggleYearPicker(!1,!0,Xe):Te==="time"?(Se=V.value)==null?void 0:Se.toggleTimePicker(!0,!1):Me(Xe)},rt=(Te,...Xe)=>{var le,ce;(le=V.value)!=null&&le[Te]&&((ce=V.value)==null||ce[Te](...Xe))},ft=()=>{rt("selectCurrentDate")},Ke=(Te,Xe)=>{rt("presetDate",Te,Xe)},dt=()=>{rt("clearHoverDate")};return e({updateMonthYear:(Te,Xe)=>{rt("updateMonthYear",Te,Xe)},switchView:Ne}),(Te,Xe)=>{var le;return v.openBlock(),v.createElementBlock("div",{id:Te.uid?`dp-menu-${Te.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:E,role:"dialog",class:v.normalizeClass(ne.value),onMouseleave:dt,onClick:_e,onKeydown:[v.withKeys(re,["esc"]),Xe[15]||(Xe[15]=v.withKeys(v.withModifiers(ce=>Ie("left"),["prevent"]),["left"])),Xe[16]||(Xe[16]=v.withKeys(v.withModifiers(ce=>Ie("up"),["prevent"]),["up"])),Xe[17]||(Xe[17]=v.withKeys(v.withModifiers(ce=>Ie("down"),["prevent"]),["down"])),Xe[18]||(Xe[18]=v.withKeys(v.withModifiers(ce=>Ie("right"),["prevent"]),["right"])),he]},[(Te.disabled||Te.readonly)&&v.unref(w).enabled?(v.openBlock(),v.createElementBlock("div",{key:0,class:v.normalizeClass(oe.value)},null,2)):v.createCommentVNode("",!0),!v.unref(w).enabled&&!Te.teleportCenter?(v.openBlock(),v.createElementBlock("div",{key:1,class:v.normalizeClass(ve.value)},null,2)):v.createCommentVNode("",!0),v.createElementVNode("div",{ref_key:"innerMenuRef",ref:S,class:v.normalizeClass({dp__menu_content_wrapper:((le=Te.presetDates)==null?void 0:le.length)||!!Te.$slots["left-sidebar"]||!!Te.$slots["right-sidebar"]}),style:v.normalizeStyle({"--dp-menu-width":`${T.value}px`})},[Te.$slots["left-sidebar"]?(v.openBlock(),v.createElementBlock("div",mne,[v.renderSlot(Te.$slots,"left-sidebar",v.normalizeProps(v.guardReactiveProps(K.value)))])):v.createCommentVNode("",!0),Te.presetDates.length?(v.openBlock(),v.createElementBlock("div",gne,[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(Te.presetDates,(ce,Se)=>(v.openBlock(),v.createElementBlock("div",{key:Se,style:v.normalizeStyle(ce.style||{}),class:"dp--preset-range"},[ce.slot?v.renderSlot(Te.$slots,ce.slot,{key:0,presetDate:Ke,label:ce.label,value:ce.value}):(v.openBlock(),v.createElementBlock("div",{key:1,role:"button",tabindex:"0",onClick:xe=>Ke(ce.value,ce.noTz),onKeydown:[v.withKeys(v.withModifiers(xe=>Ke(ce.value,ce.noTz),["prevent"]),["enter"]),v.withKeys(v.withModifiers(xe=>Ke(ce.value,ce.noTz),["prevent"]),["space"])]},v.toDisplayString(ce.label),41,bne))],4))),128))])):v.createCommentVNode("",!0),v.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:y,role:"document"},[(v.openBlock(),v.createBlock(v.resolveDynamicComponent(de.value),v.mergeProps({ref_key:"dynCmpRef",ref:V},a.value,{"flow-step":v.unref(ue),onMount:v.unref(F),onUpdateFlowStep:v.unref(te),onResetFlow:v.unref(Q),onFocusMenu:ee,onSelectDate:Xe[0]||(Xe[0]=ce=>Te.$emit("select-date")),onTooltipOpen:Xe[1]||(Xe[1]=ce=>Te.$emit("tooltip-open",ce)),onTooltipClose:Xe[2]||(Xe[2]=ce=>Te.$emit("tooltip-close",ce)),onAutoApply:Xe[3]||(Xe[3]=ce=>Te.$emit("auto-apply",ce)),onRangeStart:Xe[4]||(Xe[4]=ce=>Te.$emit("range-start",ce)),onRangeEnd:Xe[5]||(Xe[5]=ce=>Te.$emit("range-end",ce)),onInvalidFixedRange:Xe[6]||(Xe[6]=ce=>Te.$emit("invalid-fixed-range",ce)),onTimeUpdate:Xe[7]||(Xe[7]=ce=>Te.$emit("time-update")),onAmPmChange:Xe[8]||(Xe[8]=ce=>Te.$emit("am-pm-change",ce)),onTimePickerOpen:Xe[9]||(Xe[9]=ce=>Te.$emit("time-picker-open",ce)),onTimePickerClose:Ae,onRecalculatePosition:J,onUpdateMonthYear:Xe[10]||(Xe[10]=ce=>Te.$emit("update-month-year",ce)),"onUpdate:internalModelValue":Xe[11]||(Xe[11]=ce=>Te.$emit("update:internal-model-value",ce))}),v.createSlots({_:2},[v.renderList(ke.value,(ce,Se)=>({name:ce,fn:v.withCtx(xe=>[v.renderSlot(Te.$slots,ce,v.normalizeProps(v.guardReactiveProps({...xe})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),Te.$slots["right-sidebar"]?(v.openBlock(),v.createElementBlock("div",kne,[v.renderSlot(Te.$slots,"right-sidebar",v.normalizeProps(v.guardReactiveProps(K.value)))])):v.createCommentVNode("",!0),Te.$slots["action-extra"]?(v.openBlock(),v.createElementBlock("div",vne,[Te.$slots["action-extra"]?v.renderSlot(Te.$slots,"action-extra",{key:0,selectCurrentDate:ft}):v.createCommentVNode("",!0)])):v.createCommentVNode("",!0)],6),!Te.autoApply||Te.keepActionRow?(v.openBlock(),v.createBlock(Tte,v.mergeProps({key:2,"menu-mount":R.value},a.value,{"calendar-width":T.value,onClosePicker:Xe[12]||(Xe[12]=ce=>Te.$emit("close-picker")),onSelectDate:Xe[13]||(Xe[13]=ce=>Te.$emit("select-date")),onInvalidSelect:Xe[14]||(Xe[14]=ce=>Te.$emit("invalid-select")),onSelectNow:ft}),v.createSlots({_:2},[v.renderList(v.unref(be),(ce,Se)=>({name:ce,fn:v.withCtx(xe=>[v.renderSlot(Te.$slots,ce,v.normalizeProps(v.guardReactiveProps({...xe})))])}))]),1040,["menu-mount","calendar-width"])):v.createCommentVNode("",!0)],42,pne)}}}),_ne=typeof window<"u"?window:void 0,X_=()=>{},yne=n=>v.getCurrentScope()?(v.onScopeDispose(n),!0):!1,wne=(n,e,i,o)=>{if(!n)return X_;let a=X_;const u=v.watch(()=>v.unref(n),p=>{a(),p&&(p.addEventListener(e,i,o),a=()=>{p.removeEventListener(e,i,o),a=X_})},{immediate:!0,flush:"post"}),d=()=>{u(),a()};return yne(d),d},Cne=(n,e,i,o={})=>{const{window:a=_ne,event:u="pointerdown"}=o;return a?wne(a,u,d=>{const p=ui(n),m=ui(e);!p||!m||p===d.target||d.composedPath().includes(p)||d.composedPath().includes(m)||i(d)},{passive:!0}):void 0},Ane=v.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...ak},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(n,{expose:e,emit:i}){const o=n,a=v.useSlots(),u=v.ref(!1),d=v.toRef(o,"modelValue"),p=v.toRef(o,"timezone"),m=v.ref(null),k=v.ref(null),w=v.ref(null),y=v.ref(!1),T=v.ref(null),{setMenuFocused:E,setShiftKey:S}=GB(),{clearArrowNav:R}=Hl(),{mapDatesArrToMap:V,validateDate:L,isValidTime:j}=Em(o),{defaultedTransitions:Y,defaultedTextInput:W,defaultedInline:q}=Ni(o),{menuTransition:ue,showTransition:te}=xm(Y);v.onMounted(()=>{_e(o.modelValue),v.nextTick().then(()=>{q.value.enabled||(ke(T.value).addEventListener("scroll",rt),window.addEventListener("resize",ft))}),q.value.enabled&&(u.value=!0)});const F=v.computed(()=>V());v.onUnmounted(()=>{if(!q.value.enabled){const Le=ke(T.value);Le&&Le.removeEventListener("scroll",rt),window.removeEventListener("resize",ft)}});const Q=Ho(a,"all",o.presetDates),de=Ho(a,"input");v.watch([d,p],()=>{_e(d.value)},{deep:!0});const{openOnTop:ee,menuStyle:K,xCorrect:J,setMenuPosition:be,getScrollableParent:ke,shadowRender:ve}=fte({menuRef:m,menuRefInner:k,inputRef:w,pickerWrapperRef:T,inline:q,emit:i,props:o,slots:a}),{inputValue:oe,internalModelValue:ne,parseExternalModelValue:_e,emitModelValue:re,formatInputValue:Ie,checkBeforeEmit:he}=dte(i,o,y),Ae=v.computed(()=>({dp__main:!0,dp__theme_dark:o.dark,dp__theme_light:!o.dark,dp__flex_display:q.value.enabled,dp__flex_display_with_input:q.value.input})),Me=v.computed(()=>o.dark?"dp__theme_dark":"dp__theme_light"),Ne=v.computed(()=>o.teleport?{to:typeof o.teleport=="boolean"?"body":o.teleport,disabled:q.value.enabled}:{class:"dp__outer_menu_wrap"}),rt=()=>{u.value&&(o.closeOnScroll?Oe():be())},ft=()=>{u.value&&be()},Ke=()=>{!o.disabled&&!o.readonly&&(ve(E3,o),be(!1),u.value=!0,u.value&&i("open"),u.value||xe(),_e(o.modelValue))},dt=()=>{oe.value="",xe(),i("update:model-value",null),i("update:model-timezone-value",null),i("cleared"),o.closeOnClearValue&&Oe()},Te=()=>{const Le=ne.value;return!Le||!Array.isArray(Le)&&L(Le)?!0:Array.isArray(Le)?Le.length===2&&L(Le[0])&&L(Le[1])?!0:o.partialRange&&!o.timePicker?L(Le[0]):!1:!1},Xe=()=>{he()&&Te()?(re(),Oe()):i("invalid-select",ne.value)},le=Le=>{ce(),re(),o.closeOnAutoApply&&!Le&&Oe()},ce=()=>{w.value&&W.value.enabled&&w.value.setParsedDate(ne.value)},Se=(Le=!1)=>{o.autoApply&&j(ne.value)&&Te()&&(o.range&&Array.isArray(ne.value)?(o.partialRange||ne.value.length===2)&&le(Le):le(Le))},xe=()=>{W.value.enabled||(ne.value=null)},Oe=()=>{q.value.enabled||(u.value&&(u.value=!1,J.value=!1,E(!1),S(!1),R(),i("closed"),oe.value&&_e(d.value)),xe(),i("blur"))},Ye=(Le,pe)=>{if(!Le){ne.value=null;return}ne.value=Le,pe&&(Xe(),i("text-submit"))},We=()=>{o.autoApply&&j(ne.value)&&re(),ce()},ze=()=>u.value?Oe():Ke(),Re=Le=>{ne.value=Le},He=()=>{W.value.enabled&&(y.value=!0,Ie()),i("focus")},Qe=()=>{W.value.enabled&&(y.value=!1,_e(o.modelValue)),i("blur")},Ge=Le=>{k.value&&k.value.updateMonthYear(0,{month:v3(Le.month),year:v3(Le.year)})},it=Le=>{_e(Le??o.modelValue)},gt=(Le,pe)=>{var Ce;(Ce=k.value)==null||Ce.switchView(Le,pe)};return Cne(m,w,o.onClickOutside?()=>o.onClickOutside(Te):Oe),e({closeMenu:Oe,selectDate:Xe,clearValue:dt,openMenu:Ke,onScroll:rt,formatInputValue:Ie,updateInternalModelValue:Re,setMonthYear:Ge,parseModel:it,switchView:gt}),(Le,pe)=>(v.openBlock(),v.createElementBlock("div",{class:v.normalizeClass(Ae.value),ref_key:"pickerWrapperRef",ref:T},[v.createVNode(yte,v.mergeProps({ref_key:"inputRef",ref:w,"is-menu-open":u.value,"input-value":v.unref(oe),"onUpdate:inputValue":pe[0]||(pe[0]=Ce=>v.isRef(oe)?oe.value=Ce:null)},Le.$props,{onClear:dt,onOpen:Ke,onSetInputDate:Ye,onSetEmptyDate:v.unref(re),onSelectDate:Xe,onToggle:ze,onClose:Oe,onFocus:He,onBlur:Qe,onRealBlur:pe[1]||(pe[1]=Ce=>y.value=!1)}),v.createSlots({_:2},[v.renderList(v.unref(de),(Ce,nt)=>({name:Ce,fn:v.withCtx(at=>[v.renderSlot(Le.$slots,Ce,v.normalizeProps(v.guardReactiveProps(at)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),v.createVNode(v.Transition,{name:v.unref(ue)(v.unref(ee)),css:v.unref(te)&&!v.unref(q).enabled},{default:v.withCtx(()=>[u.value?(v.openBlock(),v.createBlock(v.resolveDynamicComponent(Le.teleport?v.Teleport:"div"),v.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:m},Ne.value,{class:{"dp--menu-wrapper":!v.unref(q).enabled},style:v.unref(q).enabled?void 0:v.unref(K)}),{default:v.withCtx(()=>[v.createVNode(E3,v.mergeProps({ref_key:"dpMenuRef",ref:k,class:{[Me.value]:!0,"dp--menu-wrapper":Le.teleport},style:Le.teleport?v.unref(K):void 0,"open-on-top":v.unref(ee),"arr-map-values":F.value},Le.$props,{"internal-model-value":v.unref(ne),"onUpdate:internalModelValue":pe[2]||(pe[2]=Ce=>v.isRef(ne)?ne.value=Ce:null),onClosePicker:Oe,onSelectDate:Xe,onAutoApply:Se,onTimeUpdate:We,onFlowStep:pe[3]||(pe[3]=Ce=>Le.$emit("flow-step",Ce)),onUpdateMonthYear:pe[4]||(pe[4]=Ce=>Le.$emit("update-month-year",Ce)),onInvalidSelect:pe[5]||(pe[5]=Ce=>Le.$emit("invalid-select",v.unref(ne))),onInvalidFixedRange:pe[6]||(pe[6]=Ce=>Le.$emit("invalid-fixed-range",Ce)),onRecalculatePosition:v.unref(be),onTooltipOpen:pe[7]||(pe[7]=Ce=>Le.$emit("tooltip-open",Ce)),onTooltipClose:pe[8]||(pe[8]=Ce=>Le.$emit("tooltip-close",Ce)),onTimePickerOpen:pe[9]||(pe[9]=Ce=>Le.$emit("time-picker-open",Ce)),onTimePickerClose:pe[10]||(pe[10]=Ce=>Le.$emit("time-picker-close",Ce)),onAmPmChange:pe[11]||(pe[11]=Ce=>Le.$emit("am-pm-change",Ce)),onRangeStart:pe[12]||(pe[12]=Ce=>Le.$emit("range-start",Ce)),onRangeEnd:pe[13]||(pe[13]=Ce=>Le.$emit("range-end",Ce))}),v.createSlots({_:2},[v.renderList(v.unref(Q),(Ce,nt)=>({name:Ce,fn:v.withCtx(at=>[v.renderSlot(Le.$slots,Ce,v.normalizeProps(v.guardReactiveProps({...at})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])]),_:3},16,["class","style"])):v.createCommentVNode("",!0)]),_:3},8,["name","css"])],2))}}),m1=(()=>{const n=Ane;return n.install=e=>{e.component("Vue3DatePicker",n)},n})(),Tne=Object.freeze(Object.defineProperty({__proto__:null,default:m1},Symbol.toStringTag,{value:"Module"}));Object.entries(Tne).forEach(([n,e])=>{n!=="default"&&(m1[n]=e)});const xne={components:{DatePicker:m1},props:["form","errors"]},Ene={class:"row py-1"},Sne=v.createElementVNode("div",{class:"col-3"},"Date and Time",-1),Dne={class:"col"},Ine={key:0,class:"col text-danger text-center"};function Mne(n,e,i,o,a,u){const d=v.resolveComponent("date-picker");return v.openBlock(),v.createElementBlock("div",null,[v.createElementVNode("div",Ene,[Sne,v.createElementVNode("div",Dne,[v.createVNode(d,{modelValue:i.form.date_time,"onUpdate:modelValue":e[0]||(e[0]=p=>i.form.date_time=p),format:"yyyy-MM-dd HH:mm:ss"},null,8,["modelValue"]),i.errors.date_time?(v.openBlock(),v.createElementBlock("p",Ine,v.toDisplayString(i.errors.date_time[0]),1)):v.createCommentVNode("",!0)])])])}const Pne=Ru(xne,[["render",Mne]]),Nne={components:{FirstComponent:wZ,SecondComponent:OZ,ThirdComponent:Pne},props:["product","categoryEnum"],data(){return{step:1,formfields:{first:["name","category","description"],second:["images"],third:["date_time"]},form:{name:"",description:"",category:0,date_time:"",images:[],deletedImages:[]},errors:{},isValid:{name:!1,category:!1,description:!1,images:!1}}},computed:{isPageOne(){return this.step==1},isFormValid(){let n=!1;return this.step==1?n=this.isValid.name&&this.isValid.category&&this.isValid.description:this.step==2&&(n=this.isValid.images),n}},created(){console.log("Parent Form Created"),this.product&&(this.form=this.product,this.form.images=[],this.form.deletedImages=[],this.product.media.forEach(n=>{this.form.images.push({id:n.id,preview:n.original_url})}))},methods:{redirectStep(n){let e=!1;this.formfields.first.forEach(i=>{n.includes(i)&&(this.step=1,e=!0)}),e||this.formfields.second.forEach(i=>{n.includes(i)&&(this.step=2,e=!0)}),e||this.formFields.third.forEach(i=>{n.includes(i)&&(this.step=3)})},next(){this.validate(),this.isFormValid&&this.step++},back(){this.step--},validate(){this.step==1?(this.isValid.name=!0,this.isValid.category=!0,this.isValid.description=!0,this.errors.name=[],this.errors.category=[],this.errors.description=[],this.form.name.trim()||(this.isValid.name=!1,this.errors.name=["Name is required."]),this.form.description.trim()||(this.isValid.description=!1,this.errors.description=["Description is required."]),this.form.name.length>254&&(this.isValid.name=!1,this.errors.name=["Max of 254 characteres only."]),this.form.description.length>1e3&&(this.isValid.description=!1,this.errors.description=["Max of 1000 characters only."]),this.form.category==0&&(this.isValid.category=!1,this.errors.category=["Category is required."])):this.step==2&&(this.isValid.images=!0,this.errors.images=[],this.form.images.length==0&&(this.isValid.images=!1,this.errors.images=["Images are required."]))},submit(){this.form.date_time=this.form.date_time?new Date(this.form.date_time).toISOString():"";const n=this.product?"Updated":"Saved",e=this.product?route("api.products.update",this.product):route("api.products.store"),i=new FormData;for(const o in this.form)o=="images"?this.form[o].forEach(a=>{a.hasOwnProperty("file")&&i.append("images[]",a.file,a.name)}):o=="deletedImages"?this.form[o].forEach(a=>{i.append("deletedImages[]",a)}):i.append(o,this.form[o]);this.product&&i.append("_method","PUT"),axios({method:"POST",url:e,data:i,headers:{"Content-Type":"multipart/form-data"}}).then(async o=>{o.status==200&&await this.$swal(`Successfully ${n}!`,"Press OK to redirect to products list","success").then(a=>{a.isConfirmed&&(window.location.href=route("product.index"))})}).catch(o=>{this.errors=o.response.data.errors,this.redirectStep(Object.getOwnPropertyNames(o.response.data.errors)),console.error("Error fetching data:",o)})}}},Bne={class:"row"},One={class:"col col-md-11 mx-auto"},Lne={class:"card p-2"},Rne={class:"card-header"},Fne={class:"row"},jne={class:"col"},zne={class:"col text-right"},Vne={class:"card-body"},Une={class:"card-footer"};function Hne(n,e,i,o,a,u){const d=v.resolveComponent("first-component"),p=v.resolveComponent("second-component"),m=v.resolveComponent("third-component");return v.openBlock(),v.createElementBlock("div",Bne,[v.createElementVNode("div",One,[v.createElementVNode("div",Lne,[v.createElementVNode("div",Rne,[v.createElementVNode("div",Fne,[v.createElementVNode("div",jne," Product "+v.toDisplayString(i.product?"Update":"Create"),1),v.createElementVNode("div",zne," Step "+v.toDisplayString(a.step)+" / 3 ",1)])]),v.createElementVNode("div",Vne,[a.step==1?(v.openBlock(),v.createBlock(d,{key:0,form:a.form,errors:a.errors,validate:u.validate,"category-enum":i.categoryEnum},null,8,["form","errors","validate","category-enum"])):v.createCommentVNode("",!0),a.step==2?(v.openBlock(),v.createBlock(p,{key:1,form:a.form,errors:a.errors,validate:u.validate},null,8,["form","errors","validate"])):v.createCommentVNode("",!0),a.step==3?(v.openBlock(),v.createBlock(m,{key:2,form:a.form,errors:a.errors},null,8,["form","errors"])):v.createCommentVNode("",!0)]),v.createElementVNode("div",Une,[v.createElementVNode("div",{class:v.normalizeClass(["row",{"justify-content-end":u.isPageOne,"justify-content-between":!u.isPageOne}])},[a.step!=1?(v.openBlock(),v.createElementBlock("a",{key:0,class:"btn btn-light",onClick:e[0]||(e[0]=(...k)=>u.back&&u.back(...k))},"Back")):v.createCommentVNode("",!0),a.step!=3?(v.openBlock(),v.createElementBlock("a",{key:1,class:"btn btn-dark",onClick:e[1]||(e[1]=(...k)=>u.next&&u.next(...k))},"Next")):v.createCommentVNode("",!0),a.step==3?(v.openBlock(),v.createElementBlock("a",{key:2,class:"btn btn-dark",onClick:e[2]||(e[2]=(...k)=>u.submit&&u.submit(...k))},"Submit")):v.createCommentVNode("",!0)],2)])])])])}const $ne=Ru(Nne,[["render",Hne]]);var up;typeof window<"u"?up=window:typeof lo<"u"?up=lo:typeof self<"u"?up=self:up={};var lk=up;const me=zs(lk),qne={},Wne=Object.freeze(Object.defineProperty({__proto__:null,default:qne},Symbol.toStringTag,{value:"Module"})),Gne=fm(Wne);var S3=typeof lo<"u"?lo:typeof window<"u"?window:{},Kne=Gne,dp;typeof document<"u"?dp=document:(dp=S3["__GLOBAL_DOCUMENT_CACHE@4"],dp||(dp=S3["__GLOBAL_DOCUMENT_CACHE@4"]=Kne));var ZB=dp;const et=zs(ZB);var nw={exports:{}};(function(n,e){function i(m){if(m&&typeof m=="object"){var k=m.which||m.keyCode||m.charCode;k&&(m=k)}if(typeof m=="number")return d[m];var w=String(m),y=o[w.toLowerCase()];if(y)return y;var y=a[w.toLowerCase()];if(y)return y;if(w.length===1)return w.charCodeAt(0)}i.isEventKey=function(k,w){if(k&&typeof k=="object"){var y=k.which||k.keyCode||k.charCode;if(y==null)return!1;if(typeof w=="string"){var T=o[w.toLowerCase()];if(T)return T===y;var T=a[w.toLowerCase()];if(T)return T===y}else if(typeof w=="number")return w===y;return!1}},e=n.exports=i;var o=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(u=97;u<123;u++)o[String.fromCharCode(u)]=u-32;for(var u=48;u<58;u++)o[u-48]=u;for(u=1;u<13;u++)o["f"+u]=u+111;for(u=0;u<10;u++)o["numpad "+u]=u+96;var d=e.names=e.title={};for(u in o)d[o[u]]=u;for(var p in a)o[p]=a[p]})(nw,nw.exports);var Yne=nw.exports;const Pt=zs(Yne);var Qne=Zne;function Zne(n,e){var i,o=null;try{i=JSON.parse(n,e)}catch(a){o=a}return[o,i]}const Xne=zs(Qne);var g1={exports:{}};function Ia(){return Ia=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},Ia.apply(this,arguments)}const Jne=Object.freeze(Object.defineProperty({__proto__:null,default:Ia},Symbol.toStringTag,{value:"Module"})),eie=fm(Jne);var tie=iie,nie=Object.prototype.toString;function iie(n){if(!n)return!1;var e=nie.call(n);return e==="[object Function]"||typeof n=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}var rie=lk,oie=function(e,i){return i===void 0&&(i=!1),function(o,a,u){if(o){e(o);return}if(a.statusCode>=400&&a.statusCode<=599){var d=u;if(i)if(rie.TextDecoder){var p=sie(a.headers&&a.headers["content-type"]);try{d=new TextDecoder(p).decode(u)}catch{}}else d=String.fromCharCode.apply(null,new Uint8Array(u));e({cause:d});return}e(null,u)}};function sie(n){return n===void 0&&(n=""),n.toLowerCase().split(";").reduce(function(e,i){var o=i.split("="),a=o[0],u=o[1];return a.trim()==="charset"?u.trim():e},"utf-8")}var aie=oie,XB=lk,lie=eie,cie=tie;Ds.httpHandler=aie;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var uie=function(e){var i={};return e&&e.trim().split(`
`).forEach(function(o){var a=o.indexOf(":"),u=o.slice(0,a).trim().toLowerCase(),d=o.slice(a+1).trim();typeof i[u]>"u"?i[u]=d:Array.isArray(i[u])?i[u].push(d):i[u]=[i[u],d]}),i};g1.exports=Ds;g1.exports.default=Ds;Ds.XMLHttpRequest=XB.XMLHttpRequest||pie;Ds.XDomainRequest="withCredentials"in new Ds.XMLHttpRequest?Ds.XMLHttpRequest:XB.XDomainRequest;die(["get","put","post","patch","head","delete"],function(n){Ds[n==="delete"?"del":n]=function(e,i,o){return i=JB(e,i,o),i.method=n.toUpperCase(),eO(i)}});function die(n,e){for(var i=0;i<n.length;i++)e(n[i])}function hie(n){for(var e in n)if(n.hasOwnProperty(e))return!1;return!0}function JB(n,e,i){var o=n;return cie(e)?(i=e,typeof n=="string"&&(o={uri:n})):o=lie({},e,{uri:n}),o.callback=i,o}function Ds(n,e,i){return e=JB(n,e,i),eO(e)}function eO(n){if(typeof n.callback>"u")throw new Error("callback argument missing");var e=!1,i=function(Y,W,q){e||(e=!0,n.callback(Y,W,q))};function o(){p.readyState===4&&setTimeout(d,0)}function a(){var j=void 0;if(p.response?j=p.response:j=p.responseText||fie(p),R)try{j=JSON.parse(j)}catch{}return j}function u(j){return clearTimeout(V),j instanceof Error||(j=new Error(""+(j||"Unknown XMLHttpRequest Error"))),j.statusCode=0,i(j,L)}function d(){if(!k){var j;clearTimeout(V),n.useXDR&&p.status===void 0?j=200:j=p.status===1223?204:p.status;var Y=L,W=null;return j!==0?(Y={body:a(),statusCode:j,method:y,headers:{},url:w,rawRequest:p},p.getAllResponseHeaders&&(Y.headers=uie(p.getAllResponseHeaders()))):W=new Error("Internal XMLHttpRequest Error"),i(W,Y,Y.body)}}var p=n.xhr||null;p||(n.cors||n.useXDR?p=new Ds.XDomainRequest:p=new Ds.XMLHttpRequest);var m,k,w=p.url=n.uri||n.url,y=p.method=n.method||"GET",T=n.body||n.data,E=p.headers=n.headers||{},S=!!n.sync,R=!1,V,L={body:void 0,headers:{},statusCode:0,method:y,url:w,rawRequest:p};if("json"in n&&n.json!==!1&&(R=!0,E.accept||E.Accept||(E.Accept="application/json"),y!=="GET"&&y!=="HEAD"&&(E["content-type"]||E["Content-Type"]||(E["Content-Type"]="application/json"),T=JSON.stringify(n.json===!0?T:n.json))),p.onreadystatechange=o,p.onload=d,p.onerror=u,p.onprogress=function(){},p.onabort=function(){k=!0},p.ontimeout=u,p.open(y,w,!S,n.username,n.password),S||(p.withCredentials=!!n.withCredentials),!S&&n.timeout>0&&(V=setTimeout(function(){if(!k){k=!0,p.abort("timeout");var j=new Error("XMLHttpRequest timeout");j.code="ETIMEDOUT",u(j)}},n.timeout)),p.setRequestHeader)for(m in E)E.hasOwnProperty(m)&&p.setRequestHeader(m,E[m]);else if(n.headers&&!hie(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(p.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(p),p.send(T||null),p}function fie(n){try{if(n.responseType==="document")return n.responseXML;var e=n.responseXML&&n.responseXML.documentElement.nodeName==="parsererror";if(n.responseType===""&&!e)return n.responseXML}catch{}return null}function pie(){}var mie=g1.exports;const tO=zs(mie);var nO={exports:{}},D3=ZB,b1=Object.create||function(){function n(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=e,new n}}();function Vr(n,e){this.name="ParsingError",this.code=n.code,this.message=e||n.message}Vr.prototype=b1(Error.prototype);Vr.prototype.constructor=Vr;Vr.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function k1(n){function e(o,a,u,d){return(o|0)*3600+(a|0)*60+(u|0)+(d|0)/1e3}var i=n.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function Tp(){this.values=b1(null)}Tp.prototype={set:function(n,e){!this.get(n)&&e!==""&&(this.values[n]=e)},get:function(n,e,i){return i?this.has(n)?this.values[n]:e[i]:this.has(n)?this.values[n]:e},has:function(n){return n in this.values},alt:function(n,e,i){for(var o=0;o<i.length;++o)if(e===i[o]){this.set(n,e);break}},integer:function(n,e){/^-?\d+$/.test(e)&&this.set(n,parseInt(e,10))},percent:function(n,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(n,e),!0):!1}};function hp(n,e,i,o){var a=o?n.split(o):[n];for(var u in a)if(typeof a[u]=="string"){var d=a[u].split(i);if(d.length===2){var p=d[0].trim(),m=d[1].trim();e(p,m)}}}function gie(n,e,i){var o=n;function a(){var p=k1(n);if(p===null)throw new Vr(Vr.Errors.BadTimeStamp,"Malformed timestamp: "+o);return n=n.replace(/^[^\sa-zA-Z-]+/,""),p}function u(p,m){var k=new Tp;hp(p,function(w,y){switch(w){case"region":for(var T=i.length-1;T>=0;T--)if(i[T].id===y){k.set(w,i[T].region);break}break;case"vertical":k.alt(w,y,["rl","lr"]);break;case"line":var E=y.split(","),S=E[0];k.integer(w,S),k.percent(w,S)&&k.set("snapToLines",!1),k.alt(w,S,["auto"]),E.length===2&&k.alt("lineAlign",E[1],["start","center","end"]);break;case"position":E=y.split(","),k.percent(w,E[0]),E.length===2&&k.alt("positionAlign",E[1],["start","center","end"]);break;case"size":k.percent(w,y);break;case"align":k.alt(w,y,["start","center","end","left","right"]);break}},/:/,/\s/),m.region=k.get("region",null),m.vertical=k.get("vertical","");try{m.line=k.get("line","auto")}catch{}m.lineAlign=k.get("lineAlign","start"),m.snapToLines=k.get("snapToLines",!0),m.size=k.get("size",100);try{m.align=k.get("align","center")}catch{m.align=k.get("align","middle")}try{m.position=k.get("position","auto")}catch{m.position=k.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},m.align)}m.positionAlign=k.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},m.align)}function d(){n=n.replace(/^\s+/,"")}if(d(),e.startTime=a(),d(),n.substr(0,3)!=="-->")throw new Vr(Vr.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+o);n=n.substr(3),d(),e.endTime=a(),d(),u(n,e)}var J_=D3.createElement&&D3.createElement("textarea"),bie={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},I3={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},kie={v:"title",lang:"lang"},M3={rt:"ruby"};function iO(n,e){function i(){if(!e)return null;function S(V){return e=e.substr(V.length),V}var R=e.match(/^([^<]*)(<[^>]*>?)?/);return S(R[1]?R[1]:R[2])}function o(S){return J_.innerHTML=S,S=J_.textContent,J_.textContent="",S}function a(S,R){return!M3[R.localName]||M3[R.localName]===S.localName}function u(S,R){var V=bie[S];if(!V)return null;var L=n.document.createElement(V),j=kie[S];return j&&R&&(L[j]=R.trim()),L}for(var d=n.document.createElement("div"),p=d,m,k=[];(m=i())!==null;){if(m[0]==="<"){if(m[1]==="/"){k.length&&k[k.length-1]===m.substr(2).replace(">","")&&(k.pop(),p=p.parentNode);continue}var w=k1(m.substr(1,m.length-2)),y;if(w){y=n.document.createProcessingInstruction("timestamp",w),p.appendChild(y);continue}var T=m.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!T||(y=u(T[1],T[3]),!y)||!a(p,y))continue;if(T[2]){var E=T[2].split(".");E.forEach(function(S){var R=/^bg_/.test(S),V=R?S.slice(3):S;if(I3.hasOwnProperty(V)){var L=R?"background-color":"color",j=I3[V];y.style[L]=j}}),y.className=E.join(" ")}k.push(T[1]),p.appendChild(y),p=y;continue}p.appendChild(n.document.createTextNode(o(m)))}return d}var P3=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function vie(n){for(var e=0;e<P3.length;e++){var i=P3[e];if(n>=i[0]&&n<=i[1])return!0}return!1}function _ie(n){var e=[],i="",o;if(!n||!n.childNodes)return"ltr";function a(p,m){for(var k=m.childNodes.length-1;k>=0;k--)p.push(m.childNodes[k])}function u(p){if(!p||!p.length)return null;var m=p.pop(),k=m.textContent||m.innerText;if(k){var w=k.match(/^.*(\n|\r)/);return w?(p.length=0,w[0]):k}if(m.tagName==="ruby")return u(p);if(m.childNodes)return a(p,m),u(p)}for(a(e,n);i=u(e);)for(var d=0;d<i.length;d++)if(o=i.charCodeAt(d),vie(o))return"rtl";return"ltr"}function yie(n){if(typeof n.line=="number"&&(n.snapToLines||n.line>=0&&n.line<=100))return n.line;if(!n.track||!n.track.textTrackList||!n.track.textTrackList.mediaElement)return-1;for(var e=n.track,i=e.textTrackList,o=0,a=0;a<i.length&&i[a]!==e;a++)i[a].mode==="showing"&&o++;return++o*-1}function ck(){}ck.prototype.applyStyles=function(n,e){e=e||this.div;for(var i in n)n.hasOwnProperty(i)&&(e.style[i]=n[i])};ck.prototype.formatStyle=function(n,e){return n===0?0:n+e};function U0(n,e,i){ck.call(this),this.cue=e,this.cueDiv=iO(n,e.text);var o={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(o,this.cueDiv),this.div=n.document.createElement("div"),o={direction:_ie(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(o),this.div.appendChild(this.cueDiv);var a=0;switch(e.positionAlign){case"start":case"line-left":a=e.position;break;case"center":a=e.position-e.size/2;break;case"end":case"line-right":a=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(a,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(a,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(u){this.applyStyles({top:this.formatStyle(u.top,"px"),bottom:this.formatStyle(u.bottom,"px"),left:this.formatStyle(u.left,"px"),right:this.formatStyle(u.right,"px"),height:this.formatStyle(u.height,"px"),width:this.formatStyle(u.width,"px")})}}U0.prototype=b1(ck.prototype);U0.prototype.constructor=U0;function nr(n){var e,i,o,a;if(n.div){i=n.div.offsetHeight,o=n.div.offsetWidth,a=n.div.offsetTop;var u=(u=n.div.childNodes)&&(u=u[0])&&u.getClientRects&&u.getClientRects();n=n.div.getBoundingClientRect(),e=u?Math.max(u[0]&&u[0].height||0,n.height/u.length):0}this.left=n.left,this.right=n.right,this.top=n.top||a,this.height=n.height||i,this.bottom=n.bottom||a+(n.height||i),this.width=n.width||o,this.lineHeight=e!==void 0?e:n.lineHeight}nr.prototype.move=function(n,e){switch(e=e!==void 0?e:this.lineHeight,n){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};nr.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top};nr.prototype.overlapsAny=function(n){for(var e=0;e<n.length;e++)if(this.overlaps(n[e]))return!0;return!1};nr.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right};nr.prototype.overlapsOppositeAxis=function(n,e){switch(e){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}};nr.prototype.intersectPercentage=function(n){var e=Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left)),i=Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top)),o=e*i;return o/(this.height*this.width)};nr.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}};nr.getSimpleBoxPosition=function(n){var e=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,i=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,o=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n;var a={left:n.left,right:n.right,top:n.top||o,height:n.height||e,bottom:n.bottom||o+(n.height||e),width:n.width||i};return a};function wie(n,e,i,o){function a(V,L){for(var j,Y=new nr(V),W=1,q=0;q<L.length;q++){for(;V.overlapsOppositeAxis(i,L[q])||V.within(i)&&V.overlapsAny(o);)V.move(L[q]);if(V.within(i))return V;var ue=V.intersectPercentage(i);W>ue&&(j=new nr(V),W=ue),V=new nr(Y)}return j||Y}var u=new nr(e),d=e.cue,p=yie(d),m=[];if(d.snapToLines){var k;switch(d.vertical){case"":m=["+y","-y"],k="height";break;case"rl":m=["+x","-x"],k="width";break;case"lr":m=["-x","+x"],k="width";break}var w=u.lineHeight,y=w*Math.round(p),T=i[k]+w,E=m[0];Math.abs(y)>T&&(y=y<0?-1:1,y*=Math.ceil(T/w)*w),p<0&&(y+=d.vertical===""?i.height:i.width,m=m.reverse()),u.move(E,y)}else{var S=u.lineHeight/i.height*100;switch(d.lineAlign){case"center":p-=S/2;break;case"end":p-=S;break}switch(d.vertical){case"":e.applyStyles({top:e.formatStyle(p,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(p,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(p,"%")});break}m=["+y","-x","+x","-y"],u=new nr(e)}var R=a(u,m);e.move(R.toCSSCompatValues(i))}function zh(){}zh.StringDecoder=function(){return{decode:function(n){if(!n)return"";if(typeof n!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}};zh.convertCueToDOMTree=function(n,e){return!n||!e?null:iO(n,e)};var Cie=.05,Aie="sans-serif",Tie="1.5%";zh.processCues=function(n,e,i){if(!n||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var o=n.document.createElement("div");o.style.position="absolute",o.style.left="0",o.style.right="0",o.style.top="0",o.style.bottom="0",o.style.margin=Tie,i.appendChild(o);function a(w){for(var y=0;y<w.length;y++)if(w[y].hasBeenReset||!w[y].displayState)return!0;return!1}if(!a(e)){for(var u=0;u<e.length;u++)o.appendChild(e[u].displayState);return}var d=[],p=nr.getSimpleBoxPosition(o),m=Math.round(p.height*Cie*100)/100,k={font:m+"px "+Aie};(function(){for(var w,y,T=0;T<e.length;T++)y=e[T],w=new U0(n,y,k),o.appendChild(w.div),wie(n,w,p,d),y.displayState=w.div,d.push(nr.getSimpleBoxPosition(w))})()};zh.Parser=function(n,e,i){i||(i=e,e={}),e||(e={}),this.window=n,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};zh.Parser.prototype={reportOrThrowError:function(n){if(n instanceof Vr)this.onparsingerror&&this.onparsingerror(n);else throw n},parse:function(n){var e=this;n&&(e.buffer+=e.decoder.decode(n,{stream:!0}));function i(){for(var w=e.buffer,y=0;y<w.length&&w[y]!=="\r"&&w[y]!==`
`;)++y;var T=w.substr(0,y);return w[y]==="\r"&&++y,w[y]===`
`&&++y,e.buffer=w.substr(y),T}function o(w){var y=new Tp;if(hp(w,function(E,S){switch(E){case"id":y.set(E,S);break;case"width":y.percent(E,S);break;case"lines":y.integer(E,S);break;case"regionanchor":case"viewportanchor":var R=S.split(",");if(R.length!==2)break;var V=new Tp;if(V.percent("x",R[0]),V.percent("y",R[1]),!V.has("x")||!V.has("y"))break;y.set(E+"X",V.get("x")),y.set(E+"Y",V.get("y"));break;case"scroll":y.alt(E,S,["up"]);break}},/=/,/\s/),y.has("id")){var T=new(e.vttjs.VTTRegion||e.window.VTTRegion);T.width=y.get("width",100),T.lines=y.get("lines",3),T.regionAnchorX=y.get("regionanchorX",0),T.regionAnchorY=y.get("regionanchorY",100),T.viewportAnchorX=y.get("viewportanchorX",0),T.viewportAnchorY=y.get("viewportanchorY",100),T.scroll=y.get("scroll",""),e.onregion&&e.onregion(T),e.regionList.push({id:y.get("id"),region:T})}}function a(w){var y=new Tp;hp(w,function(T,E){switch(T){case"MPEGT":y.integer(T+"S",E);break;case"LOCA":y.set(T+"L",k1(E));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:y.get("MPEGTS"),LOCAL:y.get("LOCAL")})}function u(w){w.match(/X-TIMESTAMP-MAP/)?hp(w,function(y,T){switch(y){case"X-TIMESTAMP-MAP":a(T);break}},/=/):hp(w,function(y,T){switch(y){case"Region":o(T);break}},/:/)}try{var d;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;d=i();var p=d.match(/^WEBVTT([ \t].*)?$/);if(!p||!p[0])throw new Vr(Vr.Errors.BadSignature);e.state="HEADER"}for(var m=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(m?m=!1:d=i(),e.state){case"HEADER":/:/.test(d)?u(d):d||(e.state="ID");continue;case"NOTE":d||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){e.state="NOTE";break}if(!d)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",d.indexOf("-->")===-1){e.cue.id=d;continue}case"CUE":try{gie(d,e.cue,e.regionList)}catch(w){e.reportOrThrowError(w),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var k=d.indexOf("-->")!==-1;if(!d||k&&(m=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=d.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":d||(e.state="ID");continue}}}catch(w){e.reportOrThrowError(w),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||n.state==="HEADER")&&(n.buffer+=`

`,n.parse()),n.state==="INITIAL")throw new Vr(Vr.Errors.BadSignature)}catch(e){n.reportOrThrowError(e)}return n.onflush&&n.onflush(),this}};var xie=zh,Eie="auto",Sie={"":1,lr:1,rl:1},Die={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Iie(n){if(typeof n!="string")return!1;var e=Sie[n.toLowerCase()];return e?n.toLowerCase():!1}function ey(n){if(typeof n!="string")return!1;var e=Die[n.toLowerCase()];return e?n.toLowerCase():!1}function rO(n,e,i){this.hasBeenReset=!1;var o="",a=!1,u=n,d=e,p=i,m=null,k="",w=!0,y="auto",T="start",E="auto",S="auto",R=100,V="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(L){o=""+L}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(L){a=!!L}},startTime:{enumerable:!0,get:function(){return u},set:function(L){if(typeof L!="number")throw new TypeError("Start time must be set to a number.");u=L,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return d},set:function(L){if(typeof L!="number")throw new TypeError("End time must be set to a number.");d=L,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return p},set:function(L){p=""+L,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return m},set:function(L){m=L,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return k},set:function(L){var j=Iie(L);if(j===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");k=j,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return w},set:function(L){w=!!L,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return y},set:function(L){if(typeof L!="number"&&L!==Eie)throw new SyntaxError("Line: an invalid number or illegal string was specified.");y=L,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return T},set:function(L){var j=ey(L);j?(T=j,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return E},set:function(L){if(L<0||L>100)throw new Error("Position must be between 0 and 100.");E=L,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return S},set:function(L){var j=ey(L);j?(S=j,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return R},set:function(L){if(L<0||L>100)throw new Error("Size must be between 0 and 100.");R=L,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return V},set:function(L){var j=ey(L);if(!j)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");V=j,this.hasBeenReset=!0}}}),this.displayState=void 0}rO.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Mie=rO,Pie={"":!0,up:!0};function Nie(n){if(typeof n!="string")return!1;var e=Pie[n.toLowerCase()];return e?n.toLowerCase():!1}function Jf(n){return typeof n=="number"&&n>=0&&n<=100}function Bie(){var n=100,e=3,i=0,o=100,a=0,u=100,d="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(p){if(!Jf(p))throw new Error("Width must be between 0 and 100.");n=p}},lines:{enumerable:!0,get:function(){return e},set:function(p){if(typeof p!="number")throw new TypeError("Lines must be set to a number.");e=p}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(p){if(!Jf(p))throw new Error("RegionAnchorX must be between 0 and 100.");o=p}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(p){if(!Jf(p))throw new Error("RegionAnchorY must be between 0 and 100.");i=p}},viewportAnchorY:{enumerable:!0,get:function(){return u},set:function(p){if(!Jf(p))throw new Error("ViewportAnchorY must be between 0 and 100.");u=p}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(p){if(!Jf(p))throw new Error("ViewportAnchorX must be between 0 and 100.");a=p}},scroll:{enumerable:!0,get:function(){return d},set:function(p){var m=Nie(p);m===!1?console.warn("Scroll: an invalid or illegal string was specified."):d=m}}})}var Oie=Bie,Ma=lk,Fu=nO.exports={WebVTT:xie,VTTCue:Mie,VTTRegion:Oie};Ma.vttjs=Fu;Ma.WebVTT=Fu.WebVTT;var Lie=Fu.VTTCue,Rie=Fu.VTTRegion,Fie=Ma.VTTCue,jie=Ma.VTTRegion;Fu.shim=function(){Ma.VTTCue=Lie,Ma.VTTRegion=Rie};Fu.restore=function(){Ma.VTTCue=Fie,Ma.VTTRegion=jie};Ma.VTTCue||Fu.shim();var zie=nO.exports;const N3=zs(zie);var oO={exports:{}};(function(n,e){(function(i){var o=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,a=/^(?=([^\/?#]*))\1([^]*)$/,u=/(?:\/|^)\.(?=\/)/g,d=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,p={buildAbsoluteURL:function(m,k,w){if(w=w||{},m=m.trim(),k=k.trim(),!k){if(!w.alwaysNormalize)return m;var y=p.parseURL(m);if(!y)throw new Error("Error trying to parse base URL.");return y.path=p.normalizePath(y.path),p.buildURLFromParts(y)}var T=p.parseURL(k);if(!T)throw new Error("Error trying to parse relative URL.");if(T.scheme)return w.alwaysNormalize?(T.path=p.normalizePath(T.path),p.buildURLFromParts(T)):k;var E=p.parseURL(m);if(!E)throw new Error("Error trying to parse base URL.");if(!E.netLoc&&E.path&&E.path[0]!=="/"){var S=a.exec(E.path);E.netLoc=S[1],E.path=S[2]}E.netLoc&&!E.path&&(E.path="/");var R={scheme:E.scheme,netLoc:T.netLoc,path:null,params:T.params,query:T.query,fragment:T.fragment};if(!T.netLoc&&(R.netLoc=E.netLoc,T.path[0]!=="/"))if(!T.path)R.path=E.path,T.params||(R.params=E.params,T.query||(R.query=E.query));else{var V=E.path,L=V.substring(0,V.lastIndexOf("/")+1)+T.path;R.path=p.normalizePath(L)}return R.path===null&&(R.path=w.alwaysNormalize?p.normalizePath(T.path):T.path),p.buildURLFromParts(R)},parseURL:function(m){var k=o.exec(m);return k?{scheme:k[1]||"",netLoc:k[2]||"",path:k[3]||"",params:k[4]||"",query:k[5]||"",fragment:k[6]||""}:null},normalizePath:function(m){for(m=m.split("").reverse().join("").replace(u,"");m.length!==(m=m.replace(d,"")).length;);return m.split("").reverse().join("")},buildURLFromParts:function(m){return m.scheme+m.netLoc+m.path+m.params+m.query+m.fragment}};n.exports=p})()})(oO);var Vie=oO.exports;const H0=zs(Vie);var B3="http://example.com",Uie=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=me.location&&me.location.href||"");var o=typeof me.URL=="function",a=/^\/\//.test(e),u=!me.location&&!/\/\//i.test(e);if(o?e=new me.URL(e,me.location||B3):/\/\//i.test(e)||(e=H0.buildAbsoluteURL(me.location&&me.location.href||"",e)),o){var d=new URL(i,e);return u?d.href.slice(B3.length):a?d.href.slice(d.protocol.length):d.href}return H0.buildAbsoluteURL(e,i)},v1=function(){function n(){this.listeners={}}var e=n.prototype;return e.on=function(o,a){this.listeners[o]||(this.listeners[o]=[]),this.listeners[o].push(a)},e.off=function(o,a){if(!this.listeners[o])return!1;var u=this.listeners[o].indexOf(a);return this.listeners[o]=this.listeners[o].slice(0),this.listeners[o].splice(u,1),u>-1},e.trigger=function(o){var a=this.listeners[o];if(a)if(arguments.length===2)for(var u=a.length,d=0;d<u;++d)a[d].call(this,arguments[1]);else for(var p=Array.prototype.slice.call(arguments,1),m=a.length,k=0;k<m;++k)a[k].apply(this,p)},e.dispose=function(){this.listeners={}},e.pipe=function(o){this.on("data",function(a){o.push(a)})},n}(),Hie=function(e){return me.atob?me.atob(e):Buffer.from(e,"base64").toString("binary")};function $ie(n){for(var e=Hie(n),i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return i}/*! @name m3u8-parser @version 6.2.0 @license Apache-2.0 */class qie extends v1{constructor(){super(),this.buffer=""}push(e){let i;for(this.buffer+=e,i=this.buffer.indexOf(`
`);i>-1;i=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,i)),this.buffer=this.buffer.substring(i+1)}}const Wie=String.fromCharCode(9),ty=function(n){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(n||""),i={};return e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),i},Gie=function(){const n="[^=]*",e='"[^"]*"|[^,]*',i="(?:"+n+")=(?:"+e+")";return new RegExp("(?:^|,)("+i+")")},so=function(n){const e={};if(!n)return e;const i=n.split(Gie());let o=i.length,a;for(;o--;)i[o]!==""&&(a=/([^=]*)=(.*)/.exec(i[o]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),e[a[0]]=a[1]);return e};class Kie extends v1{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let i,o;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((u,d)=>{const p=d(e);return p===e?u:u.concat([p])},[e]).forEach(u=>{for(let d=0;d<this.customParsers.length;d++)if(this.customParsers[d].call(this,u))return;if(u.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:u.slice(1)});return}if(u=u.replace("\r",""),i=/^#EXTM3U/.exec(u),i){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(i=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(u),i){o={type:"tag",tagType:"inf"},i[1]&&(o.duration=parseFloat(i[1])),i[2]&&(o.title=i[2]),this.trigger("data",o);return}if(i=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(u),i){o={type:"tag",tagType:"targetduration"},i[1]&&(o.duration=parseInt(i[1],10)),this.trigger("data",o);return}if(i=/^#EXT-X-VERSION:([0-9.]*)?/.exec(u),i){o={type:"tag",tagType:"version"},i[1]&&(o.version=parseInt(i[1],10)),this.trigger("data",o);return}if(i=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(u),i){o={type:"tag",tagType:"media-sequence"},i[1]&&(o.number=parseInt(i[1],10)),this.trigger("data",o);return}if(i=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(u),i){o={type:"tag",tagType:"discontinuity-sequence"},i[1]&&(o.number=parseInt(i[1],10)),this.trigger("data",o);return}if(i=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(u),i){o={type:"tag",tagType:"playlist-type"},i[1]&&(o.playlistType=i[1]),this.trigger("data",o);return}if(i=/^#EXT-X-BYTERANGE:(.*)?$/.exec(u),i){o=Ia(ty(i[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",o);return}if(i=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(u),i){o={type:"tag",tagType:"allow-cache"},i[1]&&(o.allowed=!/NO/.test(i[1])),this.trigger("data",o);return}if(i=/^#EXT-X-MAP:(.*)$/.exec(u),i){if(o={type:"tag",tagType:"map"},i[1]){const d=so(i[1]);d.URI&&(o.uri=d.URI),d.BYTERANGE&&(o.byterange=ty(d.BYTERANGE))}this.trigger("data",o);return}if(i=/^#EXT-X-STREAM-INF:(.*)$/.exec(u),i){if(o={type:"tag",tagType:"stream-inf"},i[1]){if(o.attributes=so(i[1]),o.attributes.RESOLUTION){const d=o.attributes.RESOLUTION.split("x"),p={};d[0]&&(p.width=parseInt(d[0],10)),d[1]&&(p.height=parseInt(d[1],10)),o.attributes.RESOLUTION=p}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["FRAME-RATE"]&&(o.attributes["FRAME-RATE"]=parseFloat(o.attributes["FRAME-RATE"])),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}this.trigger("data",o);return}if(i=/^#EXT-X-MEDIA:(.*)$/.exec(u),i){o={type:"tag",tagType:"media"},i[1]&&(o.attributes=so(i[1])),this.trigger("data",o);return}if(i=/^#EXT-X-ENDLIST/.exec(u),i){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(i=/^#EXT-X-DISCONTINUITY/.exec(u),i){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(i=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(u),i){o={type:"tag",tagType:"program-date-time"},i[1]&&(o.dateTimeString=i[1],o.dateTimeObject=new Date(i[1])),this.trigger("data",o);return}if(i=/^#EXT-X-KEY:(.*)$/.exec(u),i){o={type:"tag",tagType:"key"},i[1]&&(o.attributes=so(i[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),this.trigger("data",o);return}if(i=/^#EXT-X-START:(.*)$/.exec(u),i){o={type:"tag",tagType:"start"},i[1]&&(o.attributes=so(i[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),this.trigger("data",o);return}if(i=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(u),i){o={type:"tag",tagType:"cue-out-cont"},i[1]?o.data=i[1]:o.data="",this.trigger("data",o);return}if(i=/^#EXT-X-CUE-OUT:(.*)?$/.exec(u),i){o={type:"tag",tagType:"cue-out"},i[1]?o.data=i[1]:o.data="",this.trigger("data",o);return}if(i=/^#EXT-X-CUE-IN:(.*)?$/.exec(u),i){o={type:"tag",tagType:"cue-in"},i[1]?o.data=i[1]:o.data="",this.trigger("data",o);return}if(i=/^#EXT-X-SKIP:(.*)$/.exec(u),i&&i[1]){o={type:"tag",tagType:"skip"},o.attributes=so(i[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(Wie)),this.trigger("data",o);return}if(i=/^#EXT-X-PART:(.*)$/.exec(u),i&&i[1]){o={type:"tag",tagType:"part"},o.attributes=so(i[1]),["DURATION"].forEach(function(d){o.attributes.hasOwnProperty(d)&&(o.attributes[d]=parseFloat(o.attributes[d]))}),["INDEPENDENT","GAP"].forEach(function(d){o.attributes.hasOwnProperty(d)&&(o.attributes[d]=/YES/.test(o.attributes[d]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=ty(o.attributes.BYTERANGE)),this.trigger("data",o);return}if(i=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(u),i&&i[1]){o={type:"tag",tagType:"server-control"},o.attributes=so(i[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(d){o.attributes.hasOwnProperty(d)&&(o.attributes[d]=parseFloat(o.attributes[d]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(d){o.attributes.hasOwnProperty(d)&&(o.attributes[d]=/YES/.test(o.attributes[d]))}),this.trigger("data",o);return}if(i=/^#EXT-X-PART-INF:(.*)$/.exec(u),i&&i[1]){o={type:"tag",tagType:"part-inf"},o.attributes=so(i[1]),["PART-TARGET"].forEach(function(d){o.attributes.hasOwnProperty(d)&&(o.attributes[d]=parseFloat(o.attributes[d]))}),this.trigger("data",o);return}if(i=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(u),i&&i[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=so(i[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(d){if(o.attributes.hasOwnProperty(d)){o.attributes[d]=parseInt(o.attributes[d],10);const p=d==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[p]=o.attributes[d],delete o.attributes[d]}}),this.trigger("data",o);return}if(i=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(u),i&&i[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=so(i[1]),["LAST-MSN","LAST-PART"].forEach(function(d){o.attributes.hasOwnProperty(d)&&(o.attributes[d]=parseInt(o.attributes[d],10))}),this.trigger("data",o);return}if(i=/^#EXT-X-DATERANGE:(.*)$/.exec(u),i&&i[1]){o={type:"tag",tagType:"daterange"},o.attributes=so(i[1]),["ID","CLASS"].forEach(function(p){o.attributes.hasOwnProperty(p)&&(o.attributes[p]=String(o.attributes[p]))}),["START-DATE","END-DATE"].forEach(function(p){o.attributes.hasOwnProperty(p)&&(o.attributes[p]=new Date(o.attributes[p]))}),["DURATION","PLANNED-DURATION"].forEach(function(p){o.attributes.hasOwnProperty(p)&&(o.attributes[p]=parseFloat(o.attributes[p]))}),["END-ON-NEXT"].forEach(function(p){o.attributes.hasOwnProperty(p)&&(o.attributes[p]=/YES/i.test(o.attributes[p]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(p){o.attributes.hasOwnProperty(p)&&(o.attributes[p]=o.attributes[p].toString(16))});const d=/^X-([A-Z]+-)+[A-Z]+$/;for(const p in o.attributes){if(!d.test(p))continue;const m=/[0-9A-Fa-f]{6}/g.test(o.attributes[p]),k=/^\d+(\.\d+)?$/.test(o.attributes[p]);o.attributes[p]=m?o.attributes[p].toString(16):k?parseFloat(o.attributes[p]):String(o.attributes[p])}this.trigger("data",o);return}if(i=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(u),i){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}this.trigger("data",{type:"tag",data:u.slice(4)})})}addParser({expression:e,customType:i,dataParser:o,segment:a}){typeof o!="function"&&(o=u=>u),this.customParsers.push(u=>{if(e.exec(u))return this.trigger("data",{type:"custom",data:o(u),customType:i,segment:a}),!0})}addTagMapper({expression:e,map:i}){const o=a=>e.test(a)?i(a):a;this.tagMappers.push(o)}}const Yie=n=>n.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Kc=function(n){const e={};return Object.keys(n).forEach(function(i){e[Yie(i)]=n[i]}),e},ny=function(n){const{serverControl:e,targetDuration:i,partTargetDuration:o}=n;if(!e)return;const a="#EXT-X-SERVER-CONTROL",u="holdBack",d="partHoldBack",p=i&&i*3,m=o&&o*2;i&&!e.hasOwnProperty(u)&&(e[u]=p,this.trigger("info",{message:`${a} defaulting HOLD-BACK to targetDuration * 3 (${p}).`})),p&&e[u]<p&&(this.trigger("warn",{message:`${a} clamping HOLD-BACK (${e[u]}) to targetDuration * 3 (${p})`}),e[u]=p),o&&!e.hasOwnProperty(d)&&(e[d]=o*3,this.trigger("info",{message:`${a} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[d]}).`})),o&&e[d]<m&&(this.trigger("warn",{message:`${a} clamping PART-HOLD-BACK (${e[d]}) to partTargetDuration * 2 (${m}).`}),e[d]=m)};class Qie extends v1{constructor(){super(),this.lineStream=new qie,this.parseStream=new Kie,this.lineStream.pipe(this.parseStream);const e=this,i=[];let o={},a,u,d=!1;const p=function(){},m={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},k="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let w=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};let y=0,T=0;const E={};this.on("end",()=>{o.uri||!o.parts&&!o.preloadHints||(!o.map&&a&&(o.map=a),!o.key&&u&&(o.key=u),!o.timeline&&typeof w=="number"&&(o.timeline=w),this.manifest.preloadSegment=o)}),this.parseStream.on("data",function(S){let R,V;({tag(){({version(){S.version&&(this.manifest.version=S.version)},"allow-cache"(){this.manifest.allowCache=S.allowed,"allowed"in S||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const L={};"length"in S&&(o.byterange=L,L.length=S.length,"offset"in S||(S.offset=y)),"offset"in S&&(o.byterange=L,L.offset=S.offset),y=L.offset+L.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),S.duration>0&&(o.duration=S.duration),S.duration===0&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key(){if(!S.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(S.attributes.METHOD==="NONE"){u=null;return}if(!S.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(S.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:S.attributes};return}if(S.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:S.attributes.URI};return}if(S.attributes.KEYFORMAT===k){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(S.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(S.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),S.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(S.attributes.KEYID&&S.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:S.attributes.KEYFORMAT,keyId:S.attributes.KEYID.substring(2)},pssh:$ie(S.attributes.URI.split(",")[1])};return}S.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),u={method:S.attributes.METHOD||"AES-128",uri:S.attributes.URI},typeof S.attributes.IV<"u"&&(u.iv=S.attributes.IV)},"media-sequence"(){if(!isFinite(S.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+S.number});return}this.manifest.mediaSequence=S.number},"discontinuity-sequence"(){if(!isFinite(S.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+S.number});return}this.manifest.discontinuitySequence=S.number,w=S.number},"playlist-type"(){if(!/VOD|EVENT/.test(S.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+S.playlist});return}this.manifest.playlistType=S.playlistType},map(){a={},S.uri&&(a.uri=S.uri),S.byterange&&(a.byterange=S.byterange),u&&(a.key=u)},"stream-inf"(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||m,!S.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}o.attributes||(o.attributes={}),Ia(o.attributes,S.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||m,!(S.attributes&&S.attributes.TYPE&&S.attributes["GROUP-ID"]&&S.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const L=this.manifest.mediaGroups[S.attributes.TYPE];L[S.attributes["GROUP-ID"]]=L[S.attributes["GROUP-ID"]]||{},R=L[S.attributes["GROUP-ID"]],V={default:/yes/i.test(S.attributes.DEFAULT)},V.default?V.autoselect=!0:V.autoselect=/yes/i.test(S.attributes.AUTOSELECT),S.attributes.LANGUAGE&&(V.language=S.attributes.LANGUAGE),S.attributes.URI&&(V.uri=S.attributes.URI),S.attributes["INSTREAM-ID"]&&(V.instreamId=S.attributes["INSTREAM-ID"]),S.attributes.CHARACTERISTICS&&(V.characteristics=S.attributes.CHARACTERISTICS),S.attributes.FORCED&&(V.forced=/yes/i.test(S.attributes.FORCED)),R[S.attributes.NAME]=V},discontinuity(){w+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=S.dateTimeString,this.manifest.dateTimeObject=S.dateTimeObject),o.dateTimeString=S.dateTimeString,o.dateTimeObject=S.dateTimeObject},targetduration(){if(!isFinite(S.duration)||S.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+S.duration});return}this.manifest.targetDuration=S.duration,ny.call(this,this.manifest)},start(){if(!S.attributes||isNaN(S.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:S.attributes["TIME-OFFSET"],precise:S.attributes.PRECISE}},"cue-out"(){o.cueOut=S.data},"cue-out-cont"(){o.cueOutCont=S.data},"cue-in"(){o.cueIn=S.data},skip(){this.manifest.skip=Kc(S.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",S.attributes,["SKIPPED-SEGMENTS"])},part(){d=!0;const L=this.manifest.segments.length,j=Kc(S.attributes);o.parts=o.parts||[],o.parts.push(j),j.byterange&&(j.byterange.hasOwnProperty("offset")||(j.byterange.offset=T),T=j.byterange.offset+j.byterange.length);const Y=o.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${Y} for segment #${L}`,S.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((W,q)=>{W.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${q} lacks required attribute(s): LAST-PART`})})},"server-control"(){const L=this.manifest.serverControl=Kc(S.attributes);L.hasOwnProperty("canBlockReload")||(L.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),ny.call(this,this.manifest),L.canSkipDateranges&&!L.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const L=this.manifest.segments.length,j=Kc(S.attributes),Y=j.type&&j.type==="PART";o.preloadHints=o.preloadHints||[],o.preloadHints.push(j),j.byterange&&(j.byterange.hasOwnProperty("offset")||(j.byterange.offset=Y?T:0,Y&&(T=j.byterange.offset+j.byterange.length)));const W=o.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${W} for segment #${L}`,S.attributes,["TYPE","URI"]),!!j.type)for(let q=0;q<o.preloadHints.length-1;q++){const ue=o.preloadHints[q];ue.type&&ue.type===j.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${W} for segment #${L} has the same TYPE ${j.type} as preload hint #${q}`})}},"rendition-report"(){const L=Kc(S.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(L);const j=this.manifest.renditionReports.length-1,Y=["LAST-MSN","URI"];d&&Y.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${j}`,S.attributes,Y)},"part-inf"(){this.manifest.partInf=Kc(S.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",S.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),ny.call(this,this.manifest)},daterange(){this.manifest.daterange=this.manifest.daterange||[],this.manifest.daterange.push(Kc(S.attributes));const L=this.manifest.daterange.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${L}`,S.attributes,["ID","START-DATE"]);const j=this.manifest.daterange[L];j.endDate&&j.startDate&&new Date(j.endDate)<new Date(j.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),j.duration&&j.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),j.plannedDuration&&j.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const Y=!!j.endOnNext;if(Y&&!j.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),Y&&(j.duration||j.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),j.duration&&j.endDate){const W=j.startDate,q=W.setSeconds(W.getSeconds()+j.duration);this.manifest.daterange[L].endDate=new Date(q)}if(j&&!this.manifest.dateTimeString&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),!E[j.id])E[j.id]=j;else for(const W in E[j.id])if(E[j.id][W]!==j[W]){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes and same attribute values"});break}},"independent-segments"(){this.manifest.independentSegments=!0}}[S.tagType]||p).call(e)},uri(){o.uri=S.uri,i.push(o),this.manifest.targetDuration&&!("duration"in o)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),u&&(o.key=u),o.timeline=w,a&&(o.map=a),T=0,o={}},comment(){},custom(){S.segment?(o.custom=o.custom||{},o.custom[S.customType]=S.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[S.customType]=S.data)}})[S.type].call(e)})}warnOnMissingAttributes_(e,i,o){const a=[];o.forEach(function(u){i.hasOwnProperty(u)||a.push(u)}),a.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${a.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var vu={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Zie=["video","audio","text"],O3=["Video","Audio","Text"],sO=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,o,a){var u=("00"+Number(o).toString(16)).slice(-2),d=("00"+Number(a).toString(16)).slice(-2);return"avc1."+u+"00"+d})},bs=function(e){e===void 0&&(e="");var i=e.split(","),o=[];return i.forEach(function(a){a=a.trim();var u;Zie.forEach(function(d){var p=vu[d].exec(a.toLowerCase());if(!(!p||p.length<=1)){u=d;var m=a.substring(0,p[1].length),k=a.replace(m,"");o.push({type:m,details:k,mediaType:d})}}),u||o.push({type:a,details:"",mediaType:"unknown"})}),o},Xie=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var o=e.mediaGroups.AUDIO[i];if(!o)return null;for(var a in o){var u=o[a];if(u.default&&u.playlists)return bs(u.playlists[0].attributes.CODECS)}return null},aO=function(e){return e===void 0&&(e=""),vu.audio.test(e.trim().toLowerCase())},Jie=function(e){return e===void 0&&(e=""),vu.text.test(e.trim().toLowerCase())},im=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(u){return sO(u.trim())}),o="video";i.length===1&&aO(i[0])?o="audio":i.length===1&&Jie(i[0])&&(o="application");var a="mp4";return i.every(function(u){return vu.mp4.test(u)})?a="mp4":i.every(function(u){return vu.webm.test(u)})?a="webm":i.every(function(u){return vu.ogg.test(u)})&&(a="ogg"),o+"/"+a+';codecs="'+e+'"'}},g0=function(e){return e===void 0&&(e=""),me.MediaSource&&me.MediaSource.isTypeSupported&&me.MediaSource.isTypeSupported(im(e))||!1},iy=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var o=0;o<O3.length;o++){var a=O3[o];if(vu["muxer"+a].test(i))return!0}return!1})},L3="mp4a.40.2",ere="avc1.4d400d",tre=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,nre=/^application\/dash\+xml/i,lO=function(e){return tre.test(e)?"hls":nre.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},ire=function(e){return e.toString(2).length},rre=function(e){return Math.ceil(ire(e)/8)},cO=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},ore=function(e){return cO(e)},vt=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!ore(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Di=me.BigInt||Number,iw=[Di("0x1"),Di("0x100"),Di("0x10000"),Di("0x1000000"),Di("0x100000000"),Di("0x10000000000"),Di("0x1000000000000"),Di("0x100000000000000"),Di("0x10000000000000000")];(function(){var n=new Uint16Array([65484]),e=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var sre=function(e,i){var o=i===void 0?{}:i,a=o.signed,u=a===void 0?!1:a,d=o.le,p=d===void 0?!1:d;e=vt(e);var m=p?"reduce":"reduceRight",k=e[m]?e[m]:Array.prototype[m],w=k.call(e,function(T,E,S){var R=p?S:Math.abs(S+1-e.length);return T+Di(E)*iw[R]},Di(0));if(u){var y=iw[e.length]/Di(2)-Di(1);w=Di(w),w>y&&(w-=y,w-=y,w-=Di(2))}return Number(w)},are=function(e,i){var o=i===void 0?{}:i,a=o.le,u=a===void 0?!1:a;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Di(e);for(var d=rre(e),p=new Uint8Array(new ArrayBuffer(d)),m=0;m<d;m++){var k=u?m:Math.abs(m+1-p.length);p[k]=Number(e/iw[m]&Di(255)),e<0&&(p[k]=Math.abs(~p[k]),p[k]-=m===0?1:2)}return p},uO=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var o=new Uint8Array(e.length),a=0;a<e.length;a++)o[a]=e.charCodeAt(a);return o},lre=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];if(i=i.filter(function(p){return p&&(p.byteLength||p.length)&&typeof p!="string"}),i.length<=1)return vt(i[0]);var a=i.reduce(function(p,m,k){return p+(m.byteLength||m.length)},0),u=new Uint8Array(a),d=0;return i.forEach(function(p){p=vt(p),u.set(p,d),d+=p.byteLength}),u},On=function(e,i,o){var a=o===void 0?{}:o,u=a.offset,d=u===void 0?0:u,p=a.mask,m=p===void 0?[]:p;e=vt(e),i=vt(i);var k=i.every?i.every:Array.prototype.every;return i.length&&e.length-d>=i.length&&k.call(i,function(w,y){var T=m[y]?m[y]&e[d+y]:e[d+y];return w===T})},R3="http://example.com",_1=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=me.location&&me.location.href||"");var o=typeof me.URL=="function",a=/^\/\//.test(e),u=!me.location&&!/\/\//i.test(e);if(o?e=new me.URL(e,me.location||R3):/\/\//i.test(e)||(e=H0.buildAbsoluteURL(me.location&&me.location.href||"",e)),o){var d=new URL(i,e);return u?d.href.slice(R3.length):a?d.href.slice(d.protocol.length):d.href}return H0.buildAbsoluteURL(e,i)},cre=function(e,i,o){i.forEach(function(a){for(var u in e.mediaGroups[a])for(var d in e.mediaGroups[a][u]){var p=e.mediaGroups[a][u][d];o(p,a,u,d)}})},ure=function(e){return me.atob?me.atob(e):Buffer.from(e,"base64").toString("binary")};function dre(n){for(var e=ure(n),i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return i}var $l={},Fa={};function hre(n,e,i){if(i===void 0&&(i=Array.prototype),n&&typeof i.find=="function")return i.find.call(n,e);for(var o=0;o<n.length;o++)if(Object.prototype.hasOwnProperty.call(n,o)){var a=n[o];if(e.call(void 0,a,o,n))return a}}function y1(n,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(n):n}function fre(n,e){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var dO=y1({HTML:"text/html",isHTML:function(n){return n===dO.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),hO=y1({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===hO.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Fa.assign=fre;Fa.find=hre;Fa.freeze=y1;Fa.MIME_TYPE=dO;Fa.NAMESPACE=hO;var fO=Fa,Is=fO.find,rm=fO.NAMESPACE;function pre(n){return n!==""}function mre(n){return n?n.split(/[\t\n\f\r ]+/).filter(pre):[]}function gre(n,e){return n.hasOwnProperty(e)||(n[e]=!0),n}function F3(n){if(!n)return[];var e=mre(n);return Object.keys(e.reduce(gre,{}))}function bre(n){return function(e){return n&&n.indexOf(e)!==-1}}function Sm(n,e){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}function Cr(n,e){var i=n.prototype;if(!(i instanceof e)){let a=function(){};var o=a;a.prototype=e.prototype,a=new a,Sm(i,a),n.prototype=i=a}i.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),i.constructor=n)}var Ar={},$o=Ar.ELEMENT_NODE=1,_h=Ar.ATTRIBUTE_NODE=2,$0=Ar.TEXT_NODE=3,pO=Ar.CDATA_SECTION_NODE=4,mO=Ar.ENTITY_REFERENCE_NODE=5,kre=Ar.ENTITY_NODE=6,gO=Ar.PROCESSING_INSTRUCTION_NODE=7,bO=Ar.COMMENT_NODE=8,kO=Ar.DOCUMENT_NODE=9,vO=Ar.DOCUMENT_TYPE_NODE=10,Pa=Ar.DOCUMENT_FRAGMENT_NODE=11,vre=Ar.NOTATION_NODE=12,Wi={},wi={};Wi.INDEX_SIZE_ERR=(wi[1]="Index size error",1);Wi.DOMSTRING_SIZE_ERR=(wi[2]="DOMString size error",2);var kr=Wi.HIERARCHY_REQUEST_ERR=(wi[3]="Hierarchy request error",3);Wi.WRONG_DOCUMENT_ERR=(wi[4]="Wrong document",4);Wi.INVALID_CHARACTER_ERR=(wi[5]="Invalid character",5);Wi.NO_DATA_ALLOWED_ERR=(wi[6]="No data allowed",6);Wi.NO_MODIFICATION_ALLOWED_ERR=(wi[7]="No modification allowed",7);var _O=Wi.NOT_FOUND_ERR=(wi[8]="Not found",8);Wi.NOT_SUPPORTED_ERR=(wi[9]="Not supported",9);var j3=Wi.INUSE_ATTRIBUTE_ERR=(wi[10]="Attribute in use",10);Wi.INVALID_STATE_ERR=(wi[11]="Invalid state",11);Wi.SYNTAX_ERR=(wi[12]="Syntax error",12);Wi.INVALID_MODIFICATION_ERR=(wi[13]="Invalid modification",13);Wi.NAMESPACE_ERR=(wi[14]="Invalid namespace",14);Wi.INVALID_ACCESS_ERR=(wi[15]="Invalid access",15);function Xn(n,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,wi[n]),this.message=wi[n],Error.captureStackTrace&&Error.captureStackTrace(this,Xn);return i.code=n,e&&(this.message=this.message+": "+e),i}Xn.prototype=Error.prototype;Sm(Wi,Xn);function Ta(){}Ta.prototype={length:0,item:function(n){return n>=0&&n<this.length?this[n]:null},toString:function(n,e){for(var i=[],o=0;o<this.length;o++)qd(this[o],i,n,e);return i.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function yh(n,e){this._node=n,this._refresh=e,w1(this)}function w1(n){var e=n._node._inc||n._node.ownerDocument._inc;if(n._inc!==e){var i=n._refresh(n._node);if(PO(n,"length",i.length),!n.$$length||i.length<n.$$length)for(var o=i.length;o in n;o++)Object.prototype.hasOwnProperty.call(n,o)&&delete n[o];Sm(i,n),n._inc=e}}yh.prototype.item=function(n){return w1(this),this[n]||null};Cr(yh,Ta);function q0(){}function yO(n,e){for(var i=n.length;i--;)if(n[i]===e)return i}function z3(n,e,i,o){if(o?e[yO(e,o)]=i:e[e.length++]=i,n){i.ownerElement=n;var a=n.ownerDocument;a&&(o&&AO(a,n,o),_re(a,n,i))}}function V3(n,e,i){var o=yO(e,i);if(o>=0){for(var a=e.length-1;o<a;)e[o]=e[++o];if(e.length=a,n){var u=n.ownerDocument;u&&(AO(u,n,i),i.ownerElement=null)}}else throw new Xn(_O,new Error(n.tagName+"@"+i))}q0.prototype={length:0,item:Ta.prototype.item,getNamedItem:function(n){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==n)return i}},setNamedItem:function(n){var e=n.ownerElement;if(e&&e!=this._ownerElement)throw new Xn(j3);var i=this.getNamedItem(n.nodeName);return z3(this._ownerElement,this,n,i),i},setNamedItemNS:function(n){var e=n.ownerElement,i;if(e&&e!=this._ownerElement)throw new Xn(j3);return i=this.getNamedItemNS(n.namespaceURI,n.localName),z3(this._ownerElement,this,n,i),i},removeNamedItem:function(n){var e=this.getNamedItem(n);return V3(this._ownerElement,this,e),e},removeNamedItemNS:function(n,e){var i=this.getNamedItemNS(n,e);return V3(this._ownerElement,this,i),i},getNamedItemNS:function(n,e){for(var i=this.length;i--;){var o=this[i];if(o.localName==e&&o.namespaceURI==n)return o}return null}};function wO(){}wO.prototype={hasFeature:function(n,e){return!0},createDocument:function(n,e,i){var o=new Dm;if(o.implementation=this,o.childNodes=new Ta,o.doctype=i||null,i&&o.appendChild(i),e){var a=o.createElementNS(n,e);o.appendChild(a)}return o},createDocumentType:function(n,e,i){var o=new uk;return o.name=n,o.nodeName=n,o.publicId=e||"",o.systemId=i||"",o}};function fn(){}fn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,e){return W0(this,n,e)},replaceChild:function(n,e){W0(this,n,e,xO),e&&this.removeChild(e)},removeChild:function(n){return TO(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return rw(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var e=n.nextSibling;e&&e.nodeType==$0&&n.nodeType==$0?(this.removeChild(e),n.appendData(e.data)):(n.normalize(),n=e)}},isSupported:function(n,e){return this.ownerDocument.implementation.hasFeature(n,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var e=this;e;){var i=e._nsMap;if(i){for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&i[o]===n)return o}e=e.nodeType==_h?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(n){for(var e=this;e;){var i=e._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,n))return i[n];e=e.nodeType==_h?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(n){var e=this.lookupPrefix(n);return e==null}};function CO(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}Sm(Ar,fn);Sm(Ar,fn.prototype);function om(n,e){if(e(n))return!0;if(n=n.firstChild)do if(om(n,e))return!0;while(n=n.nextSibling)}function Dm(){this.ownerDocument=this}function _re(n,e,i){n&&n._inc++;var o=i.namespaceURI;o===rm.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function AO(n,e,i,o){n&&n._inc++;var a=i.namespaceURI;a===rm.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function C1(n,e,i){if(n&&n._inc){n._inc++;var o=e.childNodes;if(i)o[o.length++]=i;else{for(var a=e.firstChild,u=0;a;)o[u++]=a,a=a.nextSibling;o.length=u,delete o[o.length]}}}function TO(n,e){var i=e.previousSibling,o=e.nextSibling;return i?i.nextSibling=o:n.firstChild=o,o?o.previousSibling=i:n.lastChild=i,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,C1(n.ownerDocument,n),e}function yre(n){return n&&(n.nodeType===fn.DOCUMENT_NODE||n.nodeType===fn.DOCUMENT_FRAGMENT_NODE||n.nodeType===fn.ELEMENT_NODE)}function wre(n){return n&&(Ms(n)||A1(n)||Na(n)||n.nodeType===fn.DOCUMENT_FRAGMENT_NODE||n.nodeType===fn.COMMENT_NODE||n.nodeType===fn.PROCESSING_INSTRUCTION_NODE)}function Na(n){return n&&n.nodeType===fn.DOCUMENT_TYPE_NODE}function Ms(n){return n&&n.nodeType===fn.ELEMENT_NODE}function A1(n){return n&&n.nodeType===fn.TEXT_NODE}function U3(n,e){var i=n.childNodes||[];if(Is(i,Ms)||Na(e))return!1;var o=Is(i,Na);return!(e&&o&&i.indexOf(o)>i.indexOf(e))}function H3(n,e){var i=n.childNodes||[];function o(u){return Ms(u)&&u!==e}if(Is(i,o))return!1;var a=Is(i,Na);return!(e&&a&&i.indexOf(a)>i.indexOf(e))}function Cre(n,e,i){if(!yre(n))throw new Xn(kr,"Unexpected parent node type "+n.nodeType);if(i&&i.parentNode!==n)throw new Xn(_O,"child not in parent");if(!wre(e)||Na(e)&&n.nodeType!==fn.DOCUMENT_NODE)throw new Xn(kr,"Unexpected node type "+e.nodeType+" for parent node type "+n.nodeType)}function Are(n,e,i){var o=n.childNodes||[],a=e.childNodes||[];if(e.nodeType===fn.DOCUMENT_FRAGMENT_NODE){var u=a.filter(Ms);if(u.length>1||Is(a,A1))throw new Xn(kr,"More than one element or text in fragment");if(u.length===1&&!U3(n,i))throw new Xn(kr,"Element in fragment can not be inserted before doctype")}if(Ms(e)&&!U3(n,i))throw new Xn(kr,"Only one element can be added and only after doctype");if(Na(e)){if(Is(o,Na))throw new Xn(kr,"Only one doctype is allowed");var d=Is(o,Ms);if(i&&o.indexOf(d)<o.indexOf(i))throw new Xn(kr,"Doctype can only be inserted before an element");if(!i&&d)throw new Xn(kr,"Doctype can not be appended since element is present")}}function xO(n,e,i){var o=n.childNodes||[],a=e.childNodes||[];if(e.nodeType===fn.DOCUMENT_FRAGMENT_NODE){var u=a.filter(Ms);if(u.length>1||Is(a,A1))throw new Xn(kr,"More than one element or text in fragment");if(u.length===1&&!H3(n,i))throw new Xn(kr,"Element in fragment can not be inserted before doctype")}if(Ms(e)&&!H3(n,i))throw new Xn(kr,"Only one element can be added and only after doctype");if(Na(e)){let m=function(k){return Na(k)&&k!==i};var p=m;if(Is(o,m))throw new Xn(kr,"Only one doctype is allowed");var d=Is(o,Ms);if(i&&o.indexOf(d)<o.indexOf(i))throw new Xn(kr,"Doctype can only be inserted before an element")}}function W0(n,e,i,o){Cre(n,e,i),n.nodeType===fn.DOCUMENT_NODE&&(o||Are)(n,e,i);var a=e.parentNode;if(a&&a.removeChild(e),e.nodeType===Pa){var u=e.firstChild;if(u==null)return e;var d=e.lastChild}else u=d=e;var p=i?i.previousSibling:n.lastChild;u.previousSibling=p,d.nextSibling=i,p?p.nextSibling=u:n.firstChild=u,i==null?n.lastChild=d:i.previousSibling=d;do u.parentNode=n;while(u!==d&&(u=u.nextSibling));return C1(n.ownerDocument||n,n),e.nodeType==Pa&&(e.firstChild=e.lastChild=null),e}function Tre(n,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=n,e.previousSibling=n.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,n.lastChild=e,C1(n.ownerDocument,n,e),e}Dm.prototype={nodeName:"#document",nodeType:kO,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,e){if(n.nodeType==Pa){for(var i=n.firstChild;i;){var o=i.nextSibling;this.insertBefore(i,e),i=o}return n}return W0(this,n,e),n.ownerDocument=this,this.documentElement===null&&n.nodeType===$o&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),TO(this,n)},replaceChild:function(n,e){W0(this,n,e,xO),n.ownerDocument=this,e&&this.removeChild(e),Ms(n)&&(this.documentElement=n)},importNode:function(n,e){return MO(this,n,e)},getElementById:function(n){var e=null;return om(this.documentElement,function(i){if(i.nodeType==$o&&i.getAttribute("id")==n)return e=i,!0}),e},getElementsByClassName:function(n){var e=F3(n);return new yh(this,function(i){var o=[];return e.length>0&&om(i.documentElement,function(a){if(a!==i&&a.nodeType===$o){var u=a.getAttribute("class");if(u){var d=n===u;if(!d){var p=F3(u);d=e.every(bre(p))}d&&o.push(a)}}}),o})},createElement:function(n){var e=new Nu;e.ownerDocument=this,e.nodeName=n,e.tagName=n,e.localName=n,e.childNodes=new Ta;var i=e.attributes=new q0;return i._ownerElement=e,e},createDocumentFragment:function(){var n=new dk;return n.ownerDocument=this,n.childNodes=new Ta,n},createTextNode:function(n){var e=new T1;return e.ownerDocument=this,e.appendData(n),e},createComment:function(n){var e=new x1;return e.ownerDocument=this,e.appendData(n),e},createCDATASection:function(n){var e=new E1;return e.ownerDocument=this,e.appendData(n),e},createProcessingInstruction:function(n,e){var i=new D1;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=n,i.nodeValue=i.data=e,i},createAttribute:function(n){var e=new G0;return e.ownerDocument=this,e.name=n,e.nodeName=n,e.localName=n,e.specified=!0,e},createEntityReference:function(n){var e=new S1;return e.ownerDocument=this,e.nodeName=n,e},createElementNS:function(n,e){var i=new Nu,o=e.split(":"),a=i.attributes=new q0;return i.childNodes=new Ta,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=n,o.length==2?(i.prefix=o[0],i.localName=o[1]):i.localName=e,a._ownerElement=i,i},createAttributeNS:function(n,e){var i=new G0,o=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=n,i.specified=!0,o.length==2?(i.prefix=o[0],i.localName=o[1]):i.localName=e,i}};Cr(Dm,fn);function Nu(){this._nsMap={}}Nu.prototype={nodeType:$o,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var e=this.getAttributeNode(n);return e&&e.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,e){var i=this.ownerDocument.createAttribute(n);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(n){var e=this.getAttributeNode(n);e&&this.removeAttributeNode(e)},appendChild:function(n){return n.nodeType===Pa?this.insertBefore(n,null):Tre(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,e){var i=this.getAttributeNodeNS(n,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(n,e){return this.getAttributeNodeNS(n,e)!=null},getAttributeNS:function(n,e){var i=this.getAttributeNodeNS(n,e);return i&&i.value||""},setAttributeNS:function(n,e,i){var o=this.ownerDocument.createAttributeNS(n,e);o.value=o.nodeValue=""+i,this.setAttributeNode(o)},getAttributeNodeNS:function(n,e){return this.attributes.getNamedItemNS(n,e)},getElementsByTagName:function(n){return new yh(this,function(e){var i=[];return om(e,function(o){o!==e&&o.nodeType==$o&&(n==="*"||o.tagName==n)&&i.push(o)}),i})},getElementsByTagNameNS:function(n,e){return new yh(this,function(i){var o=[];return om(i,function(a){a!==i&&a.nodeType===$o&&(n==="*"||a.namespaceURI===n)&&(e==="*"||a.localName==e)&&o.push(a)}),o})}};Dm.prototype.getElementsByTagName=Nu.prototype.getElementsByTagName;Dm.prototype.getElementsByTagNameNS=Nu.prototype.getElementsByTagNameNS;Cr(Nu,fn);function G0(){}G0.prototype.nodeType=_h;Cr(G0,fn);function Im(){}Im.prototype={data:"",substringData:function(n,e){return this.data.substring(n,n+e)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,e){this.replaceData(n,0,e)},appendChild:function(n){throw new Error(wi[kr])},deleteData:function(n,e){this.replaceData(n,e,"")},replaceData:function(n,e,i){var o=this.data.substring(0,n),a=this.data.substring(n+e);i=o+i+a,this.nodeValue=this.data=i,this.length=i.length}};Cr(Im,fn);function T1(){}T1.prototype={nodeName:"#text",nodeType:$0,splitText:function(n){var e=this.data,i=e.substring(n);e=e.substring(0,n),this.data=this.nodeValue=e,this.length=e.length;var o=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling),o}};Cr(T1,Im);function x1(){}x1.prototype={nodeName:"#comment",nodeType:bO};Cr(x1,Im);function E1(){}E1.prototype={nodeName:"#cdata-section",nodeType:pO};Cr(E1,Im);function uk(){}uk.prototype.nodeType=vO;Cr(uk,fn);function EO(){}EO.prototype.nodeType=vre;Cr(EO,fn);function SO(){}SO.prototype.nodeType=kre;Cr(SO,fn);function S1(){}S1.prototype.nodeType=mO;Cr(S1,fn);function dk(){}dk.prototype.nodeName="#document-fragment";dk.prototype.nodeType=Pa;Cr(dk,fn);function D1(){}D1.prototype.nodeType=gO;Cr(D1,fn);function DO(){}DO.prototype.serializeToString=function(n,e,i){return IO.call(n,e,i)};fn.prototype.toString=IO;function IO(n,e){var i=[],o=this.nodeType==9&&this.documentElement||this,a=o.prefix,u=o.namespaceURI;if(u&&a==null){var a=o.lookupPrefix(u);if(a==null)var d=[{namespace:u,prefix:null}]}return qd(this,i,n,e,d),i.join("")}function $3(n,e,i){var o=n.prefix||"",a=n.namespaceURI;if(!a||o==="xml"&&a===rm.XML||a===rm.XMLNS)return!1;for(var u=i.length;u--;){var d=i[u];if(d.prefix===o)return d.namespace!==a}return!0}function ry(n,e,i){n.push(" ",e,'="',i.replace(/[<>&"\t\n\r]/g,CO),'"')}function qd(n,e,i,o,a){if(a||(a=[]),o)if(n=o(n),n){if(typeof n=="string"){e.push(n);return}}else return;switch(n.nodeType){case $o:var u=n.attributes,d=u.length,L=n.firstChild,p=n.tagName;i=rm.isHTML(n.namespaceURI)||i;var m=p;if(!i&&!n.prefix&&n.namespaceURI){for(var k,w=0;w<u.length;w++)if(u.item(w).name==="xmlns"){k=u.item(w).value;break}if(!k)for(var y=a.length-1;y>=0;y--){var T=a[y];if(T.prefix===""&&T.namespace===n.namespaceURI){k=T.namespace;break}}if(k!==n.namespaceURI)for(var y=a.length-1;y>=0;y--){var T=a[y];if(T.namespace===n.namespaceURI){T.prefix&&(m=T.prefix+":"+p);break}}}e.push("<",m);for(var E=0;E<d;E++){var S=u.item(E);S.prefix=="xmlns"?a.push({prefix:S.localName,namespace:S.value}):S.nodeName=="xmlns"&&a.push({prefix:"",namespace:S.value})}for(var E=0;E<d;E++){var S=u.item(E);if($3(S,i,a)){var R=S.prefix||"",V=S.namespaceURI;ry(e,R?"xmlns:"+R:"xmlns",V),a.push({prefix:R,namespace:V})}qd(S,e,i,o,a)}if(p===m&&$3(n,i,a)){var R=n.prefix||"",V=n.namespaceURI;ry(e,R?"xmlns:"+R:"xmlns",V),a.push({prefix:R,namespace:V})}if(L||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(p)){if(e.push(">"),i&&/^script$/i.test(p))for(;L;)L.data?e.push(L.data):qd(L,e,i,o,a.slice()),L=L.nextSibling;else for(;L;)qd(L,e,i,o,a.slice()),L=L.nextSibling;e.push("</",m,">")}else e.push("/>");return;case kO:case Pa:for(var L=n.firstChild;L;)qd(L,e,i,o,a.slice()),L=L.nextSibling;return;case _h:return ry(e,n.name,n.value);case $0:return e.push(n.data.replace(/[<&>]/g,CO));case pO:return e.push("<![CDATA[",n.data,"]]>");case bO:return e.push("<!--",n.data,"-->");case vO:var j=n.publicId,Y=n.systemId;if(e.push("<!DOCTYPE ",n.name),j)e.push(" PUBLIC ",j),Y&&Y!="."&&e.push(" ",Y),e.push(">");else if(Y&&Y!=".")e.push(" SYSTEM ",Y,">");else{var W=n.internalSubset;W&&e.push(" [",W,"]"),e.push(">")}return;case gO:return e.push("<?",n.target," ",n.data,"?>");case mO:return e.push("&",n.nodeName,";");default:e.push("??",n.nodeName)}}function MO(n,e,i){var o;switch(e.nodeType){case $o:o=e.cloneNode(!1),o.ownerDocument=n;case Pa:break;case _h:i=!0;break}if(o||(o=e.cloneNode(!1)),o.ownerDocument=n,o.parentNode=null,i)for(var a=e.firstChild;a;)o.appendChild(MO(n,a,i)),a=a.nextSibling;return o}function rw(n,e,i){var o=new e.constructor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=e[a];typeof u!="object"&&u!=o[a]&&(o[a]=u)}switch(e.childNodes&&(o.childNodes=new Ta),o.ownerDocument=n,o.nodeType){case $o:var d=e.attributes,p=o.attributes=new q0,m=d.length;p._ownerElement=o;for(var k=0;k<m;k++)o.setAttributeNode(rw(n,d.item(k),!0));break;case _h:i=!0}if(i)for(var w=e.firstChild;w;)o.appendChild(rw(n,w,i)),w=w.nextSibling;return o}function PO(n,e,i){n[e]=i}try{if(Object.defineProperty){let n=function(e){switch(e.nodeType){case $o:case Pa:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(n(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};var sue=n;Object.defineProperty(yh.prototype,"length",{get:function(){return w1(this),this.$$length}}),Object.defineProperty(fn.prototype,"textContent",{get:function(){return n(this)},set:function(e){switch(this.nodeType){case $o:case Pa:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),PO=function(e,i,o){e["$$"+i]=o}}}catch{}$l.DocumentType=uk;$l.DOMException=Xn;$l.DOMImplementation=wO;$l.Element=Nu;$l.Node=fn;$l.NodeList=Ta;$l.XMLSerializer=DO;var hk={},NO={};(function(n){var e=Fa.freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),n.entityMap=n.HTML_ENTITIES})(NO);var I1={},sm=Fa.NAMESPACE,ow=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q3=new RegExp("[\\-\\.0-9"+ow.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),W3=new RegExp("^"+ow.source+q3.source+"*(?::"+ow.source+q3.source+"*)?$"),ep=0,yl=1,Od=2,tp=3,Ld=4,Rd=5,np=6,Zg=7;function wh(n,e){this.message=n,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,wh)}wh.prototype=new Error;wh.prototype.name=wh.name;function BO(){}BO.prototype={parse:function(n,e,i){var o=this.domBuilder;o.startDocument(),OO(e,e={}),xre(n,e,i,o,this.errorHandler),o.endDocument()}};function xre(n,e,i,o,a){function u(ve){if(ve>65535){ve-=65536;var oe=55296+(ve>>10),ne=56320+(ve&1023);return String.fromCharCode(oe,ne)}else return String.fromCharCode(ve)}function d(ve){var oe=ve.slice(1,-1);return Object.hasOwnProperty.call(i,oe)?i[oe]:oe.charAt(0)==="#"?u(parseInt(oe.substr(1).replace("x","0x"))):(a.error("entity not found:"+ve),ve)}function p(ve){if(ve>R){var oe=n.substring(R,ve).replace(/&#?\w+;/g,d);T&&m(R),o.characters(oe,0,ve-R),R=ve}}function m(ve,oe){for(;ve>=w&&(oe=y.exec(n));)k=oe.index,w=k+oe[0].length,T.lineNumber++;T.columnNumber=ve-k+1}for(var k=0,w=0,y=/.*(?:\r\n?|\n)|.*$/g,T=o.locator,E=[{currentNSMap:e}],S={},R=0;;){try{var V=n.indexOf("<",R);if(V<0){if(!n.substr(R).match(/^\s*$/)){var L=o.doc,j=L.createTextNode(n.substr(R));L.appendChild(j),o.currentElement=j}return}switch(V>R&&p(V),n.charAt(V+1)){case"/":var ee=n.indexOf(">",V+3),Y=n.substring(V+2,ee).replace(/[ \t\n\r]+$/g,""),W=E.pop();ee<0?(Y=n.substring(V+2).replace(/[\s<].*/,""),a.error("end tag name: "+Y+" is not complete:"+W.tagName),ee=V+1+Y.length):Y.match(/\s</)&&(Y=Y.replace(/[\s<].*/,""),a.error("end tag name: "+Y+" maybe not complete"),ee=V+1+Y.length);var q=W.localNSMap,ue=W.tagName==Y,te=ue||W.tagName&&W.tagName.toLowerCase()==Y.toLowerCase();if(te){if(o.endElement(W.uri,W.localName,Y),q)for(var F in q)Object.prototype.hasOwnProperty.call(q,F)&&o.endPrefixMapping(F);ue||a.fatalError("end tag name: "+Y+" is not match the current start tagName:"+W.tagName)}else E.push(W);ee++;break;case"?":T&&m(V),ee=Mre(n,V,o);break;case"!":T&&m(V),ee=Ire(n,V,o,a);break;default:T&&m(V);var Q=new LO,de=E[E.length-1].currentNSMap,ee=Ere(n,V,Q,de,d,a),K=Q.length;if(!Q.closed&&Dre(n,ee,Q.tagName,S)&&(Q.closed=!0,i.nbsp||a.warning("unclosed xml attribute")),T&&K){for(var J=G3(T,{}),be=0;be<K;be++){var ke=Q[be];m(ke.offset),ke.locator=G3(T,{})}o.locator=J,K3(Q,o,de)&&E.push(Q),o.locator=T}else K3(Q,o,de)&&E.push(Q);sm.isHTML(Q.uri)&&!Q.closed?ee=Sre(n,ee,Q.tagName,d,o):ee++}}catch(ve){if(ve instanceof wh)throw ve;a.error("element parse error: "+ve),ee=-1}ee>R?R=ee:p(Math.max(V,R)+1)}}function G3(n,e){return e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber,e}function Ere(n,e,i,o,a,u){function d(T,E,S){i.attributeNames.hasOwnProperty(T)&&u.fatalError("Attribute "+T+" redefined"),i.addValue(T,E.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,a),S)}for(var p,m,k=++e,w=ep;;){var y=n.charAt(k);switch(y){case"=":if(w===yl)p=n.slice(e,k),w=tp;else if(w===Od)w=tp;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(w===tp||w===yl)if(w===yl&&(u.warning('attribute value must after "="'),p=n.slice(e,k)),e=k+1,k=n.indexOf(y,e),k>0)m=n.slice(e,k),d(p,m,e-1),w=Rd;else throw new Error("attribute value no end '"+y+"' match");else if(w==Ld)m=n.slice(e,k),d(p,m,e),u.warning('attribute "'+p+'" missed start quot('+y+")!!"),e=k+1,w=Rd;else throw new Error('attribute value must after "="');break;case"/":switch(w){case ep:i.setTagName(n.slice(e,k));case Rd:case np:case Zg:w=Zg,i.closed=!0;case Ld:case yl:break;case Od:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return u.error("unexpected end of input"),w==ep&&i.setTagName(n.slice(e,k)),k;case">":switch(w){case ep:i.setTagName(n.slice(e,k));case Rd:case np:case Zg:break;case Ld:case yl:m=n.slice(e,k),m.slice(-1)==="/"&&(i.closed=!0,m=m.slice(0,-1));case Od:w===Od&&(m=p),w==Ld?(u.warning('attribute "'+m+'" missed quot(")!'),d(p,m,e)):((!sm.isHTML(o[""])||!m.match(/^(?:disabled|checked|selected)$/i))&&u.warning('attribute "'+m+'" missed value!! "'+m+'" instead!!'),d(m,m,e));break;case tp:throw new Error("attribute value missed!!")}return k;case"":y=" ";default:if(y<=" ")switch(w){case ep:i.setTagName(n.slice(e,k)),w=np;break;case yl:p=n.slice(e,k),w=Od;break;case Ld:var m=n.slice(e,k);u.warning('attribute "'+m+'" missed quot(")!!'),d(p,m,e);case Rd:w=np;break}else switch(w){case Od:i.tagName,(!sm.isHTML(o[""])||!p.match(/^(?:disabled|checked|selected)$/i))&&u.warning('attribute "'+p+'" missed value!! "'+p+'" instead2!!'),d(p,p,e),e=k,w=yl;break;case Rd:u.warning('attribute space is required"'+p+'"!!');case np:w=yl,e=k;break;case tp:w=Ld,e=k;break;case Zg:throw new Error("elements closed character '/' and '>' must be connected to")}}k++}}function K3(n,e,i){for(var o=n.tagName,a=null,y=n.length;y--;){var u=n[y],d=u.qName,p=u.value,T=d.indexOf(":");if(T>0)var m=u.prefix=d.slice(0,T),k=d.slice(T+1),w=m==="xmlns"&&k;else k=d,m=null,w=d==="xmlns"&&"";u.localName=k,w!==!1&&(a==null&&(a={},OO(i,i={})),i[w]=a[w]=p,u.uri=sm.XMLNS,e.startPrefixMapping(w,p))}for(var y=n.length;y--;){u=n[y];var m=u.prefix;m&&(m==="xml"&&(u.uri=sm.XML),m!=="xmlns"&&(u.uri=i[m||""]))}var T=o.indexOf(":");T>0?(m=n.prefix=o.slice(0,T),k=n.localName=o.slice(T+1)):(m=null,k=n.localName=o);var E=n.uri=i[m||""];if(e.startElement(E,k,o,n),n.closed){if(e.endElement(E,k,o),a)for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&e.endPrefixMapping(m)}else return n.currentNSMap=i,n.localNSMap=a,!0}function Sre(n,e,i,o,a){if(/^(?:script|textarea)$/i.test(i)){var u=n.indexOf("</"+i+">",e),d=n.substring(e+1,u);if(/[&<]/.test(d))return/^script$/i.test(i)?(a.characters(d,0,d.length),u):(d=d.replace(/&#?\w+;/g,o),a.characters(d,0,d.length),u)}return e+1}function Dre(n,e,i,o){var a=o[i];return a==null&&(a=n.lastIndexOf("</"+i+">"),a<e&&(a=n.lastIndexOf("</"+i)),o[i]=a),a<e}function OO(n,e){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}function Ire(n,e,i,o){var a=n.charAt(e+2);switch(a){case"-":if(n.charAt(e+3)==="-"){var u=n.indexOf("-->",e+4);return u>e?(i.comment(n,e+4,u-e-4),u+3):(o.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(e+3,6)=="CDATA["){var u=n.indexOf("]]>",e+9);return i.startCDATA(),i.characters(n,e+9,u-e-9),i.endCDATA(),u+3}var d=Pre(n,e),p=d.length;if(p>1&&/!doctype/i.test(d[0][0])){var m=d[1][0],k=!1,w=!1;p>3&&(/^public$/i.test(d[2][0])?(k=d[3][0],w=p>4&&d[4][0]):/^system$/i.test(d[2][0])&&(w=d[3][0]));var y=d[p-1];return i.startDTD(m,k,w),i.endDTD(),y.index+y[0].length}}return-1}function Mre(n,e,i){var o=n.indexOf("?>",e);if(o){var a=n.substring(e,o).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return a?(a[0].length,i.processingInstruction(a[1],a[2]),o+2):-1}return-1}function LO(){this.attributeNames={}}LO.prototype={setTagName:function(n){if(!W3.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,e,i){if(!W3.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:e,offset:i}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function Pre(n,e){var i,o=[],a=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(a.lastIndex=e,a.exec(n);i=a.exec(n);)if(o.push(i),i[1])return o}I1.XMLReader=BO;I1.ParseError=wh;var Nre=Fa,Bre=$l,Y3=NO,RO=I1,Ore=Bre.DOMImplementation,Q3=Nre.NAMESPACE,Lre=RO.ParseError,Rre=RO.XMLReader;function FO(n){return n.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function jO(n){this.options=n||{locator:{}}}jO.prototype.parseFromString=function(n,e){var i=this.options,o=new Rre,a=i.domBuilder||new Mm,u=i.errorHandler,d=i.locator,p=i.xmlns||{},m=/\/x?html?$/.test(e),k=m?Y3.HTML_ENTITIES:Y3.XML_ENTITIES;d&&a.setDocumentLocator(d),o.errorHandler=Fre(u,a,d),o.domBuilder=i.domBuilder||a,m&&(p[""]=Q3.HTML),p.xml=p.xml||Q3.XML;var w=i.normalizeLineEndings||FO;return n&&typeof n=="string"?o.parse(w(n),p,k):o.errorHandler.error("invalid doc source"),a.doc};function Fre(n,e,i){if(!n){if(e instanceof Mm)return e;n=e}var o={},a=n instanceof Function;i=i||{};function u(d){var p=n[d];!p&&a&&(p=n.length==2?function(m){n(d,m)}:n),o[d]=p&&function(m){p("[xmldom "+d+"]	"+m+sw(i))}||function(){}}return u("warning"),u("error"),u("fatalError"),o}function Mm(){this.cdata=!1}function Fd(n,e){e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber}Mm.prototype={startDocument:function(){this.doc=new Ore().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,e,i,o){var a=this.doc,u=a.createElementNS(n,i||e),d=o.length;Xg(this,u),this.currentElement=u,this.locator&&Fd(this.locator,u);for(var p=0;p<d;p++){var n=o.getURI(p),m=o.getValue(p),i=o.getQName(p),k=a.createAttributeNS(n,i);this.locator&&Fd(o.getLocator(p),k),k.value=k.nodeValue=m,u.setAttributeNode(k)}},endElement:function(n,e,i){var o=this.currentElement;o.tagName,this.currentElement=o.parentNode},startPrefixMapping:function(n,e){},endPrefixMapping:function(n){},processingInstruction:function(n,e){var i=this.doc.createProcessingInstruction(n,e);this.locator&&Fd(this.locator,i),Xg(this,i)},ignorableWhitespace:function(n,e,i){},characters:function(n,e,i){if(n=Z3.apply(this,arguments),n){if(this.cdata)var o=this.doc.createCDATASection(n);else var o=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(o):/^\s*$/.test(n)&&this.doc.appendChild(o),this.locator&&Fd(this.locator,o)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,e,i){n=Z3.apply(this,arguments);var o=this.doc.createComment(n);this.locator&&Fd(this.locator,o),Xg(this,o)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,e,i){var o=this.doc.implementation;if(o&&o.createDocumentType){var a=o.createDocumentType(n,e,i);this.locator&&Fd(this.locator,a),Xg(this,a),this.doc.doctype=a}},warning:function(n){console.warn("[xmldom warning]	"+n,sw(this.locator))},error:function(n){console.error("[xmldom error]	"+n,sw(this.locator))},fatalError:function(n){throw new Lre(n,this.locator)}};function sw(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function Z3(n,e,i){return typeof n=="string"?n.substr(e,i):n.length>=e+i||e?new java.lang.String(n,e,i)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){Mm.prototype[n]=function(){return null}});function Xg(n,e){n.currentElement?n.currentElement.appendChild(e):n.doc.appendChild(e)}hk.__DOMHandler=Mm;hk.normalizeLineEndings=FO;hk.DOMParser=jO;var jre=hk.DOMParser;/*! @name mpd-parser @version 1.2.2 @license Apache-2.0 */const X3=n=>!!n&&typeof n=="object",_i=(...n)=>n.reduce((e,i)=>(typeof i!="object"||Object.keys(i).forEach(o=>{Array.isArray(e[o])&&Array.isArray(i[o])?e[o]=e[o].concat(i[o]):X3(e[o])&&X3(i[o])?e[o]=_i(e[o],i[o]):e[o]=i[o]}),e),{}),zO=n=>Object.keys(n).map(e=>n[e]),zre=(n,e)=>{const i=[];for(let o=n;o<e;o++)i.push(o);return i},Ch=n=>n.reduce((e,i)=>e.concat(i),[]),VO=n=>{if(!n.length)return[];const e=[];for(let i=0;i<n.length;i++)e.push(n[i]);return e},Vre=(n,e)=>n.reduce((i,o,a)=>(o[e]&&i.push(a),i),[]),Ure=(n,e)=>zO(n.reduce((i,o)=>(o.forEach(a=>{i[e(a)]=a}),i),{}));var Ah={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const am=({baseUrl:n="",source:e="",range:i="",indexRange:o=""})=>{const a={uri:e,resolvedUri:_1(n||"",e)};if(i||o){const d=(i||o).split("-");let p=me.BigInt?me.BigInt(d[0]):parseInt(d[0],10),m=me.BigInt?me.BigInt(d[1]):parseInt(d[1],10);p<Number.MAX_SAFE_INTEGER&&typeof p=="bigint"&&(p=Number(p)),m<Number.MAX_SAFE_INTEGER&&typeof m=="bigint"&&(m=Number(m));let k;typeof m=="bigint"||typeof p=="bigint"?k=me.BigInt(m)-me.BigInt(p)+me.BigInt(1):k=m-p+1,typeof k=="bigint"&&k<Number.MAX_SAFE_INTEGER&&(k=Number(k)),a.byterange={length:k,offset:p}}return a},Hre=n=>{let e;return typeof n.offset=="bigint"||typeof n.length=="bigint"?e=me.BigInt(n.offset)+me.BigInt(n.length)-me.BigInt(1):e=n.offset+n.length-1,`${n.offset}-${e}`},J3=n=>(n&&typeof n!="number"&&(n=parseInt(n,10)),isNaN(n)?null:n),$re={static(n){const{duration:e,timescale:i=1,sourceDuration:o,periodDuration:a}=n,u=J3(n.endNumber),d=e/i;return typeof u=="number"?{start:0,end:u}:typeof a=="number"?{start:0,end:a/d}:{start:0,end:o/d}},dynamic(n){const{NOW:e,clientOffset:i,availabilityStartTime:o,timescale:a=1,duration:u,periodStart:d=0,minimumUpdatePeriod:p=0,timeShiftBufferDepth:m=1/0}=n,k=J3(n.endNumber),w=(e+i)/1e3,y=o+d,E=w+p-y,S=Math.ceil(E*a/u),R=Math.floor((w-y-m)*a/u),V=Math.floor((w-y)*a/u);return{start:Math.max(0,R),end:typeof k=="number"?k:Math.min(S,V)}}},qre=n=>e=>{const{duration:i,timescale:o=1,periodStart:a,startNumber:u=1}=n;return{number:u+e,duration:i/o,timeline:a,time:e*i}},M1=n=>{const{type:e,duration:i,timescale:o=1,periodDuration:a,sourceDuration:u}=n,{start:d,end:p}=$re[e](n),m=zre(d,p).map(qre(n));if(e==="static"){const k=m.length-1,w=typeof a=="number"?a:u;m[k].duration=w-i/o*k}return m},UO=n=>{const{baseUrl:e,initialization:i={},sourceDuration:o,indexRange:a="",periodStart:u,presentationTime:d,number:p=0,duration:m}=n;if(!e)throw new Error(Ah.NO_BASE_URL);const k=am({baseUrl:e,source:i.sourceURL,range:i.range}),w=am({baseUrl:e,source:e,indexRange:a});if(w.map=k,m){const y=M1(n);y.length&&(w.duration=y[0].duration,w.timeline=y[0].timeline)}else o&&(w.duration=o,w.timeline=u);return w.presentationTime=d||u,w.number=p,[w]},P1=(n,e,i)=>{const o=n.sidx.map?n.sidx.map:null,a=n.sidx.duration,u=n.timeline||0,d=n.sidx.byterange,p=d.offset+d.length,m=e.timescale,k=e.references.filter(V=>V.referenceType!==1),w=[],y=n.endList?"static":"dynamic",T=n.sidx.timeline;let E=T,S=n.mediaSequence||0,R;typeof e.firstOffset=="bigint"?R=me.BigInt(p)+e.firstOffset:R=p+e.firstOffset;for(let V=0;V<k.length;V++){const L=e.references[V],j=L.referencedSize,Y=L.subsegmentDuration;let W;typeof R=="bigint"?W=R+me.BigInt(j)-me.BigInt(1):W=R+j-1;const q=`${R}-${W}`,te=UO({baseUrl:i,timescale:m,timeline:u,periodStart:T,presentationTime:E,number:S,duration:Y,sourceDuration:a,indexRange:q,type:y})[0];o&&(te.map=o),w.push(te),typeof R=="bigint"?R+=me.BigInt(j):R+=j,E+=Y/m,S++}return n.segments=w,n},Wre=["AUDIO","SUBTITLES"],Gre=1/60,HO=n=>Ure(n,({timeline:e})=>e).sort((e,i)=>e.timeline>i.timeline?1:-1),Kre=(n,e)=>{for(let i=0;i<n.length;i++)if(n[i].attributes.NAME===e)return n[i];return null},eM=n=>{let e=[];return cre(n,Wre,(i,o,a,u)=>{e=e.concat(i.playlists||[])}),e},tM=({playlist:n,mediaSequence:e})=>{n.mediaSequence=e,n.segments.forEach((i,o)=>{i.number=n.mediaSequence+o})},Yre=({oldPlaylists:n,newPlaylists:e,timelineStarts:i})=>{e.forEach(o=>{o.discontinuitySequence=i.findIndex(function({timeline:m}){return m===o.timeline});const a=Kre(n,o.attributes.NAME);if(!a||o.sidx)return;const u=o.segments[0],d=a.segments.findIndex(function(m){return Math.abs(m.presentationTime-u.presentationTime)<Gre});if(d===-1){tM({playlist:o,mediaSequence:a.mediaSequence+a.segments.length}),o.segments[0].discontinuity=!0,o.discontinuityStarts.unshift(0),(!a.segments.length&&o.timeline>a.timeline||a.segments.length&&o.timeline>a.segments[a.segments.length-1].timeline)&&o.discontinuitySequence--;return}a.segments[d].discontinuity&&!u.discontinuity&&(u.discontinuity=!0,o.discontinuityStarts.unshift(0),o.discontinuitySequence--),tM({playlist:o,mediaSequence:a.segments[d].number})})},Qre=({oldManifest:n,newManifest:e})=>{const i=n.playlists.concat(eM(n)),o=e.playlists.concat(eM(e));return e.timelineStarts=HO([n.timelineStarts,e.timelineStarts]),Yre({oldPlaylists:i,newPlaylists:o,timelineStarts:e.timelineStarts}),e},fk=n=>n&&n.uri+"-"+Hre(n.byterange),oy=n=>{const e=n.reduce(function(o,a){return o[a.attributes.baseUrl]||(o[a.attributes.baseUrl]=[]),o[a.attributes.baseUrl].push(a),o},{});let i=[];return Object.values(e).forEach(o=>{const a=zO(o.reduce((u,d)=>{const p=d.attributes.id+(d.attributes.lang||"");return u[p]?(d.segments&&(d.segments[0]&&(d.segments[0].discontinuity=!0),u[p].segments.push(...d.segments)),d.attributes.contentProtection&&(u[p].attributes.contentProtection=d.attributes.contentProtection)):(u[p]=d,u[p].attributes.timelineStarts=[]),u[p].attributes.timelineStarts.push({start:d.attributes.periodStart,timeline:d.attributes.periodStart}),u},{}));i=i.concat(a)}),i.map(o=>(o.discontinuityStarts=Vre(o.segments||[],"discontinuity"),o))},N1=(n,e)=>{const i=fk(n.sidx),o=i&&e[i]&&e[i].sidx;return o&&P1(n,o,n.sidx.resolvedUri),n},Zre=(n,e={})=>{if(!Object.keys(e).length)return n;for(const i in n)n[i]=N1(n[i],e);return n},Xre=({attributes:n,segments:e,sidx:i,mediaSequence:o,discontinuitySequence:a,discontinuityStarts:u},d)=>{const p={attributes:{NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs,"PROGRAM-ID":1},uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,discontinuitySequence:a,discontinuityStarts:u,timelineStarts:n.timelineStarts,mediaSequence:o,segments:e};return n.contentProtection&&(p.contentProtection=n.contentProtection),n.serviceLocation&&(p.attributes.serviceLocation=n.serviceLocation),i&&(p.sidx=i),d&&(p.attributes.AUDIO="audio",p.attributes.SUBTITLES="subs"),p},Jre=({attributes:n,segments:e,mediaSequence:i,discontinuityStarts:o,discontinuitySequence:a})=>{typeof e>"u"&&(e=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);const u={NAME:n.id,BANDWIDTH:n.bandwidth,"PROGRAM-ID":1};n.codecs&&(u.CODECS=n.codecs);const d={attributes:u,uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:o,discontinuitySequence:a,mediaSequence:i,segments:e};return n.serviceLocation&&(d.attributes.serviceLocation=n.serviceLocation),d},eoe=(n,e={},i=!1)=>{let o;const a=n.reduce((u,d)=>{const p=d.attributes.role&&d.attributes.role.value||"",m=d.attributes.lang||"";let k=d.attributes.label||"main";if(m&&!d.attributes.label){const y=p?` (${p})`:"";k=`${d.attributes.lang}${y}`}u[k]||(u[k]={language:m,autoselect:!0,default:p==="main",playlists:[],uri:""});const w=N1(Xre(d,i),e);return u[k].playlists.push(w),typeof o>"u"&&p==="main"&&(o=d,o.default=!0),u},{});if(!o){const u=Object.keys(a)[0];a[u].default=!0}return a},toe=(n,e={})=>n.reduce((i,o)=>{const a=o.attributes.label||o.attributes.lang||"text";return i[a]||(i[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),i[a].playlists.push(N1(Jre(o),e)),i},{}),noe=n=>n.reduce((e,i)=>(i&&i.forEach(o=>{const{channel:a,language:u}=o;e[u]={autoselect:!1,default:!1,instreamId:a,language:u},o.hasOwnProperty("aspectRatio")&&(e[u].aspectRatio=o.aspectRatio),o.hasOwnProperty("easyReader")&&(e[u].easyReader=o.easyReader),o.hasOwnProperty("3D")&&(e[u]["3D"]=o["3D"])}),e),{}),ioe=({attributes:n,segments:e,sidx:i,discontinuityStarts:o})=>{const a={attributes:{NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth,"PROGRAM-ID":1},uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,discontinuityStarts:o,timelineStarts:n.timelineStarts,segments:e};return n.frameRate&&(a.attributes["FRAME-RATE"]=n.frameRate),n.contentProtection&&(a.contentProtection=n.contentProtection),n.serviceLocation&&(a.attributes.serviceLocation=n.serviceLocation),i&&(a.sidx=i),a},roe=({attributes:n})=>n.mimeType==="video/mp4"||n.mimeType==="video/webm"||n.contentType==="video",ooe=({attributes:n})=>n.mimeType==="audio/mp4"||n.mimeType==="audio/webm"||n.contentType==="audio",soe=({attributes:n})=>n.mimeType==="text/vtt"||n.contentType==="text",aoe=(n,e)=>{n.forEach(i=>{i.mediaSequence=0,i.discontinuitySequence=e.findIndex(function({timeline:o}){return o===i.timeline}),i.segments&&i.segments.forEach((o,a)=>{o.number=a})})},nM=n=>n?Object.keys(n).reduce((e,i)=>{const o=n[i];return e.concat(o.playlists)},[]):[],loe=({dashPlaylists:n,locations:e,contentSteering:i,sidxMapping:o={},previousManifest:a,eventStream:u})=>{if(!n.length)return{};const{sourceDuration:d,type:p,suggestedPresentationDelay:m,minimumUpdatePeriod:k}=n[0].attributes,w=oy(n.filter(roe)).map(ioe),y=oy(n.filter(ooe)),T=oy(n.filter(soe)),E=n.map(W=>W.attributes.captionServices).filter(Boolean),S={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:d,playlists:Zre(w,o)};k>=0&&(S.minimumUpdatePeriod=k*1e3),e&&(S.locations=e),i&&(S.contentSteering=i),p==="dynamic"&&(S.suggestedPresentationDelay=m),u&&u.length>0&&(S.eventStream=u);const R=S.playlists.length===0,V=y.length?eoe(y,o,R):null,L=T.length?toe(T,o):null,j=w.concat(nM(V),nM(L)),Y=j.map(({timelineStarts:W})=>W);return S.timelineStarts=HO(Y),aoe(j,S.timelineStarts),V&&(S.mediaGroups.AUDIO.audio=V),L&&(S.mediaGroups.SUBTITLES.subs=L),E.length&&(S.mediaGroups["CLOSED-CAPTIONS"].cc=noe(E)),a?Qre({oldManifest:a,newManifest:S}):S},coe=(n,e,i)=>{const{NOW:o,clientOffset:a,availabilityStartTime:u,timescale:d=1,periodStart:p=0,minimumUpdatePeriod:m=0}=n,k=(o+a)/1e3,w=u+p,T=k+m-w;return Math.ceil((T*d-e)/i)},$O=(n,e)=>{const{type:i,minimumUpdatePeriod:o=0,media:a="",sourceDuration:u,timescale:d=1,startNumber:p=1,periodStart:m}=n,k=[];let w=-1;for(let y=0;y<e.length;y++){const T=e[y],E=T.d,S=T.r||0,R=T.t||0;w<0&&(w=R),R&&R>w&&(w=R);let V;if(S<0){const Y=y+1;Y===e.length?i==="dynamic"&&o>0&&a.indexOf("$Number$")>0?V=coe(n,w,E):V=(u*d-w)/E:V=(e[Y].t-w)/E}else V=S+1;const L=p+k.length+V;let j=p+k.length;for(;j<L;)k.push({number:j,duration:E/d,time:w,timeline:m}),w+=E,j++}return k},uoe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,doe=n=>(e,i,o,a)=>{if(e==="$$")return"$";if(typeof n[i]>"u")return e;const u=""+n[i];return i==="RepresentationID"||(o?a=parseInt(a,10):a=1,u.length>=a)?u:`${new Array(a-u.length+1).join("0")}${u}`},iM=(n,e)=>n.replace(uoe,doe(e)),hoe=(n,e)=>!n.duration&&!e?[{number:n.startNumber||1,duration:n.sourceDuration,time:0,timeline:n.periodStart}]:n.duration?M1(n):$O(n,e),foe=(n,e)=>{const i={RepresentationID:n.id,Bandwidth:n.bandwidth||0},{initialization:o={sourceURL:"",range:""}}=n,a=am({baseUrl:n.baseUrl,source:iM(o.sourceURL,i),range:o.range});return hoe(n,e).map(d=>{i.Number=d.number,i.Time=d.time;const p=iM(n.media||"",i),m=n.timescale||1,k=n.presentationTimeOffset||0,w=n.periodStart+(d.time-k)/m;return{uri:p,timeline:d.timeline,duration:d.duration,resolvedUri:_1(n.baseUrl||"",p),map:a,number:d.number,presentationTime:w}})},poe=(n,e)=>{const{baseUrl:i,initialization:o={}}=n,a=am({baseUrl:i,source:o.sourceURL,range:o.range}),u=am({baseUrl:i,source:e.media,range:e.mediaRange});return u.map=a,u},moe=(n,e)=>{const{duration:i,segmentUrls:o=[],periodStart:a}=n;if(!i&&!e||i&&e)throw new Error(Ah.SEGMENT_TIME_UNSPECIFIED);const u=o.map(m=>poe(n,m));let d;return i&&(d=M1(n)),e&&(d=$O(n,e)),d.map((m,k)=>{if(u[k]){const w=u[k],y=n.timescale||1,T=n.presentationTimeOffset||0;return w.timeline=m.timeline,w.duration=m.duration,w.number=m.number,w.presentationTime=a+(m.time-T)/y,w}}).filter(m=>m)},goe=({attributes:n,segmentInfo:e})=>{let i,o;e.template?(o=foe,i=_i(n,e.template)):e.base?(o=UO,i=_i(n,e.base)):e.list&&(o=moe,i=_i(n,e.list));const a={attributes:n};if(!o)return a;const u=o(i,e.segmentTimeline);if(i.duration){const{duration:d,timescale:p=1}=i;i.duration=d/p}else u.length?i.duration=u.reduce((d,p)=>Math.max(d,Math.ceil(p.duration)),0):i.duration=0;return a.attributes=i,a.segments=u,e.base&&i.indexRange&&(a.sidx=u[0],a.segments=[]),a},boe=n=>n.map(goe),Ln=(n,e)=>VO(n.childNodes).filter(({tagName:i})=>i===e),Pm=n=>n.textContent.trim(),koe=n=>parseFloat(n.split("/").reduce((e,i)=>e/i)),jd=n=>{const p=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n);if(!p)return 0;const[m,k,w,y,T,E]=p.slice(1);return parseFloat(m||0)*31536e3+parseFloat(k||0)*2592e3+parseFloat(w||0)*86400+parseFloat(y||0)*3600+parseFloat(T||0)*60+parseFloat(E||0)},voe=n=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(n)&&(n+="Z"),Date.parse(n)),rM={mediaPresentationDuration(n){return jd(n)},availabilityStartTime(n){return voe(n)/1e3},minimumUpdatePeriod(n){return jd(n)},suggestedPresentationDelay(n){return jd(n)},type(n){return n},timeShiftBufferDepth(n){return jd(n)},start(n){return jd(n)},width(n){return parseInt(n,10)},height(n){return parseInt(n,10)},bandwidth(n){return parseInt(n,10)},frameRate(n){return koe(n)},startNumber(n){return parseInt(n,10)},timescale(n){return parseInt(n,10)},presentationTimeOffset(n){return parseInt(n,10)},duration(n){const e=parseInt(n,10);return isNaN(e)?jd(n):e},d(n){return parseInt(n,10)},t(n){return parseInt(n,10)},r(n){return parseInt(n,10)},presentationTime(n){return parseInt(n,10)},DEFAULT(n){return n}},oi=n=>n&&n.attributes?VO(n.attributes).reduce((e,i)=>{const o=rM[i.name]||rM.DEFAULT;return e[i.name]=o(i.value),e},{}):{},_oe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},pk=(n,e)=>e.length?Ch(n.map(function(i){return e.map(function(o){const a=Pm(o),u=_1(i.baseUrl,a),d=_i(oi(o),{baseUrl:u});return u!==a&&!d.serviceLocation&&i.serviceLocation&&(d.serviceLocation=i.serviceLocation),d})})):n,B1=n=>{const e=Ln(n,"SegmentTemplate")[0],i=Ln(n,"SegmentList")[0],o=i&&Ln(i,"SegmentURL").map(y=>_i({tag:"SegmentURL"},oi(y))),a=Ln(n,"SegmentBase")[0],u=i||e,d=u&&Ln(u,"SegmentTimeline")[0],p=i||a||e,m=p&&Ln(p,"Initialization")[0],k=e&&oi(e);k&&m?k.initialization=m&&oi(m):k&&k.initialization&&(k.initialization={sourceURL:k.initialization});const w={template:k,segmentTimeline:d&&Ln(d,"S").map(y=>oi(y)),list:i&&_i(oi(i),{segmentUrls:o,initialization:oi(m)}),base:a&&_i(oi(a),{initialization:oi(m)})};return Object.keys(w).forEach(y=>{w[y]||delete w[y]}),w},yoe=(n,e,i)=>o=>{const a=Ln(o,"BaseURL"),u=pk(e,a),d=_i(n,oi(o)),p=B1(o);return u.map(m=>({segmentInfo:_i(i,p),attributes:_i(d,m)}))},woe=n=>n.reduce((e,i)=>{const o=oi(i);o.schemeIdUri&&(o.schemeIdUri=o.schemeIdUri.toLowerCase());const a=_oe[o.schemeIdUri];if(a){e[a]={attributes:o};const u=Ln(i,"cenc:pssh")[0];if(u){const d=Pm(u);e[a].pssh=d&&dre(d)}}return e},{}),Coe=n=>{if(n.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof n.value!="string"?[]:n.value.split(";")).map(i=>{let o,a;return a=i,/^CC\d=/.test(i)?[o,a]=i.split("="):/^CC\d$/.test(i)&&(o=i),{channel:o,language:a}});if(n.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof n.value!="string"?[]:n.value.split(";")).map(i=>{const o={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(i)){const[a,u=""]=i.split("=");o.channel=a,o.language=i,u.split(",").forEach(d=>{const[p,m]=d.split(":");p==="lang"?o.language=m:p==="er"?o.easyReader=Number(m):p==="war"?o.aspectRatio=Number(m):p==="3D"&&(o["3D"]=Number(m))})}else o.language=i;return o.channel&&(o.channel="SERVICE"+o.channel),o})},Aoe=n=>Ch(Ln(n.node,"EventStream").map(e=>{const i=oi(e),o=i.schemeIdUri;return Ln(e,"Event").map(a=>{const u=oi(a),d=u.presentationTime||0,p=i.timescale||1,m=u.duration||0,k=d/p+n.attributes.start;return{schemeIdUri:o,value:i.value,id:u.id,start:k,end:k+m/p,messageData:Pm(a)||u.messageData,contentEncoding:i.contentEncoding,presentationTimeOffset:i.presentationTimeOffset||0}})})),Toe=(n,e,i)=>o=>{const a=oi(o),u=pk(e,Ln(o,"BaseURL")),d=Ln(o,"Role")[0],p={role:oi(d)};let m=_i(n,a,p);const k=Ln(o,"Accessibility")[0],w=Coe(oi(k));w&&(m=_i(m,{captionServices:w}));const y=Ln(o,"Label")[0];if(y&&y.childNodes.length){const V=y.childNodes[0].nodeValue.trim();m=_i(m,{label:V})}const T=woe(Ln(o,"ContentProtection"));Object.keys(T).length&&(m=_i(m,{contentProtection:T}));const E=B1(o),S=Ln(o,"Representation"),R=_i(i,E);return Ch(S.map(yoe(m,u,R)))},xoe=(n,e)=>(i,o)=>{const a=pk(e,Ln(i.node,"BaseURL")),u=_i(n,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(u.periodDuration=i.attributes.duration);const d=Ln(i.node,"AdaptationSet"),p=B1(i.node);return Ch(d.map(Toe(u,a,p)))},Eoe=(n,e)=>{if(n.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!n.length)return null;const i=_i({serverURL:Pm(n[0])},oi(n[0]));return i.queryBeforeStart=i.queryBeforeStart==="true",i},Soe=({attributes:n,priorPeriodAttributes:e,mpdType:i})=>typeof n.start=="number"?n.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&i==="static"?0:null,Doe=(n,e={})=>{const{manifestUri:i="",NOW:o=Date.now(),clientOffset:a=0,eventHandler:u=function(){}}=e,d=Ln(n,"Period");if(!d.length)throw new Error(Ah.INVALID_NUMBER_OF_PERIOD);const p=Ln(n,"Location"),m=oi(n),k=pk([{baseUrl:i}],Ln(n,"BaseURL")),w=Ln(n,"ContentSteering");m.type=m.type||"static",m.sourceDuration=m.mediaPresentationDuration||0,m.NOW=o,m.clientOffset=a,p.length&&(m.locations=p.map(Pm));const y=[];return d.forEach((T,E)=>{const S=oi(T),R=y[E-1];S.start=Soe({attributes:S,priorPeriodAttributes:R?R.attributes:null,mpdType:m.type}),y.push({node:T,attributes:S})}),{locations:m.locations,contentSteeringInfo:Eoe(w,u),representationInfo:Ch(y.map(xoe(m,k))),eventStream:Ch(y.map(Aoe))}},qO=n=>{if(n==="")throw new Error(Ah.DASH_EMPTY_MANIFEST);const e=new jre;let i,o;try{i=e.parseFromString(n,"application/xml"),o=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!o||o&&o.getElementsByTagName("parsererror").length>0)throw new Error(Ah.DASH_INVALID_XML);return o},Ioe=n=>{const e=Ln(n,"UTCTiming")[0];if(!e)return null;const i=oi(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Ah.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},Moe=(n,e={})=>{const i=Doe(qO(n),e),o=boe(i.representationInfo);return loe({dashPlaylists:o,locations:i.locations,contentSteering:i.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:i.eventStream})},Poe=n=>Ioe(qO(n));var WO=Math.pow(2,32),Noe=function(n){var e=new DataView(n.buffer,n.byteOffset,n.byteLength),i;return e.getBigUint64?(i=e.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):e.getUint32(0)*WO+e.getUint32(4)},Boe={getUint64:Noe,MAX_UINT32:WO},oM=Boe.getUint64,Ooe=function(n){var e=new DataView(n.buffer,n.byteOffset,n.byteLength),i={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},o=12;i.version===0?(i.earliestPresentationTime=e.getUint32(o),i.firstOffset=e.getUint32(o+4),o+=8):(i.earliestPresentationTime=oM(n.subarray(o)),i.firstOffset=oM(n.subarray(o+8)),o+=16),o+=2;var a=e.getUint16(o);for(o+=2;a>0;o+=12,a--)i.references.push({referenceType:(n[o]&128)>>>7,referencedSize:e.getUint32(o)&2147483647,subsegmentDuration:e.getUint32(o+4),startsWithSap:!!(n[o+8]&128),sapType:(n[o+8]&112)>>>4,sapDeltaTime:e.getUint32(o+8)&268435455});return i},Loe=Ooe;const Roe=zs(Loe);var Foe=vt([73,68,51]),joe=function(e,i){i===void 0&&(i=0),e=vt(e);var o=e[i+5],a=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],u=(o&16)>>4;return u?a+20:a+10},fp=function n(e,i){return i===void 0&&(i=0),e=vt(e),e.length-i<10||!On(e,Foe,{offset:i})?i:(i+=joe(e,i),n(e,i))},sM=function(e){return typeof e=="string"?uO(e):e},zoe=function(e){return Array.isArray(e)?e.map(function(i){return sM(i)}):[sM(e)]},Voe=function n(e,i,o){o===void 0&&(o=!1),i=zoe(i),e=vt(e);var a=[];if(!i.length)return a;for(var u=0;u<e.length;){var d=(e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3])>>>0,p=e.subarray(u+4,u+8);if(d===0)break;var m=u+d;if(m>e.length){if(o)break;m=e.length}var k=e.subarray(u+8,m);On(p,i[0])&&(i.length===1?a.push(k):a.push.apply(a,n(k,i.slice(1),o))),u=m}return a},Jg={EBML:vt([26,69,223,163]),DocType:vt([66,130]),Segment:vt([24,83,128,103]),SegmentInfo:vt([21,73,169,102]),Tracks:vt([22,84,174,107]),Track:vt([174]),TrackNumber:vt([215]),DefaultDuration:vt([35,227,131]),TrackEntry:vt([174]),TrackType:vt([131]),FlagDefault:vt([136]),CodecID:vt([134]),CodecPrivate:vt([99,162]),VideoTrack:vt([224]),AudioTrack:vt([225]),Cluster:vt([31,67,182,117]),Timestamp:vt([231]),TimestampScale:vt([42,215,177]),BlockGroup:vt([160]),BlockDuration:vt([155]),Block:vt([161]),SimpleBlock:vt([163])},aw=[128,64,32,16,8,4,2,1],Uoe=function(e){for(var i=1,o=0;o<aw.length&&!(e&aw[o]);o++)i++;return i},K0=function(e,i,o,a){o===void 0&&(o=!0),a===void 0&&(a=!1);var u=Uoe(e[i]),d=e.subarray(i,i+u);return o&&(d=Array.prototype.slice.call(e,i,i+u),d[0]^=aw[u-1]),{length:u,value:sre(d,{signed:a}),bytes:d}},aM=function n(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return n(i)}):typeof e=="number"?are(e):e},Hoe=function(e){return Array.isArray(e)?e.map(function(i){return aM(i)}):[aM(e)]},$oe=function n(e,i,o){if(o>=i.length)return i.length;var a=K0(i,o,!1);if(On(e.bytes,a.bytes))return o;var u=K0(i,o+a.length);return n(e,i,o+u.length+u.value+a.length)},lM=function n(e,i){i=Hoe(i),e=vt(e);var o=[];if(!i.length)return o;for(var a=0;a<e.length;){var u=K0(e,a,!1),d=K0(e,a+u.length),p=a+u.length+d.length;d.value===127&&(d.value=$oe(u,e,p),d.value!==e.length&&(d.value-=p));var m=p+d.value>e.length?e.length:p+d.value,k=e.subarray(p,m);On(i[0],u.bytes)&&(i.length===1?o.push(k):o=o.concat(n(k,i.slice(1))));var w=u.length+d.length+k.length;a+=w}return o},qoe=vt([0,0,0,1]),Woe=vt([0,0,1]),Goe=vt([0,0,3]),Koe=function(e){for(var i=[],o=1;o<e.length-2;)On(e.subarray(o,o+3),Goe)&&(i.push(o+2),o++),o++;if(i.length===0)return e;var a=e.length-i.length,u=new Uint8Array(a),d=0;for(o=0;o<a;d++,o++)d===i[0]&&(d++,i.shift()),u[o]=e[d];return u},GO=function(e,i,o,a){a===void 0&&(a=1/0),e=vt(e),o=[].concat(o);for(var u=0,d,p=0;u<e.length&&(p<a||d);){var m=void 0;if(On(e.subarray(u),qoe)?m=4:On(e.subarray(u),Woe)&&(m=3),!m){u++;continue}if(p++,d)return Koe(e.subarray(d,u));var k=void 0;i==="h264"?k=e[u+m]&31:i==="h265"&&(k=e[u+m]>>1&63),o.indexOf(k)!==-1&&(d=u+m),u+=m+(i==="h264"?1:2)}return e.subarray(0,0)},Yoe=function(e,i,o){return GO(e,"h264",i,o)},Qoe=function(e,i,o){return GO(e,"h265",i,o)},Zi={webm:vt([119,101,98,109]),matroska:vt([109,97,116,114,111,115,107,97]),flac:vt([102,76,97,67]),ogg:vt([79,103,103,83]),ac3:vt([11,119]),riff:vt([82,73,70,70]),avi:vt([65,86,73]),wav:vt([87,65,86,69]),"3gp":vt([102,116,121,112,51,103]),mp4:vt([102,116,121,112]),fmp4:vt([115,116,121,112]),mov:vt([102,116,121,112,113,116]),moov:vt([109,111,111,118]),moof:vt([109,111,111,102])},Th={aac:function(e){var i=fp(e);return On(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=fp(e);return On(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=lM(e,[Jg.EBML,Jg.DocType])[0];return On(i,Zi.webm)},mkv:function(e){var i=lM(e,[Jg.EBML,Jg.DocType])[0];return On(i,Zi.matroska)},mp4:function(e){if(Th["3gp"](e)||Th.mov(e))return!1;if(On(e,Zi.mp4,{offset:4})||On(e,Zi.fmp4,{offset:4})||On(e,Zi.moof,{offset:4})||On(e,Zi.moov,{offset:4}))return!0},mov:function(e){return On(e,Zi.mov,{offset:4})},"3gp":function(e){return On(e,Zi["3gp"],{offset:4})},ac3:function(e){var i=fp(e);return On(e,Zi.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=fp(e);return On(e,Zi.flac,{offset:i})},ogg:function(e){return On(e,Zi.ogg)},avi:function(e){return On(e,Zi.riff)&&On(e,Zi.avi,{offset:8})},wav:function(e){return On(e,Zi.riff)&&On(e,Zi.wav,{offset:8})},h264:function(e){return Yoe(e,7,3).length},h265:function(e){return Qoe(e,[32,33],3).length}},lw=Object.keys(Th).filter(function(n){return n!=="ts"&&n!=="h264"&&n!=="h265"}).concat(["ts","h264","h265"]);lw.forEach(function(n){var e=Th[n];Th[n]=function(i){return e(vt(i))}});var Zoe=Th,O1=function(e){e=vt(e);for(var i=0;i<lw.length;i++){var o=lw[i];if(Zoe[o](e))return o}return""},Xoe=function(e){return Voe(e,["moof"]).length>0},L1=9e4,R1,F1,mk,j1,KO,YO,QO;R1=function(n){return n*L1};F1=function(n,e){return n*e};mk=function(n){return n/L1};j1=function(n,e){return n/e};KO=function(n,e){return R1(j1(n,e))};YO=function(n,e){return F1(mk(n),e)};QO=function(n,e,i){return mk(i?n:n-e)};var Y0={ONE_SECOND_IN_TS:L1,secondsToVideoTs:R1,secondsToAudioTs:F1,videoTsToSeconds:mk,audioTsToSeconds:j1,audioTsToVideoTs:KO,videoTsToAudioTs:YO,metadataTsToSeconds:QO};/**
 * @license
 * Video.js 8.5.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var ZO="8.5.2";const va={},Rl=function(n,e){return va[n]=va[n]||[],e&&(va[n]=va[n].concat(e)),va[n]},Joe=function(n,e){Rl(n,e)},XO=function(n,e){const i=Rl(n).indexOf(e);return i<=-1?!1:(va[n]=va[n].slice(),va[n].splice(i,1),!0)},ese=function(n,e){Rl(n,[].concat(e).map(i=>{const o=(...a)=>(XO(n,o),i(...a));return o}))},Q0={prefixed:!0},b0=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],cM=b0[0];let pp;for(let n=0;n<b0.length;n++)if(b0[n][1]in et){pp=b0[n];break}if(pp){for(let n=0;n<pp.length;n++)Q0[cM[n]]=pp[n];Q0.prefixed=pp[0]!==cM[0]}let gr=[];const tse=(n,e)=>(i,o,a)=>{const u=e.levels[o],d=new RegExp(`^(${u})$`);if(i!=="log"&&a.unshift(i.toUpperCase()+":"),a.unshift(n+":"),gr){gr.push([].concat(a));const m=gr.length-1e3;gr.splice(0,m>0?m:0)}if(!me.console)return;let p=me.console[i];!p&&i==="debug"&&(p=me.console.info||me.console.log),!(!p||!u||!d.test(i))&&p[Array.isArray(a)?"apply":"call"](me.console,a)};function JO(n){let e="info",i;const o=function(...a){i("log",e,a)};return i=tse(n,o),o.createLogger=a=>JO(n+": "+a),o.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},o.level=a=>{if(typeof a=="string"){if(!o.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);e=a}return e},o.history=()=>gr?[].concat(gr):[],o.history.filter=a=>(gr||[]).filter(u=>new RegExp(`.*${a}.*`).test(u[0])),o.history.clear=()=>{gr&&(gr.length=0)},o.history.disable=()=>{gr!==null&&(gr.length=0,gr=null)},o.history.enable=()=>{gr===null&&(gr=[])},o.error=(...a)=>i("error",e,a),o.warn=(...a)=>i("warn",e,a),o.debug=(...a)=>i("debug",e,a),o}const jt=JO("VIDEOJS"),eL=jt.createLogger,nse=Object.prototype.toString,tL=function(n){return Bs(n)?Object.keys(n):[]};function Jd(n,e){tL(n).forEach(i=>e(n[i],i))}function nL(n,e,i=0){return tL(n).reduce((o,a)=>e(o,n[a],a),i)}function Bs(n){return!!n&&typeof n=="object"}function xh(n){return Bs(n)&&nse.call(n)==="[object Object]"&&n.constructor===Object}function Cn(...n){const e={};return n.forEach(i=>{i&&Jd(i,(o,a)=>{if(!xh(o)){e[a]=o;return}xh(e[a])||(e[a]={}),e[a]=Cn(e[a],o)})}),e}function iL(n={}){const e=[];for(const i in n)if(n.hasOwnProperty(i)){const o=n[i];e.push(o)}return e}function gk(n,e,i,o=!0){const a=d=>Object.defineProperty(n,e,{value:d,enumerable:!0,writable:!0}),u={configurable:!0,enumerable:!0,get(){const d=i();return a(d),d}};return o&&(u.set=a),Object.defineProperty(n,e,u)}var ise=Object.freeze({__proto__:null,each:Jd,reduce:nL,isObject:Bs,isPlain:xh,merge:Cn,values:iL,defineLazyProperty:gk});let z1=!1,rL=null,Os=!1,oL,sL=!1,eh=!1,th=!1,Ls=!1,V1=null,bk=null,aL=null,Z0=!1,kk=!1,X0=!1,vk=!1;const lm=!!(Vh()&&("ontouchstart"in me||me.navigator.maxTouchPoints||me.DocumentTouch&&me.document instanceof me.DocumentTouch)),zd=me.navigator&&me.navigator.userAgentData;zd&&(Os=zd.platform==="Android",eh=!!zd.brands.find(n=>n.brand==="Microsoft Edge"),th=!!zd.brands.find(n=>n.brand==="Chromium"),Ls=!eh&&th,V1=bk=(zd.brands.find(n=>n.brand==="Chromium")||{}).version||null,kk=zd.platform==="Windows");if(!th){const n=me.navigator&&me.navigator.userAgent||"";z1=/iPod/i.test(n),rL=function(){const e=n.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Os=/Android/i.test(n),oL=function(){const e=n.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const i=e[1]&&parseFloat(e[1]),o=e[2]&&parseFloat(e[2]);return i&&o?parseFloat(e[1]+"."+e[2]):i||null}(),sL=/Firefox/i.test(n),eh=/Edg/i.test(n),th=/Chrome/i.test(n)||/CriOS/i.test(n),Ls=!eh&&th,V1=bk=function(){const e=n.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),aL=function(){const e=/MSIE\s(\d+)\.\d/.exec(n);let i=e&&parseFloat(e[1]);return!i&&/Trident\/7.0/i.test(n)&&/rv:11.0/.test(n)&&(i=11),i}(),Z0=/Safari/i.test(n)&&!Ls&&!Os&&!eh,kk=/Windows/i.test(n),X0=/iPad/i.test(n)||Z0&&lm&&!/iPhone/i.test(n),vk=/iPhone/i.test(n)&&!X0}const sr=vk||X0||z1,_k=(Z0||sr)&&!Ls;var rse=Object.freeze({__proto__:null,get IS_IPOD(){return z1},get IOS_VERSION(){return rL},get IS_ANDROID(){return Os},get ANDROID_VERSION(){return oL},get IS_FIREFOX(){return sL},get IS_EDGE(){return eh},get IS_CHROMIUM(){return th},get IS_CHROME(){return Ls},get CHROMIUM_VERSION(){return V1},get CHROME_VERSION(){return bk},get IE_VERSION(){return aL},get IS_SAFARI(){return Z0},get IS_WINDOWS(){return kk},get IS_IPAD(){return X0},get IS_IPHONE(){return vk},TOUCH_ENABLED:lm,IS_IOS:sr,IS_ANY_SAFARI:_k});function uM(n){return typeof n=="string"&&!!n.trim()}function ose(n){if(n.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Vh(){return et===me.document}function Uh(n){return Bs(n)&&n.nodeType===1}function lL(){try{return me.parent!==me.self}catch{return!0}}function cL(n){return function(e,i){if(!uM(e))return et[n](null);uM(i)&&(i=et.querySelector(i));const o=Uh(i)?i:et;return o[n]&&o[n](e)}}function Ot(n="div",e={},i={},o){const a=et.createElement(n);return Object.getOwnPropertyNames(e).forEach(function(u){const d=e[u];u==="textContent"?ql(a,d):(a[u]!==d||u==="tabIndex")&&(a[u]=d)}),Object.getOwnPropertyNames(i).forEach(function(u){a.setAttribute(u,i[u])}),o&&U1(a,o),a}function ql(n,e){return typeof n.textContent>"u"?n.innerText=e:n.textContent=e,n}function cw(n,e){e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}function xp(n,e){return ose(e),n.classList.contains(e)}function _u(n,...e){return n.classList.add(...e.reduce((i,o)=>i.concat(o.split(/\s+/)),[])),n}function yk(n,...e){return n?(n.classList.remove(...e.reduce((i,o)=>i.concat(o.split(/\s+/)),[])),n):(jt.warn("removeClass was called with an element that doesn't exist"),null)}function uL(n,e,i){return typeof i=="function"&&(i=i(n,e)),typeof i!="boolean"&&(i=void 0),e.split(/\s+/).forEach(o=>n.classList.toggle(o,i)),n}function dL(n,e){Object.getOwnPropertyNames(e).forEach(function(i){const o=e[i];o===null||typeof o>"u"||o===!1?n.removeAttribute(i):n.setAttribute(i,o===!0?"":o)})}function Al(n){const e={},i=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(n&&n.attributes&&n.attributes.length>0){const o=n.attributes;for(let a=o.length-1;a>=0;a--){const u=o[a].name;let d=o[a].value;i.includes(u)&&(d=d!==null),e[u]=d}}return e}function hL(n,e){return n.getAttribute(e)}function Eh(n,e,i){n.setAttribute(e,i)}function wk(n,e){n.removeAttribute(e)}function fL(){et.body.focus(),et.onselectstart=function(){return!1}}function pL(){et.onselectstart=function(){return!0}}function Sh(n){if(n&&n.getBoundingClientRect&&n.parentNode){const e=n.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(o=>{e[o]!==void 0&&(i[o]=e[o])}),i.height||(i.height=parseFloat(Dh(n,"height"))),i.width||(i.width=parseFloat(Dh(n,"width"))),i}}function cm(n){if(!n||n&&!n.offsetParent)return{left:0,top:0,width:0,height:0};const e=n.offsetWidth,i=n.offsetHeight;let o=0,a=0;for(;n.offsetParent&&n!==et[Q0.fullscreenElement];)o+=n.offsetLeft,a+=n.offsetTop,n=n.offsetParent;return{left:o,top:a,width:e,height:i}}function Ck(n,e){const i={x:0,y:0};if(sr){let w=n;for(;w&&w.nodeName.toLowerCase()!=="html";){const y=Dh(w,"transform");if(/^matrix/.test(y)){const T=y.slice(7,-1).split(/,\s/).map(Number);i.x+=T[4],i.y+=T[5]}else if(/^matrix3d/.test(y)){const T=y.slice(9,-1).split(/,\s/).map(Number);i.x+=T[12],i.y+=T[13]}w=w.parentNode}}const o={},a=cm(e.target),u=cm(n),d=u.width,p=u.height;let m=e.offsetY-(u.top-a.top),k=e.offsetX-(u.left-a.left);return e.changedTouches&&(k=e.changedTouches[0].pageX-u.left,m=e.changedTouches[0].pageY+u.top,sr&&(k-=i.x,m-=i.y)),o.y=1-Math.max(0,Math.min(1,m/p)),o.x=Math.max(0,Math.min(1,k/d)),o}function mL(n){return Bs(n)&&n.nodeType===3}function Ak(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function gL(n){return typeof n=="function"&&(n=n()),(Array.isArray(n)?n:[n]).map(e=>{if(typeof e=="function"&&(e=e()),Uh(e)||mL(e))return e;if(typeof e=="string"&&/\S/.test(e))return et.createTextNode(e)}).filter(e=>e)}function U1(n,e){return gL(e).forEach(i=>n.appendChild(i)),n}function bL(n,e){return U1(Ak(n),e)}function um(n){return n.button===void 0&&n.buttons===void 0||n.button===0&&n.buttons===void 0||n.type==="mouseup"&&n.button===0&&n.buttons===0?!0:!(n.button!==0||n.buttons!==1)}const Fl=cL("querySelector"),kL=cL("querySelectorAll");function Dh(n,e){if(!n||!e)return"";if(typeof me.getComputedStyle=="function"){let i;try{i=me.getComputedStyle(n)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}function vL(n){[...et.styleSheets].forEach(e=>{try{const i=[...e.cssRules].map(a=>a.cssText).join(""),o=et.createElement("style");o.textContent=i,n.document.head.appendChild(o)}catch{const o=et.createElement("link");o.rel="stylesheet",o.type=e.type,o.media=e.media.mediaText,o.href=e.href,n.document.head.appendChild(o)}})}var _L=Object.freeze({__proto__:null,isReal:Vh,isEl:Uh,isInFrame:lL,createEl:Ot,textContent:ql,prependTo:cw,hasClass:xp,addClass:_u,removeClass:yk,toggleClass:uL,setAttributes:dL,getAttributes:Al,getAttribute:hL,setAttribute:Eh,removeAttribute:wk,blockTextSelection:fL,unblockTextSelection:pL,getBoundingClientRect:Sh,findPosition:cm,getPointerPosition:Ck,isTextNode:mL,emptyEl:Ak,normalizeContent:gL,appendContent:U1,insertContent:bL,isSingleLeftClick:um,$:Fl,$$:kL,computedStyle:Dh,copyStyleSheetsToWindow:vL});let yL=!1,uw;const sse=function(){if(uw.options.autoSetup===!1)return;const n=Array.prototype.slice.call(et.getElementsByTagName("video")),e=Array.prototype.slice.call(et.getElementsByTagName("audio")),i=Array.prototype.slice.call(et.getElementsByTagName("video-js")),o=n.concat(e,i);if(o&&o.length>0)for(let a=0,u=o.length;a<u;a++){const d=o[a];if(d&&d.getAttribute)d.player===void 0&&d.getAttribute("data-setup")!==null&&uw(d);else{dw(1);break}}else yL||dw(1)};function dw(n,e){Vh()&&(e&&(uw=e),me.setTimeout(sse,n))}function hw(){yL=!0,me.removeEventListener("load",hw)}Vh()&&(et.readyState==="complete"?hw():me.addEventListener("load",hw));const wL=function(n){const e=et.createElement("style");return e.className=n,e},CL=function(n,e){n.styleSheet?n.styleSheet.cssText=e:n.textContent=e};var ir=new WeakMap;const ase=3;let lse=ase;function Rs(){return lse++}function dM(n,e){if(!ir.has(n))return;const i=ir.get(n);i.handlers[e].length===0&&(delete i.handlers[e],n.removeEventListener?n.removeEventListener(e,i.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&ir.delete(n)}function H1(n,e,i,o){i.forEach(function(a){n(e,a,o)})}function Tk(n){if(n.fixed_)return n;function e(){return!0}function i(){return!1}if(!n||!n.isPropagationStopped||!n.isImmediatePropagationStopped){const o=n||me.event;n={};for(const a in o)a!=="layerX"&&a!=="layerY"&&a!=="keyLocation"&&a!=="webkitMovementX"&&a!=="webkitMovementY"&&a!=="path"&&(a==="returnValue"&&o.preventDefault||(n[a]=o[a]));if(n.target||(n.target=n.srcElement||et),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){o.preventDefault&&o.preventDefault(),n.returnValue=!1,o.returnValue=!1,n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),n.cancelBubble=!0,o.cancelBubble=!0,n.isPropagationStopped=e},n.isPropagationStopped=i,n.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),n.isImmediatePropagationStopped=e,n.stopPropagation()},n.isImmediatePropagationStopped=i,n.clientX!==null&&n.clientX!==void 0){const a=et.documentElement,u=et.body;n.pageX=n.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),n.pageY=n.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}n.which=n.charCode||n.keyCode,n.button!==null&&n.button!==void 0&&(n.button=n.button&1?0:n.button&4?1:n.button&2?2:0)}return n.fixed_=!0,n}let e0;const cse=function(){if(typeof e0!="boolean"){e0=!1;try{const n=Object.defineProperty({},"passive",{get(){e0=!0}});me.addEventListener("test",null,n),me.removeEventListener("test",null,n)}catch{}}return e0},use=["touchstart","touchmove"];function Gr(n,e,i){if(Array.isArray(e))return H1(Gr,n,e,i);ir.has(n)||ir.set(n,{});const o=ir.get(n);if(o.handlers||(o.handlers={}),o.handlers[e]||(o.handlers[e]=[]),i.guid||(i.guid=Rs()),o.handlers[e].push(i),o.dispatcher||(o.disabled=!1,o.dispatcher=function(a,u){if(o.disabled)return;a=Tk(a);const d=o.handlers[a.type];if(d){const p=d.slice(0);for(let m=0,k=p.length;m<k&&!a.isImmediatePropagationStopped();m++)try{p[m].call(n,a,u)}catch(w){jt.error(w)}}}),o.handlers[e].length===1)if(n.addEventListener){let a=!1;cse()&&use.indexOf(e)>-1&&(a={passive:!0}),n.addEventListener(e,o.dispatcher,a)}else n.attachEvent&&n.attachEvent("on"+e,o.dispatcher)}function qi(n,e,i){if(!ir.has(n))return;const o=ir.get(n);if(!o.handlers)return;if(Array.isArray(e))return H1(qi,n,e,i);const a=function(d,p){o.handlers[p]=[],dM(d,p)};if(e===void 0){for(const d in o.handlers)Object.prototype.hasOwnProperty.call(o.handlers||{},d)&&a(n,d);return}const u=o.handlers[e];if(u){if(!i){a(n,e);return}if(i.guid)for(let d=0;d<u.length;d++)u[d].guid===i.guid&&u.splice(d--,1);dM(n,e)}}function Hh(n,e,i){const o=ir.has(n)?ir.get(n):{},a=n.parentNode||n.ownerDocument;if(typeof e=="string"?e={type:e,target:n}:e.target||(e.target=n),e=Tk(e),o.dispatcher&&o.dispatcher.call(n,e,i),a&&!e.isPropagationStopped()&&e.bubbles===!0)Hh.call(null,a,e,i);else if(!a&&!e.defaultPrevented&&e.target&&e.target[e.type]){ir.has(e.target)||ir.set(e.target,{});const u=ir.get(e.target);e.target[e.type]&&(u.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),u.disabled=!1)}return!e.defaultPrevented}function xk(n,e,i){if(Array.isArray(e))return H1(xk,n,e,i);const o=function(){qi(n,e,o),i.apply(this,arguments)};o.guid=i.guid=i.guid||Rs(),Gr(n,e,o)}function $1(n,e,i){const o=function(){qi(n,e,o),i.apply(this,arguments)};o.guid=i.guid=i.guid||Rs(),Gr(n,e,o)}var dse=Object.freeze({__proto__:null,fixEvent:Tk,on:Gr,off:qi,trigger:Hh,one:xk,any:$1});const go=30,An=function(n,e,i){e.guid||(e.guid=Rs());const o=e.bind(n);return o.guid=i?i+"_"+e.guid:e.guid,o},Fs=function(n,e){let i=me.performance.now();return function(...a){const u=me.performance.now();u-i>=e&&(n(...a),i=u)}},AL=function(n,e,i,o=me){let a;const u=()=>{o.clearTimeout(a),a=null},d=function(){const p=this,m=arguments;let k=function(){a=null,k=null,i||n.apply(p,m)};!a&&i&&n.apply(p,m),o.clearTimeout(a),a=o.setTimeout(k,e)};return d.cancel=u,d};var hse=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:go,bind_:An,throttle:Fs,debounce:AL});let ip;class bo{on(e,i){const o=this.addEventListener;this.addEventListener=()=>{},Gr(this,e,i),this.addEventListener=o}off(e,i){qi(this,e,i)}one(e,i){const o=this.addEventListener;this.addEventListener=()=>{},xk(this,e,i),this.addEventListener=o}any(e,i){const o=this.addEventListener;this.addEventListener=()=>{},$1(this,e,i),this.addEventListener=o}trigger(e){const i=e.type||e;typeof e=="string"&&(e={type:i}),e=Tk(e),this.allowedEvents_[i]&&this["on"+i]&&this["on"+i](e),Hh(this,e)}queueTrigger(e){ip||(ip=new Map);const i=e.type||e;let o=ip.get(this);o||(o=new Map,ip.set(this,o));const a=o.get(i);o.delete(i),me.clearTimeout(a);const u=me.setTimeout(()=>{o.delete(i),o.size===0&&(o=null,ip.delete(this)),this.trigger(e)},0);o.set(i,u)}}bo.prototype.allowedEvents_={};bo.prototype.addEventListener=bo.prototype.on;bo.prototype.removeEventListener=bo.prototype.off;bo.prototype.dispatchEvent=bo.prototype.trigger;const Ek=n=>typeof n.name=="function"?n.name():typeof n.name=="string"?n.name:n.name_?n.name_:n.constructor&&n.constructor.name?n.constructor.name:typeof n,xa=n=>n instanceof bo||!!n.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof n[e]=="function"),fse=(n,e)=>{xa(n)?e():(n.eventedCallbacks||(n.eventedCallbacks=[]),n.eventedCallbacks.push(e))},fw=n=>typeof n=="string"&&/\S/.test(n)||Array.isArray(n)&&!!n.length,J0=(n,e,i)=>{if(!n||!n.nodeName&&!xa(n))throw new Error(`Invalid target for ${Ek(e)}#${i}; must be a DOM node or evented object.`)},TL=(n,e,i)=>{if(!fw(n))throw new Error(`Invalid event type for ${Ek(e)}#${i}; must be a non-empty string or array.`)},xL=(n,e,i)=>{if(typeof n!="function")throw new Error(`Invalid listener for ${Ek(e)}#${i}; must be a function.`)},sy=(n,e,i)=>{const o=e.length<3||e[0]===n||e[0]===n.eventBusEl_;let a,u,d;return o?(a=n.eventBusEl_,e.length>=3&&e.shift(),[u,d]=e):[a,u,d]=e,J0(a,n,i),TL(u,n,i),xL(d,n,i),d=An(n,d),{isTargetingSelf:o,target:a,type:u,listener:d}},Yc=(n,e,i,o)=>{J0(n,n,e),n.nodeName?dse[e](n,i,o):n[e](i,o)},pse={on(...n){const{isTargetingSelf:e,target:i,type:o,listener:a}=sy(this,n,"on");if(Yc(i,"on",o,a),!e){const u=()=>this.off(i,o,a);u.guid=a.guid;const d=()=>this.off("dispose",u);d.guid=a.guid,Yc(this,"on","dispose",u),Yc(i,"on","dispose",d)}},one(...n){const{isTargetingSelf:e,target:i,type:o,listener:a}=sy(this,n,"one");if(e)Yc(i,"one",o,a);else{const u=(...d)=>{this.off(i,o,u),a.apply(null,d)};u.guid=a.guid,Yc(i,"one",o,u)}},any(...n){const{isTargetingSelf:e,target:i,type:o,listener:a}=sy(this,n,"any");if(e)Yc(i,"any",o,a);else{const u=(...d)=>{this.off(i,o,u),a.apply(null,d)};u.guid=a.guid,Yc(i,"any",o,u)}},off(n,e,i){if(!n||fw(n))qi(this.eventBusEl_,n,e);else{const o=n,a=e;J0(o,this,"off"),TL(a,this,"off"),xL(i,this,"off"),i=An(this,i),this.off("dispose",i),o.nodeName?(qi(o,a,i),qi(o,"dispose",i)):xa(o)&&(o.off(a,i),o.off("dispose",i))}},trigger(n,e){J0(this.eventBusEl_,this,"trigger");const i=n&&typeof n!="string"?n.type:n;if(!fw(i))throw new Error(`Invalid event type for ${Ek(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return Hh(this.eventBusEl_,n,e)}};function q1(n,e={}){const{eventBusKey:i}=e;if(i){if(!n[i].nodeName)throw new Error(`The eventBusKey "${i}" does not refer to an element.`);n.eventBusEl_=n[i]}else n.eventBusEl_=Ot("span",{className:"vjs-event-bus"});return Object.assign(n,pse),n.eventedCallbacks&&n.eventedCallbacks.forEach(o=>{o()}),n.on("dispose",()=>{n.off(),[n,n.el_,n.eventBusEl_].forEach(function(o){o&&ir.has(o)&&ir.delete(o)}),me.setTimeout(()=>{n.eventBusEl_=null},0)}),n}const mse={state:{},setState(n){typeof n=="function"&&(n=n());let e;return Jd(n,(i,o)=>{this.state[o]!==i&&(e=e||{},e[o]={from:this.state[o],to:i}),this.state[o]=i}),e&&xa(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function EL(n,e){return Object.assign(n,mse),n.state=Object.assign({},n.state,e),typeof n.handleStateChanged=="function"&&xa(n)&&n.on("statechanged",n.handleStateChanged),n}const Ep=function(n){return typeof n!="string"?n:n.replace(/./,e=>e.toLowerCase())},Wn=function(n){return typeof n!="string"?n:n.replace(/./,e=>e.toUpperCase())},SL=function(n,e){return Wn(n)===Wn(e)};var gse=Object.freeze({__proto__:null,toLowerCase:Ep,toTitleCase:Wn,titleCaseEquals:SL});class je{constructor(e,i,o){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Cn({},this.options_),i=this.options_=Cn(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){const a=e&&e.id&&e.id()||"no_player";this.id_=`${a}_component_${Rs()}`}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(a=>this.addClass(a)),["on","off","one","any","trigger"].forEach(a=>{this[a]=void 0}),i.evented!==!1&&(q1(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),EL(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(o),i.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,i){}off(e,i){}one(e,i){}any(e,i){}trigger(e,i){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Cn(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,i,o){return Ot(e,i,o)}localize(e,i,o=e){const a=this.player_.language&&this.player_.language(),u=this.player_.languages&&this.player_.languages(),d=u&&u[a],p=a&&a.split("-")[0],m=u&&u[p];let k=o;return d&&d[e]?k=d[e]:m&&m[e]&&(k=m[e]),i&&(k=k.replace(/\{(\d+)\}/g,function(w,y){const T=i[y-1];let E=T;return typeof T>"u"&&(E=w),E})),k}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((o,a)=>o.concat(a),[]);let i=this;for(let o=0;o<e.length;o++)if(i=i.getChild(e[o]),!i||!i.getChild)return;return i}setIcon(e,i=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const o="http://www.w3.org/2000/svg",a=Ot("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),u=et.createElementNS(o,"svg");u.setAttributeNS(null,"viewBox","0 0 512 512");const d=et.createElementNS(o,"use");return u.appendChild(d),d.setAttributeNS(null,"href",`#vjs-icon-${e}`),a.appendChild(u),this.iconIsSet_?i.replaceChild(a,i.querySelector(".vjs-icon-placeholder")):i.appendChild(a),this.iconIsSet_=!0,a}addChild(e,i={},o=this.children_.length){let a,u;if(typeof e=="string"){u=Wn(e);const d=i.componentClass||u;i.name=u;const p=je.getComponent(d);if(!p)throw new Error(`Component ${d} does not exist`);if(typeof p!="function")return null;a=new p(this.player_||this,i)}else a=e;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(o,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),u=u||a.name&&Wn(a.name()),u&&(this.childNameIndex_[u]=a,this.childNameIndex_[Ep(u)]=a),typeof a.el=="function"&&a.el()){let d=null;this.children_[o+1]&&(this.children_[o+1].el_?d=this.children_[o+1].el_:Uh(this.children_[o+1])&&(d=this.children_[o+1])),this.contentEl().insertBefore(a.el(),d)}return a}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let i=!1;for(let a=this.children_.length-1;a>=0;a--)if(this.children_[a]===e){i=!0,this.children_.splice(a,1);break}if(!i)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Wn(e.name())]=null,this.childNameIndex_[Ep(e.name())]=null;const o=e.el();o&&o.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const i=this.options_,o=d=>{const p=d.name;let m=d.opts;if(i[p]!==void 0&&(m=i[p]),m===!1)return;m===!0&&(m={}),m.playerOptions=this.options_.playerOptions;const k=this.addChild(p,m);k&&(this[p]=k)};let a;const u=je.getComponent("Tech");Array.isArray(e)?a=e:a=Object.keys(e),a.concat(Object.keys(this.options_).filter(function(d){return!a.some(function(p){return typeof p=="string"?d===p:d===p.name})})).map(d=>{let p,m;return typeof d=="string"?(p=d,m=e[p]||this.options_[p]||{}):(p=d.name,m=d),{name:p,opts:m}}).filter(d=>{const p=je.getComponent(d.opts.componentClass||Wn(d.name));return p&&!u.isTech(p)}).forEach(o)}}buildCSSClass(){return""}ready(e,i=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}i?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)}$(e,i){return Fl(e,i||this.contentEl())}$$(e,i){return kL(e,i||this.contentEl())}hasClass(e){return xp(this.el_,e)}addClass(...e){_u(this.el_,...e)}removeClass(...e){yk(this.el_,...e)}toggleClass(e,i){uL(this.el_,e,i)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return hL(this.el_,e)}setAttribute(e,i){Eh(this.el_,e,i)}removeAttribute(e){wk(this.el_,e)}width(e,i){return this.dimension("width",e,i)}height(e,i){return this.dimension("height",e,i)}dimensions(e,i){this.width(e,!0),this.height(i)}dimension(e,i,o){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[e]=i:i==="auto"?this.el_.style[e]="":this.el_.style[e]=i+"px",o||this.trigger("componentresize");return}if(!this.el_)return 0;const a=this.el_.style[e],u=a.indexOf("px");return parseInt(u!==-1?a.slice(0,u):this.el_["offset"+Wn(e)],10)}currentDimension(e){let i=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(i=Dh(this.el_,e),i=parseFloat(i),i===0||isNaN(i)){const o=`offset${Wn(e)}`;i=this.el_[o]}return i}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(Pt.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,i=null;const o=10,a=200;let u;this.on("touchstart",function(p){p.touches.length===1&&(i={pageX:p.touches[0].pageX,pageY:p.touches[0].pageY},e=me.performance.now(),u=!0)}),this.on("touchmove",function(p){if(p.touches.length>1)u=!1;else if(i){const m=p.touches[0].pageX-i.pageX,k=p.touches[0].pageY-i.pageY;Math.sqrt(m*m+k*k)>o&&(u=!1)}});const d=function(){u=!1};this.on("touchleave",d),this.on("touchcancel",d),this.on("touchend",function(p){i=null,u===!0&&me.performance.now()-e<a&&(p.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=An(this.player(),this.player().reportUserActivity);let i;this.on("touchstart",function(){e(),this.clearInterval(i),i=this.setInterval(e,250)});const o=function(a){e(),this.clearInterval(i)};this.on("touchmove",e),this.on("touchend",o),this.on("touchcancel",o)}setTimeout(e,i){var o;return e=An(this,e),this.clearTimersOnDispose_(),o=me.setTimeout(()=>{this.setTimeoutIds_.has(o)&&this.setTimeoutIds_.delete(o),e()},i),this.setTimeoutIds_.add(o),o}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),me.clearTimeout(e)),e}setInterval(e,i){e=An(this,e),this.clearTimersOnDispose_();const o=me.setInterval(e,i);return this.setIntervalIds_.add(o),o}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),me.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var i;return e=An(this,e),i=me.requestAnimationFrame(()=>{this.rafIds_.has(i)&&this.rafIds_.delete(i),e()}),this.rafIds_.add(i),i}requestNamedAnimationFrame(e,i){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),i=An(this,i);const o=this.requestAnimationFrame(()=>{i(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,o),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),me.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,i])=>{this[e].forEach((o,a)=>this[i](a))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(e,i){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const o=je.getComponent("Tech"),a=o&&o.isTech(i),u=je===i||je.prototype.isPrototypeOf(i.prototype);if(a||!u){let p;throw a?p="techs must be registered using Tech.registerTech()":p="must be a Component subclass",new Error(`Illegal component, "${e}"; ${p}.`)}e=Wn(e),je.components_||(je.components_={});const d=je.getComponent("Player");if(e==="Player"&&d&&d.players){const p=d.players,m=Object.keys(p);if(p&&m.length>0&&m.map(k=>p[k]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return je.components_[e]=i,je.components_[Ep(e)]=i,i}static getComponent(e){if(!(!e||!je.components_))return je.components_[e]}}je.registerComponent("Component",je);function bse(n,e,i){if(typeof e!="number"||e<0||e>i)throw new Error(`Failed to execute '${n}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${i}).`)}function hM(n,e,i,o){return bse(n,o,i.length-1),i[o][e]}function ay(n){let e;return n===void 0||n.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:n.length,start:hM.bind(null,"start",0,n),end:hM.bind(null,"end",1,n)},me.Symbol&&me.Symbol.iterator&&(e[me.Symbol.iterator]=()=>(n||[]).values()),e}function Ps(n,e){return Array.isArray(n)?ay(n):n===void 0||e===void 0?ay():ay([[n,e]])}const DL=function(n,e){n=n<0?0:n;let i=Math.floor(n%60),o=Math.floor(n/60%60),a=Math.floor(n/3600);const u=Math.floor(e/60%60),d=Math.floor(e/3600);return(isNaN(n)||n===1/0)&&(a=o=i="-"),a=a>0||d>0?a+":":"",o=((a||u>=10)&&o<10?"0"+o:o)+":",i=i<10?"0"+i:i,a+o+i};let W1=DL;function IL(n){W1=n}function ML(){W1=DL}function Bu(n,e=n){return W1(n,e)}var kse=Object.freeze({__proto__:null,createTimeRanges:Ps,createTimeRange:Ps,setFormatTime:IL,resetFormatTime:ML,formatTime:Bu});function PL(n,e){let i=0,o,a;if(!e)return 0;(!n||!n.length)&&(n=Ps(0,0));for(let u=0;u<n.length;u++)o=n.start(u),a=n.end(u),a>e&&(a=e),i+=a-o;return i/e}function rr(n){if(n instanceof rr)return n;typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:Bs(n)&&(typeof n.code=="number"&&(this.code=n.code),Object.assign(this,n)),this.message||(this.message=rr.defaultMessages[this.code]||"")}rr.prototype.code=0;rr.prototype.message="";rr.prototype.status=null;rr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];rr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let n=0;n<rr.errorTypes.length;n++)rr[rr.errorTypes[n]]=n,rr.prototype[rr.errorTypes[n]]=n;function Sp(n){return n!=null&&typeof n.then=="function"}function Cs(n){Sp(n)&&n.then(null,e=>{})}const pw=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((i,o,a)=>(n[o]&&(i[o]=n[o]),i),{cues:n.cues&&Array.prototype.map.call(n.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},vse=function(n){const e=n.$$("track"),i=Array.prototype.map.call(e,a=>a.track);return Array.prototype.map.call(e,function(a){const u=pw(a.track);return a.src&&(u.src=a.src),u}).concat(Array.prototype.filter.call(n.textTracks(),function(a){return i.indexOf(a)===-1}).map(pw))},_se=function(n,e){return n.forEach(function(i){const o=e.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(a=>o.addCue(a))}),e.textTracks()};var fM={textTracksToJson:vse,jsonToTextTracks:_se,trackToJson_:pw};const ly="vjs-modal-dialog";class $h extends je{constructor(e,i){super(e,i),this.handleKeyDown_=o=>this.handleKeyDown(o),this.close_=o=>this.close(o),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=Ot("div",{className:`${ly}-content`},{role:"document"}),this.descEl_=Ot("p",{className:`${ly}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),ql(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${ly} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(!this.opened_){const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const i=this.closeable_=!!e;let o=this.getChild("closeButton");if(i&&!o){const a=this.contentEl_;this.contentEl_=this.el_,o=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=a,this.on(o,"close",this.close_)}!i&&o&&(this.off(o,"close",this.close_),this.removeChild(o),o.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const i=this.contentEl(),o=i.parentNode,a=i.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,o.removeChild(i),this.empty(),bL(i,e),this.trigger("modalfill"),a?o.insertBefore(i,a):o.appendChild(i);const u=this.getChild("closeButton");u&&o.appendChild(u.el_)}empty(){this.trigger("beforemodalempty"),Ak(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=et.activeElement,i=this.player_.el_;this.previouslyActiveEl_=null,(i.contains(e)||i===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),Pt.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(!Pt.isEventKey(e,"Tab"))return;const i=this.focusableEls_(),o=this.el_.querySelector(":focus");let a;for(let u=0;u<i.length;u++)if(o===i[u]){a=u;break}et.activeElement===this.el_&&(a=0),e.shiftKey&&a===0?(i[i.length-1].focus(),e.preventDefault()):!e.shiftKey&&a===i.length-1&&(i[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,i=>(i instanceof me.HTMLAnchorElement||i instanceof me.HTMLAreaElement)&&i.hasAttribute("href")||(i instanceof me.HTMLInputElement||i instanceof me.HTMLSelectElement||i instanceof me.HTMLTextAreaElement||i instanceof me.HTMLButtonElement)&&!i.hasAttribute("disabled")||i instanceof me.HTMLIFrameElement||i instanceof me.HTMLObjectElement||i instanceof me.HTMLEmbedElement||i.hasAttribute("tabindex")&&i.getAttribute("tabindex")!==-1||i.hasAttribute("contenteditable"))}}$h.prototype.options_={pauseOnOpen:!0,temporary:!0};je.registerComponent("ModalDialog",$h);class Ih extends bo{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let i=0;i<e.length;i++)this.addTrack(e[i])}addTrack(e){const i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.tracks_[i]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},xa(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let i;for(let o=0,a=this.length;o<a;o++)if(this[o]===e){i=this[o],i.off&&i.off(),this.tracks_.splice(o,1);break}i&&this.trigger({track:i,type:"removetrack",target:this})}getTrackById(e){let i=null;for(let o=0,a=this.length;o<a;o++){const u=this[o];if(u.id===e){i=u;break}}return i}}Ih.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const n in Ih.prototype.allowedEvents_)Ih.prototype["on"+n]=null;const cy=function(n,e){for(let i=0;i<n.length;i++)!Object.keys(n[i]).length||e.id===n[i].id||(n[i].enabled=!1)};class yse extends Ih{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].enabled){cy(e,e[i]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&cy(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,cy(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const uy=function(n,e){for(let i=0;i<n.length;i++)!Object.keys(n[i]).length||e.id===n[i].id||(n[i].selected=!1)};class wse extends Ih{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].selected){uy(e,e[i]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let i=0;i<this.length;i++)if(this[i].selected)return i;return-1},set(){}})}addTrack(e){e.selected&&uy(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,uy(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class NL extends Ih{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class Cse{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let i=0,o=e.length;i<o;i++)this.addTrackElement_(e[i])}addTrackElement_(e){const i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.trackElements_[i]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let i;for(let o=0,a=this.trackElements_.length;o<a;o++)if(e===this.trackElements_[o].track){i=this.trackElements_[o];break}return i}removeTrackElement_(e){for(let i=0,o=this.trackElements_.length;i<o;i++)if(e===this.trackElements_[i]){this.trackElements_[i].track&&typeof this.trackElements_[i].track.off=="function"&&this.trackElements_[i].track.off(),typeof this.trackElements_[i].off=="function"&&this.trackElements_[i].off(),this.trackElements_.splice(i,1);break}}}class eb{constructor(e){eb.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const i=this.length||0;let o=0;const a=e.length;this.cues_=e,this.length_=e.length;const u=function(d){""+d in this||Object.defineProperty(this,""+d,{get(){return this.cues_[d]}})};if(i<a)for(o=i;o<a;o++)u.call(this,o)}getCueById(e){let i=null;for(let o=0,a=this.length;o<a;o++){const u=this[o];if(u.id===e){i=u;break}}return i}}const Ase={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Tse={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},xse={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},pM={disabled:"disabled",hidden:"hidden",showing:"showing"};class G1 extends bo{constructor(e={}){super();const i={id:e.id||"vjs_track_"+Rs(),kind:e.kind||"",language:e.language||""};let o=e.label||"";for(const a in i)Object.defineProperty(this,a,{get(){return i[a]},set(){}});Object.defineProperty(this,"label",{get(){return o},set(a){a!==o&&(o=a,this.trigger("labelchange"))}})}}const K1=function(n){const e=["protocol","hostname","port","pathname","search","hash","host"],i=et.createElement("a");i.href=n;const o={};for(let a=0;a<e.length;a++)o[e[a]]=i[e[a]];return o.protocol==="http:"&&(o.host=o.host.replace(/:80$/,"")),o.protocol==="https:"&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=me.location.protocol),o.host||(o.host=me.location.host),o},BL=function(n){if(!n.match(/^https?:\/\//)){const e=et.createElement("a");e.href=n,n=e.href}return n},Y1=function(n){if(typeof n=="string"){const i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(n);if(i)return i.pop().toLowerCase()}return""},Sk=function(n,e=me.location){const i=K1(n);return(i.protocol===":"?e.protocol:i.protocol)+i.host!==e.protocol+e.host};var Ese=Object.freeze({__proto__:null,parseUrl:K1,getAbsoluteURL:BL,getFileExtension:Y1,isCrossOrigin:Sk});const mM=function(n,e){const i=new me.WebVTT.Parser(me,me.vttjs,me.WebVTT.StringDecoder()),o=[];i.oncue=function(a){e.addCue(a)},i.onparsingerror=function(a){o.push(a)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(n),o.length>0&&(me.console&&me.console.groupCollapsed&&me.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),o.forEach(a=>jt.error(a)),me.console&&me.console.groupEnd&&me.console.groupEnd()),i.flush()},gM=function(n,e){const i={uri:n},o=Sk(n);o&&(i.cors=o);const a=e.tech_.crossOrigin()==="use-credentials";a&&(i.withCredentials=a),tO(i,An(this,function(u,d,p){if(u)return jt.error(u,d);e.loaded_=!0,typeof me.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],m=>{if(m.type==="vttjserror"){jt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return mM(p,e)}):mM(p,e)}))};class Nm extends G1{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const i=Cn(e,{kind:xse[e.kind]||"subtitles",language:e.language||e.srclang||""});let o=pM[i.mode]||"disabled";const a=i.default;(i.kind==="metadata"||i.kind==="chapters")&&(o="hidden"),super(i),this.tech_=i.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const u=new eb(this.cues_),d=new eb(this.activeCues_);let p=!1;this.timeupdateHandler=An(this,function(k={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){k.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,p&&(this.trigger("cuechange"),p=!1),k.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const m=()=>{this.stopTracking()};this.tech_.one("dispose",m),o!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return a},set(){}},mode:{get(){return o},set(k){pM[k]&&o!==k&&(o=k,!this.preload_&&o!=="disabled"&&this.cues.length===0&&gM(this.src,this),this.stopTracking(),o!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?u:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return d;const k=this.tech_.currentTime(),w=[];for(let y=0,T=this.cues.length;y<T;y++){const E=this.cues[y];E.startTime<=k&&E.endTime>=k&&w.push(E)}if(p=!1,w.length!==this.activeCues_.length)p=!0;else for(let y=0;y<w.length;y++)this.activeCues_.indexOf(w[y])===-1&&(p=!0);return this.activeCues_=w,d.setCues_(this.activeCues_),d},set(){}}}),i.src?(this.src=i.src,this.preload_||(this.loaded_=!0),(this.preload_||i.kind!=="subtitles"&&i.kind!=="captions")&&gM(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let i=e;if(i.constructor&&i.constructor.name!=="VTTCue"){i=new me.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const a in e)a in i||(i[a]=e[a]);i.id=e.id,i.originalCue_=e}const o=this.tech_.textTracks();for(let a=0;a<o.length;a++)o[a]!==this&&o[a].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)}removeCue(e){let i=this.cues_.length;for(;i--;){const o=this.cues_[i];if(o===e||o.originalCue_&&o.originalCue_===e){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}}}Nm.prototype.allowedEvents_={cuechange:"cuechange"};class OL extends G1{constructor(e={}){const i=Cn(e,{kind:Tse[e.kind]||""});super(i);let o=!1;Object.defineProperty(this,"enabled",{get(){return o},set(a){typeof a!="boolean"||a===o||(o=a,this.trigger("enabledchange"))}}),i.enabled&&(this.enabled=i.enabled),this.loaded_=!0}}class LL extends G1{constructor(e={}){const i=Cn(e,{kind:Ase[e.kind]||""});super(i);let o=!1;Object.defineProperty(this,"selected",{get(){return o},set(a){typeof a!="boolean"||a===o||(o=a,this.trigger("selectedchange"))}}),i.selected&&(this.selected=i.selected)}}class Ba extends bo{constructor(e={}){super();let i;const o=new Nm(e);this.kind=o.kind,this.src=o.src,this.srclang=o.language,this.label=o.label,this.default=o.default,Object.defineProperties(this,{readyState:{get(){return i}},track:{get(){return o}}}),i=Ba.NONE,o.addEventListener("loadeddata",()=>{i=Ba.LOADED,this.trigger({type:"load",target:this})})}}Ba.prototype.allowedEvents_={load:"load"};Ba.NONE=0;Ba.LOADING=1;Ba.LOADED=2;Ba.ERROR=3;const ho={audio:{ListClass:yse,TrackClass:OL,capitalName:"Audio"},video:{ListClass:wse,TrackClass:LL,capitalName:"Video"},text:{ListClass:NL,TrackClass:Nm,capitalName:"Text"}};Object.keys(ho).forEach(function(n){ho[n].getterName=`${n}Tracks`,ho[n].privateName=`${n}Tracks_`});const Mh={remoteText:{ListClass:NL,TrackClass:Nm,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Cse,TrackClass:Ba,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Ji=Object.assign({},ho,Mh);Mh.names=Object.keys(Mh);ho.names=Object.keys(ho);Ji.names=[].concat(Mh.names).concat(ho.names);function Sse(n,e,i,o,a={}){const u=n.textTracks();a.kind=e,i&&(a.label=i),o&&(a.language=o),a.tech=n;const d=new Ji.text.TrackClass(a);return u.addTrack(d),d}class Nt extends je{constructor(e={},i=function(){}){e.reportTouchActivity=!1,super(null,e,i),this.onDurationChange_=o=>this.onDurationChange(o),this.trackProgress_=o=>this.trackProgress(o),this.trackCurrentTime_=o=>this.trackCurrentTime(o),this.stopTrackingCurrentTime_=o=>this.stopTrackingCurrentTime(o),this.disposeSourceHandler_=o=>this.disposeSourceHandler(o),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Ji.names.forEach(o=>{const a=Ji[o];e&&e[a.getterName]&&(this[a.privateName]=e[a.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(o=>{e[`native${o}Tracks`]===!1&&(this[`featuresNative${o}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Ji.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(An(this,function(){const i=this.bufferedPercent();this.bufferedPercent_!==i&&this.trigger("progress"),this.bufferedPercent_=i,i===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Ps(0,0)}bufferedPercent(){return PL(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(ho.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(i=>{const o=this[`${i}Tracks`]()||[];let a=o.length;for(;a--;){const u=o[a];i==="text"&&this.removeRemoteTextTrack(u),o.removeTrack(u)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let i=e.length;for(;i--;){const o=e[i];this.removeRemoteTextTrack(o)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new rr(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Ps(0,0):Ps()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){ho.names.forEach(e=>{const i=ho[e],o=()=>{this.trigger(`${e}trackchange`)},a=this[i.getterName]();a.addEventListener("removetrack",o),a.addEventListener("addtrack",o),this.on("dispose",()=>{a.removeEventListener("removetrack",o),a.removeEventListener("addtrack",o)})})}addWebVttScript_(){if(!me.WebVTT)if(et.body.contains(this.el())){if(!this.options_["vtt.js"]&&xh(N3)&&Object.keys(N3).length>0){this.trigger("vttjsloaded");return}const e=et.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),me.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),i=this.remoteTextTracks(),o=p=>e.addTrack(p.track),a=p=>e.removeTrack(p.track);i.on("addtrack",o),i.on("removetrack",a),this.addWebVttScript_();const u=()=>this.trigger("texttrackchange"),d=()=>{u();for(let p=0;p<e.length;p++){const m=e[p];m.removeEventListener("cuechange",u),m.mode==="showing"&&m.addEventListener("cuechange",u)}};d(),e.addEventListener("change",d),e.addEventListener("addtrack",d),e.addEventListener("removetrack",d),this.on("dispose",function(){i.off("addtrack",o),i.off("removetrack",a),e.removeEventListener("change",d),e.removeEventListener("addtrack",d),e.removeEventListener("removetrack",d);for(let p=0;p<e.length;p++)e[p].removeEventListener("cuechange",u)})}addTextTrack(e,i,o){if(!e)throw new Error("TextTrack kind is required but was not provided");return Sse(this,e,i,o)}createRemoteTextTrack(e){const i=Cn(e,{tech:this});return new Mh.remoteTextEl.TrackClass(i)}addRemoteTextTrack(e={},i){const o=this.createRemoteTextTrack(e);return typeof i!="boolean"&&(i=!1),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),i===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(o.track)),o}removeRemoteTextTrack(e){const i=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const i=Rs();return!this.isReady_||this.paused()?(this.queuedHanders_.add(i),this.one("playing",()=>{this.queuedHanders_.has(i)&&(this.queuedHanders_.delete(i),e())})):this.requestNamedAnimationFrame(i,e),i}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,i){return Nt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Nt||e instanceof Nt||e===Nt}static registerTech(e,i){if(Nt.techs_||(Nt.techs_={}),!Nt.isTech(i))throw new Error(`Tech ${e} must be a Tech`);if(!Nt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Nt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Wn(e),Nt.techs_[e]=i,Nt.techs_[Ep(e)]=i,e!=="Tech"&&Nt.defaultTechOrder_.push(e),i}static getTech(e){if(e){if(Nt.techs_&&Nt.techs_[e])return Nt.techs_[e];if(e=Wn(e),me&&me.videojs&&me.videojs[e])return jt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),me.videojs[e]}}}Ji.names.forEach(function(n){const e=Ji[n];Nt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Nt.prototype.featuresVolumeControl=!0;Nt.prototype.featuresMuteControl=!0;Nt.prototype.featuresFullscreenResize=!1;Nt.prototype.featuresPlaybackRate=!1;Nt.prototype.featuresProgressEvents=!1;Nt.prototype.featuresSourceset=!1;Nt.prototype.featuresTimeupdateEvents=!1;Nt.prototype.featuresNativeTextTracks=!1;Nt.prototype.featuresVideoFrameCallback=!1;Nt.withSourceHandlers=function(n){n.registerSourceHandler=function(i,o){let a=n.sourceHandlers;a||(a=n.sourceHandlers=[]),o===void 0&&(o=a.length),a.splice(o,0,i)},n.canPlayType=function(i){const o=n.sourceHandlers||[];let a;for(let u=0;u<o.length;u++)if(a=o[u].canPlayType(i),a)return a;return""},n.selectSourceHandler=function(i,o){const a=n.sourceHandlers||[];let u;for(let d=0;d<a.length;d++)if(u=a[d].canHandleSource(i,o),u)return a[d];return null},n.canPlaySource=function(i,o){const a=n.selectSourceHandler(i,o);return a?a.canHandleSource(i,o):""},["seekable","seeking","duration"].forEach(function(i){const o=this[i];typeof o=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):o.apply(this,arguments)})},n.prototype),n.prototype.setSource=function(i){let o=n.selectSourceHandler(i,this.options_);o||(n.nativeSourceHandler?o=n.nativeSourceHandler:jt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),o!==n.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=o.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};je.registerComponent("Tech",Nt);Nt.registerTech("Tech",Nt);Nt.defaultTechOrder_=[];const yu={},mw={},tb={};function Dse(n,e){yu[n]=yu[n]||[],yu[n].push(e)}function Ise(n,e,i){n.setTimeout(()=>Xc(e,yu[e.type],i,n),1)}function Mse(n,e){n.forEach(i=>i.setTech&&i.setTech(e))}function Pse(n,e,i){return n.reduceRight(Q1(i),e[i]())}function Nse(n,e,i,o){return e[i](n.reduce(Q1(i),o))}function bM(n,e,i,o=null){const a="call"+Wn(i),u=n.reduce(Q1(a),o),d=u===tb,p=d?null:e[i](u);return Lse(n,i,p,d),p}const Bse={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Ose={setCurrentTime:1,setMuted:1,setVolume:1},kM={play:1,pause:1};function Q1(n){return(e,i)=>e===tb?tb:i[n]?i[n](e):e}function Lse(n,e,i,o){for(let a=n.length-1;a>=0;a--){const u=n[a];u[e]&&u[e](o,i)}}function Rse(n){mw[n.id()]=null}function Fse(n,e){const i=mw[n.id()];let o=null;if(i==null)return o=e(n),mw[n.id()]=[[e,o]],o;for(let a=0;a<i.length;a++){const[u,d]=i[a];u===e&&(o=d)}return o===null&&(o=e(n),i.push([e,o])),o}function Xc(n={},e=[],i,o,a=[],u=!1){const[d,...p]=e;if(typeof d=="string")Xc(n,yu[d],i,o,a,u);else if(d){const m=Fse(o,d);if(!m.setSource)return a.push(m),Xc(n,p,i,o,a,u);m.setSource(Object.assign({},n),function(k,w){if(k)return Xc(n,p,i,o,a,u);a.push(m),Xc(w,n.type===w.type?p:yu[w.type],i,o,a,u)})}else p.length?Xc(n,p,i,o,a,u):u?i(n,a):Xc(n,yu["*"],i,o,a,!0)}const jse={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},nb=function(n=""){const e=Y1(n);return jse[e.toLowerCase()]||""},zse=(n,e)=>{if(!e)return"";if(n.cache_.source.src===e&&n.cache_.source.type)return n.cache_.source.type;const i=n.cache_.sources.filter(a=>a.src===e);if(i.length)return i[0].type;const o=n.$$("source");for(let a=0;a<o.length;a++){const u=o[a];if(u.type&&u.src&&u.src===e)return u.type}return nb(e)},RL=function(n){if(Array.isArray(n)){let e=[];n.forEach(function(i){i=RL(i),Array.isArray(i)?e=e.concat(i):Bs(i)&&e.push(i)}),n=e}else typeof n=="string"&&n.trim()?n=[vM({src:n})]:Bs(n)&&typeof n.src=="string"&&n.src&&n.src.trim()?n=[vM(n)]:n=[];return n};function vM(n){if(!n.type){const e=nb(n.src);e&&(n.type=e)}return n}var Vse=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 16 16" id="vjs-icon-play">
      <path d="M2 1v14l12-7z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-pause">
       <path d="M10 4H5v16h5V4zm9 0h-5v16h5V4z"/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-audio">
      <g><rect fill='none' height='24' width='24'/></g><g><path d='M12,3c-4.97,0-9,4.03-9,9v7c0,1.1,0.9,2,2,2h4v-8H5v-1c0-3.87,3.13-7,7-7s7,3.13,7,7v1h-4v8h4c1.1,0,2-0.9,2-2v-7 C21,7.03,16.97,3,12,3z'/></g>
    </symbol>
    <symbol viewBox="0 0 576 512" id="vjs-icon-captions">
      <path d='M0 96C0 60.7 28.7 32 64 32H512c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM200 208c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48s21.5-48 48-48zm144 48c0-26.5 21.5-48 48-48c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-subtitles">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z'/>
    </symbol>
    <symbol viewBox="0 0 448 512" id="vjs-icon-fullscreen-enter">
      <path d='M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-fullscreen-exit">
      <path d="M16,9h5a1,1,0,0,0,0-2H17V3a1,1,0,0,0-2,0V8A1,1,0,0,0,16,9ZM8,15H3a1,1,0,0,0,0,2H7v4a1,1,0,0,0,2,0V16A1,1,0,0,0,8,15ZM8,2A1,1,0,0,0,7,3V7H3A1,1,0,0,0,3,9H8A1,1,0,0,0,9,8V3A1,1,0,0,0,8,2ZM21,15H16a1,1,0,0,0-1,1v5a1,1,0,0,0,2,0V17h4a1,1,0,0,0,0-2Z"/>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-play-circle">
      <path d='M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c7.6-4.2 16.8-4.1 24.3 .5l144 88c7.1 4.4 11.5 12.1 11.5 20.5s-4.4 16.1-11.5 20.5l-144 88c-7.4 4.5-16.7 4.7-24.3 .5s-12.3-12.2-12.3-20.9V168c0-8.7 4.7-16.7 12.3-20.9z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-mute">
      <path d='M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-low">
      <path d="M0 0h24v24H0z" fill="none"/><path d="M7 9v6h4l5 5V4l-5 5H7z"/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-medium">
      <path d="M0 0h24v24H0z" fill="none"/><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-high">
      <path d="M0 0h24v24H0z" fill="none"/><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-spinner">
      <path d='M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d='M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-chapters">
      <path d='M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-downloading">
      <path d='M18.32,4.26C16.84,3.05,15.01,2.25,13,2.05v2.02c1.46,0.18,2.79,0.76,3.9,1.62L18.32,4.26z M19.93,11h2.02 c-0.2-2.01-1-3.84-2.21-5.32L18.31,7.1C19.17,8.21,19.75,9.54,19.93,11z M18.31,16.9l1.43,1.43c1.21-1.48,2.01-3.32,2.21-5.32 h-2.02C19.75,14.46,19.17,15.79,18.31,16.9z M13,19.93v2.02c2.01-0.2,3.84-1,5.32-2.21l-1.43-1.43 C15.79,19.17,14.46,19.75,13,19.93z M15.59,10.59L13,13.17V7h-2v6.17l-2.59-2.59L7,12l5,5l5-5L15.59,10.59z M11,19.93v2.02 c-5.05-0.5-9-4.76-9-9.95s3.95-9.45,9-9.95v2.02C7.05,4.56,4,7.92,4,12S7.05,19.44,11,19.93z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download">
      <path d='M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M17,11l-1.41-1.41L13,12.17V4h-2v8.17L8.41,9.59L7,11l5,5 L17,11z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download-done">
      <polygon points='20.13,5.41 18.72,4 9.53,13.19 5.28,8.95 3.87,10.36 9.53,16.02'/><rect height='2' width='14' x='5' y='18'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download-off">
      <path d='M18,15.17V15h2v2.17L18,15.17z M15.41,12.59L17,11l-1.41-1.41L14,11.17L15.41,12.59z M13,10.17V4h-2v4.17L13,10.17z M21.19,21.19l-1.78-1.78L2.81,2.81L1.39,4.22l6.19,6.19L7,11l5,5l0.59-0.59L15.17,18H6v-3H4v3c0,1.1,0.9,2,2,2h11.17l2.61,2.61 L21.19,21.19z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-share">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-cog">
      <path d='M0,0h24v24H0V0z' fill='none'/><path d='M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z'/>
    </symbol>
    <symbol viewBox="0 0 448 512" id="vjs-icon-square">
      <path d='M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z'/>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-circle">
      <path d='M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-circle-outline">
      <path d='M12,2C6.47,2,2,6.47,2,12c0,5.53,4.47,10,10,10s10-4.47,10-10C22,6.47,17.53,2,12,2z M12,20c-4.42,0-8-3.58-8-8 c0-4.42,3.58-8,8-8s8,3.58,8,8C20,16.42,16.42,20,12,20z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-circle-inner-circle">
      <path d='M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-cancel">
      <path d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-repeat">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-replay">
      <path d='M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d='m17.68852 98-8.69633 8.69633 8.69633 8.69634 2.48665-2.48434-4.31928-4.31928h1.3011c4.93015 0 9.07149 1.72189 12.42399 5.16511 3.35251 3.44322 5.02876 7.63753 5.02876 12.58345h3.54972c0-2.95809-.55264-5.7293-1.657-8.3127-1.10435-2.5834-2.62238-4.84095-4.555-6.77357-1.93262-1.93262-4.19017-3.45065-6.77357-4.55501-2.5834-1.10435-5.35462-1.65699-8.31271-1.65699H15.5l4.61508-4.61509zm-8.07929 21.65879v13.86144h11.35631v5.00796H9.60923V143h12.699c.83466 0 1.55075-.29818 2.14693-.89436.59619-.59619.89436-1.30996.89436-2.14462v-7.78117c0-.83466-.29817-1.55075-.89436-2.14693-.59618-.59618-1.31227-.89436-2.14693-.89436h-8.22719v-5.09578h11.26848v-4.38399z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d='M42.314792 125.62978c0-4.99676-1.693476-9.23445-5.080438-12.71305-3.386962-3.47861-7.570851-5.21791-12.551676-5.21791h-1.314946l4.363203 4.3632-2.510335 2.51034-8.786174-8.78619L25.2206 97l2.450567 2.45057-4.662053 4.66205h1.374714c2.988489 0 5.787713.55785 8.397671 1.67355 2.609949 1.11571 4.891163 2.64981 6.843654 4.60229 1.952481 1.95248 3.486576 4.2337 4.602275 6.84365 1.115709 2.60995 1.673563 5.40917 1.673563 8.39767zM8.1829433 142v-19.65677H3.17603v-4.5433h9.642939V142Zm13.6299297 0c-1.155923 0-2.126398-.39251-2.911424-1.17755-.778861-.77885-1.168286-1.74624-1.168286-2.90215v-16.04066c0-1.15593.392524-2.1264 1.17755-2.91144.77886-.77885 1.746237-1.16827 2.90216-1.16827h7.695814c1.155914 0 2.126388.39251 2.911425 1.17755.77885.77886 1.168275 1.74623 1.168275 2.90216v16.04066c0 1.15591-.392513 2.12639-1.177549 2.91142-.778851.77885-1.746237 1.16828-2.902151 1.16828Zm.556316-4.63603h6.583172v-15.02074h-6.583172z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d='m26.046875 97-8.732422 8.73242 8.732422 8.73242 2.496094-2.49414-4.335938-4.33789h1.306641c4.950749 0 9.108097 1.72991 12.474609 5.1875 3.366504 3.4576 5.050781 7.66818 5.050781 12.63477h3.564454c0-2.97045-.555098-5.75152-1.664063-8.3457-1.108965-2.59419-2.633522-4.86205-4.574219-6.80274-1.940688-1.94069-4.208545-3.46525-6.802734-4.57422-2.59419-1.10897-5.375262-1.66406-8.345703-1.66406h-1.367188l4.634766-4.63477zM2.5546875 117.53125v4.6875H12.851562v5.25H5.8730469v4.6875h6.9785151v5.15625H2.5546875V142H13.361328c1.06088 0 1.950319-.39495 2.667969-1.18555.71765-.79059 1.076172-1.7727 1.076172-2.9414v-16.2168c0-1.1687-.358522-2.14886-1.076172-2.93945-.71765-.79059-1.607089-1.18555-2.667969-1.18555zm22.4824215.14063c-1.148936 0-2.110612.38991-2.884765 1.16406-.780292.78029-1.171875 1.74365-1.171875 2.89258v15.94336c0 1.14892.387966 2.1106 1.162109 2.88476.780302.78029 1.745595 1.17188 2.894531 1.17188h7.648438c1.148936 0 2.110613-.38795 2.884765-1.16211.780294-.78029 1.169922-1.74561 1.169922-2.89453v-15.94336c0-1.14893-.386013-2.11061-1.160156-2.88477-.780293-.78029-1.745595-1.17187-2.894531-1.17187zm.552735 4.51757h6.544922v14.92969h-6.544922z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d='m29.50843 97-2.43193 2.42962 4.6253 4.6253h-1.3642c-2.96464 0-5.74198.55386-8.3311 1.66066-2.58912 1.1068-4.85167 2.62819-6.78857 4.56508-1.93689 1.9369-3.45828 4.19945-4.56508 6.78857-1.1068 2.58911-1.66066 5.36646-1.66066 8.3311h3.55757c0-4.95687 1.67996-9.16047 5.03989-12.6113 3.35992-3.45084 7.51042-5.17654 12.45149-5.17654h1.30398l-4.32653 4.32883 2.48984 2.48984 8.71558-8.71558zm-9.78332 21.60945v13.8898h11.38144v5.01905H19.72511V142h12.72711c.83651 0 1.55186-.29884 2.14937-.89634.5975-.59751.89634-1.31286.89634-2.14936v-7.7984c0-.83651-.29884-1.55418-.89634-2.15168-.59751-.5975-1.31286-.89634-2.14937-.89634h-8.2454v-5.10706h11.29111v-4.39137z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d='m23.118923 97-2.385761 2.38349 4.537491 4.53749h-1.338298c-2.908354 0-5.632974.54335-8.172936 1.62913-2.539963 1.08579-4.759558 2.57829-6.659682 4.47842-1.900125 1.90012-3.39263 4.11972-4.478415 6.65968-1.085785 2.53996-1.629134 5.26458-1.629134 8.17294h3.490028c0-4.86277 1.648071-8.98656 4.944206-12.37188 3.296134-3.38532 7.367841-5.07826 12.215097-5.07826h1.279222l-4.244383 4.24665 2.442565 2.44257 8.550114-8.55012zm-9.520322 21.44913v4.42161h4.871497V142h4.512496v-23.55087zm18.136328 0c-1.124919 0-2.06632.37811-2.824287 1.13608-.763982.76398-1.147437 1.70845-1.147437 2.83337v15.61197c0 1.12492.380382 2.06631 1.138349 2.82428.763983.76398 1.708456 1.14517 2.833375 1.14517h7.489021c1.12492 0 2.06632-.37811 2.82428-1.13608.76399-.76398 1.14517-1.70845 1.14517-2.83337v-15.61197c0-1.12492-.37811-2.06632-1.13608-2.82429-.76398-.76398-1.70845-1.14516-2.83337-1.14516zm.540773 4.42161h6.407468v14.61676h-6.407468z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d='m25.548631 97-2.436697 2.43438 4.634367 4.63436H26.37943c-2.970448 0-5.753239.55495-8.347429 1.66392-2.594191 1.10897-4.861176 2.63334-6.801867 4.57403-1.940693 1.94069-3.465063 4.20767-4.57403 6.80187-1.108967 2.59419-1.663916 5.37698-1.663916 8.34742h3.56454c0-4.96658 1.683258-9.17841 5.049766-12.63601 3.366507-3.4576 7.525145-5.18669 12.475891-5.18669h1.306534l-4.335002 4.33733 2.494714 2.49471 8.73266-8.73266zm-11.552266 20.53092v4.68774h10.296787v5.24934h-6.978237v4.68774h6.978237v5.15652H13.996365V142h10.807333c1.060879 0 1.94879-.39527 2.666443-1.18586.717653-.79059 1.076789-1.77158 1.076789-2.94028v-16.2168c0-1.1687-.359136-2.14969-1.076789-2.94028-.717653-.79059-1.605564-1.18586-2.666443-1.18586zm21.173741.16708c-1.148937 0-2.110436.38851-2.884586 1.16266-.780294.78029-1.171935 1.74493-1.171935 2.89387v15.94296c0 1.14894.388502 2.11043 1.162652 2.88458.780294.78029 1.744932 1.16962 2.893869 1.16962h7.648904c1.14894 0 2.11044-.38619 2.88459-1.16033.78029-.7803 1.16961-1.74493 1.16961-2.89387v-15.94296c0-1.14894-.38618-2.11044-1.16033-2.88459-.78029-.78029-1.74493-1.17194-2.89387-1.17194zm.552317 4.51602h6.541957v14.93115h-6.541957z'/>
    </symbol>
    <symbol viewBox="0 0 512 512" xmlns:sketch='http://www.bohemiancoding.com/sketch/ns' id="vjs-icon-audio-description">
      <g id='Page-1' stroke='none' stroke-width='1' sketch:type='MSPage'><g id='AD' sketch:type='MSArtboardGroup'><g id='g24' sketch:type='MSLayerGroup' transform='translate(226.904216, 162.124958)'><path d='M0.385466989,219.226204 L0.385466989,0.867948105 C50.7660025,-0.149278544 89.4938709,-2.16027378 118.016886,17.9940357 C145.39121,37.3362698 166.750707,74.9591545 162.906445,123.318579 C158.839382,174.474203 121.571663,217.457893 73.1311827,221.793795 C49.0460488,223.949377 1.1583283,221.793795 1.1583283,221.793795 C1.1583283,221.793795 0.318395733,220.441758 0.385466989,219.226204 M49.1404882,164.421786 C80.5703101,165.681697 102.34881,147.788744 105.636072,119.036417 C110.038491,80.5268177 84.4473371,55.4838492 47.5943801,58.2399576 L47.5943801,161.852062 C47.5585317,163.318404 48.1702678,164.071194 49.1404882,164.421786' id='path26' sketch:type='MSShapeGroup'></path></g><g id='g28' sketch:type='MSLayerGroup' transform='translate(383.779991, 168.926023)'><path d='M0,212.402042 C13.3360014,216.111401 17.386874,201.342635 23.2151349,190.99422 C35.936702,168.422877 45.5086182,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77564916,7.35260805 5.41542574,10.3142944 C18.5814362,34.0755999 30.7818519,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042' id='path30' sketch:type='MSShapeGroup'></path></g><g id='g32' sketch:type='MSLayerGroup' transform='translate(425.153705, 168.926023)'><path d='M0,212.402042 C13.3360014,216.111401 17.3841758,201.340502 23.2151349,190.99422 C35.936702,168.422877 45.5066909,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77487823,7.35346107 5.41542574,10.3142944 C18.5814362,34.0755999 30.7822374,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042' id='path34' sketch:type='MSShapeGroup'></path></g><g id='g36' sketch:type='MSLayerGroup' transform='translate(466.260868, 168.926023)'><path d='M0,212.402042 C13.3360014,216.111401 17.3841758,201.340502 23.2151349,190.99422 C35.936702,168.422877 45.5066909,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77487823,7.35303456 5.41542574,10.3142944 C18.5814362,34.0755999 30.7818519,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042' id='path38' sketch:type='MSShapeGroup'></path></g><path d='M4.4765625,383.005158 L72.5800993,383.005158 L91.1530552,354.521486 L155.321745,354.386058 C155.321745,354.386058 155.386889,373.799083 155.386889,383.005158 L204.142681,383.005158 L204.142681,160.308263 L145.326586,160.308263 C139.673713,169.845383 4.4765625,383.005158 4.4765625,383.005158 L4.4765625,383.005158 Z M157.144233,237.722611 L157.144233,308.881058 L116.6914,308.610203 L157.144233,237.722611 L157.144233,237.722611 Z' id='path22' sketch:type='MSShapeGroup'></path></g></g>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-next-item">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-previous-item">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M6 6h2v12H6zm3.5 6l8.5 6V6z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-shuffle">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-cast">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M0 0h24v24H0z' fill='none' opacity='.1'/><path d='M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-picture-in-picture-enter">
      <path d='M0 0h24v24H0V0z' fill='none'/><path d='M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z'/>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d='M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z'/><path fill='none' d='M-1-3h24v24H-1z'/>
    </symbol>
    <symbol viewBox="0 0 320 512" id="vjs-icon-facebook">
      <path d='M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z'/>
    </symbol>
    <symbol viewBox="0 0 448 512" id="vjs-icon-linkedin">
      <path d='M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z'/>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-twitter">
      <path d='M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z'/>
    </symbol>
    <symbol viewBox="0 0 320 512" id="vjs-icon-tumblr">
      <path d='M309.8 480.3c-13.6 14.5-50 31.7-97.4 31.7-120.8 0-147-88.8-147-140.6v-144H17.9c-5.5 0-10-4.5-10-10v-68c0-7.2 4.5-13.6 11.3-16 62-21.8 81.5-76 84.3-117.1.8-11 6.5-16.3 16.1-16.3h70.9c5.5 0 10 4.5 10 10v115.2h83c5.5 0 10 4.4 10 9.9v81.7c0 5.5-4.5 10-10 10h-83.4V360c0 34.2 23.7 53.6 68 35.8 4.8-1.9 9-3.2 12.7-2.2 3.5.9 5.8 3.4 7.4 7.9l22 64.3c1.8 5 3.3 10.6-.4 14.5z'/>
    </symbol>
    <symbol viewBox="0 0 496 512" id="vjs-icon-pinterest">
      <path d='M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z'/>
    </symbol>
  </defs>
</svg>`;class Use extends je{constructor(e,i,o){const a=Cn({createEl:!1},i);if(super(e,a,o),!i.playerOptions.sources||i.playerOptions.sources.length===0)for(let u=0,d=i.playerOptions.techOrder;u<d.length;u++){const p=Wn(d[u]);let m=Nt.getTech(p);if(p||(m=je.getComponent(p)),m&&m.isSupported()){e.loadTech_(p);break}}else e.src(i.playerOptions.sources)}}je.registerComponent("MediaLoader",Use);class Dk extends je{constructor(e,i){super(e,i),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=o=>this.handleMouseOver(o),this.handleMouseOut_=o=>this.handleMouseOut(o),this.handleClick_=o=>this.handleClick(o),this.handleKeyDown_=o=>this.handleKeyDown(o),this.emitTapEvents(),this.enable()}createEl(e="div",i={},o={}){i=Object.assign({className:this.buildCSSClass(),tabIndex:0},i),e==="button"&&jt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),o=Object.assign({role:"button"},o),this.tabIndex_=i.tabIndex;const a=Ot(e,i,o);return this.player_.options_.experimentalSvgIcons||a.appendChild(Ot("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(a),a}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=Ot("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,i=this.el()){if(e===void 0)return this.controlText_||"Need Text";const o=this.localize(e);this.controlText_=e,ql(this.controlTextEl_,o),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&i.setAttribute("title",o)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){Pt.isEventKey(e,"Space")||Pt.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}je.registerComponent("ClickableComponent",Dk);class gw extends Dk{constructor(e,i){super(e,i),this.update(),this.update_=o=>this.update(o),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return Ot("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const i=this.player().poster();this.setSrc(i),i?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(Ot("picture",{className:"vjs-poster",tabIndex:-1},{},Ot("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Cs(this.player_.play()):this.player_.pause())}}gw.prototype.crossorigin=gw.prototype.crossOrigin;je.registerComponent("PosterImage",gw);const ao="#222",_M="#ccc",Hse={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function dy(n,e){let i;if(n.length===4)i=n[1]+n[1]+n[2]+n[2]+n[3]+n[3];else if(n.length===7)i=n.slice(1);else throw new Error("Invalid color code provided, "+n+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function rp(n,e,i){try{n.style[e]=i}catch{return}}function yM(n){return n?`${n}px`:""}class $se extends je{constructor(e,i,o){super(e,i,o);const a=d=>this.updateDisplay(d),u=d=>{this.updateDisplayOverlay(),this.updateDisplay(d)};e.on("loadstart",d=>this.toggleDisplay(d)),e.on("texttrackchange",a),e.on("loadedmetadata",d=>{this.updateDisplayOverlay(),this.preselectTrack(d)}),e.ready(An(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",u),e.on("playerresize",u);const d=me.screen.orientation||me,p=me.screen.orientation?"change":"orientationchange";d.addEventListener(p,u),e.on("dispose",()=>d.removeEventListener(p,u));const m=this.options_.playerOptions.tracks||[];for(let k=0;k<m.length;k++)this.player_.addRemoteTextTrack(m[k],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},i=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage;let a,u,d;for(let p=0;p<i.length;p++){const m=i[p];o&&o.enabled&&o.language&&o.language===m.language&&m.kind in e?m.kind===o.kind?d=m:d||(d=m):o&&!o.enabled?(d=null,a=null,u=null):m.default&&(m.kind==="descriptions"&&!a?a=m:m.kind in e&&!u&&(u=m))}d?d.mode="showing":u?u.mode="showing":a&&(a.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof me.WebVTT=="function"&&me.WebVTT.processCues(me,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),i=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),i){const d=[];for(let p=0;p<e.length;++p){const m=e[p];m.mode==="showing"&&d.push(m)}this.updateForTrack(d);return}let o=null,a=null,u=e.length;for(;u--;){const d=e[u];d.mode==="showing"&&(d.kind==="descriptions"?o=d:a=d)}a?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!me.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),i=this.player_.currentHeight(),o=e/i,a=this.player_.videoWidth()/this.player_.videoHeight();let u=0,d=0;Math.abs(o-a)>.1&&(o>a?u=Math.round((e-i*a)/2):d=Math.round((i-e/a)/2)),rp(this.el_,"insetInline",yM(u)),rp(this.el_,"insetBlock",yM(d))}updateDisplayState(e){const i=this.player_.textTrackSettings.getValues(),o=e.activeCues;let a=o.length;for(;a--;){const u=o[a];if(!u)continue;const d=u.displayState;if(i.color&&(d.firstChild.style.color=i.color),i.textOpacity&&rp(d.firstChild,"color",dy(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(d.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&rp(d.firstChild,"backgroundColor",dy(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?rp(d,"backgroundColor",dy(i.windowColor,i.windowOpacity)):d.style.backgroundColor=i.windowColor),i.edgeStyle&&(i.edgeStyle==="dropshadow"?d.firstChild.style.textShadow=`2px 2px 3px ${ao}, 2px 2px 4px ${ao}, 2px 2px 5px ${ao}`:i.edgeStyle==="raised"?d.firstChild.style.textShadow=`1px 1px ${ao}, 2px 2px ${ao}, 3px 3px ${ao}`:i.edgeStyle==="depressed"?d.firstChild.style.textShadow=`1px 1px ${_M}, 0 1px ${_M}, -1px -1px ${ao}, 0 -1px ${ao}`:i.edgeStyle==="uniform"&&(d.firstChild.style.textShadow=`0 0 4px ${ao}, 0 0 4px ${ao}, 0 0 4px ${ao}, 0 0 4px ${ao}`)),i.fontPercent&&i.fontPercent!==1){const p=me.parseFloat(d.style.fontSize);d.style.fontSize=p*i.fontPercent+"px",d.style.height="auto",d.style.top="auto"}i.fontFamily&&i.fontFamily!=="default"&&(i.fontFamily==="small-caps"?d.firstChild.style.fontVariant="small-caps":d.firstChild.style.fontFamily=Hse[i.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof me.WebVTT!="function"||e.every(o=>!o.activeCues))return;const i=[];for(let o=0;o<e.length;++o){const a=e[o];for(let u=0;u<a.activeCues.length;++u)i.push(a.activeCues[u])}me.WebVTT.processCues(me,i,this.el_);for(let o=0;o<e.length;++o){const a=e[o];for(let u=0;u<a.activeCues.length;++u){const d=a.activeCues[u].displayState;_u(d,"vjs-text-track-cue","vjs-text-track-cue-"+(a.language?a.language:o)),a.language&&Eh(d,"lang",a.language)}this.player_.textTrackSettings&&this.updateDisplayState(a)}}}je.registerComponent("TextTrackDisplay",$se);class qse extends je{createEl(){const e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),o=Ot("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[i])}),a=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return a.appendChild(o),a}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}je.registerComponent("LoadingSpinner",qse);class Wr extends Dk{createEl(e,i={},o={}){e="button",i=Object.assign({className:this.buildCSSClass()},i),o=Object.assign({type:"button"},o);const a=Ot(e,i,o);return this.player_.options_.experimentalSvgIcons||a.appendChild(Ot("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(a),a}addChild(e,i={}){const o=this.constructor.name;return jt.warn(`Adding an actionable (user controllable) child to a Button (${o}) is not supported; use a ClickableComponent instead.`),je.prototype.addChild.call(this,e,i)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(Pt.isEventKey(e,"Space")||Pt.isEventKey(e,"Enter")){e.stopPropagation();return}super.handleKeyDown(e)}}je.registerComponent("Button",Wr);class FL extends Wr{constructor(e,i){super(e,i),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",o=>this.handleMouseDown(o))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const i=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){Cs(i),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const o=this.player_.getChild("controlBar"),a=o&&o.getChild("playToggle");if(!a){this.player_.tech(!0).focus();return}const u=()=>a.focus();Sp(i)?i.then(u,()=>{}):this.setTimeout(u,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}FL.prototype.controlText_="Play Video";je.registerComponent("BigPlayButton",FL);class Wse extends Wr{constructor(e,i){super(e,i),this.setIcon("cancel"),this.controlText(i&&i.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){Pt.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}je.registerComponent("CloseButton",Wse);class jL extends Wr{constructor(e,i={}){super(e,i),i.replay=i.replay===void 0||i.replay,this.setIcon("play"),this.on(e,"play",o=>this.handlePlay(o)),this.on(e,"pause",o=>this.handlePause(o)),i.replay&&this.on(e,"ended",o=>this.handleEnded(o))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Cs(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",i=>this.handleSeeked(i))}}jL.prototype.controlText_="Play";je.registerComponent("PlayToggle",jL);class qh extends je{constructor(e,i){super(e,i),this.on(e,["timeupdate","ended"],o=>this.updateContent(o)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),i=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),o=Ot("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return i.appendChild(o),this.contentEl_=Ot("span",{className:`${e}-display`},{role:"presentation"}),i.appendChild(this.contentEl_),i}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(e=0){e=Bu(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let i=this.textNode_;i&&this.contentEl_.firstChild!==i&&(i=null,jt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=et.createTextNode(this.formattedTime_),this.textNode_&&(i?this.contentEl_.replaceChild(this.textNode_,i):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}qh.prototype.labelText_="Time";qh.prototype.controlText_="Time";je.registerComponent("TimeDisplay",qh);class Z1 extends qh{buildCSSClass(){return"vjs-current-time"}updateContent(e){let i;this.player_.ended()?i=this.player_.duration():i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(i)}}Z1.prototype.labelText_="Current Time";Z1.prototype.controlText_="Current Time";je.registerComponent("CurrentTimeDisplay",Z1);class X1 extends qh{constructor(e,i){super(e,i);const o=a=>this.updateContent(a);this.on(e,"durationchange",o),this.on(e,"loadstart",o),this.on(e,"loadedmetadata",o)}buildCSSClass(){return"vjs-duration"}updateContent(e){const i=this.player_.duration();this.updateTextNode_(i)}}X1.prototype.labelText_="Duration";X1.prototype.controlText_="Duration";je.registerComponent("DurationDisplay",X1);class Gse extends je{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),i=super.createEl("div"),o=super.createEl("span",{textContent:"/"});return i.appendChild(o),e.appendChild(i),e}}je.registerComponent("TimeDivider",Gse);class J1 extends qh{constructor(e,i){super(e,i),this.on(e,"durationchange",o=>this.updateContent(o))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(Ot("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let i;this.player_.ended()?i=0:this.player_.remainingTimeDisplay?i=this.player_.remainingTimeDisplay():i=this.player_.remainingTime(),this.updateTextNode_(i)}}J1.prototype.labelText_="Remaining Time";J1.prototype.controlText_="Remaining Time";je.registerComponent("RemainingTimeDisplay",J1);class Kse extends je{constructor(e,i){super(e,i),this.updateShowing(),this.on(this.player(),"durationchange",o=>this.updateShowing(o))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Ot("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Ot("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(et.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}je.registerComponent("LiveDisplay",Kse);class zL extends Wr{constructor(e,i){super(e,i),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=o=>this.updateLiveEdgeStatus(o),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=Ot("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}zL.prototype.controlText_="Seek to live, currently playing live";je.registerComponent("SeekToLive",zL);function Bm(n,e,i){return n=Number(n),Math.min(i,Math.max(e,isNaN(n)?e:n))}var Yse=Object.freeze({__proto__:null,clamp:Bm});class eA extends je{constructor(e,i){super(e,i),this.handleMouseDown_=o=>this.handleMouseDown(o),this.handleMouseUp_=o=>this.handleMouseUp(o),this.handleKeyDown_=o=>this.handleKeyDown(o),this.handleClick_=o=>this.handleClick(o),this.handleMouseMove_=o=>this.handleMouseMove(o),this.update_=o=>this.update(o),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,i={},o={}){return i.className=i.className+" vjs-slider",i=Object.assign({tabIndex:0},i),o=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},o),super.createEl(e,i,o)}handleMouseDown(e){const i=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Ls&&e.preventDefault(),fL(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(i,"mousemove",this.handleMouseMove_),this.on(i,"mouseup",this.handleMouseUp_),this.on(i,"touchmove",this.handleMouseMove_),this.on(i,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const i=this.bar.el_.ownerDocument;pL(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const i=this.vertical()?"height":"width";this.bar.el().style[i]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(Bm(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const i=Ck(this.el_,e);return this.vertical()?i.y:i.x}handleKeyDown(e){Pt.isEventKey(e,"Left")||Pt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Pt.isEventKey(e,"Right")||Pt.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}je.registerComponent("Slider",eA);const hy=(n,e)=>Bm(n/e*100,0,100).toFixed(2)+"%";class Qse extends je{constructor(e,i){super(e,i),this.partEls_=[],this.on(e,"progress",o=>this.update(o))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),i=Ot("span",{className:"vjs-control-text"}),o=Ot("span",{textContent:this.localize("Loaded")}),a=et.createTextNode(": ");return this.percentageEl_=Ot("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(o),i.appendChild(a),i.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const i=this.player_.liveTracker,o=this.player_.buffered(),a=i&&i.isLive()?i.seekableEnd():this.player_.duration(),u=this.player_.bufferedEnd(),d=this.partEls_,p=hy(u,a);this.percent_!==p&&(this.el_.style.width=p,ql(this.percentageEl_,p),this.percent_=p);for(let m=0;m<o.length;m++){const k=o.start(m),w=o.end(m);let y=d[m];y||(y=this.el_.appendChild(Ot()),d[m]=y),!(y.dataset.start===k&&y.dataset.end===w)&&(y.dataset.start=k,y.dataset.end=w,y.style.left=hy(k,u),y.style.width=hy(w-k,u))}for(let m=d.length;m>o.length;m--)this.el_.removeChild(d[m-1]);d.length=o.length})}}je.registerComponent("LoadProgressBar",Qse);class Zse extends je{constructor(e,i){super(e,i),this.update=Fs(An(this,this.update),go)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,i,o){const a=cm(this.el_),u=Sh(this.player_.el()),d=e.width*i;if(!u||!a)return;const p=e.left-u.left+d,m=e.width-d+(u.right-e.right);let k=a.width/2;p<k?k+=k-p:m<k&&(k=m),k<0?k=0:k>a.width&&(k=a.width),k=Math.round(k),this.el_.style.right=`-${k}px`,this.write(o)}write(e){ql(this.el_,e)}updateTime(e,i,o,a){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let u;const d=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const p=this.player_.liveTracker.liveWindow(),m=p-i*p;u=(m<1?"":"-")+Bu(m,p)}else u=Bu(o,d);this.update(e,i,u),a&&a()})}}je.registerComponent("TimeTooltip",Zse);class tA extends je{constructor(e,i){super(e,i),this.setIcon("circle"),this.update=Fs(An(this,this.update),go)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,i){const o=this.getChild("timeTooltip");if(!o)return;const a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();o.updateTime(e,i,a)}}tA.prototype.options_={children:[]};!sr&&!Os&&tA.prototype.options_.children.push("timeTooltip");je.registerComponent("PlayProgressBar",tA);class VL extends je{constructor(e,i){super(e,i),this.update=Fs(An(this,this.update),go)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i){const o=i*this.player_.duration();this.getChild("timeTooltip").updateTime(e,i,o,()=>{this.el_.style.left=`${e.width*i}px`})}}VL.prototype.options_={children:["timeTooltip"]};je.registerComponent("MouseTimeDisplay",VL);const t0=5,wM=12;class nA extends eA{constructor(e,i){super(e,i),this.setEventHandlers_()}setEventHandlers_(){this.update_=An(this,this.update),this.update=Fs(this.update_,go),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in et&&"visibilityState"in et&&this.on(et,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){et.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,go))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(et.visibilityState==="hidden")return;const i=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const o=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),a=this.player_.liveTracker;let u=this.player_.duration();a&&a.isLive()&&(u=this.player_.liveTracker.liveCurrentTime()),this.percent_!==i&&(this.el_.setAttribute("aria-valuenow",(i*100).toFixed(2)),this.percent_=i),(this.currentTime_!==o||this.duration_!==u)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Bu(o,u),Bu(u,u)],"{1} of {2}")),this.currentTime_=o,this.duration_=u),this.bar&&this.bar.update(Sh(this.el()),this.getProgress())}),i}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let i;const o=this.player_.liveTracker;return o&&o.isLive()?(i=(e-o.seekableStart())/o.liveWindow(),o.atLiveEdge()&&(i=1)):i=e/this.player_.duration(),i}handleMouseDown(e){um(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,i=!1){if(!um(e)||isNaN(this.player_.duration()))return;!i&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let o;const a=this.calculateDistance(e),u=this.player_.liveTracker;if(!u||!u.isLive())o=a*this.player_.duration(),o===this.player_.duration()&&(o=o-.1);else{if(a>=.99){u.seekToLiveEdge();return}const d=u.seekableStart(),p=u.liveCurrentTime();if(o=d+a*u.liveWindow(),o>=p&&(o=p),o<=d&&(o=d+.1),o===1/0)return}this.userSeek_(o)}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Cs(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+t0)}stepBack(){this.userSeek_(this.player_.currentTime()-t0)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const i=this.player_.liveTracker;if(Pt.isEventKey(e,"Space")||Pt.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Pt.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(Pt.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Pt(e))){e.preventDefault(),e.stopPropagation();const o=(Pt.codes[Pt(e)]-Pt.codes[0])*10/100;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*o):this.userSeek_(this.player_.duration()*o)}else Pt.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-t0*wM)):Pt.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+t0*wM)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in et&&"visibilityState"in et&&this.off(et,"visibilitychange",this.toggleVisibility_),super.dispose()}}nA.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!sr&&!Os&&nA.prototype.options_.children.splice(1,0,"mouseTimeDisplay");je.registerComponent("SeekBar",nA);class UL extends je{constructor(e,i){super(e,i),this.handleMouseMove=Fs(An(this,this.handleMouseMove),go),this.throttledHandleMouseSeek=Fs(An(this,this.handleMouseSeek),go),this.handleMouseUpHandler_=o=>this.handleMouseUp(o),this.handleMouseDownHandler_=o=>this.handleMouseDown(o),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const i=this.getChild("seekBar");if(!i)return;const o=i.getChild("playProgressBar"),a=i.getChild("mouseTimeDisplay");if(!o&&!a)return;const u=i.el(),d=cm(u);let p=Ck(u,e).x;p=Bm(p,0,1),a&&a.update(d,p),o&&o.update(d,i.getProgress())}handleMouseSeek(e){const i=this.getChild("seekBar");i&&i.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Cs(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const i=this.el_.ownerDocument,o=this.getChild("seekBar");o&&o.handleMouseDown(e),this.on(i,"mousemove",this.throttledHandleMouseSeek),this.on(i,"touchmove",this.throttledHandleMouseSeek),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}UL.prototype.options_={children:["seekBar"]};je.registerComponent("ProgressControl",UL);class HL extends Wr{constructor(e,i){super(e,i),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],o=>this.handlePictureInPictureChange(o)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],o=>this.handlePictureInPictureEnabledChange(o)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){et.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in me?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof et.exitPictureInPicture=="function"&&super.show()}}HL.prototype.controlText_="Picture-in-Picture";je.registerComponent("PictureInPictureToggle",HL);class $L extends Wr{constructor(e,i){super(e,i),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",o=>this.handleFullscreenChange(o)),et[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}$L.prototype.controlText_="Fullscreen";je.registerComponent("FullscreenToggle",$L);const Xse=function(n,e){e.tech_&&!e.tech_.featuresVolumeControl&&n.addClass("vjs-hidden"),n.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})};class Jse extends je{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}je.registerComponent("VolumeLevel",Jse);class eae extends je{constructor(e,i){super(e,i),this.update=Fs(An(this,this.update),go)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,i,o,a){if(!o){const u=Sh(this.el_),d=Sh(this.player_.el()),p=e.width*i;if(!d||!u)return;const m=e.left-d.left+p,k=e.width-p+(d.right-e.right);let w=u.width/2;m<w?w+=w-m:k<w&&(w=k),w<0?w=0:w>u.width&&(w=u.width),this.el_.style.right=`-${w}px`}this.write(`${a}%`)}write(e){ql(this.el_,e)}updateVolume(e,i,o,a,u){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,i,o,a.toFixed(0)),u&&u()})}}je.registerComponent("VolumeLevelTooltip",eae);class qL extends je{constructor(e,i){super(e,i),this.update=Fs(An(this,this.update),go)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i,o){const a=100*i;this.getChild("volumeLevelTooltip").updateVolume(e,i,o,a,()=>{o?this.el_.style.bottom=`${e.height*i}px`:this.el_.style.left=`${e.width*i}px`})}}qL.prototype.options_={children:["volumeLevelTooltip"]};je.registerComponent("MouseVolumeLevelDisplay",qL);class Ik extends eA{constructor(e,i){super(e,i),this.on("slideractive",o=>this.updateLastVolume_(o)),this.on(e,"volumechange",o=>this.updateARIAAttributes(o)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){um(e)&&super.handleMouseDown(e)}handleMouseMove(e){const i=this.getChild("mouseVolumeLevelDisplay");if(i){const o=this.el(),a=Sh(o),u=this.vertical();let d=Ck(o,e);d=u?d.y:d.x,d=Bm(d,0,1),i.update(a,d,u)}um(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const i=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",i),this.el_.setAttribute("aria-valuetext",i+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}Ik.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!sr&&!Os&&Ik.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Ik.prototype.playerEvent="volumechange";je.registerComponent("VolumeBar",Ik);class WL extends je{constructor(e,i={}){i.vertical=i.vertical||!1,(typeof i.volumeBar>"u"||xh(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),super(e,i),Xse(this,e),this.throttledHandleMouseMove=Fs(An(this,this.handleMouseMove),go),this.handleMouseUpHandler_=o=>this.handleMouseUp(o),this.on("mousedown",o=>this.handleMouseDown(o)),this.on("touchstart",o=>this.handleMouseDown(o)),this.on("mousemove",o=>this.handleMouseMove(o)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const i=this.el_.ownerDocument;this.on(i,"mousemove",this.throttledHandleMouseMove),this.on(i,"touchmove",this.throttledHandleMouseMove),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseMove),this.off(i,"touchmove",this.throttledHandleMouseMove),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}WL.prototype.options_={children:["volumeBar"]};je.registerComponent("VolumeControl",WL);const tae=function(n,e){e.tech_&&!e.tech_.featuresMuteControl&&n.addClass("vjs-hidden"),n.on(e,"loadstart",function(){e.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})};class GL extends Wr{constructor(e,i){super(e,i),tae(this,e),this.on(e,["loadstart","volumechange"],o=>this.update(o))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.volume(),o=this.player_.lastVolume_();if(i===0){const a=o<.1?.1:o;this.player_.volume(a),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let i=3;this.setIcon("volume-high"),sr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),i=0):e<.33?(this.setIcon("volume-low"),i=1):e<.67&&(this.setIcon("volume-medium"),i=2),yk(this.el_,[0,1,2,3].reduce((o,a)=>o+`${a?" ":""}vjs-vol-${a}`,"")),_u(this.el_,`vjs-vol-${i}`)}updateControlText_(){const i=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==i&&this.controlText(i)}}GL.prototype.controlText_="Mute";je.registerComponent("MuteToggle",GL);class KL extends je{constructor(e,i={}){typeof i.inline<"u"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl>"u"||xh(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),super(e,i),this.handleKeyPressHandler_=o=>this.handleKeyPress(o),this.on(e,["loadstart"],o=>this.volumePanelState_(o)),this.on(this.muteToggle,"keyup",o=>this.handleKeyPress(o)),this.on(this.volumeControl,"keyup",o=>this.handleVolumeControlKeyUp(o)),this.on("keydown",o=>this.handleKeyPress(o)),this.on("mouseover",o=>this.handleMouseOver(o)),this.on("mouseout",o=>this.handleMouseOut(o)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){Pt.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Gr(et,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),qi(et,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){Pt.isEventKey(e,"Esc")&&this.handleMouseOut()}}KL.prototype.options_={children:["muteToggle","volumeControl"]};je.registerComponent("VolumePanel",KL);class nae extends Wr{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const i=this.player_.currentTime(),o=this.player_.liveTracker,a=o&&o.isLive()?o.seekableEnd():this.player_.duration();let u;i+this.skipTime<=a?u=i+this.skipTime:u=a,this.player_.currentTime(u)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}je.registerComponent("SkipForward",nae);class YL extends Wr{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.currentTime(),o=this.player_.liveTracker,a=o&&o.isLive()&&o.seekableStart();let u;a&&i-this.skipTime<=a?u=a:i>=this.skipTime?u=i-this.skipTime:u=0,this.player_.currentTime(u)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}YL.prototype.controlText_="Skip Backward";je.registerComponent("SkipBackward",YL);class QL extends je{constructor(e,i){super(e,i),i&&(this.menuButton_=i.menuButton),this.focusedChild_=-1,this.on("keydown",o=>this.handleKeyDown(o)),this.boundHandleBlur_=o=>this.handleBlur(o),this.boundHandleTapClick_=o=>this.handleTapClick(o)}addEventListenerForItem(e){e instanceof je&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof je&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const i=this.addChild(e);i&&this.addEventListenerForItem(i)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=Ot(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const i=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),Gr(i,"click",function(o){o.preventDefault(),o.stopImmediatePropagation()}),i}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const i=e.relatedTarget||et.activeElement;if(!this.children().some(o=>o.el()===i)){const o=this.menuButton_;o&&o.buttonPressed_&&i!==o.el().firstChild&&o.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const i=this.children();if(!Array.isArray(i))return;const o=i.filter(a=>a.el()===e.target)[0];if(!o)return;o.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){Pt.isEventKey(e,"Left")||Pt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Pt.isEventKey(e,"Right")||Pt.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const i=this.children().slice();i.length&&i[0].hasClass("vjs-menu-title")&&i.shift(),i.length>0&&(e<0?e=0:e>=i.length&&(e=i.length-1),this.focusedChild_=e,i[e].el_.focus())}}je.registerComponent("Menu",QL);class iA extends je{constructor(e,i={}){super(e,i),this.menuButton_=new Wr(e,i),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const o=Wr.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+o,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const a=u=>this.handleClick(u);this.handleMenuKeyUp_=u=>this.handleMenuKeyUp(u),this.on(this.menuButton_,"tap",a),this.on(this.menuButton_,"click",a),this.on(this.menuButton_,"keydown",u=>this.handleKeyDown(u)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Gr(et,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",u=>this.handleMouseLeave(u)),this.on("keydown",u=>this.handleSubmenuKeyDown(u))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new QL(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const i=Ot("li",{className:"vjs-menu-title",textContent:Wn(this.options_.title),tabIndex:-1}),o=new je(this.player_,{el:i});e.addItem(o)}if(this.items=this.createItems(),this.items)for(let i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const i=Wr.prototype.buildCSSClass();return`vjs-menu-button ${e} ${i} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,i=this.menuButton_.el()){return this.menuButton_.controlText(e,i)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),qi(et,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){Pt.isEventKey(e,"Esc")||Pt.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Pt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Pt.isEventKey(e,"Up")||Pt.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(Pt.isEventKey(e,"Esc")||Pt.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(Pt.isEventKey(e,"Esc")||Pt.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Pt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),sr&&lL())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}je.registerComponent("MenuButton",iA);class rA extends iA{constructor(e,i){const o=i.tracks;if(super(e,i),this.items.length<=1&&this.hide(),!o)return;const a=An(this,this.update);o.addEventListener("removetrack",a),o.addEventListener("addtrack",a),o.addEventListener("labelchange",a),this.player_.on("ready",a),this.player_.on("dispose",function(){o.removeEventListener("removetrack",a),o.removeEventListener("addtrack",a),o.removeEventListener("labelchange",a)})}}je.registerComponent("TrackButton",rA);const iae=["Tab","Esc","Up","Down","Right","Left"];class Om extends Dk{constructor(e,i){super(e,i),this.selectable=i.selectable,this.isSelected_=i.selected||!1,this.multiSelectable=i.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,i,o){this.nonIconControl=!0;const a=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},i),o),u=Ot("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?a.appendChild(u):a.replaceChild(u,a.querySelector(".vjs-icon-placeholder")),a}handleKeyDown(e){iae.some(i=>Pt.isEventKey(e,i))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}je.registerComponent("MenuItem",Om);class Lm extends Om{constructor(e,i){const o=i.track,a=e.textTracks();i.label=o.label||o.language||"Unknown",i.selected=o.mode==="showing",super(e,i),this.track=o,this.kinds=(i.kinds||[i.kind||this.track.kind]).filter(Boolean);const u=(...p)=>{this.handleTracksChange.apply(this,p)},d=(...p)=>{this.handleSelectedLanguageChange.apply(this,p)};if(e.on(["loadstart","texttrackchange"],u),a.addEventListener("change",u),a.addEventListener("selectedlanguagechange",d),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],u),a.removeEventListener("change",u),a.removeEventListener("selectedlanguagechange",d)}),a.onchange===void 0){let p;this.on(["tap","click"],function(){if(typeof me.Event!="object")try{p=new me.Event("change")}catch{}p||(p=et.createEvent("Event"),p.initEvent("change",!0,!0)),a.dispatchEvent(p)})}this.handleTracksChange()}handleClick(e){const i=this.track,o=this.player_.textTracks();if(super.handleClick(e),!!o)for(let a=0;a<o.length;a++){const u=o[a];this.kinds.indexOf(u.kind)!==-1&&(u===i?u.mode!=="showing"&&(u.mode="showing"):u.mode!=="disabled"&&(u.mode="disabled"))}}handleTracksChange(e){const i=this.track.mode==="showing";i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const i=this.player_.cache_.selectedLanguage;if(i&&i.enabled&&i.language===this.track.language&&i.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}je.registerComponent("TextTrackMenuItem",Lm);class ZL extends Lm{constructor(e,i){i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,super(e,i)}handleTracksChange(e){const i=this.player().textTracks();let o=!0;for(let a=0,u=i.length;a<u;a++){const d=i[a];if(this.options_.kinds.indexOf(d.kind)>-1&&d.mode==="showing"){o=!1;break}}o!==this.isSelected_&&this.selected(o)}handleSelectedLanguageChange(e){const i=this.player().textTracks();let o=!0;for(let a=0,u=i.length;a<u;a++){const d=i[a];if(["captions","descriptions","subtitles"].indexOf(d.kind)>-1&&d.mode==="showing"){o=!1;break}}o&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}je.registerComponent("OffTextTrackMenuItem",ZL);class Wh extends rA{constructor(e,i={}){i.tracks=e.textTracks(),super(e,i)}createItems(e=[],i=Lm){let o;this.label_&&(o=`${this.label_} off`),e.push(new ZL(this.player_,{kinds:this.kinds_,kind:this.kind_,label:o})),this.hideThreshold_+=1;const a=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let u=0;u<a.length;u++){const d=a[u];if(this.kinds_.indexOf(d.kind)>-1){const p=new i(this.player_,{track:d,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});p.addClass(`vjs-${d.kind}-menu-item`),e.push(p)}}return e}}je.registerComponent("TextTrackButton",Wh);class XL extends Om{constructor(e,i){const o=i.track,a=i.cue,u=e.currentTime();i.selectable=!0,i.multiSelectable=!1,i.label=a.text,i.selected=a.startTime<=u&&u<a.endTime,super(e,i),this.track=o,this.cue=a}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}je.registerComponent("ChaptersTrackMenuItem",XL);class oA extends Wh{constructor(e,i,o){super(e,i,o),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(a=>{a.selected(this.track_.activeCues[0]===a.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const i=this.findChaptersTrack();i!==this.track_?(this.setTrack(i),super.update()):(!this.items||i&&i.cues&&i.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let i=e.length-1;i>=0;i--){const o=e[i];if(o.kind===this.kind_)return o}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Wn(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const i=this.track_.cues;if(!i)return e;for(let o=0,a=i.length;o<a;o++){const u=i[o],d=new XL(this.player_,{track:this.track_,cue:u});e.push(d)}return e}}oA.prototype.kind_="chapters";oA.prototype.controlText_="Chapters";je.registerComponent("ChaptersButton",oA);class sA extends Wh{constructor(e,i,o){super(e,i,o),this.setIcon("audio-description");const a=e.textTracks(),u=An(this,this.handleTracksChange);a.addEventListener("change",u),this.on("dispose",function(){a.removeEventListener("change",u)})}handleTracksChange(e){const i=this.player().textTracks();let o=!1;for(let a=0,u=i.length;a<u;a++){const d=i[a];if(d.kind!==this.kind_&&d.mode==="showing"){o=!0;break}}o?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}sA.prototype.kind_="descriptions";sA.prototype.controlText_="Descriptions";je.registerComponent("DescriptionsButton",sA);class aA extends Wh{constructor(e,i,o){super(e,i,o),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}aA.prototype.kind_="subtitles";aA.prototype.controlText_="Subtitles";je.registerComponent("SubtitlesButton",aA);class lA extends Lm{constructor(e,i){i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",super(e,i),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+i.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}je.registerComponent("CaptionSettingsMenuItem",lA);class cA extends Wh{constructor(e,i,o){super(e,i,o),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new lA(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}cA.prototype.kind_="captions";cA.prototype.controlText_="Captions";je.registerComponent("CaptionsButton",cA);class JL extends Lm{createEl(e,i,o){const a=super.createEl(e,i,o),u=a.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",a):u.appendChild(Ot("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(Ot("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),a}}je.registerComponent("SubsCapsMenuItem",JL);class uA extends Wh{constructor(e,i={}){super(e,i),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Wn(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new lA(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,JL),e}}uA.prototype.kinds_=["captions","subtitles"];uA.prototype.controlText_="Subtitles";je.registerComponent("SubsCapsButton",uA);class eR extends Om{constructor(e,i){const o=i.track,a=e.audioTracks();i.label=o.label||o.language||"Unknown",i.selected=o.enabled,super(e,i),this.track=o,this.addClass(`vjs-${o.kind}-menu-item`);const u=(...d)=>{this.handleTracksChange.apply(this,d)};a.addEventListener("change",u),this.on("dispose",()=>{a.removeEventListener("change",u)})}createEl(e,i,o){const a=super.createEl(e,i,o),u=a.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(u.appendChild(Ot("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(Ot("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),a}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const i=this.player_.audioTracks();for(let o=0;o<i.length;o++){const a=i[o];a!==this.track&&(a.enabled=a===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}je.registerComponent("AudioTrackMenuItem",eR);class tR extends rA{constructor(e,i={}){i.tracks=e.audioTracks(),super(e,i),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const i=this.player_.audioTracks();for(let o=0;o<i.length;o++){const a=i[o];e.push(new eR(this.player_,{track:a,selectable:!0,multiSelectable:!1}))}return e}}tR.prototype.controlText_="Audio Track";je.registerComponent("AudioTrackButton",tR);class dA extends Om{constructor(e,i){const o=i.rate,a=parseFloat(o,10);i.label=o,i.selected=a===e.playbackRate(),i.selectable=!0,i.multiSelectable=!1,super(e,i),this.label=o,this.rate=a,this.on(e,"ratechange",u=>this.update(u))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}dA.prototype.contentElType="button";je.registerComponent("PlaybackRateMenuItem",dA);class nR extends iA{constructor(e,i){super(e,i),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",o=>this.updateVisibility(o)),this.on(e,"ratechange",o=>this.updateLabel(o)),this.on(e,"playbackrateschange",o=>this.handlePlaybackRateschange(o))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Ot("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),i=[];for(let o=e.length-1;o>=0;o--)i.push(new dA(this.player(),{rate:e[o]+"x"}));return i}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}nR.prototype.controlText_="Playback Rate";je.registerComponent("PlaybackRateMenuButton",nR);class iR extends je{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",i={},o={}){return i.className||(i.className=this.buildCSSClass()),super.createEl(e,i,o)}}je.registerComponent("Spacer",iR);class rae extends iR{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}je.registerComponent("CustomControlSpacer",rae);class rR extends je{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}rR.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};je.registerComponent("ControlBar",rR);class oR extends $h{constructor(e,i){super(e,i),this.on(e,"error",o=>this.open(o))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}oR.prototype.options_=Object.assign({},$h.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});je.registerComponent("ErrorDisplay",oR);const fy="vjs-text-track-settings",CM=["#000","Black"],AM=["#00F","Blue"],TM=["#0FF","Cyan"],xM=["#0F0","Green"],EM=["#F0F","Magenta"],SM=["#F00","Red"],DM=["#FFF","White"],IM=["#FF0","Yellow"],py=["1","Opaque"],my=["0.5","Semi-Transparent"],MM=["0","Transparent"],tu={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[CM,DM,SM,xM,AM,IM,EM,TM]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[py,my,MM]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[DM,CM,SM,xM,AM,IM,EM,TM]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:n=>n==="1.00"?null:Number(n)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[py,my]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[MM,my,py]}};tu.windowColor.options=tu.backgroundColor.options;function sR(n,e){if(e&&(n=e(n)),n&&n!=="none")return n}function oae(n,e){const i=n.options[n.options.selectedIndex].value;return sR(i,e)}function sae(n,e,i){if(e){for(let o=0;o<n.options.length;o++)if(sR(n.options[o].value,i)===e){n.selectedIndex=o;break}}}class aae extends $h{constructor(e,i){i.temporary=!1,super(e,i),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=Ot("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),i.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),Jd(tu,o=>{this.on(this.$(o.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,i="",o="label"){const a=tu[e],u=a.id.replace("%s",this.id_),d=[i,u].join(" ").trim();return[`<${o} id="${u}" class="${o==="label"?"vjs-label":""}">`,this.localize(a.label),`</${o}>`,`<select aria-labelledby="${d}">`].concat(a.options.map(p=>{const m=u+"-"+p[1].replace(/\W+/g,"");return[`<option id="${m}" value="${p[0]}" `,`aria-labelledby="${d} ${m}">`,this.localize(p[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return Ot("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return Ot("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return Ot("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return nL(tu,(e,i,o)=>{const a=oae(this.$(i.selector),i.parser);return a!==void 0&&(e[o]=a),e},{})}setValues(e){Jd(tu,(i,o)=>{sae(this.$(i.selector),e[o],i.parser)})}setDefaults(){Jd(tu,e=>{const i=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=i})}restoreSettings(){let e;try{e=JSON.parse(me.localStorage.getItem(fy))}catch(i){jt.warn(i)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?me.localStorage.setItem(fy,JSON.stringify(e)):me.localStorage.removeItem(fy)}catch(i){jt.warn(i)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,i=e&&e.subsCapsButton,o=e&&e.captionsButton;i?i.focus():o&&o.focus()}handleLanguagechange(){this.fill()}}je.registerComponent("TextTrackSettings",aae);class lae extends je{constructor(e,i){let o=i.ResizeObserver||me.ResizeObserver;i.ResizeObserver===null&&(o=!1);const a=Cn({createEl:!o,reportTouchActivity:!1},i);super(e,a),this.ResizeObserver=i.ResizeObserver||me.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=AL(()=>{this.resizeHandler()},100,!1,this),o?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const u=this.debouncedHandler_;let d=this.unloadListener_=function(){qi(this,"resize",u),qi(this,"unload",d),d=null};Gr(this.el_.contentWindow,"unload",d),Gr(this.el_.contentWindow,"resize",u)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}je.registerComponent("ResizeManager",lae);const cae={trackingThreshold:20,liveTolerance:15};class uae extends je{constructor(e,i){const o=Cn(cae,i,{createEl:!1});super(e,o),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=a=>this.handlePlay(a),this.handleFirstTimeupdate_=a=>this.handleFirstTimeupdate(a),this.handleSeeked_=a=>this.handleSeeked(a),this.seekToLiveEdge_=a=>this.seekToLiveEdge(a),this.reset_(),this.on(this.player_,"durationchange",a=>this.handleDurationchange(a)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const i=Number(me.performance.now().toFixed(4)),o=this.lastTime_===-1?0:(i-this.lastTime_)/1e3;this.lastTime_=i,this.pastSeekEnd_=this.pastSeekEnd()+o;const a=this.liveCurrentTime(),u=this.player_.currentTime();let d=this.player_.paused()||this.seekedBehindLive_||Math.abs(a-u)>this.options_.liveTolerance;(!this.timeupdateSeen_||a===1/0)&&(d=!1),d!==this.behindLiveEdge_&&(this.behindLiveEdge_=d,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,go),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),i=[];let o=e?e.length:0;for(;o--;)i.push(e.end(o));return i.length?i.sort()[i.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),i=[];let o=e?e.length:0;for(;o--;)i.push(e.start(o));return i.length?i.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}je.registerComponent("LiveTracker",uae);class dae extends je{constructor(e,i){super(e,i),this.on("statechanged",o=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:Ot("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Rs()}`}),description:Ot("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Rs()}`})},Ot("div",{className:"vjs-title-bar"},{},iL(this.els))}updateDom_(){const e=this.player_.tech_,i=e&&e.el_,o={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(a=>{const u=this.state[a],d=this.els[a],p=o[a];Ak(d),u&&ql(d,u),i&&(i.removeAttribute(p),u&&i.setAttribute(p,d.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,i=e&&e.el_;i&&(i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}je.registerComponent("TitleBar",dae);const bw=n=>{const e=n.el();if(e.hasAttribute("src"))return n.triggerSourceset(e.src),!0;const i=n.$$("source"),o=[];let a="";if(!i.length)return!1;for(let u=0;u<i.length;u++){const d=i[u].src;d&&o.indexOf(d)===-1&&o.push(d)}return o.length?(o.length===1&&(a=o[0]),n.triggerSourceset(a),!0):!1},hae=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(n){const e=et.createElement(this.nodeName.toLowerCase());e.innerHTML=n;const i=et.createDocumentFragment();for(;e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",me.Element.prototype.appendChild.call(this,i),this.innerHTML}}),aR=(n,e)=>{let i={};for(let o=0;o<n.length&&(i=Object.getOwnPropertyDescriptor(n[o],e),!(i&&i.set&&i.get));o++);return i.enumerable=!0,i.configurable=!0,i},fae=n=>aR([n.el(),me.HTMLMediaElement.prototype,me.Element.prototype,hae],"innerHTML"),PM=function(n){const e=n.el();if(e.resetSourceWatch_)return;const i={},o=fae(n),a=u=>(...d)=>{const p=u.apply(e,d);return bw(n),p};["append","appendChild","insertAdjacentHTML"].forEach(u=>{e[u]&&(i[u]=e[u],e[u]=a(i[u]))}),Object.defineProperty(e,"innerHTML",Cn(o,{set:a(o.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(i).forEach(u=>{e[u]=i[u]}),Object.defineProperty(e,"innerHTML",o)},n.one("sourceset",e.resetSourceWatch_)},pae=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?BL(me.Element.prototype.getAttribute.call(this,"src")):""},set(n){return me.Element.prototype.setAttribute.call(this,"src",n),n}}),mae=n=>aR([n.el(),me.HTMLMediaElement.prototype,pae],"src"),gae=function(n){if(!n.featuresSourceset)return;const e=n.el();if(e.resetSourceset_)return;const i=mae(n),o=e.setAttribute,a=e.load;Object.defineProperty(e,"src",Cn(i,{set:u=>{const d=i.set.call(e,u);return n.triggerSourceset(e.src),d}})),e.setAttribute=(u,d)=>{const p=o.call(e,u,d);return/src/i.test(u)&&n.triggerSourceset(e.src),p},e.load=()=>{const u=a.call(e);return bw(n)||(n.triggerSourceset(""),PM(n)),u},e.currentSrc?n.triggerSourceset(e.currentSrc):bw(n)||PM(n),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=a,e.setAttribute=o,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}};class ct extends Nt{constructor(e,i){super(e,i);const o=e.source;let a=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",o&&(this.el_.currentSrc!==o.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(o):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const u=this.el_.childNodes;let d=u.length;const p=[];for(;d--;){const m=u[d];m.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(m),this.remoteTextTracks().addTrack(m.track),this.textTracks().addTrack(m.track),!a&&!this.el_.hasAttribute("crossorigin")&&Sk(m.src)&&(a=!0)):p.push(m))}for(let m=0;m<p.length;m++)this.el_.removeChild(p[m])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&a&&jt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(lm||vk)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),ct.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){gae(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let i;const o=()=>{i=[];for(let u=0;u<e.length;u++){const d=e[u];d.kind==="metadata"&&i.push({track:d,storedMode:d.mode})}};o(),e.addEventListener("change",o),this.on("dispose",()=>e.removeEventListener("change",o));const a=()=>{for(let u=0;u<i.length;u++){const d=i[u];d.track.mode==="disabled"&&d.track.mode!==d.storedMode&&(d.track.mode=d.storedMode)}e.removeEventListener("change",a)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",o),e.removeEventListener("change",a),e.addEventListener("change",a)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",o),e.addEventListener("change",o),e.removeEventListener("change",a)})}overrideNative_(e,i){if(i!==this[`featuresNative${e}Tracks`])return;const o=e.toLowerCase();this[`${o}TracksListeners_`]&&Object.keys(this[`${o}TracksListeners_`]).forEach(a=>{this.el()[`${o}Tracks`].removeEventListener(a,this[`${o}TracksListeners_`][a])}),this[`featuresNative${e}Tracks`]=!i,this[`${o}TracksListeners_`]=null,this.proxyNativeTracksForType_(o)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const i=ho[e],o=this.el()[i.getterName],a=this[i.getterName]();if(!this[`featuresNative${i.capitalName}Tracks`]||!o||!o.addEventListener)return;const u={change:p=>{const m={type:"change",target:a,currentTarget:a,srcElement:a};a.trigger(m),e==="text"&&this[Mh.remoteText.getterName]().trigger(m)},addtrack(p){a.addTrack(p.track)},removetrack(p){a.removeTrack(p.track)}},d=function(){const p=[];for(let m=0;m<a.length;m++){let k=!1;for(let w=0;w<o.length;w++)if(o[w]===a[m]){k=!0;break}k||p.push(a[m])}for(;p.length;)a.removeTrack(p.shift())};this[i.getterName+"Listeners_"]=u,Object.keys(u).forEach(p=>{const m=u[p];o.addEventListener(p,m),this.on("dispose",k=>o.removeEventListener(p,m))}),this.on("loadstart",d),this.on("dispose",p=>this.off("loadstart",d))}proxyNativeTracks_(){ho.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const o=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(o,e),ct.disposeMediaElement(e),e=o}else{e=et.createElement("video");const o=this.options_.tag&&Al(this.options_.tag),a=Cn({},o);(!lm||this.options_.nativeControlsForTouch!==!0)&&delete a.controls,dL(e,Object.assign(a,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Eh(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const i=["loop","muted","playsinline","autoplay"];for(let o=0;o<i.length;o++){const a=i[o],u=this.options_[a];typeof u<"u"&&(u?Eh(e,a,a):wk(e,a),e[a]=u)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let o=!1;const a=function(){o=!0};this.on("loadstart",a);const u=function(){o||this.trigger("loadstart")};this.on("loadedmetadata",u),this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",u),o||this.trigger("loadstart")});return}const i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(o){this.trigger(o)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&_k?this.el_.fastSeek(e):this.el_.currentTime=e}catch(i){jt(i,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Os&&Ls&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},i=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",()=>{this.off("webkitbeginfullscreen",i),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Cs(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},0);else try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){ct.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,i,o){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,o):super.addTextTrack(e,i,o)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const i=et.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e.default&&(i.default=e.default),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i}addRemoteTextTrack(e,i){const o=super.addRemoteTextTrack(e,i);return this.featuresNativeTextTracks&&this.el().appendChild(o),o}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const i=this.$$("track");let o=i.length;for(;o--;)(e===i[o]||e===i[o].track)&&this.el().removeChild(i[o])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),me.performance&&(e.creationTime=me.performance.now()),e}}gk(ct,"TEST_VID",function(){if(!Vh())return;const n=et.createElement("video"),e=et.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",n.appendChild(e),n});ct.isSupported=function(){try{ct.TEST_VID.volume=.5}catch{return!1}return!!(ct.TEST_VID&&ct.TEST_VID.canPlayType)};ct.canPlayType=function(n){return ct.TEST_VID.canPlayType(n)};ct.canPlaySource=function(n,e){return ct.canPlayType(n.type)};ct.canControlVolume=function(){try{const n=ct.TEST_VID.volume;ct.TEST_VID.volume=n/2+.1;const e=n!==ct.TEST_VID.volume;return e&&sr?(me.setTimeout(()=>{ct&&ct.prototype&&(ct.prototype.featuresVolumeControl=n!==ct.TEST_VID.volume)}),!1):e}catch{return!1}};ct.canMuteVolume=function(){try{const n=ct.TEST_VID.muted;return ct.TEST_VID.muted=!n,ct.TEST_VID.muted?Eh(ct.TEST_VID,"muted","muted"):wk(ct.TEST_VID,"muted","muted"),n!==ct.TEST_VID.muted}catch{return!1}};ct.canControlPlaybackRate=function(){if(Os&&Ls&&bk<58)return!1;try{const n=ct.TEST_VID.playbackRate;return ct.TEST_VID.playbackRate=n/2+.1,n!==ct.TEST_VID.playbackRate}catch{return!1}};ct.canOverrideAttributes=function(){try{const n=()=>{};Object.defineProperty(et.createElement("video"),"src",{get:n,set:n}),Object.defineProperty(et.createElement("audio"),"src",{get:n,set:n}),Object.defineProperty(et.createElement("video"),"innerHTML",{get:n,set:n}),Object.defineProperty(et.createElement("audio"),"innerHTML",{get:n,set:n})}catch{return!1}return!0};ct.supportsNativeTextTracks=function(){return _k||sr&&Ls};ct.supportsNativeVideoTracks=function(){return!!(ct.TEST_VID&&ct.TEST_VID.videoTracks)};ct.supportsNativeAudioTracks=function(){return!!(ct.TEST_VID&&ct.TEST_VID.audioTracks)};ct.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([n,e]){gk(ct.prototype,n,()=>ct[e](),!0)});ct.prototype.featuresVolumeControl=ct.canControlVolume();ct.prototype.movingMediaElementInDOM=!sr;ct.prototype.featuresFullscreenResize=!0;ct.prototype.featuresProgressEvents=!0;ct.prototype.featuresTimeupdateEvents=!0;ct.prototype.featuresVideoFrameCallback=!!(ct.TEST_VID&&ct.TEST_VID.requestVideoFrameCallback);ct.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch{}}()}};ct.resetMediaElement=function(n){if(!n)return;const e=n.querySelectorAll("source");let i=e.length;for(;i--;)n.removeChild(e[i]);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(n){ct.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){ct.prototype["set"+Wn(n)]=function(e){this.el_[n]=e,e?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(n){ct.prototype[n]=function(){return this.el_[n]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(n){ct.prototype["set"+Wn(n)]=function(e){this.el_[n]=e}});["pause","load","play"].forEach(function(n){ct.prototype[n]=function(){return this.el_[n]()}});Nt.withSourceHandlers(ct);ct.nativeSourceHandler={};ct.nativeSourceHandler.canPlayType=function(n){try{return ct.TEST_VID.canPlayType(n)}catch{return""}};ct.nativeSourceHandler.canHandleSource=function(n,e){if(n.type)return ct.nativeSourceHandler.canPlayType(n.type);if(n.src){const i=Y1(n.src);return ct.nativeSourceHandler.canPlayType(`video/${i}`)}return""};ct.nativeSourceHandler.handleSource=function(n,e,i){e.setSrc(n.src)};ct.nativeSourceHandler.dispose=function(){};ct.registerSourceHandler(ct.nativeSourceHandler);Nt.registerTech("Html5",ct);const lR=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],gy={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},kw=["tiny","xsmall","small","medium","large","xlarge","huge"],k0={};kw.forEach(n=>{const e=n.charAt(0)==="x"?`x-${n.substring(1)}`:n;k0[n]=`vjs-layout-${e}`});const bae={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Tn extends je{constructor(e,i,o){if(e.id=e.id||i.id||`vjs_video_${Rs()}`,i=Object.assign(Tn.getTagSettings(e),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language){const d=e.closest("[lang]");d&&(i.language=d.getAttribute("lang"))}if(super(null,i,o),this.boundDocumentFullscreenChange_=d=>this.documentFullscreenChange_(d),this.boundFullWindowOnEscKey_=d=>this.fullWindowOnEscKey(d),this.boundUpdateStyleEl_=d=>this.updateStyleEl_(d),this.boundApplyInitTime_=d=>this.applyInitTime_(d),this.boundUpdateCurrentBreakpoint_=d=>this.updateCurrentBreakpoint_(d),this.boundHandleTechClick_=d=>this.handleTechClick_(d),this.boundHandleTechDoubleClick_=d=>this.handleTechDoubleClick_(d),this.boundHandleTechTouchStart_=d=>this.handleTechTouchStart_(d),this.boundHandleTechTouchMove_=d=>this.handleTechTouchMove_(d),this.boundHandleTechTouchEnd_=d=>this.handleTechTouchEnd_(d),this.boundHandleTechTap_=d=>this.handleTechTap_(d),this.isFullscreen_=!1,this.log=eL(this.id_),this.fsApi_=Q0,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Al(e),this.language(this.options_.language),i.languages){const d={};Object.getOwnPropertyNames(i.languages).forEach(function(p){d[p.toLowerCase()]=i.languages[p]}),this.languages_=d}else this.languages_=Tn.prototype.options_.languages;this.resetCache_(),this.poster_=i.poster||"",this.controls_=!!i.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(d=>{if(typeof this[d]!="function")throw new Error(`plugin "${d}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),q1(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Gr(et,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const a=Cn(this.options_);if(i.plugins&&Object.keys(i.plugins).forEach(d=>{this[d](i.plugins[d])}),i.debug&&this.debug(!0),this.options_.playerOptions=a,this.middleware_=[],this.playbackRates(i.playbackRates),i.experimentalSvgIcons){const p=new me.DOMParser().parseFromString(Vse,"image/svg+xml");if(p.querySelector("parsererror"))jt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const k=p.documentElement;k.style.display="none",this.el_.appendChild(k),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),lm&&this.addClass("vjs-touch-enabled"),sr||this.addClass("vjs-workinghover"),Tn.players[this.id_]=this;const u=ZO.split(".")[0];this.addClass(`vjs-v${u}`),this.userActive(!0),this.reportUserActivity(),this.one("play",d=>this.listenForUserActivity_(d)),this.on("keydown",d=>this.handleKeyDown(d)),this.on("languagechange",d=>this.handleLanguagechange(d)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),qi(et,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),qi(et,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Tn.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Rse(this),Ji.names.forEach(e=>{const i=Ji[e],o=this[i.getterName]();o&&o.off&&o.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,i,o=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const a=this.tag.tagName.toLowerCase()==="video-js";o?i=this.el_=e.parentNode:a||(i=this.el_=super.createEl("div"));const u=Al(e);if(a){for(i=this.el_=e,e=this.tag=et.createElement("video");i.children.length;)e.appendChild(i.firstChild);xp(i,"video-js")||_u(i,"video-js"),i.appendChild(e),o=this.playerElIngest_=i,Object.keys(i).forEach(p=>{try{e[p]=i[p]}catch{}})}if(e.setAttribute("tabindex","-1"),u.tabindex="-1",Ls&&kk&&(e.setAttribute("role","application"),u.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in u&&delete u.width,"height"in u&&delete u.height,Object.getOwnPropertyNames(u).forEach(function(p){a&&p==="class"||i.setAttribute(p,u[p]),a&&e.setAttribute(p,u[p])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused"),me.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=wL("vjs-styles-dimensions");const p=Fl(".vjs-styles-defaults"),m=Fl("head");m.insertBefore(this.styleEl_,p?p.nextSibling:m.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const d=e.getElementsByTagName("a");for(let p=0;p<d.length;p++){const m=d.item(p);_u(m,"vjs-hidden"),m.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!o&&e.parentNode.insertBefore(i,e),cw(e,i),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=i,i}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){jt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,i){const o=e+"_";if(i===void 0)return this[o]||0;if(i===""||i==="auto"){this[o]=void 0,this.updateStyleEl_();return}const a=parseFloat(i);if(isNaN(a)){jt.error(`Improper value "${i}" supplied for for ${e}`);return}this[o]=a,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,xa(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),fse(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(me.VIDEOJS_NO_DYNAMIC_STYLE===!0){const p=typeof this.width_=="number"?this.width_:this.options_.width,m=typeof this.height_=="number"?this.height_:this.options_.height,k=this.tech_&&this.tech_.el();k&&(p>=0&&(k.width=p),m>=0&&(k.height=m));return}let e,i,o,a;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?o=this.aspectRatio_:this.videoWidth()>0?o=this.videoWidth()+":"+this.videoHeight():o="16:9";const u=o.split(":"),d=u[1]/u[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/d:e=this.videoWidth()||300,this.height_!==void 0?i=this.height_:i=e*d,/^[^a-zA-Z]/.test(this.id())?a="dimensions-"+this.id():a=this.id()+"-dimensions",this.addClass(a),CL(this.styleEl_,`
      .${a} {
        width: ${e}px;
        height: ${i}px;
      }

      .${a}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${d*100}%;
      }
    `)}loadTech_(e,i){this.tech_&&this.unloadTech_();const o=Wn(e),a=e.charAt(0).toLowerCase()+e.slice(1);o!=="Html5"&&this.tag&&(Nt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;let u=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(u=!1);const d={source:i,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${a}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Ji.names.forEach(m=>{const k=Ji[m];d[k.getterName]=this[k.privateName]}),Object.assign(d,this.options_[o]),Object.assign(d,this.options_[a]),Object.assign(d,this.options_[e.toLowerCase()]),this.tag&&(d.tag=this.tag),i&&i.src===this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime);const p=Nt.getTech(e);if(!p)throw new Error(`No Tech named '${o}' exists! '${o}' should be registered using videojs.registerTech()'`);this.tech_=new p(d),this.tech_.ready(An(this,this.handleTechReady_),!0),fM.jsonToTextTracks(this.textTracksJson_||[],this.tech_),lR.forEach(m=>{this.on(this.tech_,m,k=>this[`handleTech${Wn(m)}_`](k))}),Object.keys(gy).forEach(m=>{this.on(this.tech_,m,k=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${gy[m]}_`].bind(this),event:k});return}this[`handleTech${gy[m]}_`](k)})}),this.on(this.tech_,"loadstart",m=>this.handleTechLoadStart_(m)),this.on(this.tech_,"sourceset",m=>this.handleTechSourceset_(m)),this.on(this.tech_,"waiting",m=>this.handleTechWaiting_(m)),this.on(this.tech_,"ended",m=>this.handleTechEnded_(m)),this.on(this.tech_,"seeking",m=>this.handleTechSeeking_(m)),this.on(this.tech_,"play",m=>this.handleTechPlay_(m)),this.on(this.tech_,"pause",m=>this.handleTechPause_(m)),this.on(this.tech_,"durationchange",m=>this.handleTechDurationChange_(m)),this.on(this.tech_,"fullscreenchange",(m,k)=>this.handleTechFullscreenChange_(m,k)),this.on(this.tech_,"fullscreenerror",(m,k)=>this.handleTechFullscreenError_(m,k)),this.on(this.tech_,"enterpictureinpicture",m=>this.handleTechEnterPictureInPicture_(m)),this.on(this.tech_,"leavepictureinpicture",m=>this.handleTechLeavePictureInPicture_(m)),this.on(this.tech_,"error",m=>this.handleTechError_(m)),this.on(this.tech_,"posterchange",m=>this.handleTechPosterChange_(m)),this.on(this.tech_,"textdata",m=>this.handleTechTextData_(m)),this.on(this.tech_,"ratechange",m=>this.handleTechRateChange_(m)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&cw(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Ji.names.forEach(e=>{const i=Ji[e];this[i.privateName]=this[i.getterName]()}),this.textTracksJson_=fM.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&jt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const i=()=>{const a=this.muted();this.muted(!0);const u=()=>{this.muted(a)};this.playTerminatedQueue_.push(u);const d=this.play();if(Sp(d))return d.catch(p=>{throw u(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${p||""}`)})};let o;if(e==="any"&&!this.muted()?(o=this.play(),Sp(o)&&(o=o.catch(i))):e==="muted"&&!this.muted()?o=i():o=this.play(),!!Sp(o))return o.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let i=e,o="";typeof i!="string"&&(i=e.src,o=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],i&&!o&&(o=zse(this,i)),this.cache_.source=Cn({},e,{src:i,type:o});const a=this.cache_.sources.filter(m=>m.src&&m.src===i),u=[],d=this.$$("source"),p=[];for(let m=0;m<d.length;m++){const k=Al(d[m]);u.push(k),k.src&&k.src===i&&p.push(k.src)}p.length&&!a.length?this.cache_.sources=u:a.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=i}handleTechSourceset_(e){if(!this.changingSrc_){let i=u=>this.updateSourceCaches_(u);const o=this.currentSource().src,a=e.src;o&&!/^blob:/.test(o)&&/^blob:/.test(a)&&(!this.lastSource_||this.lastSource_.tech!==a&&this.lastSource_.player!==o)&&(i=()=>{}),i(a),e.src||this.tech_.any(["sourceset","loadstart"],u=>{if(u.type==="sourceset")return;const d=this.techGet_("currentSrc");this.lastSource_.tech=d,this.updateSourceCaches_(d)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),i=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",i))};this.on("timeupdate",i)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Cs(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),o=>o.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const i=e.target.player;if(i&&i!==this)return;const o=this.el();let a=et[this.fsApi_.fullscreenElement]===o;!a&&o.matches&&(a=o.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(a)}handleTechFullscreenChange_(e,i){i&&(i.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(i.isFullscreen))}handleTechFullscreenError_(e,i){this.trigger("fullscreenerror",i)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,i){this.ready(function(){if(e in Ose)return Nse(this.middleware_,this.tech_,e,i);if(e in kM)return bM(this.middleware_,this.tech_,e,i);try{this.tech_&&this.tech_[e](i)}catch(o){throw jt(o),o}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in Bse)return Pse(this.middleware_,this.tech_,e);if(e in kM)return bM(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(i){throw this.tech_[e]===void 0?(jt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,i),i):i.name==="TypeError"?(jt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,i),this.tech_.isReady_=!1,i):(jt(i),i)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Cs){this.playCallbacks_.push(e);const i=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),o=!!(_k||sr);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i){this.waitToPlay_=d=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!i&&o&&this.load();return}const a=this.techGet_("play");o&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),a===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(a)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(i){i()})}runPlayCallbacks_(e){const i=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],i.forEach(function(o){o(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Ps(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Ps(0,0)),e}bufferedPercent(){return PL(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),i=this.duration();let o=e.end(e.length-1);return o>i&&(o=i),o}volume(e){let i;if(e!==void 0){i=Math.max(0,Math.min(1,e)),this.cache_.volume=i,this.techCall_("setVolume",i),i>0&&this.lastVolume_(i);return}return i=parseFloat(this.techGet_("volume")),isNaN(i)?1:i}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const i=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==i&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const i=this;return new Promise((o,a)=>{function u(){i.off("fullscreenerror",p),i.off("fullscreenchange",d)}function d(){u(),o()}function p(k,w){u(),a(w)}i.one("fullscreenchange",d),i.one("fullscreenerror",p);const m=i.requestFullscreenHelper_(e);m&&(m.then(u,u),m.then(o,a))})}requestFullscreenHelper_(e){let i;if(this.fsApi_.prefixed||(i=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(i=e)),this.fsApi_.requestFullscreen){const o=this.el_[this.fsApi_.requestFullscreen](i);return o&&o.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((i,o)=>{function a(){e.off("fullscreenerror",d),e.off("fullscreenchange",u)}function u(){a(),i()}function d(m,k){a(),o(k)}e.one("fullscreenchange",u),e.one("fullscreenerror",d);const p=e.exitFullscreenHelper_();p&&(p.then(a,a),p.then(i,o))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=et[this.fsApi_.exitFullscreen]();return e&&Cs(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=et.documentElement.style.overflow,Gr(et,"keydown",this.boundFullWindowOnEscKey_),et.documentElement.style.overflow="hidden",_u(et.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){Pt.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,qi(et,"keydown",this.boundFullWindowOnEscKey_),et.documentElement.style.overflow=this.docOrigOverflow,yk(et.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&me.documentPictureInPicture){const e=et.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(Ot("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),me.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(i=>(vL(i),this.el_.parentNode.insertBefore(e,this.el_),i.document.body.appendChild(this.el_),i.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),i.addEventListener("pagehide",o=>{const a=o.target.querySelector(".video-js");e.parentNode.replaceChild(a,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),i))}return"pictureInPictureEnabled"in et&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(me.documentPictureInPicture&&me.documentPictureInPicture.window)return me.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in et)return et.exitPictureInPicture()}handleKeyDown(e){const{userActions:i}=this.options_;!i||!i.hotkeys||(a=>{const u=a.tagName.toLowerCase();if(a.isContentEditable)return!0;const d=["button","checkbox","hidden","radio","reset","submit"];return u==="input"?d.indexOf(a.type)===-1:["textarea"].indexOf(u)!==-1})(this.el_.ownerDocument.activeElement)||(typeof i.hotkeys=="function"?i.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const i=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:o=d=>Pt.isEventKey(d,"f"),muteKey:a=d=>Pt.isEventKey(d,"m"),playPauseKey:u=d=>Pt.isEventKey(d,"k")||Pt.isEventKey(d,"Space")}=i;if(o.call(this,e)){e.preventDefault(),e.stopPropagation();const d=je.getComponent("FullscreenToggle");et[this.fsApi_.fullscreenEnabled]!==!1&&d.prototype.handleClick.call(this,e)}else a.call(this,e)?(e.preventDefault(),e.stopPropagation(),je.getComponent("MuteToggle").prototype.handleClick.call(this,e)):u.call(this,e)&&(e.preventDefault(),e.stopPropagation(),je.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let i;for(let o=0,a=this.options_.techOrder;o<a.length;o++){const u=a[o];let d=Nt.getTech(u);if(d||(d=je.getComponent(u)),!d){jt.error(`The "${u}" tech is undefined. Skipped browser support check for that tech.`);continue}if(d.isSupported()&&(i=d.canPlayType(e),i))return i}return""}selectSource(e){const i=this.options_.techOrder.map(p=>[p,Nt.getTech(p)]).filter(([p,m])=>m?m.isSupported():(jt.error(`The "${p}" tech is undefined. Skipped browser support check for that tech.`),!1)),o=function(p,m,k){let w;return p.some(y=>m.some(T=>{if(w=k(y,T),w)return!0})),w};let a;const u=p=>(m,k)=>p(k,m),d=([p,m],k)=>{if(m.canPlaySource(k,this.options_[p.toLowerCase()]))return{source:k,tech:p}};return this.options_.sourceOrder?a=o(e,i,u(d)):a=o(i,e,d),a||!1}handleSrc_(e,i){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const o=RL(e);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,i||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),Ise(this,o[0],(a,u)=>{if(this.middleware_=u,i||(this.cache_.sources=o),this.updateSourceCaches_(a),this.src_(a)){if(o.length>1)return this.handleSrc_(o.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}Mse(u,this.tech_)}),o.length>1){const a=()=>{this.error(null),this.handleSrc_(o.slice(1),!0)},u=()=>{this.off("error",a)};this.one("error",a),this.one("playing",u),this.resetRetryOnError_=()=>{this.off("error",a),this.off("playing",u)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const i=this.selectSource([e]);return i?SL(i.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Cs(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),xa(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:i,progressControl:o,remainingTimeDisplay:a}=this.controlBar||{},{seekBar:u}=o||{};e&&e.updateContent(),i&&i.updateContent(),a&&a.updateContent(),u&&(u.update(),u.loadProgressBar&&u.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),i=[];return Object.keys(e).length!==0&&i.push(e),this.cache_.sources||i}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let i;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),i=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,i=typeof i>"u"?this.options_.autoplay:i,this.tech_&&this.techCall_("setAutoplay",i)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Rl("beforeerror").forEach(i=>{const o=i(this,e);if(!(Bs(o)&&!Array.isArray(o)||typeof o=="string"||typeof o=="number"||o===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=o}),this.options_.suppressNotSupportedError&&e&&e.code===4){const i=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],i),this.one("loadstart",function(){this.off(["click","touchstart"],i)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new rr(e),this.addClass("vjs-error"),jt.error(`(CODE:${this.error_.code} ${rr.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Rl("error").forEach(i=>i(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(i){i.stopPropagation(),i.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,i,o;const a=An(this,this.reportUserActivity),u=function(y){(y.screenX!==i||y.screenY!==o)&&(i=y.screenX,o=y.screenY,a())},d=function(){a(),this.clearInterval(e),e=this.setInterval(a,250)},p=function(y){a(),this.clearInterval(e)};this.on("mousedown",d),this.on("mousemove",u),this.on("mouseup",p),this.on("mouseleave",p);const m=this.getChild("controlBar");m&&!sr&&!Os&&(m.on("mouseenter",function(y){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),m.on("mouseleave",function(y){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",a),this.on("keyup",a);let k;const w=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(k);const y=this.options_.inactivityTimeout;y<=0||(k=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},y))};this.setInterval(w,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),i=this.getChild("ControlBar"),o=i&&i.currentHeight();e.forEach(a=>{a!==i&&a.el_&&!a.hasClass("vjs-hidden")&&(a.hide(),this.audioOnlyCache_.hiddenChildren.push(a))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(o),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),Promise.all(i).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,i,o){if(this.tech_)return this.tech_.addTextTrack(e,i,o)}addRemoteTextTrack(e,i){if(this.tech_)return this.tech_.addRemoteTextTrack(e,i)}removeRemoteTextTrack(e={}){let{track:i}=e;if(i||(i=e),this.tech_)return this.tech_.removeRemoteTextTrack(i)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),xa(this)&&this.trigger("languagechange"))}languages(){return Cn(Tn.prototype.options_.languages,this.languages_)}toJSON(){const e=Cn(this.options_),i=e.tracks;e.tracks=[];for(let o=0;o<i.length;o++){let a=i[o];a=Cn(a),a.player=void 0,e.tracks[o]=a}return e}createModal(e,i){i=i||{},i.content=e||"";const o=new $h(this,i);return this.addChild(o),o.on("dispose",()=>{this.removeChild(o)}),o.open(),o}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),i=this.currentWidth();for(let o=0;o<kw.length;o++){const a=kw[o],u=this.breakpoints_[a];if(i<=u){if(e===a)return;e&&this.removeClass(k0[e]),this.addClass(k0[a]),this.breakpoint_=a;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},bae,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const i=this.responsive_;if(e!==i)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return k0[this.breakpoint_]||""}loadMedia(e,i){if(!e||typeof e!="object")return;const o=this.crossOrigin();this.reset(),this.cache_.media=Cn(e);const{artist:a,artwork:u,description:d,poster:p,src:m,textTracks:k,title:w}=this.cache_.media;!u&&p&&(this.cache_.media.artwork=[{src:p,type:nb(p)}]),o&&this.crossOrigin(o),m&&this.src(m),p&&this.poster(p),Array.isArray(k)&&k.forEach(y=>this.addRemoteTextTrack(y,!1)),this.titleBar&&this.titleBar.update({title:w,description:d||a||""}),this.ready(i)}getMedia(){if(!this.cache_.media){const e=this.poster(),i=this.currentSources(),o=Array.prototype.map.call(this.remoteTextTracks(),u=>({kind:u.kind,label:u.label,language:u.language,src:u.src})),a={src:i,textTracks:o};return e&&(a.poster=e,a.artwork=[{src:a.poster,type:nb(a.poster)}]),a}return Cn(this.cache_.media)}static getTagSettings(e){const i={sources:[],tracks:[]},o=Al(e),a=o["data-setup"];if(xp(e,"vjs-fill")&&(o.fill=!0),xp(e,"vjs-fluid")&&(o.fluid=!0),a!==null){const[u,d]=Xne(a||"{}");u&&jt.error(u),Object.assign(o,d)}if(Object.assign(i,o),e.hasChildNodes()){const u=e.childNodes;for(let d=0,p=u.length;d<p;d++){const m=u[d],k=m.nodeName.toLowerCase();k==="source"?i.sources.push(Al(m)):k==="track"&&i.tracks.push(Al(m))}}return i}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(i=>typeof i=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Ji.names.forEach(function(n){const e=Ji[n];Tn.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Tn.prototype.crossorigin=Tn.prototype.crossOrigin;Tn.players={};const op=me.navigator;Tn.prototype.options_={techOrder:Nt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:op&&(op.languages&&op.languages[0]||op.userLanguage||op.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(n){Tn.prototype[n]=function(){return this.techGet_(n)}});lR.forEach(function(n){Tn.prototype[`handleTech${Wn(n)}_`]=function(){return this.trigger(n)}});je.registerComponent("Player",Tn);const ib="plugin",nh="activePlugins_",Wd={},rb=n=>Wd.hasOwnProperty(n),v0=n=>rb(n)?Wd[n]:void 0,cR=(n,e)=>{n[nh]=n[nh]||{},n[nh][e]=!0},ob=(n,e,i)=>{const o=(i?"before":"")+"pluginsetup";n.trigger(o,e),n.trigger(o+":"+e.name,e)},kae=function(n,e){const i=function(){ob(this,{name:n,plugin:e,instance:null},!0);const o=e.apply(this,arguments);return cR(this,n),ob(this,{name:n,plugin:e,instance:o}),o};return Object.keys(e).forEach(function(o){i[o]=e[o]}),i},NM=(n,e)=>(e.prototype.name=n,function(...i){ob(this,{name:n,plugin:e,instance:null},!0);const o=new e(this,...i);return this[n]=()=>o,ob(this,o.getEventHash()),o});class yr{constructor(e){if(this.constructor===yr)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),q1(this),delete this.trigger,EL(this,this.constructor.defaultState),cR(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,i={}){return Hh(this.eventBusEl_,e,this.getEventHash(i))}handleStateChanged(e){}dispose(){const{name:e,player:i}=this;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[nh][e]=!1,this.player=this.state=null,i[e]=NM(e,Wd[e])}static isBasic(e){const i=typeof e=="string"?v0(e):e;return typeof i=="function"&&!yr.prototype.isPrototypeOf(i.prototype)}static registerPlugin(e,i){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(rb(e))jt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Tn.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof i!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof i}.`);return Wd[e]=i,e!==ib&&(yr.isBasic(i)?Tn.prototype[e]=kae(e,i):Tn.prototype[e]=NM(e,i)),i}static deregisterPlugin(e){if(e===ib)throw new Error("Cannot de-register base plugin.");rb(e)&&(delete Wd[e],delete Tn.prototype[e])}static getPlugins(e=Object.keys(Wd)){let i;return e.forEach(o=>{const a=v0(o);a&&(i=i||{},i[o]=a)}),i}static getPluginVersion(e){const i=v0(e);return i&&i.VERSION||""}}yr.getPlugin=v0;yr.BASE_PLUGIN_NAME=ib;yr.registerPlugin(ib,yr);Tn.prototype.usingPlugin=function(n){return!!this[nh]&&this[nh][n]===!0};Tn.prototype.hasPlugin=function(n){return!!rb(n)};function vae(n,e){let i=!1;return function(...o){return i||jt.warn(n),i=!0,e.apply(this,o)}}function qo(n,e,i,o){return vae(`${e} is deprecated and will be removed in ${n}.0; please use ${i} instead.`,o)}const uR=n=>n.indexOf("#")===0?n.slice(1):n;function Pe(n,e,i){let o=Pe.getPlayer(n);if(o)return e&&jt.warn(`Player "${n}" is already initialised. Options will not be applied.`),i&&o.ready(i),o;const a=typeof n=="string"?Fl("#"+uR(n)):n;if(!Uh(a))throw new TypeError("The element or ID supplied is not valid. (videojs)");const d=("getRootNode"in a?a.getRootNode()instanceof me.ShadowRoot:!1)?a.getRootNode():a.ownerDocument.body;(!a.ownerDocument.defaultView||!d.contains(a))&&jt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(a.parentNode&&a.parentNode.hasAttribute("data-vjs-player")?a.parentNode:a).cloneNode(!0)),Rl("beforesetup").forEach(m=>{const k=m(a,Cn(e));if(!Bs(k)||Array.isArray(k)){jt.error("please return an object in beforesetup hooks");return}e=Cn(e,k)});const p=je.getComponent("Player");return o=new p(a,e,i),Rl("setup").forEach(m=>m(o)),o}Pe.hooks_=va;Pe.hooks=Rl;Pe.hook=Joe;Pe.hookOnce=ese;Pe.removeHook=XO;if(me.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Vh()){let n=Fl(".vjs-styles-defaults");if(!n){n=wL("vjs-styles-defaults");const e=Fl("head");e&&e.insertBefore(n,e.firstChild),CL(n,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}dw(1,Pe);Pe.VERSION=ZO;Pe.options=Tn.prototype.options_;Pe.getPlayers=()=>Tn.players;Pe.getPlayer=n=>{const e=Tn.players;let i;if(typeof n=="string"){const o=uR(n),a=e[o];if(a)return a;i=Fl("#"+o)}else i=n;if(Uh(i)){const{player:o,playerId:a}=i;if(o||e[a])return o||e[a]}};Pe.getAllPlayers=()=>Object.keys(Tn.players).map(n=>Tn.players[n]).filter(Boolean);Pe.players=Tn.players;Pe.getComponent=je.getComponent;Pe.registerComponent=(n,e)=>(Nt.isTech(e)&&jt.warn(`The ${n} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),je.registerComponent.call(je,n,e));Pe.getTech=Nt.getTech;Pe.registerTech=Nt.registerTech;Pe.use=Dse;Object.defineProperty(Pe,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Pe.middleware,"TERMINATOR",{value:tb,writeable:!1,enumerable:!0});Pe.browser=rse;Pe.obj=ise;Pe.mergeOptions=qo(9,"videojs.mergeOptions","videojs.obj.merge",Cn);Pe.defineLazyProperty=qo(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",gk);Pe.bind=qo(9,"videojs.bind","native Function.prototype.bind",An);Pe.registerPlugin=yr.registerPlugin;Pe.deregisterPlugin=yr.deregisterPlugin;Pe.plugin=(n,e)=>(jt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),yr.registerPlugin(n,e));Pe.getPlugins=yr.getPlugins;Pe.getPlugin=yr.getPlugin;Pe.getPluginVersion=yr.getPluginVersion;Pe.addLanguage=function(n,e){return n=(""+n).toLowerCase(),Pe.options.languages=Cn(Pe.options.languages,{[n]:e}),Pe.options.languages[n]};Pe.log=jt;Pe.createLogger=eL;Pe.time=kse;Pe.createTimeRange=qo(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Ps);Pe.createTimeRanges=qo(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Ps);Pe.formatTime=qo(9,"videojs.formatTime","videojs.time.formatTime",Bu);Pe.setFormatTime=qo(9,"videojs.setFormatTime","videojs.time.setFormatTime",IL);Pe.resetFormatTime=qo(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",ML);Pe.parseUrl=qo(9,"videojs.parseUrl","videojs.url.parseUrl",K1);Pe.isCrossOrigin=qo(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Sk);Pe.EventTarget=bo;Pe.any=$1;Pe.on=Gr;Pe.one=xk;Pe.off=qi;Pe.trigger=Hh;Pe.xhr=tO;Pe.TextTrack=Nm;Pe.AudioTrack=OL;Pe.VideoTrack=LL;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(n=>{Pe[n]=function(){return jt.warn(`videojs.${n}() is deprecated; use videojs.dom.${n}() instead`),_L[n].apply(null,arguments)}});Pe.computedStyle=qo(9,"videojs.computedStyle","videojs.dom.computedStyle",Dh);Pe.dom=_L;Pe.fn=hse;Pe.num=Yse;Pe.str=gse;Pe.url=Ese;/*! @name videojs-contrib-quality-levels @version 4.0.0 @license Apache-2.0 */class _ae{constructor(e){let i=this;return i.id=e.id,i.label=i.id,i.width=e.width,i.height=e.height,i.bitrate=e.bandwidth,i.frameRate=e.frameRate,i.enabled_=e.enabled,Object.defineProperty(i,"enabled",{get(){return i.enabled_()},set(o){i.enabled_(o)}}),i}}class sb extends Pe.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let i=this.getQualityLevelById(e.id);if(i)return i;const o=this.levels_.length;return i=new _ae(e),""+o in this||Object.defineProperty(this,o,{get(){return this.levels_[o]}}),this.levels_.push(i),this.trigger({qualityLevel:i,type:"addqualitylevel"}),i}removeQualityLevel(e){let i=null;for(let o=0,a=this.length;o<a;o++)if(this[o]===e){i=this.levels_.splice(o,1)[0],this.selectedIndex_===o?this.selectedIndex_=-1:this.selectedIndex_>o&&this.selectedIndex_--;break}return i&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),i}getQualityLevelById(e){for(let i=0,o=this.length;i<o;i++){const a=this[i];if(a.id===e)return a}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}sb.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const n in sb.prototype.allowedEvents_)sb.prototype["on"+n]=null;var dR="4.0.0";const yae=function(n,e){const i=n.qualityLevels,o=new sb,a=function(){o.dispose(),n.qualityLevels=i,n.off("dispose",a)};return n.on("dispose",a),n.qualityLevels=()=>o,n.qualityLevels.VERSION=dR,o},hR=function(n){return yae(this,Pe.obj.merge({},n))};Pe.registerPlugin("qualityLevels",hR);hR.VERSION=dR;/*! @name @videojs/http-streaming @version 3.5.3 @license Apache-2.0 */const Fo=Uie,ab=(n,e)=>e&&e.responseURL&&n!==e.responseURL?e.responseURL:n,Wo=n=>Pe.log.debug?Pe.log.debug.bind(Pe,"VHS:",`${n} >`):function(){};function vn(...n){const e=Pe.obj||Pe;return(e.merge||e.mergeOptions).apply(e,n)}function Ui(...n){const e=Pe.time||Pe;return(e.createTimeRanges||e.createTimeRanges).apply(e,n)}const jl=1/30,As=jl*3,fR=function(n,e){const i=[];let o;if(n&&n.length)for(o=0;o<n.length;o++)e(n.start(o),n.end(o))&&i.push([n.start(o),n.end(o)]);return Ui(i)},Gd=function(n,e){return fR(n,function(i,o){return i-As<=e&&o+As>=e})},n0=function(n,e){return fR(n,function(i){return i-jl>=e})},wae=function(n){if(n.length<2)return Ui();const e=[];for(let i=1;i<n.length;i++){const o=n.end(i-1),a=n.start(i);e.push([o,a])}return Ui(e)},Cae=function(n,e){let i=null,o=null,a=0;const u=[],d=[];if(!n||!n.length||!e||!e.length)return Ui();let p=n.length;for(;p--;)u.push({time:n.start(p),type:"start"}),u.push({time:n.end(p),type:"end"});for(p=e.length;p--;)u.push({time:e.start(p),type:"start"}),u.push({time:e.end(p),type:"end"});for(u.sort(function(m,k){return m.time-k.time}),p=0;p<u.length;p++)u[p].type==="start"?(a++,a===2&&(i=u[p].time)):u[p].type==="end"&&(a--,a===1&&(o=u[p].time)),i!==null&&o!==null&&(d.push([i,o]),i=null,o=null);return Ui(d)},pR=n=>{const e=[];if(!n||!n.length)return"";for(let i=0;i<n.length;i++)e.push(n.start(i)+" => "+n.end(i));return e.join(", ")},Aae=function(n,e,i=1){return((n.length?n.end(n.length-1):0)-e)/i},ru=n=>{const e=[];for(let i=0;i<n.length;i++)e.push({start:n.start(i),end:n.end(i)});return e},Tae=function(n,e){if(n===e)return!1;if(!n&&e||!e&&n||n.length!==e.length)return!0;for(let i=0;i<n.length;i++)if(n.start(i)!==e.start(i)||n.end(i)!==e.end(i))return!0;return!1},BM=function(n){if(!(!n||!n.length||!n.end))return n.end(n.length-1)},hA=function(n,e){let i=0;if(!n||!n.length)return i;for(let o=0;o<n.length;o++){const a=n.start(o),u=n.end(o);if(!(e>u)){if(e>a&&e<=u){i+=u-e;continue}i+=u-a}}return i},fA=(n,e)=>{if(!e.preload)return e.duration;let i=0;return(e.parts||[]).forEach(function(o){i+=o.duration}),(e.preloadHints||[]).forEach(function(o){o.type==="PART"&&(i+=n.partTargetDuration)}),i},vw=n=>(n.segments||[]).reduce((e,i,o)=>(i.parts?i.parts.forEach(function(a,u){e.push({duration:a.duration,segmentIndex:o,partIndex:u,part:a,segment:i})}):e.push({duration:i.duration,segmentIndex:o,partIndex:null,segment:i,part:null}),e),[]),mR=n=>{const e=n.segments&&n.segments.length&&n.segments[n.segments.length-1];return e&&e.parts||[]},gR=({preloadSegment:n})=>{if(!n)return;const{parts:e,preloadHints:i}=n;let o=(i||[]).reduce((a,u)=>a+(u.type==="PART"?1:0),0);return o+=e&&e.length?e.length:0,o},bR=(n,e)=>{if(e.endList)return 0;if(n&&n.suggestedPresentationDelay)return n.suggestedPresentationDelay;const i=mR(e).length>0;return i&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:i&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},xae=function(n,e){let i=0,o=e-n.mediaSequence,a=n.segments[o];if(a){if(typeof a.start<"u")return{result:a.start,precise:!0};if(typeof a.end<"u")return{result:a.end-a.duration,precise:!0}}for(;o--;){if(a=n.segments[o],typeof a.end<"u")return{result:i+a.end,precise:!0};if(i+=fA(n,a),typeof a.start<"u")return{result:i+a.start,precise:!0}}return{result:i,precise:!1}},Eae=function(n,e){let i=0,o,a=e-n.mediaSequence;for(;a<n.segments.length;a++){if(o=n.segments[a],typeof o.start<"u")return{result:o.start-i,precise:!0};if(i+=fA(n,o),typeof o.end<"u")return{result:o.end-i,precise:!0}}return{result:-1,precise:!1}},kR=function(n,e,i){if(typeof e>"u"&&(e=n.mediaSequence+n.segments.length),e<n.mediaSequence)return 0;const o=xae(n,e);if(o.precise)return o.result;const a=Eae(n,e);return a.precise?a.result:o.result+i},vR=function(n,e,i){if(!n)return 0;if(typeof i!="number"&&(i=0),typeof e>"u"){if(n.totalDuration)return n.totalDuration;if(!n.endList)return me.Infinity}return kR(n,e,i)},Dp=function({defaultDuration:n,durationList:e,startIndex:i,endIndex:o}){let a=0;if(i>o&&([i,o]=[o,i]),i<0){for(let u=i;u<Math.min(0,o);u++)a+=n;i=0}for(let u=i;u<o;u++)a+=e[u].duration;return a},_R=function(n,e,i,o){if(!n||!n.segments)return null;if(n.endList)return vR(n);if(e===null)return null;e=e||0;let a=kR(n,n.mediaSequence+n.segments.length,e);return i&&(o=typeof o=="number"?o:bR(null,n),a-=o),Math.max(0,a)},Sae=function(n,e,i){const a=e||0,u=_R(n,e,!0,i);return u===null?Ui():Ui(a,u)},Dae=function({playlist:n,currentTime:e,startingSegmentIndex:i,startingPartIndex:o,startTime:a,exactManifestTimings:u}){let d=e-a;const p=vw(n);let m=0;for(let k=0;k<p.length;k++){const w=p[k];if(i===w.segmentIndex&&!(typeof o=="number"&&typeof w.partIndex=="number"&&o!==w.partIndex)){m=k;break}}if(d<0){if(m>0)for(let k=m-1;k>=0;k--){const w=p[k];if(d+=w.duration,u){if(d<0)continue}else if(d+jl<=0)continue;return{partIndex:w.partIndex,segmentIndex:w.segmentIndex,startTime:a-Dp({defaultDuration:n.targetDuration,durationList:p,startIndex:m,endIndex:k})}}return{partIndex:p[0]&&p[0].partIndex||null,segmentIndex:p[0]&&p[0].segmentIndex||0,startTime:e}}if(m<0){for(let k=m;k<0;k++)if(d-=n.targetDuration,d<0)return{partIndex:p[0]&&p[0].partIndex||null,segmentIndex:p[0]&&p[0].segmentIndex||0,startTime:e};m=0}for(let k=m;k<p.length;k++){const w=p[k];if(d-=w.duration,u){if(d>0)continue}else if(d-jl>=0)continue;return{partIndex:w.partIndex,segmentIndex:w.segmentIndex,startTime:a+Dp({defaultDuration:n.targetDuration,durationList:p,startIndex:m,endIndex:k})}}return{segmentIndex:p[p.length-1].segmentIndex,partIndex:p[p.length-1].partIndex,startTime:e}},yR=function(n){return n.excludeUntil&&n.excludeUntil>Date.now()},pA=function(n){return n.excludeUntil&&n.excludeUntil===1/0},Mk=function(n){const e=yR(n);return!n.disabled&&!e},Iae=function(n){return n.disabled},Mae=function(n){for(let e=0;e<n.segments.length;e++)if(n.segments[e].key)return!0;return!1},wR=function(n,e){return e.attributes&&e.attributes[n]},Pae=function(n,e,i,o=0){return wR("BANDWIDTH",i)?(n*i.attributes.BANDWIDTH-o*8)/e:NaN},_w=(n,e)=>{if(n.playlists.length===1)return!0;const i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return n.playlists.filter(o=>Mk(o)?(o.attributes.BANDWIDTH||0)<i:!1).length===0},mA=(n,e)=>!n&&!e||!n&&e||n&&!e?!1:!!(n===e||n.id&&e.id&&n.id===e.id||n.resolvedUri&&e.resolvedUri&&n.resolvedUri===e.resolvedUri||n.uri&&e.uri&&n.uri===e.uri),OM=function(n,e){const i=n&&n.mediaGroups&&n.mediaGroups.AUDIO||{};let o=!1;for(const a in i){for(const u in i[a])if(o=e(i[a][u]),o)break;if(o)break}return!!o},Rm=n=>{if(!n||!n.playlists||!n.playlists.length)return OM(n,i=>i.playlists&&i.playlists.length||i.uri);for(let e=0;e<n.playlists.length;e++){const i=n.playlists[e],o=i.attributes&&i.attributes.CODECS;if(!(o&&o.split(",").every(u=>aO(u))||OM(n,u=>mA(i,u))))return!1}return!0};var vr={liveEdgeDelay:bR,duration:vR,seekable:Sae,getMediaInfoForTime:Dae,isEnabled:Mk,isDisabled:Iae,isExcluded:yR,isIncompatible:pA,playlistEnd:_R,isAes:Mae,hasAttribute:wR,estimateSegmentRequestTime:Pae,isLowestEnabledRendition:_w,isAudioOnly:Rm,playlistMatch:mA,segmentDurationWithParts:fA};const{log:CR}=Pe,gA=(n,e)=>`${n}-${e}`,Nae=(n,e,i)=>`placeholder-uri-${n}-${e}-${i}`,Bae=({onwarn:n,oninfo:e,manifestString:i,customTagParsers:o=[],customTagMappers:a=[],llhls:u})=>{const d=new Qie;n&&d.on("warn",n),e&&d.on("info",e),o.forEach(k=>d.addParser(k)),a.forEach(k=>d.addTagMapper(k)),d.push(i),d.end();const p=d.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(k){p.hasOwnProperty(k)&&delete p[k]}),p.segments&&p.segments.forEach(function(k){["parts","preloadHints"].forEach(function(w){k.hasOwnProperty(w)&&delete k[w]})})),!p.targetDuration){let k=10;p.segments&&p.segments.length&&(k=p.segments.reduce((w,y)=>Math.max(w,y.duration),0)),n&&n(`manifest has no targetDuration defaulting to ${k}`),p.targetDuration=k}const m=mR(p);if(m.length&&!p.partTargetDuration){const k=m.reduce((w,y)=>Math.max(w,y.duration),0);n&&(n(`manifest has no partTargetDuration defaulting to ${k}`),CR.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),p.partTargetDuration=k}return p},Gh=(n,e)=>{n.mediaGroups&&["AUDIO","SUBTITLES"].forEach(i=>{if(n.mediaGroups[i])for(const o in n.mediaGroups[i])for(const a in n.mediaGroups[i][o]){const u=n.mediaGroups[i][o][a];e(u,i,o,a)}})},AR=({playlist:n,uri:e,id:i})=>{n.id=i,n.playlistErrors_=0,e&&(n.uri=e),n.attributes=n.attributes||{}},Oae=n=>{let e=n.playlists.length;for(;e--;){const i=n.playlists[e];AR({playlist:i,id:gA(e,i.uri)}),i.resolvedUri=Fo(n.uri,i.uri),n.playlists[i.id]=i,n.playlists[i.uri]=i,i.attributes.BANDWIDTH||CR.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Lae=n=>{Gh(n,e=>{e.uri&&(e.resolvedUri=Fo(n.uri,e.uri))})},Rae=(n,e)=>{const i=gA(0,e),o={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:me.location.href,resolvedUri:me.location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]};return o.playlists[i]=o.playlists[0],o.playlists[e]=o.playlists[0],o},TR=(n,e,i=Nae)=>{n.uri=e;for(let a=0;a<n.playlists.length;a++)if(!n.playlists[a].uri){const u=`placeholder-uri-${a}`;n.playlists[a].uri=u}const o=Rm(n);Gh(n,(a,u,d,p)=>{if(!a.playlists||!a.playlists.length){if(o&&u==="AUDIO"&&!a.uri)for(let m=0;m<n.playlists.length;m++){const k=n.playlists[m];if(k.attributes&&k.attributes.AUDIO&&k.attributes.AUDIO===d)return}a.playlists=[Ia({},a)]}a.playlists.forEach(function(m,k){const w=i(u,d,p,m),y=gA(k,w);m.uri?m.resolvedUri=m.resolvedUri||Fo(n.uri,m.uri):(m.uri=k===0?w:y,m.resolvedUri=m.uri),m.id=m.id||y,m.attributes=m.attributes||{},n.playlists[m.id]=m,n.playlists[m.uri]=m})}),Oae(n),Lae(n)};class LM{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[i]=e;i.programDateTime!==void 0&&(this.offset_=i.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[i]=e,o=i.startDate.getTime();this.trimProcessedDateRanges_(o),this.pendingDateRanges_=e.reduce((a,u)=>(a.set(u.id,u),a),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},i=[];this.pendingDateRanges_.forEach((o,a)=>{if(!this.processedDateRanges_.has(a)&&(o.startTime=o.startDate.getTime()/1e3-this.offset_,o.processDateRange=()=>this.processDateRange(o),i.push(o),!!o.class))if(e[o.class]){const u=e[o.class].push(o);o.classListIndex=u-1}else e[o.class]=[o],o.classListIndex=0});for(const o of i){const a=e[o.class]||[];o.endDate?o.endTime=o.endDate.getTime()/1e3-this.offset_:o.endOnNext&&a[o.classListIndex+1]?o.endTime=a[o.classListIndex+1].startTime:o.duration?o.endTime=o.startTime+o.duration:o.plannedDuration?o.endTime=o.startTime+o.plannedDuration:o.endTime=o.startTime}return i}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((o,a)=>{o.startDate.getTime()<e&&this.processedDateRanges_.delete(a)})}}const{EventTarget:Fae}=Pe,jae=(n,e)=>{if(e.endList||!e.serverControl)return n;const i={};if(e.serverControl.canBlockReload){const{preloadSegment:o}=e;let a=e.mediaSequence+e.segments.length;if(o){const u=o.parts||[],d=gR(e)-1;d>-1&&d!==u.length-1&&(i._HLS_part=d),(d>-1||u.length)&&a--}i._HLS_msn=a}if(e.serverControl&&e.serverControl.canSkipUntil&&(i._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){const o=new me.URL(n);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(a){i.hasOwnProperty(a)&&o.searchParams.set(a,i[a])}),n=o.toString()}return n},zae=(n,e)=>{if(!n)return e;const i=vn(n,e);if(n.preloadHints&&!e.preloadHints&&delete i.preloadHints,n.parts&&!e.parts)delete i.parts;else if(n.parts&&e.parts)for(let o=0;o<e.parts.length;o++)n.parts&&n.parts[o]&&(i.parts[o]=vn(n.parts[o],e.parts[o]));return!n.skipped&&e.skipped&&(i.skipped=!1),n.preload&&!e.preload&&(i.preload=!1),i},Vae=(n,e,i)=>{const o=n.slice(),a=e.slice();i=i||0;const u=[];let d;for(let p=0;p<a.length;p++){const m=o[p+i],k=a[p];m?(d=m.map||d,u.push(zae(m,k))):(d&&!k.map&&(k.map=d),u.push(k))}return u},xR=(n,e)=>{!n.resolvedUri&&n.uri&&(n.resolvedUri=Fo(e,n.uri)),n.key&&!n.key.resolvedUri&&(n.key.resolvedUri=Fo(e,n.key.uri)),n.map&&!n.map.resolvedUri&&(n.map.resolvedUri=Fo(e,n.map.uri)),n.map&&n.map.key&&!n.map.key.resolvedUri&&(n.map.key.resolvedUri=Fo(e,n.map.key.uri)),n.parts&&n.parts.length&&n.parts.forEach(i=>{i.resolvedUri||(i.resolvedUri=Fo(e,i.uri))}),n.preloadHints&&n.preloadHints.length&&n.preloadHints.forEach(i=>{i.resolvedUri||(i.resolvedUri=Fo(e,i.uri))})},ER=function(n){const e=n.segments||[],i=n.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(let o=0;o<i.preloadHints.length;o++)if(i.preloadHints[o].type==="MAP")return e}i.duration=n.targetDuration,i.preload=!0,e.push(i)}return e},SR=(n,e)=>n===e||n.segments&&e.segments&&n.segments.length===e.segments.length&&n.endList===e.endList&&n.mediaSequence===e.mediaSequence&&n.preloadSegment===e.preloadSegment,yw=(n,e,i=SR)=>{const o=vn(n,{}),a=o.playlists[e.id];if(!a||i(a,e))return null;e.segments=ER(e);const u=vn(a,e);if(u.preloadSegment&&!e.preloadSegment&&delete u.preloadSegment,a.segments){if(e.skip){e.segments=e.segments||[];for(let d=0;d<e.skip.skippedSegments;d++)e.segments.unshift({skipped:!0})}u.segments=Vae(a.segments,e.segments,e.mediaSequence-a.mediaSequence)}u.segments.forEach(d=>{xR(d,u.resolvedUri)});for(let d=0;d<o.playlists.length;d++)o.playlists[d].id===e.id&&(o.playlists[d]=u);return o.playlists[e.id]=u,o.playlists[e.uri]=u,Gh(n,(d,p,m,k)=>{if(d.playlists)for(let w=0;w<d.playlists.length;w++)e.id===d.playlists[w].id&&(d.playlists[w]=u)}),o},ww=(n,e)=>{const i=n.segments||[],o=i[i.length-1],a=o&&o.parts&&o.parts[o.parts.length-1],u=a&&a.duration||o&&o.duration;return e&&u?u*1e3:(n.partTargetDuration||n.targetDuration||10)*500};class Kd extends Fae{constructor(e,i,o={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Wo("PlaylistLoader");const{withCredentials:a=!1}=o;this.src=e,this.vhs_=i,this.withCredentials=a,this.addDateRangesToTextTrack_=o.addDateRangesToTextTrack;const u=i.options_;this.customTagParsers=u&&u.customTagParsers||[],this.customTagMappers=u&&u.customTagMappers||[],this.llhls=u&&u.llhls,this.dateRangesStorage_=new LM,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const i=this.dateRangesStorage_.getDateRangesToProcess();!i.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(i)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let i=Fo(this.main.uri,e.uri);this.llhls&&(i=jae(i,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:i,withCredentials:this.withCredentials},(o,a)=>{if(this.request){if(o)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,i,o){const{uri:a,id:u}=i;this.request=null,o&&(this.state=o),this.error={playlist:this.main.playlists[u],status:e.status,message:`HLS playlist request error at URL: ${a}.`,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}parseManifest_({url:e,manifestString:i}){return Bae({onwarn:({message:o})=>this.logger_(`m3u8-parser warn for ${e}: ${o}`),oninfo:({message:o})=>this.logger_(`m3u8-parser info for ${e}: ${o}`),manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:i,url:o,id:a}){this.request=null,this.state="HAVE_METADATA";const u=i||this.parseManifest_({url:o,manifestString:e});u.lastRequest=Date.now(),AR({playlist:u,uri:o,id:a});const d=yw(this.main,u);this.targetDuration=u.partTargetDuration||u.targetDuration,this.pendingMedia_=null,d?(this.main=d,this.media_=this.main.playlists[a]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(ww(this.media(),!!d)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),me.clearTimeout(this.mediaUpdateTimeout),me.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new LM,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,i){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(me.clearTimeout(this.finalRenditionTimeout),i){const d=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=me.setTimeout(this.media.bind(this,e,!1),d);return}const o=this.state,a=!this.media_||e.id!==this.media_.id,u=this.main.playlists[e.id];if(u&&u.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,a&&(this.trigger("mediachanging"),o==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(ww(e,!0)),!!a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(d,p)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=ab(e.resolvedUri,p),d)return this.playlistRequestError(this.request,e,o);this.haveMetadata({playlistString:p.responseText,url:e.uri,id:e.id}),o==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}pause(){this.mediaUpdateTimeout&&(me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const i=this.media();if(e){const o=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=me.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},o);return}if(!this.started){this.start();return}i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=me.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=me.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(e,i)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:i.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:i.responseText,code:2},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.src=ab(this.src,i);const o=this.parseManifest_({manifestString:i.responseText,url:this.src});this.setupInitialPlaylist(o)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,TR(this.main,this.srcUri()),e.playlists.forEach(o=>{o.segments=ER(o),o.segments.forEach(a=>{xR(a,o.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const i=this.srcUri()||me.location.href;this.main=Rae(e,i),this.haveMetadata({playlistObject:e,url:i,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}}const{xhr:Uae}=Pe,Cw=function(n,e,i,o){const a=n.responseType==="arraybuffer"?n.response:n.responseText;!e&&a&&(n.responseTime=Date.now(),n.roundTripTime=n.responseTime-n.requestTime,n.bytesReceived=a.byteLength||a.length,n.bandwidth||(n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3))),i.headers&&(n.responseHeaders=i.headers),e&&e.code==="ETIMEDOUT"&&(n.timedout=!0),!e&&!n.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(n&&(a||n.responseText)))),o(e,n)},Hae=(n,e)=>{if(!n||!n.size)return;let i=e;return n.forEach(o=>{i=o(i)}),i},$ae=(n,e,i,o)=>{!n||!n.size||n.forEach(a=>{a(e,i,o)})},DR=function(){const n=function e(i,o){i=vn({timeout:45e3},i);const a=e.beforeRequest||Pe.Vhs.xhr.beforeRequest,u=e._requestCallbackSet||Pe.Vhs.xhr._requestCallbackSet||new Set,d=e._responseCallbackSet||Pe.Vhs.xhr._responseCallbackSet;a&&typeof a=="function"&&(Pe.log.warn("beforeRequest is deprecated, use onRequest instead."),u.add(a));const p=Pe.Vhs.xhr.original===!0?Uae:Pe.Vhs.xhr,m=Hae(u,i);u.delete(a);const k=p(m||i,function(y,T){return $ae(d,k,y,T),Cw(k,y,T,o)}),w=k.abort;return k.abort=function(){return k.aborted=!0,w.apply(k,arguments)},k.uri=i.uri,k.requestTime=Date.now(),k};return n.original=!0,n},qae=function(n){let e;const i=n.offset;return typeof n.offset=="bigint"||typeof n.length=="bigint"?e=me.BigInt(n.offset)+me.BigInt(n.length)-me.BigInt(1):e=n.offset+n.length-1,"bytes="+i+"-"+e},Aw=function(n){const e={};return n.byterange&&(e.Range=qae(n.byterange)),e},Wae=function(n,e){return n.start(e)+"-"+n.end(e)},Gae=function(n,e){const i=n.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},Kae=function(n){return n>=32&&n<126?String.fromCharCode(n):"."},IR=function(n){const e={};return Object.keys(n).forEach(i=>{const o=n[i];cO(o)?e[i]={bytes:o.buffer,byteOffset:o.byteOffset,byteLength:o.byteLength}:e[i]=o}),e},lb=function(n){const e=n.byterange||{length:1/0,offset:0};return[e.length,e.offset,n.resolvedUri].join(",")},MR=function(n){return n.resolvedUri},PR=n=>{const e=Array.prototype.slice.call(n),i=16;let o="",a,u;for(let d=0;d<e.length/i;d++)a=e.slice(d*i,d*i+i).map(Gae).join(""),u=e.slice(d*i,d*i+i).map(Kae).join(""),o+=a+" "+u+`
`;return o},Yae=({bytes:n})=>PR(n),Qae=n=>{let e="",i;for(i=0;i<n.length;i++)e+=Wae(n,i)+" ";return e};var Zae=Object.freeze({__proto__:null,createTransferableMessage:IR,initSegmentId:lb,segmentKeyId:MR,hexDump:PR,tagDump:Yae,textRanges:Qae});const NR=.25,Xae=(n,e)=>{if(!e.dateTimeObject)return null;const i=e.videoTimingInfo.transmuxerPrependedSeconds,a=e.videoTimingInfo.transmuxedPresentationStart+i,u=n-a;return new Date(e.dateTimeObject.getTime()+u*1e3)},Jae=n=>n.transmuxedPresentationEnd-n.transmuxedPresentationStart-n.transmuxerPrependedSeconds,ele=(n,e)=>{let i;try{i=new Date(n)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let o=e.segments[0];if(i<new Date(o.dateTimeObject))return null;for(let m=0;m<e.segments.length-1;m++){o=e.segments[m];const k=new Date(e.segments[m+1].dateTimeObject);if(i<k)break}const a=e.segments[e.segments.length-1],u=a.dateTimeObject,d=a.videoTimingInfo?Jae(a.videoTimingInfo):a.duration+a.duration*NR,p=new Date(u.getTime()+d*1e3);return i>p?null:(i>new Date(u)&&(o=a),{segment:o,estimatedStart:o.videoTimingInfo?o.videoTimingInfo.transmuxedPresentationStart:vr.duration(e,e.mediaSequence+e.segments.indexOf(o)),type:o.videoTimingInfo?"accurate":"estimate"})},tle=(n,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let i=0,o;for(let u=0;u<e.segments.length&&(o=e.segments[u],i=o.videoTimingInfo?o.videoTimingInfo.transmuxedPresentationEnd:i+o.duration,!(n<=i));u++);const a=e.segments[e.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<n)return null;if(n>i){if(n>i+a.duration*NR)return null;o=a}return{segment:o,estimatedStart:o.videoTimingInfo?o.videoTimingInfo.transmuxedPresentationStart:i-o.duration,type:o.videoTimingInfo?"accurate":"estimate"}},nle=(n,e)=>{let i,o;try{i=new Date(n),o=new Date(e)}catch{}const a=i.getTime();return(o.getTime()-a)/1e3},ile=n=>{if(!n.segments||n.segments.length===0)return!1;for(let e=0;e<n.segments.length;e++)if(!n.segments[e].dateTimeObject)return!1;return!0},rle=({playlist:n,time:e=void 0,callback:i})=>{if(!i)throw new Error("getProgramTime: callback must be provided");if(!n||e===void 0)return i({message:"getProgramTime: playlist and time must be provided"});const o=tle(e,n);if(!o)return i({message:"valid programTime was not found"});if(o.type==="estimate")return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});const a={mediaSeconds:e},u=Xae(e,o.segment);return u&&(a.programDateTime=u.toISOString()),i(null,a)},BR=({programTime:n,playlist:e,retryCount:i=2,seekTo:o,pauseAfterSeek:a=!0,tech:u,callback:d})=>{if(!d)throw new Error("seekToProgramTime: callback must be provided");if(typeof n>"u"||!e||!o)return d({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!u.hasStarted_)return d({message:"player must be playing a live stream to start buffering"});if(!ile(e))return d({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const p=ele(n,e);if(!p)return d({message:`${n} was not found in the stream`});const m=p.segment,k=nle(m.dateTimeObject,n);if(p.type==="estimate"){if(i===0)return d({message:`${n} is not buffered yet. Try again`});o(p.estimatedStart+k),u.one("seeked",()=>{BR({programTime:n,playlist:e,retryCount:i-1,seekTo:o,pauseAfterSeek:a,tech:u,callback:d})});return}const w=m.start+k,y=()=>d(null,u.currentTime());u.one("seeked",y),a&&u.pause(),o(w)},by=(n,e)=>{if(n.readyState===4)return e()},ole=(n,e,i)=>{let o=[],a,u=!1;const d=function(w,y,T,E){return y.abort(),u=!0,i(w,y,T,E)},p=function(w,y){if(u)return;if(w)return d(w,y,"",o);const T=y.responseText.substring(o&&o.byteLength||0,y.responseText.length);if(o=lre(o,uO(T,!0)),a=a||fp(o),o.length<10||a&&o.length<a+2)return by(y,()=>d(w,y,"",o));const E=O1(o);return E==="ts"&&o.length<188?by(y,()=>d(w,y,"",o)):!E&&o.length<376?by(y,()=>d(w,y,"",o)):d(null,y,E,o)},k=e({uri:n,beforeSend(w){w.overrideMimeType("text/plain; charset=x-user-defined"),w.addEventListener("progress",function({total:y,loaded:T}){return Cw(w,null,{statusCode:w.status},p)})}},function(w,y){return Cw(k,w,y,p)});return k},{EventTarget:sle}=Pe,RM=function(n,e){if(!SR(n,e)||n.sidx&&e.sidx&&(n.sidx.offset!==e.sidx.offset||n.sidx.length!==e.sidx.length))return!1;if(!n.sidx&&e.sidx||n.sidx&&!e.sidx||n.segments&&!e.segments||!n.segments&&e.segments)return!1;if(!n.segments&&!e.segments)return!0;for(let i=0;i<n.segments.length;i++){const o=n.segments[i],a=e.segments[i];if(o.uri!==a.uri)return!1;if(!o.byterange&&!a.byterange)continue;const u=o.byterange,d=a.byterange;if(u&&!d||!u&&d||u.offset!==d.offset||u.length!==d.length)return!1}return!0},ale=(n,e,i,o)=>{const a=o.attributes.NAME||i;return`placeholder-uri-${n}-${e}-${a}`},lle=({mainXml:n,srcUrl:e,clientOffset:i,sidxMapping:o,previousManifest:a})=>{const u=Moe(n,{manifestUri:e,clientOffset:i,sidxMapping:o,previousManifest:a});return TR(u,e,ale),u},cle=(n,e)=>{Gh(n,(i,o,a,u)=>{u in e.mediaGroups[o][a]||delete n.mediaGroups[o][a][u]})},ule=(n,e,i)=>{let o=!0,a=vn(n,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let u=0;u<e.playlists.length;u++){const d=e.playlists[u];if(d.sidx){const m=fk(d.sidx);i&&i[m]&&i[m].sidx&&P1(d,i[m].sidx,d.sidx.resolvedUri)}const p=yw(a,d,RM);p&&(a=p,o=!1)}return Gh(e,(u,d,p,m)=>{if(u.playlists&&u.playlists.length){const k=u.playlists[0].id,w=yw(a,u.playlists[0],RM);w&&(a=w,m in a.mediaGroups[d][p]||(a.mediaGroups[d][p][m]=u),a.mediaGroups[d][p][m].playlists[0]=a.playlists[k],o=!1)}}),cle(a,e),e.minimumUpdatePeriod!==n.minimumUpdatePeriod&&(o=!1),o?null:a},dle=(n,e)=>(!n.map&&!e.map||!!(n.map&&e.map&&n.map.byterange.offset===e.map.byterange.offset&&n.map.byterange.length===e.map.byterange.length))&&n.uri===e.uri&&n.byterange.offset===e.byterange.offset&&n.byterange.length===e.byterange.length,FM=(n,e)=>{const i={};for(const o in n){const u=n[o].sidx;if(u){const d=fk(u);if(!e[d])break;const p=e[d].sidxInfo;dle(p,u)&&(i[d]=e[d])}}return i},hle=(n,e)=>{let o=FM(n.playlists,e);return Gh(n,(a,u,d,p)=>{if(a.playlists&&a.playlists.length){const m=a.playlists;o=vn(o,FM(m,e))}}),o};class Tw extends sle{constructor(e,i,o={},a){super(),this.mainPlaylistLoader_=a||this,a||(this.isMain_=!0);const{withCredentials:u=!1}=o;if(this.vhs_=i,this.withCredentials=u,this.addMetadataToTextTrack=o.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Wo("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,i,o){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:i.status,message:"DASH request error at URL: "+i.uri,response:i.response,code:2},o&&(this.state=o),this.trigger("error"),!0}addSidxSegments_(e,i,o){const a=e.sidx&&fk(e.sidx);if(!e.sidx||!a||this.mainPlaylistLoader_.sidxMapping_[a]){this.mediaRequest_=me.setTimeout(()=>o(!1),0);return}const u=ab(e.sidx.resolvedUri),d=(p,m)=>{if(this.requestErrored_(p,m,i))return;const k=this.mainPlaylistLoader_.sidxMapping_;let w;try{w=Roe(vt(m.response).subarray(8))}catch(y){this.requestErrored_(y,m,i);return}return k[a]={sidxInfo:e.sidx,sidx:w},P1(e,w,e.sidx.resolvedUri),o(!0)};this.request=ole(u,this.vhs_.xhr,(p,m,k,w)=>{if(p)return d(p,m);if(!k||k!=="mp4")return d({status:m.status,message:`Unsupported ${k||"unknown"} container type for sidx segment at URL: ${u}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},m);const{offset:y,length:T}=e.sidx.byterange;if(w.length>=T+y)return d(p,{response:w.subarray(y,y+T),status:m.status,uri:m.uri});this.request=this.vhs_.xhr({uri:u,responseType:"arraybuffer",headers:Aw({byterange:e.sidx.byterange})},d)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},me.clearTimeout(this.minimumUpdatePeriodTimeout_),me.clearTimeout(this.mediaRequest_),me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const i=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const o=!this.media_||e.id!==this.media_.id;if(o&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}o&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,i,a=>{this.haveMetadata({startingState:i,playlist:e})}))}haveMetadata({startingState:e,playlist:i}){this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,this.mediaRequest_=null,this.refreshMedia_(i.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(me.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const i=this.media();if(e){const o=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=me.setTimeout(()=>this.load(),o);return}if(!this.started){this.start();return}i&&!i.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=me.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,i)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(i,o)=>{if(this.requestErrored_(i,o)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}const a=o.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?this.mainLoaded_=Date.parse(o.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=ab(this.mainPlaylistLoader_.srcUrl,o),a){this.handleMain_(),this.syncClientServerClock_(()=>e(o,a));return}return e(o,a)})}syncClientServerClock_(e){const i=Poe(this.mainPlaylistLoader_.mainXml_);if(i===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(i.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=i.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Fo(this.mainPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},(o,a)=>{if(!this.request)return;if(o)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let u;i.method==="HEAD"?!a.responseHeaders||!a.responseHeaders.date?u=this.mainLoaded_:u=Date.parse(a.responseHeaders.date):u=Date.parse(a.responseText),this.mainPlaylistLoader_.clientOffset_=u-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let i=lle({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(i=ule(e,i,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=i||e;const o=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return o&&o!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=o),(!e||i&&i.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(i),!!i}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(me.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let i=e.main&&e.main.minimumUpdatePeriod;if(i===0&&(e.media()?i=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof i!="number"||i<=0){i<0&&this.logger_(`found invalid minimumUpdatePeriod of ${i}, not setting a timeout`);return}this.createMUPTimeout_(i)}createMUPTimeout_(e){const i=this.mainPlaylistLoader_;i.minimumUpdatePeriodTimeout_=me.setTimeout(()=>{i.minimumUpdatePeriodTimeout_=null,i.trigger("minimumUpdatePeriod"),i.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,i)=>{i&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=hle(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,o=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const i=this.mainPlaylistLoader_.main.playlists,o=!this.media_||this.media_!==i[e];if(o?this.media_=i[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const a=()=>{this.media().endList||(this.mediaUpdateTimeout=me.setTimeout(()=>{this.trigger("mediaupdatetimeout"),a()},ww(this.media(),!!o)))};a()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const i=this.mainPlaylistLoader_.main.eventStream.map(o=>({cueTime:o.start,frames:[{data:o.messageData}]}));this.addMetadataToTextTrack("EventStream",i,this.mainPlaylistLoader_.main.duration)}}}var vi={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const fle=n=>{const e=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)e[i]=n.charCodeAt(i);return e.buffer},OR=function(n){return n.on=n.addEventListener,n.off=n.removeEventListener,n},ple=function(n){try{return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))}catch{const i=new BlobBuilder;return i.append(n),URL.createObjectURL(i.getBlob())}},LR=function(n){return function(){const e=ple(n),i=OR(new Worker(e));i.objURL=e;const o=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(e),o.call(this)},i}},RR=function(n){return`var browserWorkerPolyFill = ${OR.toString()};
browserWorkerPolyFill(self);
`+n},FR=function(n){return n.toString().replace(/^function.+?{/,"").slice(0,-1)},mle=RR(FR(function(){var n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var A={};this.on=function(D,P){A[D]||(A[D]=[]),A[D]=A[D].concat(P)},this.off=function(D,P){var I;return A[D]?(I=A[D].indexOf(P),A[D]=A[D].slice(),A[D].splice(I,1),I>-1):!1},this.trigger=function(D){var P,I,O,U;if(P=A[D],!!P)if(arguments.length===2)for(O=P.length,I=0;I<O;++I)P[I].call(this,arguments[1]);else{for(U=[],I=arguments.length,I=1;I<arguments.length;++I)U.push(arguments[I]);for(O=P.length,I=0;I<O;++I)P[I].apply(this,U)}},this.dispose=function(){A={}}}};e.prototype.pipe=function(A){return this.on("data",function(D){A.push(D)}),this.on("done",function(D){A.flush(D)}),this.on("partialdone",function(D){A.partialFlush(D)}),this.on("endedtimeline",function(D){A.endTimeline(D)}),this.on("reset",function(D){A.reset(D)}),A},e.prototype.push=function(A){this.trigger("data",A)},e.prototype.flush=function(A){this.trigger("done",A)},e.prototype.partialFlush=function(A){this.trigger("partialdone",A)},e.prototype.endTimeline=function(A){this.trigger("endedtimeline",A)},e.prototype.reset=function(A){this.trigger("reset",A)};var i=e,o=Math.pow(2,32),a=function(A){var D=new DataView(A.buffer,A.byteOffset,A.byteLength),P;return D.getBigUint64?(P=D.getBigUint64(0),P<Number.MAX_SAFE_INTEGER?Number(P):P):D.getUint32(0)*o+D.getUint32(4)},u={getUint64:a,MAX_UINT32:o},d=u.MAX_UINT32,p,m,k,w,y,T,E,S,R,V,L,j,Y,W,q,ue,te,F,Q,de,ee,K,J,be,ke,ve,oe,ne,_e,re,Ie,he,Ae,Me,Ne,rt;(function(){var A;if(J={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(A in J)J.hasOwnProperty(A)&&(J[A]=[A.charCodeAt(0),A.charCodeAt(1),A.charCodeAt(2),A.charCodeAt(3)]);be=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),ve=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),ke=new Uint8Array([0,0,0,1]),oe=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ne=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),_e={video:oe,audio:ne},he=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Ie=new Uint8Array([0,0,0,0,0,0,0,0]),Ae=new Uint8Array([0,0,0,0,0,0,0,0]),Me=Ae,Ne=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),rt=Ae,re=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),p=function(A){var D=[],P=0,I,O,U;for(I=1;I<arguments.length;I++)D.push(arguments[I]);for(I=D.length;I--;)P+=D[I].byteLength;for(O=new Uint8Array(P+8),U=new DataView(O.buffer,O.byteOffset,O.byteLength),U.setUint32(0,O.byteLength),O.set(A,4),I=0,P=8;I<D.length;I++)O.set(D[I],P),P+=D[I].byteLength;return O},m=function(){return p(J.dinf,p(J.dref,he))},k=function(A){return p(J.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,A.audioobjecttype<<3|A.samplingfrequencyindex>>>1,A.samplingfrequencyindex<<7|A.channelcount<<3,6,1,2]))},w=function(){return p(J.ftyp,be,ke,be,ve)},ue=function(A){return p(J.hdlr,_e[A])},y=function(A){return p(J.mdat,A)},q=function(A){var D=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,A.duration>>>24&255,A.duration>>>16&255,A.duration>>>8&255,A.duration&255,85,196,0,0]);return A.samplerate&&(D[12]=A.samplerate>>>24&255,D[13]=A.samplerate>>>16&255,D[14]=A.samplerate>>>8&255,D[15]=A.samplerate&255),p(J.mdhd,D)},W=function(A){return p(J.mdia,q(A),ue(A.type),E(A))},T=function(A){return p(J.mfhd,new Uint8Array([0,0,0,0,(A&4278190080)>>24,(A&16711680)>>16,(A&65280)>>8,A&255]))},E=function(A){return p(J.minf,A.type==="video"?p(J.vmhd,re):p(J.smhd,Ie),m(),F(A))},S=function(A,D){for(var P=[],I=D.length;I--;)P[I]=de(D[I]);return p.apply(null,[J.moof,T(A)].concat(P))},R=function(A){for(var D=A.length,P=[];D--;)P[D]=j(A[D]);return p.apply(null,[J.moov,L(4294967295)].concat(P).concat(V(A)))},V=function(A){for(var D=A.length,P=[];D--;)P[D]=ee(A[D]);return p.apply(null,[J.mvex].concat(P))},L=function(A){var D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(A&4278190080)>>24,(A&16711680)>>16,(A&65280)>>8,A&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return p(J.mvhd,D)},te=function(A){var D=A.samples||[],P=new Uint8Array(4+D.length),I,O;for(O=0;O<D.length;O++)I=D[O].flags,P[O+4]=I.dependsOn<<4|I.isDependedOn<<2|I.hasRedundancy;return p(J.sdtp,P)},F=function(A){return p(J.stbl,Q(A),p(J.stts,rt),p(J.stsc,Me),p(J.stsz,Ne),p(J.stco,Ae))},function(){var A,D;Q=function(P){return p(J.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),P.type==="video"?A(P):D(P))},A=function(P){var I=P.sps||[],O=P.pps||[],U=[],X=[],ie,ae;for(ie=0;ie<I.length;ie++)U.push((I[ie].byteLength&65280)>>>8),U.push(I[ie].byteLength&255),U=U.concat(Array.prototype.slice.call(I[ie]));for(ie=0;ie<O.length;ie++)X.push((O[ie].byteLength&65280)>>>8),X.push(O[ie].byteLength&255),X=X.concat(Array.prototype.slice.call(O[ie]));if(ae=[J.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(P.width&65280)>>8,P.width&255,(P.height&65280)>>8,P.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),p(J.avcC,new Uint8Array([1,P.profileIdc,P.profileCompatibility,P.levelIdc,255].concat([I.length],U,[O.length],X))),p(J.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],P.sarRatio){var ge=P.sarRatio[0],we=P.sarRatio[1];ae.push(p(J.pasp,new Uint8Array([(ge&4278190080)>>24,(ge&16711680)>>16,(ge&65280)>>8,ge&255,(we&4278190080)>>24,(we&16711680)>>16,(we&65280)>>8,we&255])))}return p.apply(null,ae)},D=function(P){return p(J.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(P.channelcount&65280)>>8,P.channelcount&255,(P.samplesize&65280)>>8,P.samplesize&255,0,0,0,0,(P.samplerate&65280)>>8,P.samplerate&255,0,0]),k(P))}}(),Y=function(A){var D=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(A.id&4278190080)>>24,(A.id&16711680)>>16,(A.id&65280)>>8,A.id&255,0,0,0,0,(A.duration&4278190080)>>24,(A.duration&16711680)>>16,(A.duration&65280)>>8,A.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(A.width&65280)>>8,A.width&255,0,0,(A.height&65280)>>8,A.height&255,0,0]);return p(J.tkhd,D)},de=function(A){var D,P,I,O,U,X,ie;return D=p(J.tfhd,new Uint8Array([0,0,0,58,(A.id&4278190080)>>24,(A.id&16711680)>>16,(A.id&65280)>>8,A.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),X=Math.floor(A.baseMediaDecodeTime/d),ie=Math.floor(A.baseMediaDecodeTime%d),P=p(J.tfdt,new Uint8Array([1,0,0,0,X>>>24&255,X>>>16&255,X>>>8&255,X&255,ie>>>24&255,ie>>>16&255,ie>>>8&255,ie&255])),U=32+20+8+16+8+8,A.type==="audio"?(I=K(A,U),p(J.traf,D,P,I)):(O=te(A),I=K(A,O.length+U),p(J.traf,D,P,I,O))},j=function(A){return A.duration=A.duration||4294967295,p(J.trak,Y(A),W(A))},ee=function(A){var D=new Uint8Array([0,0,0,0,(A.id&4278190080)>>24,(A.id&16711680)>>16,(A.id&65280)>>8,A.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return A.type!=="video"&&(D[D.length-1]=0),p(J.trex,D)},function(){var A,D,P;P=function(I,O){var U=0,X=0,ie=0,ae=0;return I.length&&(I[0].duration!==void 0&&(U=1),I[0].size!==void 0&&(X=2),I[0].flags!==void 0&&(ie=4),I[0].compositionTimeOffset!==void 0&&(ae=8)),[0,0,U|X|ie|ae,1,(I.length&4278190080)>>>24,(I.length&16711680)>>>16,(I.length&65280)>>>8,I.length&255,(O&4278190080)>>>24,(O&16711680)>>>16,(O&65280)>>>8,O&255]},D=function(I,O){var U,X,ie,ae,ge,we;for(ae=I.samples||[],O+=8+12+16*ae.length,ie=P(ae,O),X=new Uint8Array(ie.length+ae.length*16),X.set(ie),U=ie.length,we=0;we<ae.length;we++)ge=ae[we],X[U++]=(ge.duration&4278190080)>>>24,X[U++]=(ge.duration&16711680)>>>16,X[U++]=(ge.duration&65280)>>>8,X[U++]=ge.duration&255,X[U++]=(ge.size&4278190080)>>>24,X[U++]=(ge.size&16711680)>>>16,X[U++]=(ge.size&65280)>>>8,X[U++]=ge.size&255,X[U++]=ge.flags.isLeading<<2|ge.flags.dependsOn,X[U++]=ge.flags.isDependedOn<<6|ge.flags.hasRedundancy<<4|ge.flags.paddingValue<<1|ge.flags.isNonSyncSample,X[U++]=ge.flags.degradationPriority&61440,X[U++]=ge.flags.degradationPriority&15,X[U++]=(ge.compositionTimeOffset&4278190080)>>>24,X[U++]=(ge.compositionTimeOffset&16711680)>>>16,X[U++]=(ge.compositionTimeOffset&65280)>>>8,X[U++]=ge.compositionTimeOffset&255;return p(J.trun,X)},A=function(I,O){var U,X,ie,ae,ge,we;for(ae=I.samples||[],O+=8+12+8*ae.length,ie=P(ae,O),U=new Uint8Array(ie.length+ae.length*8),U.set(ie),X=ie.length,we=0;we<ae.length;we++)ge=ae[we],U[X++]=(ge.duration&4278190080)>>>24,U[X++]=(ge.duration&16711680)>>>16,U[X++]=(ge.duration&65280)>>>8,U[X++]=ge.duration&255,U[X++]=(ge.size&4278190080)>>>24,U[X++]=(ge.size&16711680)>>>16,U[X++]=(ge.size&65280)>>>8,U[X++]=ge.size&255;return p(J.trun,U)},K=function(I,O){return I.type==="audio"?A(I,O):D(I,O)}}();var ft={ftyp:w,mdat:y,moof:S,moov:R,initSegment:function(A){var D=w(),P=R(A),I;return I=new Uint8Array(D.byteLength+P.byteLength),I.set(D),I.set(P,D.byteLength),I}},Ke=function(A){var D,P,I=[],O=[];for(O.byteLength=0,O.nalCount=0,O.duration=0,I.byteLength=0,D=0;D<A.length;D++)P=A[D],P.nalUnitType==="access_unit_delimiter_rbsp"?(I.length&&(I.duration=P.dts-I.dts,O.byteLength+=I.byteLength,O.nalCount+=I.length,O.duration+=I.duration,O.push(I)),I=[P],I.byteLength=P.data.byteLength,I.pts=P.pts,I.dts=P.dts):(P.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(I.keyFrame=!0),I.duration=P.dts-I.dts,I.byteLength+=P.data.byteLength,I.push(P));return O.length&&(!I.duration||I.duration<=0)&&(I.duration=O[O.length-1].duration),O.byteLength+=I.byteLength,O.nalCount+=I.length,O.duration+=I.duration,O.push(I),O},dt=function(A){var D,P,I=[],O=[];for(I.byteLength=0,I.nalCount=0,I.duration=0,I.pts=A[0].pts,I.dts=A[0].dts,O.byteLength=0,O.nalCount=0,O.duration=0,O.pts=A[0].pts,O.dts=A[0].dts,D=0;D<A.length;D++)P=A[D],P.keyFrame?(I.length&&(O.push(I),O.byteLength+=I.byteLength,O.nalCount+=I.nalCount,O.duration+=I.duration),I=[P],I.nalCount=P.length,I.byteLength=P.byteLength,I.pts=P.pts,I.dts=P.dts,I.duration=P.duration):(I.duration+=P.duration,I.nalCount+=P.length,I.byteLength+=P.byteLength,I.push(P));return O.length&&I.duration<=0&&(I.duration=O[O.length-1].duration),O.byteLength+=I.byteLength,O.nalCount+=I.nalCount,O.duration+=I.duration,O.push(I),O},Te=function(A){var D;return!A[0][0].keyFrame&&A.length>1&&(D=A.shift(),A.byteLength-=D.byteLength,A.nalCount-=D.nalCount,A[0][0].dts=D.dts,A[0][0].pts=D.pts,A[0][0].duration+=D.duration),A},Xe=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},le=function(A,D){var P=Xe();return P.dataOffset=D,P.compositionTimeOffset=A.pts-A.dts,P.duration=A.duration,P.size=4*A.length,P.size+=A.byteLength,A.keyFrame&&(P.flags.dependsOn=2,P.flags.isNonSyncSample=0),P},ce=function(A,D){var P,I,O,U,X,ie=D||0,ae=[];for(P=0;P<A.length;P++)for(U=A[P],I=0;I<U.length;I++)X=U[I],O=le(X,ie),ie+=O.size,ae.push(O);return ae},Se=function(A){var D,P,I,O,U,X,ie=0,ae=A.byteLength,ge=A.nalCount,we=ae+4*ge,Ee=new Uint8Array(we),Je=new DataView(Ee.buffer);for(D=0;D<A.length;D++)for(O=A[D],P=0;P<O.length;P++)for(U=O[P],I=0;I<U.length;I++)X=U[I],Je.setUint32(ie,X.data.byteLength),ie+=4,Ee.set(X.data,ie),ie+=X.data.byteLength;return Ee},xe=function(A,D){var P,I=D||0,O=[];return P=le(A,I),O.push(P),O},Oe=function(A){var D,P,I=0,O=A.byteLength,U=A.length,X=O+4*U,ie=new Uint8Array(X),ae=new DataView(ie.buffer);for(D=0;D<A.length;D++)P=A[D],ae.setUint32(I,P.data.byteLength),I+=4,ie.set(P.data,I),I+=P.data.byteLength;return ie},Ye={groupNalsIntoFrames:Ke,groupFramesIntoGops:dt,extendFirstKeyFrame:Te,generateSampleTable:ce,concatenateNalData:Se,generateSampleTableForFrame:xe,concatenateNalDataForFrame:Oe},We=[33,16,5,32,164,27],ze=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Re=function(A){for(var D=[];A--;)D.push(0);return D},He=function(A){return Object.keys(A).reduce(function(D,P){return D[P]=new Uint8Array(A[P].reduce(function(I,O){return I.concat(O)},[])),D},{})},Qe,Ge=function(){if(!Qe){var A={96e3:[We,[227,64],Re(154),[56]],88200:[We,[231],Re(170),[56]],64e3:[We,[248,192],Re(240),[56]],48e3:[We,[255,192],Re(268),[55,148,128],Re(54),[112]],44100:[We,[255,192],Re(268),[55,163,128],Re(84),[112]],32e3:[We,[255,192],Re(268),[55,234],Re(226),[112]],24e3:[We,[255,192],Re(268),[55,255,128],Re(268),[111,112],Re(126),[224]],16e3:[We,[255,192],Re(268),[55,255,128],Re(268),[111,255],Re(269),[223,108],Re(195),[1,192]],12e3:[ze,Re(268),[3,127,248],Re(268),[6,255,240],Re(268),[13,255,224],Re(268),[27,253,128],Re(259),[56]],11025:[ze,Re(268),[3,127,248],Re(268),[6,255,240],Re(268),[13,255,224],Re(268),[27,255,192],Re(268),[55,175,128],Re(108),[112]],8e3:[ze,Re(268),[3,121,16],Re(47),[7]]};Qe=He(A)}return Qe},it=9e4,gt,Le,pe,Ce,nt,at,wt;gt=function(A){return A*it},Le=function(A,D){return A*D},pe=function(A){return A/it},Ce=function(A,D){return A/D},nt=function(A,D){return gt(Ce(A,D))},at=function(A,D){return Le(pe(A),D)},wt=function(A,D,P){return pe(P?A:A-D)};var It={ONE_SECOND_IN_TS:it,secondsToVideoTs:gt,secondsToAudioTs:Le,videoTsToSeconds:pe,audioTsToSeconds:Ce,audioTsToVideoTs:nt,videoTsToAudioTs:at,metadataTsToSeconds:wt},Kn=Ge,pn=It,Pn=function(A){var D,P,I=0;for(D=0;D<A.length;D++)P=A[D],I+=P.data.byteLength;return I},Nn=function(A,D,P,I){var O,U=0,X=0,ie=0,ae=0,ge,we,Ee;if(D.length&&(O=pn.audioTsToVideoTs(A.baseMediaDecodeTime,A.samplerate),U=Math.ceil(pn.ONE_SECOND_IN_TS/(A.samplerate/1024)),P&&I&&(X=O-Math.max(P,I),ie=Math.floor(X/U),ae=ie*U),!(ie<1||ae>pn.ONE_SECOND_IN_TS/2))){for(ge=Kn()[A.samplerate],ge||(ge=D[0].data),we=0;we<ie;we++)Ee=D[0],D.splice(0,0,{data:ge,dts:Ee.dts-U,pts:Ee.pts-U});return A.baseMediaDecodeTime-=Math.floor(pn.videoTsToAudioTs(ae,A.samplerate)),ae}},xn=function(A,D,P){return D.minSegmentDts>=P?A:(D.minSegmentDts=1/0,A.filter(function(I){return I.dts>=P?(D.minSegmentDts=Math.min(D.minSegmentDts,I.dts),D.minSegmentPts=D.minSegmentDts,!0):!1}))},En=function(A){var D,P,I=[];for(D=0;D<A.length;D++)P=A[D],I.push({size:P.data.byteLength,duration:1024});return I},pi=function(A){var D,P,I=0,O=new Uint8Array(Pn(A));for(D=0;D<A.length;D++)P=A[D],O.set(P.data,I),I+=P.data.byteLength;return O},Wl={prefixWithSilence:Nn,trimAdtsFramesByEarliestDts:xn,generateSampleTable:En,concatenateFrameData:pi},ju=It.ONE_SECOND_IN_TS,Tt=function(A,D){typeof D.pts=="number"&&(A.timelineStartInfo.pts===void 0&&(A.timelineStartInfo.pts=D.pts),A.minSegmentPts===void 0?A.minSegmentPts=D.pts:A.minSegmentPts=Math.min(A.minSegmentPts,D.pts),A.maxSegmentPts===void 0?A.maxSegmentPts=D.pts:A.maxSegmentPts=Math.max(A.maxSegmentPts,D.pts)),typeof D.dts=="number"&&(A.timelineStartInfo.dts===void 0&&(A.timelineStartInfo.dts=D.dts),A.minSegmentDts===void 0?A.minSegmentDts=D.dts:A.minSegmentDts=Math.min(A.minSegmentDts,D.dts),A.maxSegmentDts===void 0?A.maxSegmentDts=D.dts:A.maxSegmentDts=Math.max(A.maxSegmentDts,D.dts))},Gl=function(A){delete A.minSegmentDts,delete A.maxSegmentDts,delete A.minSegmentPts,delete A.maxSegmentPts},Kh=function(A,D){var P,I,O=A.minSegmentDts;return D||(O-=A.timelineStartInfo.dts),P=A.timelineStartInfo.baseMediaDecodeTime,P+=O,P=Math.max(0,P),A.type==="audio"&&(I=A.samplerate/ju,P*=I,P=Math.floor(P)),P},Yh={clearDtsInfo:Gl,calculateTrackBaseMediaDecodeTime:Kh,collectDtsInfo:Tt},Kl=4,ko=128,Qh=function(A){for(var D=0,P={payloadType:-1,payloadSize:0},I=0,O=0;D<A.byteLength&&A[D]!==ko;){for(;A[D]===255;)I+=255,D++;for(I+=A[D++];A[D]===255;)O+=255,D++;if(O+=A[D++],!P.payload&&I===Kl){var U=String.fromCharCode(A[D+3],A[D+4],A[D+5],A[D+6]);if(U==="GA94"){P.payloadType=I,P.payloadSize=O,P.payload=A.subarray(D,D+O);break}else P.payload=void 0}D+=O,I=0,O=0}return P},Ai=function(A){return A.payload[0]!==181||(A.payload[1]<<8|A.payload[2])!==49||String.fromCharCode(A.payload[3],A.payload[4],A.payload[5],A.payload[6])!=="GA94"||A.payload[7]!==3?null:A.payload.subarray(8,A.payload.length-1)},Zh=function(A,D){var P=[],I,O,U,X;if(!(D[0]&64))return P;for(O=D[0]&31,I=0;I<O;I++)U=I*3,X={type:D[U+2]&3,pts:A},D[U+2]&4&&(X.ccData=D[U+3]<<8|D[U+4],P.push(X));return P},Us=function(A){for(var D=A.byteLength,P=[],I=1,O,U;I<D-2;)A[I]===0&&A[I+1]===0&&A[I+2]===3?(P.push(I+2),I+=2):I++;if(P.length===0)return A;O=D-P.length,U=new Uint8Array(O);var X=0;for(I=0;I<O;X++,I++)X===P[0]&&(X++,P.shift()),U[I]=A[X];return U},Hs={parseSei:Qh,parseUserData:Ai,parseCaptionPackets:Zh,discardEmulationPreventionBytes:Us,USER_DATA_REGISTERED_ITU_T_T35:Kl},$s=i,ja=Hs,mi=function(A){A=A||{},mi.prototype.init.call(this),this.parse708captions_=typeof A.parse708captions=="boolean"?A.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new mn(0,0),new mn(0,1),new mn(1,0),new mn(1,1)],this.parse708captions_&&(this.cc708Stream_=new Wt({captionServices:A.captionServices})),this.reset(),this.ccStreams_.forEach(function(D){D.on("data",this.trigger.bind(this,"data")),D.on("partialdone",this.trigger.bind(this,"partialdone")),D.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};mi.prototype=new $s,mi.prototype.push=function(A){var D,P,I;if(A.nalUnitType==="sei_rbsp"&&(D=ja.parseSei(A.escapedRBSP),!!D.payload&&D.payloadType===ja.USER_DATA_REGISTERED_ITU_T_T35&&(P=ja.parseUserData(D),!!P))){if(A.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(A.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}I=ja.parseCaptionPackets(A.pts,P),this.captionPackets_=this.captionPackets_.concat(I),this.latestDts_!==A.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=A.dts}},mi.prototype.flushCCStreams=function(A){this.ccStreams_.forEach(function(D){return A==="flush"?D.flush():D.partialFlush()},this)},mi.prototype.flushStream=function(A){if(!this.captionPackets_.length){this.flushCCStreams(A);return}this.captionPackets_.forEach(function(D,P){D.presortIndex=P}),this.captionPackets_.sort(function(D,P){return D.pts===P.pts?D.presortIndex-P.presortIndex:D.pts-P.pts}),this.captionPackets_.forEach(function(D){D.type<2?this.dispatchCea608Packet(D):this.dispatchCea708Packet(D)},this),this.captionPackets_.length=0,this.flushCCStreams(A)},mi.prototype.flush=function(){return this.flushStream("flush")},mi.prototype.partialFlush=function(){return this.flushStream("partialFlush")},mi.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(A){A.reset()})},mi.prototype.dispatchCea608Packet=function(A){this.setsTextOrXDSActive(A)?this.activeCea608Channel_[A.type]=null:this.setsChannel1Active(A)?this.activeCea608Channel_[A.type]=0:this.setsChannel2Active(A)&&(this.activeCea608Channel_[A.type]=1),this.activeCea608Channel_[A.type]!==null&&this.ccStreams_[(A.type<<1)+this.activeCea608Channel_[A.type]].push(A)},mi.prototype.setsChannel1Active=function(A){return(A.ccData&30720)===4096},mi.prototype.setsChannel2Active=function(A){return(A.ccData&30720)===6144},mi.prototype.setsTextOrXDSActive=function(A){return(A.ccData&28928)===256||(A.ccData&30974)===4138||(A.ccData&30974)===6186},mi.prototype.dispatchCea708Packet=function(A){this.parse708captions_&&this.cc708Stream_.push(A)};var qs={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Xh=function(A){var D=qs[A]||A;return A&4096&&A===D?"":String.fromCharCode(D)},Tr=function(A){return 32<=A&&A<=127||160<=A&&A<=255},Bi=function(A){this.windowNum=A,this.reset()};Bi.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Bi.prototype.getText=function(){return this.rows.join(`
`)},Bi.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Bi.prototype.newLine=function(A){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(A),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Bi.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Bi.prototype.addText=function(A){this.rows[this.rowIdx]+=A},Bi.prototype.backspace=function(){if(!this.isEmpty()){var A=this.rows[this.rowIdx];this.rows[this.rowIdx]=A.substr(0,A.length-1)}};var za=function(A,D,P){this.serviceNum=A,this.text="",this.currentWindow=new Bi(-1),this.windows=[],this.stream=P,typeof D=="string"&&this.createTextDecoder(D)};za.prototype.init=function(A,D){this.startPts=A;for(var P=0;P<8;P++)this.windows[P]=new Bi(P),typeof D=="function"&&(this.windows[P].beforeRowOverflow=D)},za.prototype.setCurrentWindow=function(A){this.currentWindow=this.windows[A]},za.prototype.createTextDecoder=function(A){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(A)}catch(D){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+A+" encoding. "+D})}};var Wt=function(A){A=A||{},Wt.prototype.init.call(this);var D=this,P=A.captionServices||{},I={},O;Object.keys(P).forEach(U=>{O=P[U],/^SERVICE/.test(U)&&(I[U]=O.encoding)}),this.serviceEncodings=I,this.current708Packet=null,this.services={},this.push=function(U){U.type===3?(D.new708Packet(),D.add708Bytes(U)):(D.current708Packet===null&&D.new708Packet(),D.add708Bytes(U))}};Wt.prototype=new $s,Wt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Wt.prototype.add708Bytes=function(A){var D=A.ccData,P=D>>>8,I=D&255;this.current708Packet.ptsVals.push(A.pts),this.current708Packet.data.push(P),this.current708Packet.data.push(I)},Wt.prototype.push708Packet=function(){var A=this.current708Packet,D=A.data,P=null,I=null,O=0,U=D[O++];for(A.seq=U>>6,A.sizeCode=U&63;O<D.length;O++)U=D[O++],P=U>>5,I=U&31,P===7&&I>0&&(U=D[O++],P=U),this.pushServiceBlock(P,O,I),I>0&&(O+=I-1)},Wt.prototype.pushServiceBlock=function(A,D,P){var I,O=D,U=this.current708Packet.data,X=this.services[A];for(X||(X=this.initService(A,O));O<D+P&&O<U.length;O++)I=U[O],Tr(I)?O=this.handleText(O,X):I===24?O=this.multiByteCharacter(O,X):I===16?O=this.extendedCommands(O,X):128<=I&&I<=135?O=this.setCurrentWindow(O,X):152<=I&&I<=159?O=this.defineWindow(O,X):I===136?O=this.clearWindows(O,X):I===140?O=this.deleteWindows(O,X):I===137?O=this.displayWindows(O,X):I===138?O=this.hideWindows(O,X):I===139?O=this.toggleWindows(O,X):I===151?O=this.setWindowAttributes(O,X):I===144?O=this.setPenAttributes(O,X):I===145?O=this.setPenColor(O,X):I===146?O=this.setPenLocation(O,X):I===143?X=this.reset(O,X):I===8?X.currentWindow.backspace():I===12?X.currentWindow.clearText():I===13?X.currentWindow.pendingNewLine=!0:I===14?X.currentWindow.clearText():I===141&&O++},Wt.prototype.extendedCommands=function(A,D){var P=this.current708Packet.data,I=P[++A];return Tr(I)&&(A=this.handleText(A,D,{isExtended:!0})),A},Wt.prototype.getPts=function(A){return this.current708Packet.ptsVals[Math.floor(A/2)]},Wt.prototype.initService=function(A,D){var I="SERVICE"+A,P=this,I,O;return I in this.serviceEncodings&&(O=this.serviceEncodings[I]),this.services[A]=new za(A,O,P),this.services[A].init(this.getPts(D),function(U){P.flushDisplayed(U,P.services[A])}),this.services[A]},Wt.prototype.handleText=function(A,D,P){var I=P&&P.isExtended,O=P&&P.isMultiByte,U=this.current708Packet.data,X=I?4096:0,ie=U[A],ae=U[A+1],ge=D.currentWindow,we,Ee;return D.textDecoder_&&!I?(O?(Ee=[ie,ae],A++):Ee=[ie],we=D.textDecoder_.decode(new Uint8Array(Ee))):we=Xh(X|ie),ge.pendingNewLine&&!ge.isEmpty()&&ge.newLine(this.getPts(A)),ge.pendingNewLine=!1,ge.addText(we),A},Wt.prototype.multiByteCharacter=function(A,D){var P=this.current708Packet.data,I=P[A+1],O=P[A+2];return Tr(I)&&Tr(O)&&(A=this.handleText(++A,D,{isMultiByte:!0})),A},Wt.prototype.setCurrentWindow=function(A,D){var P=this.current708Packet.data,I=P[A],O=I&7;return D.setCurrentWindow(O),A},Wt.prototype.defineWindow=function(A,D){var P=this.current708Packet.data,I=P[A],O=I&7;D.setCurrentWindow(O);var U=D.currentWindow;return I=P[++A],U.visible=(I&32)>>5,U.rowLock=(I&16)>>4,U.columnLock=(I&8)>>3,U.priority=I&7,I=P[++A],U.relativePositioning=(I&128)>>7,U.anchorVertical=I&127,I=P[++A],U.anchorHorizontal=I,I=P[++A],U.anchorPoint=(I&240)>>4,U.rowCount=I&15,I=P[++A],U.columnCount=I&63,I=P[++A],U.windowStyle=(I&56)>>3,U.penStyle=I&7,U.virtualRowCount=U.rowCount+1,A},Wt.prototype.setWindowAttributes=function(A,D){var P=this.current708Packet.data,I=P[A],O=D.currentWindow.winAttr;return I=P[++A],O.fillOpacity=(I&192)>>6,O.fillRed=(I&48)>>4,O.fillGreen=(I&12)>>2,O.fillBlue=I&3,I=P[++A],O.borderType=(I&192)>>6,O.borderRed=(I&48)>>4,O.borderGreen=(I&12)>>2,O.borderBlue=I&3,I=P[++A],O.borderType+=(I&128)>>5,O.wordWrap=(I&64)>>6,O.printDirection=(I&48)>>4,O.scrollDirection=(I&12)>>2,O.justify=I&3,I=P[++A],O.effectSpeed=(I&240)>>4,O.effectDirection=(I&12)>>2,O.displayEffect=I&3,A},Wt.prototype.flushDisplayed=function(A,D){for(var P=[],I=0;I<8;I++)D.windows[I].visible&&!D.windows[I].isEmpty()&&P.push(D.windows[I].getText());D.endPts=A,D.text=P.join(`

`),this.pushCaption(D),D.startPts=A},Wt.prototype.pushCaption=function(A){A.text!==""&&(this.trigger("data",{startPts:A.startPts,endPts:A.endPts,text:A.text,stream:"cc708_"+A.serviceNum}),A.text="",A.startPts=A.endPts)},Wt.prototype.displayWindows=function(A,D){var P=this.current708Packet.data,I=P[++A],O=this.getPts(A);this.flushDisplayed(O,D);for(var U=0;U<8;U++)I&1<<U&&(D.windows[U].visible=1);return A},Wt.prototype.hideWindows=function(A,D){var P=this.current708Packet.data,I=P[++A],O=this.getPts(A);this.flushDisplayed(O,D);for(var U=0;U<8;U++)I&1<<U&&(D.windows[U].visible=0);return A},Wt.prototype.toggleWindows=function(A,D){var P=this.current708Packet.data,I=P[++A],O=this.getPts(A);this.flushDisplayed(O,D);for(var U=0;U<8;U++)I&1<<U&&(D.windows[U].visible^=1);return A},Wt.prototype.clearWindows=function(A,D){var P=this.current708Packet.data,I=P[++A],O=this.getPts(A);this.flushDisplayed(O,D);for(var U=0;U<8;U++)I&1<<U&&D.windows[U].clearText();return A},Wt.prototype.deleteWindows=function(A,D){var P=this.current708Packet.data,I=P[++A],O=this.getPts(A);this.flushDisplayed(O,D);for(var U=0;U<8;U++)I&1<<U&&D.windows[U].reset();return A},Wt.prototype.setPenAttributes=function(A,D){var P=this.current708Packet.data,I=P[A],O=D.currentWindow.penAttr;return I=P[++A],O.textTag=(I&240)>>4,O.offset=(I&12)>>2,O.penSize=I&3,I=P[++A],O.italics=(I&128)>>7,O.underline=(I&64)>>6,O.edgeType=(I&56)>>3,O.fontStyle=I&7,A},Wt.prototype.setPenColor=function(A,D){var P=this.current708Packet.data,I=P[A],O=D.currentWindow.penColor;return I=P[++A],O.fgOpacity=(I&192)>>6,O.fgRed=(I&48)>>4,O.fgGreen=(I&12)>>2,O.fgBlue=I&3,I=P[++A],O.bgOpacity=(I&192)>>6,O.bgRed=(I&48)>>4,O.bgGreen=(I&12)>>2,O.bgBlue=I&3,I=P[++A],O.edgeRed=(I&48)>>4,O.edgeGreen=(I&12)>>2,O.edgeBlue=I&3,A},Wt.prototype.setPenLocation=function(A,D){var P=this.current708Packet.data,I=P[A],O=D.currentWindow.penLoc;return D.currentWindow.pendingNewLine=!0,I=P[++A],O.row=I&15,I=P[++A],O.column=I&63,A},Wt.prototype.reset=function(A,D){var P=this.getPts(A);return this.flushDisplayed(P,D),this.initService(D.serviceNum,A)};var Jh={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Va=function(A){return A===null?"":(A=Jh[A]||A,String.fromCharCode(A))},ar=14,Yl=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ct=function(){for(var A=[],D=ar+1;D--;)A.push({text:"",indent:0,offset:0});return A},mn=function(A,D){mn.prototype.init.call(this),this.field_=A||0,this.dataChannel_=D||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(P){var I,O,U,X,ie;if(I=P.ccData&32639,I===this.lastControlCode_){this.lastControlCode_=null;return}if((I&61440)===4096?this.lastControlCode_=I:I!==this.PADDING_&&(this.lastControlCode_=null),U=I>>>8,X=I&255,I!==this.PADDING_)if(I===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(I===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(P.pts),this.flushDisplayed(P.pts),O=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=O,this.startPts_=P.pts;else if(I===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(P.pts);else if(I===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(P.pts);else if(I===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(P.pts);else if(I===this.CARRIAGE_RETURN_)this.clearFormatting(P.pts),this.flushDisplayed(P.pts),this.shiftRowsUp_(),this.startPts_=P.pts;else if(I===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(I===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(P.pts),this.displayed_=Ct();else if(I===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ct();else if(I===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(P.pts),this.displayed_=Ct()),this.mode_="paintOn",this.startPts_=P.pts;else if(this.isSpecialCharacter(U,X))U=(U&3)<<8,ie=Va(U|X),this[this.mode_](P.pts,ie),this.column_++;else if(this.isExtCharacter(U,X))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),U=(U&3)<<8,ie=Va(U|X),this[this.mode_](P.pts,ie),this.column_++;else if(this.isMidRowCode(U,X))this.clearFormatting(P.pts),this[this.mode_](P.pts," "),this.column_++,(X&14)===14&&this.addFormatting(P.pts,["i"]),(X&1)===1&&this.addFormatting(P.pts,["u"]);else if(this.isOffsetControlCode(U,X)){const ge=X&3;this.nonDisplayed_[this.row_].offset=ge,this.column_+=ge}else if(this.isPAC(U,X)){var ae=Yl.indexOf(I&7968);if(this.mode_==="rollUp"&&(ae-this.rollUpRows_+1<0&&(ae=this.rollUpRows_-1),this.setRollUp(P.pts,ae)),ae!==this.row_&&(this.clearFormatting(P.pts),this.row_=ae),X&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(P.pts,["u"]),(I&16)===16){const ge=(I&14)>>1;this.column_=ge*4,this.nonDisplayed_[this.row_].indent+=ge}this.isColorPAC(X)&&(X&14)===14&&this.addFormatting(P.pts,["i"])}else this.isNormalChar(U)&&(X===0&&(X=null),ie=Va(U),ie+=Va(X),this[this.mode_](P.pts,ie),this.column_+=ie.length)}};mn.prototype=new $s,mn.prototype.flushDisplayed=function(A){const D=I=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+I+"."})},P=[];this.displayed_.forEach((I,O)=>{if(I&&I.text&&I.text.length){try{I.text=I.text.trim()}catch{D(O)}I.text.length&&P.push({text:I.text,line:O+1,position:10+Math.min(70,I.indent*10)+I.offset*2.5})}else I==null&&D(O)}),P.length&&this.trigger("data",{startPts:this.startPts_,endPts:A,content:P,stream:this.name_})},mn.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ct(),this.nonDisplayed_=Ct(),this.lastControlCode_=null,this.column_=0,this.row_=ar,this.rollUpRows_=2,this.formatting_=[]},mn.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},mn.prototype.isSpecialCharacter=function(A,D){return A===this.EXT_&&D>=48&&D<=63},mn.prototype.isExtCharacter=function(A,D){return(A===this.EXT_+1||A===this.EXT_+2)&&D>=32&&D<=63},mn.prototype.isMidRowCode=function(A,D){return A===this.EXT_&&D>=32&&D<=47},mn.prototype.isOffsetControlCode=function(A,D){return A===this.OFFSET_&&D>=33&&D<=35},mn.prototype.isPAC=function(A,D){return A>=this.BASE_&&A<this.BASE_+8&&D>=64&&D<=127},mn.prototype.isColorPAC=function(A){return A>=64&&A<=79||A>=96&&A<=127},mn.prototype.isNormalChar=function(A){return A>=32&&A<=127},mn.prototype.setRollUp=function(A,D){if(this.mode_!=="rollUp"&&(this.row_=ar,this.mode_="rollUp",this.flushDisplayed(A),this.nonDisplayed_=Ct(),this.displayed_=Ct()),D!==void 0&&D!==this.row_)for(var P=0;P<this.rollUpRows_;P++)this.displayed_[D-P]=this.displayed_[this.row_-P],this.displayed_[this.row_-P]={text:"",indent:0,offset:0};D===void 0&&(D=this.row_),this.topRow_=D-this.rollUpRows_+1},mn.prototype.addFormatting=function(A,D){this.formatting_=this.formatting_.concat(D);var P=D.reduce(function(I,O){return I+"<"+O+">"},"");this[this.mode_](A,P)},mn.prototype.clearFormatting=function(A){if(this.formatting_.length){var D=this.formatting_.reverse().reduce(function(P,I){return P+"</"+I+">"},"");this.formatting_=[],this[this.mode_](A,D)}},mn.prototype.popOn=function(A,D){var P=this.nonDisplayed_[this.row_].text;P+=D,this.nonDisplayed_[this.row_].text=P},mn.prototype.rollUp=function(A,D){var P=this.displayed_[this.row_].text;P+=D,this.displayed_[this.row_].text=P},mn.prototype.shiftRowsUp_=function(){var A;for(A=0;A<this.topRow_;A++)this.displayed_[A]={text:"",indent:0,offset:0};for(A=this.row_+1;A<ar+1;A++)this.displayed_[A]={text:"",indent:0,offset:0};for(A=this.topRow_;A<this.row_;A++)this.displayed_[A]=this.displayed_[A+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},mn.prototype.paintOn=function(A,D){var P=this.displayed_[this.row_].text;P+=D,this.displayed_[this.row_].text=P};var zu={CaptionStream:mi,Cea608Stream:mn,Cea708Stream:Wt},lr={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},ef=i,tf=8589934592,nf=4294967296,Ua="shared",vo=function(A,D){var P=1;for(A>D&&(P=-1);Math.abs(D-A)>nf;)A+=P*tf;return A},Ha=function(A){var D,P;Ha.prototype.init.call(this),this.type_=A||Ua,this.push=function(I){this.type_!==Ua&&I.type!==this.type_||(P===void 0&&(P=I.dts),I.dts=vo(I.dts,P),I.pts=vo(I.pts,P),D=I.dts,this.trigger("data",I))},this.flush=function(){P=D,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){P=void 0,D=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ha.prototype=new ef;var li={TimestampRolloverStream:Ha,handleRollover:vo},rf=(A,D,P)=>{if(!A)return-1;for(var I=P;I<A.length;I++)if(A[I]===D)return I;return-1},_o={typedArrayIndexOf:rf},Kr=_o.typedArrayIndexOf,Yr={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},Ql=function(A,D,P){var I,O="";for(I=D;I<P;I++)O+="%"+("00"+A[I].toString(16)).slice(-2);return O},Ws=function(A,D,P){return decodeURIComponent(Ql(A,D,P))},Gs=function(A,D,P){return unescape(Ql(A,D,P))},Ks=function(A){return A[0]<<21|A[1]<<14|A[2]<<7|A[3]},Go={APIC:function(A){var D=1,P,I,O="-->";A.data[0]===Yr.Utf8&&(P=Kr(A.data,0,D),!(P<0)&&(A.mimeType=Gs(A.data,D,P),D=P+1,A.pictureType=A.data[D],D++,I=Kr(A.data,0,D),!(I<0)&&(A.description=Ws(A.data,D,I),D=I+1,A.mimeType===O?A.url=Gs(A.data,D,A.data.length):A.pictureData=A.data.subarray(D,A.data.length))))},"T*":function(A){A.data[0]===Yr.Utf8&&(A.value=Ws(A.data,1,A.data.length).replace(/\0*$/,""),A.values=A.value.split("\0"))},TXXX:function(A){var D;A.data[0]===Yr.Utf8&&(D=Kr(A.data,0,1),D!==-1&&(A.description=Ws(A.data,1,D),A.value=Ws(A.data,D+1,A.data.length).replace(/\0*$/,""),A.data=A.value))},"W*":function(A){A.url=Gs(A.data,0,A.data.length).replace(/\0.*$/,"")},WXXX:function(A){var D;A.data[0]===Yr.Utf8&&(D=Kr(A.data,0,1),D!==-1&&(A.description=Ws(A.data,1,D),A.url=Gs(A.data,D+1,A.data.length).replace(/\0.*$/,"")))},PRIV:function(A){var D;for(D=0;D<A.data.length;D++)if(A.data[D]===0){A.owner=Gs(A.data,0,D);break}A.privateData=A.data.subarray(D+1),A.data=A.privateData}},of=function(A){var D,P,I=10,O=0,U=[];if(!(A.length<10||A[0]!=="I".charCodeAt(0)||A[1]!=="D".charCodeAt(0)||A[2]!=="3".charCodeAt(0))){O=Ks(A.subarray(6,10)),O+=10;var X=A[5]&64;X&&(I+=4,I+=Ks(A.subarray(10,14)),O-=Ks(A.subarray(16,20)));do{if(D=Ks(A.subarray(I+4,I+8)),D<1)break;P=String.fromCharCode(A[I],A[I+1],A[I+2],A[I+3]);var ie={id:P,data:A.subarray(I+10,I+D+10)};ie.key=ie.id,Go[ie.id]?Go[ie.id](ie):ie.id[0]==="T"?Go["T*"](ie):ie.id[0]==="W"&&Go["W*"](ie),U.push(ie),I+=10,I+=D}while(I<O);return U}},Zl={parseId3Frames:of,parseSyncSafeInteger:Ks,frameParsers:Go},Ko=i,Vu=lr,Qr=Zl,$a;$a=function(A){var D={descriptor:A&&A.descriptor},P=0,I=[],O=0,U;if($a.prototype.init.call(this),this.dispatchType=Vu.METADATA_STREAM_TYPE.toString(16),D.descriptor)for(U=0;U<D.descriptor.length;U++)this.dispatchType+=("00"+D.descriptor[U].toString(16)).slice(-2);this.push=function(X){var ie,ae,ge,we,Ee,Je;if(X.type==="timed-metadata"){if(X.dataAlignmentIndicator&&(O=0,I.length=0),I.length===0&&(X.data.length<10||X.data[0]!=="I".charCodeAt(0)||X.data[1]!=="D".charCodeAt(0)||X.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(I.push(X),O+=X.data.byteLength,I.length===1&&(P=Qr.parseSyncSafeInteger(X.data.subarray(6,10)),P+=10),!(O<P)){for(ie={data:new Uint8Array(P),frames:[],pts:I[0].pts,dts:I[0].dts},Ee=0;Ee<P;)ie.data.set(I[0].data.subarray(0,P-Ee),Ee),Ee+=I[0].data.byteLength,O-=I[0].data.byteLength,I.shift();ae=10,ie.data[5]&64&&(ae+=4,ae+=Qr.parseSyncSafeInteger(ie.data.subarray(10,14)),P-=Qr.parseSyncSafeInteger(ie.data.subarray(16,20)));do{if(ge=Qr.parseSyncSafeInteger(ie.data.subarray(ae+4,ae+8)),ge<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Je=String.fromCharCode(ie.data[ae],ie.data[ae+1],ie.data[ae+2],ie.data[ae+3]),we={id:Je,data:ie.data.subarray(ae+10,ae+ge+10)},we.key=we.id,Qr.frameParsers[we.id]?Qr.frameParsers[we.id](we):we.id[0]==="T"?Qr.frameParsers["T*"](we):we.id[0]==="W"&&Qr.frameParsers["W*"](we),we.owner==="com.apple.streaming.transportStreamTimestamp"){var Fe=we.data,pt=(Fe[3]&1)<<30|Fe[4]<<22|Fe[5]<<14|Fe[6]<<6|Fe[7]>>>2;pt*=4,pt+=Fe[7]&3,we.timeStamp=pt,ie.pts===void 0&&ie.dts===void 0&&(ie.pts=we.timeStamp,ie.dts=we.timeStamp),this.trigger("timestamp",we)}ie.frames.push(we),ae+=10,ae+=ge}while(ae<P);this.trigger("data",ie)}}}},$a.prototype=new Ko;var qa=$a,Xl=i,Jl=zu,Oi=lr,Yo=li.TimestampRolloverStream,xr,Er,Ys,Gi=188,yo=71;xr=function(){var A=new Uint8Array(Gi),D=0;xr.prototype.init.call(this),this.push=function(P){var I=0,O=Gi,U;for(D?(U=new Uint8Array(P.byteLength+D),U.set(A.subarray(0,D)),U.set(P,D),D=0):U=P;O<U.byteLength;){if(U[I]===yo&&U[O]===yo){this.trigger("data",U.subarray(I,O)),I+=Gi,O+=Gi;continue}I++,O++}I<U.byteLength&&(A.set(U.subarray(I),0),D=U.byteLength-I)},this.flush=function(){D===Gi&&A[0]===yo&&(this.trigger("data",A),D=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){D=0,this.trigger("reset")}},xr.prototype=new Xl,Er=function(){var A,D,P,I;Er.prototype.init.call(this),I=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,A=function(O,U){var X=0;U.payloadUnitStartIndicator&&(X+=O[X]+1),U.type==="pat"?D(O.subarray(X),U):P(O.subarray(X),U)},D=function(O,U){U.section_number=O[7],U.last_section_number=O[8],I.pmtPid=(O[10]&31)<<8|O[11],U.pmtPid=I.pmtPid},P=function(O,U){var X,ie,ae,ge;if(O[5]&1){for(I.programMapTable={video:null,audio:null,"timed-metadata":{}},X=(O[1]&15)<<8|O[2],ie=3+X-4,ae=(O[10]&15)<<8|O[11],ge=12+ae;ge<ie;){var we=O[ge],Ee=(O[ge+1]&31)<<8|O[ge+2];we===Oi.H264_STREAM_TYPE&&I.programMapTable.video===null?I.programMapTable.video=Ee:we===Oi.ADTS_STREAM_TYPE&&I.programMapTable.audio===null?I.programMapTable.audio=Ee:we===Oi.METADATA_STREAM_TYPE&&(I.programMapTable["timed-metadata"][Ee]=we),ge+=((O[ge+3]&15)<<8|O[ge+4])+5}U.programMapTable=I.programMapTable}},this.push=function(O){var U={},X=4;if(U.payloadUnitStartIndicator=!!(O[1]&64),U.pid=O[1]&31,U.pid<<=8,U.pid|=O[2],(O[3]&48)>>>4>1&&(X+=O[X]+1),U.pid===0)U.type="pat",A(O.subarray(X),U),this.trigger("data",U);else if(U.pid===this.pmtPid)for(U.type="pmt",A(O.subarray(X),U),this.trigger("data",U);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([O,X,U]):this.processPes_(O,X,U)},this.processPes_=function(O,U,X){X.pid===this.programMapTable.video?X.streamType=Oi.H264_STREAM_TYPE:X.pid===this.programMapTable.audio?X.streamType=Oi.ADTS_STREAM_TYPE:X.streamType=this.programMapTable["timed-metadata"][X.pid],X.type="pes",X.data=O.subarray(U),this.trigger("data",X)}},Er.prototype=new Xl,Er.STREAM_TYPES={h264:27,adts:15},Ys=function(){var A=this,D=!1,P={data:[],size:0},I={data:[],size:0},O={data:[],size:0},U,X=function(ae,ge){var we;const Ee=ae[0]<<16|ae[1]<<8|ae[2];ge.data=new Uint8Array,Ee===1&&(ge.packetLength=6+(ae[4]<<8|ae[5]),ge.dataAlignmentIndicator=(ae[6]&4)!==0,we=ae[7],we&192&&(ge.pts=(ae[9]&14)<<27|(ae[10]&255)<<20|(ae[11]&254)<<12|(ae[12]&255)<<5|(ae[13]&254)>>>3,ge.pts*=4,ge.pts+=(ae[13]&6)>>>1,ge.dts=ge.pts,we&64&&(ge.dts=(ae[14]&14)<<27|(ae[15]&255)<<20|(ae[16]&254)<<12|(ae[17]&255)<<5|(ae[18]&254)>>>3,ge.dts*=4,ge.dts+=(ae[18]&6)>>>1)),ge.data=ae.subarray(9+ae[8]))},ie=function(ae,ge,we){var Ee=new Uint8Array(ae.size),Je={type:ge},Fe=0,pt=0,kt=!1,jn;if(!(!ae.data.length||ae.size<9)){for(Je.trackId=ae.data[0].pid,Fe=0;Fe<ae.data.length;Fe++)jn=ae.data[Fe],Ee.set(jn.data,pt),pt+=jn.data.byteLength;X(Ee,Je),kt=ge==="video"||Je.packetLength<=ae.size,(we||kt)&&(ae.size=0,ae.data.length=0),kt&&A.trigger("data",Je)}};Ys.prototype.init.call(this),this.push=function(ae){({pat:function(){},pes:function(){var ge,we;switch(ae.streamType){case Oi.H264_STREAM_TYPE:ge=P,we="video";break;case Oi.ADTS_STREAM_TYPE:ge=I,we="audio";break;case Oi.METADATA_STREAM_TYPE:ge=O,we="timed-metadata";break;default:return}ae.payloadUnitStartIndicator&&ie(ge,we,!0),ge.data.push(ae),ge.size+=ae.data.byteLength},pmt:function(){var ge={type:"metadata",tracks:[]};U=ae.programMapTable,U.video!==null&&ge.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+U.video,codec:"avc",type:"video"}),U.audio!==null&&ge.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+U.audio,codec:"adts",type:"audio"}),D=!0,A.trigger("data",ge)}})[ae.type]()},this.reset=function(){P.size=0,P.data.length=0,I.size=0,I.data.length=0,this.trigger("reset")},this.flushStreams_=function(){ie(P,"video"),ie(I,"audio"),ie(O,"timed-metadata")},this.flush=function(){if(!D&&U){var ae={type:"metadata",tracks:[]};U.video!==null&&ae.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+U.video,codec:"avc",type:"video"}),U.audio!==null&&ae.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+U.audio,codec:"adts",type:"audio"}),A.trigger("data",ae)}D=!1,this.flushStreams_(),this.trigger("done")}},Ys.prototype=new Xl;var Uu={PAT_PID:0,MP2T_PACKET_LENGTH:Gi,TransportPacketStream:xr,TransportParseStream:Er,ElementaryStream:Ys,TimestampRolloverStream:Yo,CaptionStream:Jl.CaptionStream,Cea608Stream:Jl.Cea608Stream,Cea708Stream:Jl.Cea708Stream,MetadataStream:qa};for(var Qo in Oi)Oi.hasOwnProperty(Qo)&&(Uu[Qo]=Oi[Qo]);var ec=Uu,sf=i,tc=It.ONE_SECOND_IN_TS,Sr,Zr=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Sr=function(A){var D,P=0;Sr.prototype.init.call(this),this.skipWarn_=function(I,O){this.trigger("log",{level:"warn",message:`adts skiping bytes ${I} to ${O} in frame ${P} outside syncword`})},this.push=function(I){var O=0,U,X,ie,ae,ge;if(A||(P=0),I.type==="audio"){D&&D.length?(ie=D,D=new Uint8Array(ie.byteLength+I.data.byteLength),D.set(ie),D.set(I.data,ie.byteLength)):D=I.data;for(var we;O+7<D.length;){if(D[O]!==255||(D[O+1]&246)!==240){typeof we!="number"&&(we=O),O++;continue}if(typeof we=="number"&&(this.skipWarn_(we,O),we=null),X=(~D[O+1]&1)*2,U=(D[O+3]&3)<<11|D[O+4]<<3|(D[O+5]&224)>>5,ae=((D[O+6]&3)+1)*1024,ge=ae*tc/Zr[(D[O+2]&60)>>>2],D.byteLength-O<U)break;this.trigger("data",{pts:I.pts+P*ge,dts:I.dts+P*ge,sampleCount:ae,audioobjecttype:(D[O+2]>>>6&3)+1,channelcount:(D[O+2]&1)<<2|(D[O+3]&192)>>>6,samplerate:Zr[(D[O+2]&60)>>>2],samplingfrequencyindex:(D[O+2]&60)>>>2,samplesize:16,data:D.subarray(O+7+X,O+U)}),P++,O+=U}typeof we=="number"&&(this.skipWarn_(we,O),we=null),D=D.subarray(O)}},this.flush=function(){P=0,this.trigger("done")},this.reset=function(){D=void 0,this.trigger("reset")},this.endTimeline=function(){D=void 0,this.trigger("endedtimeline")}},Sr.prototype=new sf;var nc=Sr,ic;ic=function(A){var D=A.byteLength,P=0,I=0;this.length=function(){return 8*D},this.bitsAvailable=function(){return 8*D+I},this.loadWord=function(){var O=A.byteLength-D,U=new Uint8Array(4),X=Math.min(4,D);if(X===0)throw new Error("no bytes available");U.set(A.subarray(O,O+X)),P=new DataView(U.buffer).getUint32(0),I=X*8,D-=X},this.skipBits=function(O){var U;I>O?(P<<=O,I-=O):(O-=I,U=Math.floor(O/8),O-=U*8,D-=U,this.loadWord(),P<<=O,I-=O)},this.readBits=function(O){var U=Math.min(I,O),X=P>>>32-U;return I-=U,I>0?P<<=U:D>0&&this.loadWord(),U=O-U,U>0?X<<U|this.readBits(U):X},this.skipLeadingZeros=function(){var O;for(O=0;O<I;++O)if(P&2147483648>>>O)return P<<=O,I-=O,O;return this.loadWord(),O+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var O=this.skipLeadingZeros();return this.readBits(O+1)-1},this.readExpGolomb=function(){var O=this.readUnsignedExpGolomb();return 1&O?1+O>>>1:-1*(O>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var af=ic,Hu=i,rc=af,Wa,Zo,oc;Zo=function(){var A=0,D,P;Zo.prototype.init.call(this),this.push=function(I){var O;P?(O=new Uint8Array(P.byteLength+I.data.byteLength),O.set(P),O.set(I.data,P.byteLength),P=O):P=I.data;for(var U=P.byteLength;A<U-3;A++)if(P[A+2]===1){D=A+5;break}for(;D<U;)switch(P[D]){case 0:if(P[D-1]!==0){D+=2;break}else if(P[D-2]!==0){D++;break}A+3!==D-2&&this.trigger("data",P.subarray(A+3,D-2));do D++;while(P[D]!==1&&D<U);A=D-2,D+=3;break;case 1:if(P[D-1]!==0||P[D-2]!==0){D+=3;break}this.trigger("data",P.subarray(A+3,D-2)),A=D-2,D+=3;break;default:D+=3;break}P=P.subarray(A),D-=A,A=0},this.reset=function(){P=null,A=0,this.trigger("reset")},this.flush=function(){P&&P.byteLength>3&&this.trigger("data",P.subarray(A+3)),P=null,A=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Zo.prototype=new Hu,oc={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Wa=function(){var A=new Zo,D,P,I,O,U,X,ie;Wa.prototype.init.call(this),D=this,this.push=function(ae){ae.type==="video"&&(P=ae.trackId,I=ae.pts,O=ae.dts,A.push(ae))},A.on("data",function(ae){var ge={trackId:P,pts:I,dts:O,data:ae,nalUnitTypeCode:ae[0]&31};switch(ge.nalUnitTypeCode){case 5:ge.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ge.nalUnitType="sei_rbsp",ge.escapedRBSP=U(ae.subarray(1));break;case 7:ge.nalUnitType="seq_parameter_set_rbsp",ge.escapedRBSP=U(ae.subarray(1)),ge.config=X(ge.escapedRBSP);break;case 8:ge.nalUnitType="pic_parameter_set_rbsp";break;case 9:ge.nalUnitType="access_unit_delimiter_rbsp";break}D.trigger("data",ge)}),A.on("done",function(){D.trigger("done")}),A.on("partialdone",function(){D.trigger("partialdone")}),A.on("reset",function(){D.trigger("reset")}),A.on("endedtimeline",function(){D.trigger("endedtimeline")}),this.flush=function(){A.flush()},this.partialFlush=function(){A.partialFlush()},this.reset=function(){A.reset()},this.endTimeline=function(){A.endTimeline()},ie=function(ae,ge){var we=8,Ee=8,Je,Fe;for(Je=0;Je<ae;Je++)Ee!==0&&(Fe=ge.readExpGolomb(),Ee=(we+Fe+256)%256),we=Ee===0?we:Ee},U=function(ae){for(var ge=ae.byteLength,we=[],Ee=1,Je,Fe;Ee<ge-2;)ae[Ee]===0&&ae[Ee+1]===0&&ae[Ee+2]===3?(we.push(Ee+2),Ee+=2):Ee++;if(we.length===0)return ae;Je=ge-we.length,Fe=new Uint8Array(Je);var pt=0;for(Ee=0;Ee<Je;pt++,Ee++)pt===we[0]&&(pt++,we.shift()),Fe[Ee]=ae[pt];return Fe},X=function(ae){var ge=0,we=0,Ee=0,Je=0,Fe,pt,kt,jn,Ri,xo,Hm,Cf,Eo,Af,st,Bn=[1,1],$m,Mt;if(Fe=new rc(ae),pt=Fe.readUnsignedByte(),jn=Fe.readUnsignedByte(),kt=Fe.readUnsignedByte(),Fe.skipUnsignedExpGolomb(),oc[pt]&&(Ri=Fe.readUnsignedExpGolomb(),Ri===3&&Fe.skipBits(1),Fe.skipUnsignedExpGolomb(),Fe.skipUnsignedExpGolomb(),Fe.skipBits(1),Fe.readBoolean()))for(st=Ri!==3?8:12,Mt=0;Mt<st;Mt++)Fe.readBoolean()&&(Mt<6?ie(16,Fe):ie(64,Fe));if(Fe.skipUnsignedExpGolomb(),xo=Fe.readUnsignedExpGolomb(),xo===0)Fe.readUnsignedExpGolomb();else if(xo===1)for(Fe.skipBits(1),Fe.skipExpGolomb(),Fe.skipExpGolomb(),Hm=Fe.readUnsignedExpGolomb(),Mt=0;Mt<Hm;Mt++)Fe.skipExpGolomb();if(Fe.skipUnsignedExpGolomb(),Fe.skipBits(1),Cf=Fe.readUnsignedExpGolomb(),Eo=Fe.readUnsignedExpGolomb(),Af=Fe.readBits(1),Af===0&&Fe.skipBits(1),Fe.skipBits(1),Fe.readBoolean()&&(ge=Fe.readUnsignedExpGolomb(),we=Fe.readUnsignedExpGolomb(),Ee=Fe.readUnsignedExpGolomb(),Je=Fe.readUnsignedExpGolomb()),Fe.readBoolean()&&Fe.readBoolean()){switch($m=Fe.readUnsignedByte(),$m){case 1:Bn=[1,1];break;case 2:Bn=[12,11];break;case 3:Bn=[10,11];break;case 4:Bn=[16,11];break;case 5:Bn=[40,33];break;case 6:Bn=[24,11];break;case 7:Bn=[20,11];break;case 8:Bn=[32,11];break;case 9:Bn=[80,33];break;case 10:Bn=[18,11];break;case 11:Bn=[15,11];break;case 12:Bn=[64,33];break;case 13:Bn=[160,99];break;case 14:Bn=[4,3];break;case 15:Bn=[3,2];break;case 16:Bn=[2,1];break;case 255:{Bn=[Fe.readUnsignedByte()<<8|Fe.readUnsignedByte(),Fe.readUnsignedByte()<<8|Fe.readUnsignedByte()];break}}Bn&&Bn[0]/Bn[1]}return{profileIdc:pt,levelIdc:kt,profileCompatibility:jn,width:(Cf+1)*16-ge*2-we*2,height:(2-Af)*(Eo+1)*16-Ee*2-Je*2,sarRatio:Bn}}},Wa.prototype=new Hu;var $u={H264Stream:Wa,NalByteStream:Zo},Qs=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],qu=function(A,D){var P=A[D+6]<<21|A[D+7]<<14|A[D+8]<<7|A[D+9],I=A[D+5],O=(I&16)>>4;return P=P>=0?P:0,O?P+20:P+10},Ga=function(A,D){return A.length-D<10||A[D]!=="I".charCodeAt(0)||A[D+1]!=="D".charCodeAt(0)||A[D+2]!=="3".charCodeAt(0)?D:(D+=qu(A,D),Ga(A,D))},Wu=function(A){var D=Ga(A,0);return A.length>=D+2&&(A[D]&255)===255&&(A[D+1]&240)===240&&(A[D+1]&22)===16},on=function(A){return A[0]<<21|A[1]<<14|A[2]<<7|A[3]},Gu=function(A,D,P){var I,O="";for(I=D;I<P;I++)O+="%"+("00"+A[I].toString(16)).slice(-2);return O},sc=function(A,D,P){return unescape(Gu(A,D,P))},ac=function(A,D){var P=(A[D+5]&224)>>5,I=A[D+4]<<3,O=A[D+3]&6144;return O|I|P},Zs=function(A,D){return A[D]==="I".charCodeAt(0)&&A[D+1]==="D".charCodeAt(0)&&A[D+2]==="3".charCodeAt(0)?"timed-metadata":A[D]&!0&&(A[D+1]&240)===240?"audio":null},lc=function(A){for(var D=0;D+5<A.length;){if(A[D]!==255||(A[D+1]&246)!==240){D++;continue}return Qs[(A[D+2]&60)>>>2]}return null},Xo=function(A){var D,P,I,O;D=10,A[5]&64&&(D+=4,D+=on(A.subarray(10,14)));do{if(P=on(A.subarray(D+4,D+8)),P<1)return null;if(O=String.fromCharCode(A[D],A[D+1],A[D+2],A[D+3]),O==="PRIV"){I=A.subarray(D+10,D+P+10);for(var U=0;U<I.byteLength;U++)if(I[U]===0){var X=sc(I,0,U);if(X==="com.apple.streaming.transportStreamTimestamp"){var ie=I.subarray(U+1),ae=(ie[3]&1)<<30|ie[4]<<22|ie[5]<<14|ie[6]<<6|ie[7]>>>2;return ae*=4,ae+=ie[7]&3,ae}break}}D+=10,D+=P}while(D<A.byteLength);return null},Dr={isLikelyAacData:Wu,parseId3TagSize:qu,parseAdtsSize:ac,parseType:Zs,parseSampleRate:lc,parseAacTimestamp:Xo},cc=i,Ku=Dr,Xs;Xs=function(){var A=new Uint8Array,D=0;Xs.prototype.init.call(this),this.setTimestamp=function(P){D=P},this.push=function(P){var I=0,O=0,U,X,ie,ae;for(A.length?(ae=A.length,A=new Uint8Array(P.byteLength+ae),A.set(A.subarray(0,ae)),A.set(P,ae)):A=P;A.length-O>=3;){if(A[O]==="I".charCodeAt(0)&&A[O+1]==="D".charCodeAt(0)&&A[O+2]==="3".charCodeAt(0)){if(A.length-O<10||(I=Ku.parseId3TagSize(A,O),O+I>A.length))break;X={type:"timed-metadata",data:A.subarray(O,O+I)},this.trigger("data",X),O+=I;continue}else if((A[O]&255)===255&&(A[O+1]&240)===240){if(A.length-O<7||(I=Ku.parseAdtsSize(A,O),O+I>A.length))break;ie={type:"audio",data:A.subarray(O,O+I),pts:D,dts:D},this.trigger("data",ie),O+=I;continue}O++}U=A.length-O,U>0?A=A.subarray(O):A=new Uint8Array},this.reset=function(){A=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){A=new Uint8Array,this.trigger("endedtimeline")}},Xs.prototype=new cc;var lf=Xs,uc=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],cf=uc,uf=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],df=uf,wo=i,Ir=ft,Jo=Ye,Ka=Wl,Ki=Yh,Mr=ec,cr=It,Yu=nc,Ya=$u.H264Stream,dc=lf,hc=Dr.isLikelyAacData,Qa=It.ONE_SECOND_IN_TS,Za=cf,Xa=df,Js,ur,Ja,Xr,fc=function(A,D){D.stream=A,this.trigger("log",D)},Qu=function(A,D){for(var P=Object.keys(D),I=0;I<P.length;I++){var O=P[I];O==="headOfPipeline"||!D[O].on||D[O].on("log",fc.bind(A,O))}},el=function(A,D){var P;if(A.length!==D.length)return!1;for(P=0;P<A.length;P++)if(A[P]!==D[P])return!1;return!0},tl=function(A,D,P,I,O,U){var X=P-D,ie=I-D,ae=O-P;return{start:{dts:A,pts:A+X},end:{dts:A+ie,pts:A+ae},prependedContentDuration:U,baseMediaDecodeTime:A}};ur=function(A,D){var P=[],I,O=0,U=0,X=1/0;D=D||{},I=D.firstSequenceNumber||0,ur.prototype.init.call(this),this.push=function(ie){Ki.collectDtsInfo(A,ie),A&&Za.forEach(function(ae){A[ae]=ie[ae]}),P.push(ie)},this.setEarliestDts=function(ie){O=ie},this.setVideoBaseMediaDecodeTime=function(ie){X=ie},this.setAudioAppendStart=function(ie){U=ie},this.flush=function(){var ie,ae,ge,we,Ee,Je,Fe;if(P.length===0){this.trigger("done","AudioSegmentStream");return}ie=Ka.trimAdtsFramesByEarliestDts(P,A,O),A.baseMediaDecodeTime=Ki.calculateTrackBaseMediaDecodeTime(A,D.keepOriginalTimestamps),Fe=Ka.prefixWithSilence(A,ie,U,X),A.samples=Ka.generateSampleTable(ie),ge=Ir.mdat(Ka.concatenateFrameData(ie)),P=[],ae=Ir.moof(I,[A]),we=new Uint8Array(ae.byteLength+ge.byteLength),I++,we.set(ae),we.set(ge,ae.byteLength),Ki.clearDtsInfo(A),Ee=Math.ceil(Qa*1024/A.samplerate),ie.length&&(Je=ie.length*Ee,this.trigger("segmentTimingInfo",tl(cr.audioTsToVideoTs(A.baseMediaDecodeTime,A.samplerate),ie[0].dts,ie[0].pts,ie[0].dts+Je,ie[0].pts+Je,Fe||0)),this.trigger("timingInfo",{start:ie[0].pts,end:ie[0].pts+Je})),this.trigger("data",{track:A,boxes:we}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Ki.clearDtsInfo(A),P=[],this.trigger("reset")}},ur.prototype=new wo,Js=function(A,D){var P,I=[],O=[],U,X;D=D||{},P=D.firstSequenceNumber||0,Js.prototype.init.call(this),delete A.minPTS,this.gopCache_=[],this.push=function(ie){Ki.collectDtsInfo(A,ie),ie.nalUnitType==="seq_parameter_set_rbsp"&&!U&&(U=ie.config,A.sps=[ie.data],Xa.forEach(function(ae){A[ae]=U[ae]},this)),ie.nalUnitType==="pic_parameter_set_rbsp"&&!X&&(X=ie.data,A.pps=[ie.data]),I.push(ie)},this.flush=function(){for(var ie,ae,ge,we,Ee,Je,Fe=0,pt,kt;I.length&&I[0].nalUnitType!=="access_unit_delimiter_rbsp";)I.shift();if(I.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(ie=Jo.groupNalsIntoFrames(I),ge=Jo.groupFramesIntoGops(ie),ge[0][0].keyFrame||(ae=this.getGopForFusion_(I[0],A),ae?(Fe=ae.duration,ge.unshift(ae),ge.byteLength+=ae.byteLength,ge.nalCount+=ae.nalCount,ge.pts=ae.pts,ge.dts=ae.dts,ge.duration+=ae.duration):ge=Jo.extendFirstKeyFrame(ge)),O.length){var jn;if(D.alignGopsAtEnd?jn=this.alignGopsAtEnd_(ge):jn=this.alignGopsAtStart_(ge),!jn){this.gopCache_.unshift({gop:ge.pop(),pps:A.pps,sps:A.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),I=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Ki.clearDtsInfo(A),ge=jn}Ki.collectDtsInfo(A,ge),A.samples=Jo.generateSampleTable(ge),Ee=Ir.mdat(Jo.concatenateNalData(ge)),A.baseMediaDecodeTime=Ki.calculateTrackBaseMediaDecodeTime(A,D.keepOriginalTimestamps),this.trigger("processedGopsInfo",ge.map(function(Ri){return{pts:Ri.pts,dts:Ri.dts,byteLength:Ri.byteLength}})),pt=ge[0],kt=ge[ge.length-1],this.trigger("segmentTimingInfo",tl(A.baseMediaDecodeTime,pt.dts,pt.pts,kt.dts+kt.duration,kt.pts+kt.duration,Fe)),this.trigger("timingInfo",{start:ge[0].pts,end:ge[ge.length-1].pts+ge[ge.length-1].duration}),this.gopCache_.unshift({gop:ge.pop(),pps:A.pps,sps:A.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),I=[],this.trigger("baseMediaDecodeTime",A.baseMediaDecodeTime),this.trigger("timelineStartInfo",A.timelineStartInfo),we=Ir.moof(P,[A]),Je=new Uint8Array(we.byteLength+Ee.byteLength),P++,Je.set(we),Je.set(Ee,we.byteLength),this.trigger("data",{track:A,boxes:Je}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),I=[],this.gopCache_.length=0,O.length=0,this.trigger("reset")},this.resetStream_=function(){Ki.clearDtsInfo(A),U=void 0,X=void 0},this.getGopForFusion_=function(ie){var ae=45e3,ge=1e4,we=1/0,Ee,Je,Fe,pt,kt;for(kt=0;kt<this.gopCache_.length;kt++)pt=this.gopCache_[kt],Fe=pt.gop,!(!(A.pps&&el(A.pps[0],pt.pps[0]))||!(A.sps&&el(A.sps[0],pt.sps[0])))&&(Fe.dts<A.timelineStartInfo.dts||(Ee=ie.dts-Fe.dts-Fe.duration,Ee>=-ge&&Ee<=ae&&(!Je||we>Ee)&&(Je=pt,we=Ee)));return Je?Je.gop:null},this.alignGopsAtStart_=function(ie){var ae,ge,we,Ee,Je,Fe,pt,kt;for(Je=ie.byteLength,Fe=ie.nalCount,pt=ie.duration,ae=ge=0;ae<O.length&&ge<ie.length&&(we=O[ae],Ee=ie[ge],we.pts!==Ee.pts);){if(Ee.pts>we.pts){ae++;continue}ge++,Je-=Ee.byteLength,Fe-=Ee.nalCount,pt-=Ee.duration}return ge===0?ie:ge===ie.length?null:(kt=ie.slice(ge),kt.byteLength=Je,kt.duration=pt,kt.nalCount=Fe,kt.pts=kt[0].pts,kt.dts=kt[0].dts,kt)},this.alignGopsAtEnd_=function(ie){var ae,ge,we,Ee,Je,Fe;for(ae=O.length-1,ge=ie.length-1,Je=null,Fe=!1;ae>=0&&ge>=0;){if(we=O[ae],Ee=ie[ge],we.pts===Ee.pts){Fe=!0;break}if(we.pts>Ee.pts){ae--;continue}ae===O.length-1&&(Je=ge),ge--}if(!Fe&&Je===null)return null;var pt;if(Fe?pt=ge:pt=Je,pt===0)return ie;var kt=ie.slice(pt),jn=kt.reduce(function(Ri,xo){return Ri.byteLength+=xo.byteLength,Ri.duration+=xo.duration,Ri.nalCount+=xo.nalCount,Ri},{byteLength:0,duration:0,nalCount:0});return kt.byteLength=jn.byteLength,kt.duration=jn.duration,kt.nalCount=jn.nalCount,kt.pts=kt[0].pts,kt.dts=kt[0].dts,kt},this.alignGopsWith=function(ie){O=ie}},Js.prototype=new wo,Xr=function(A,D){this.numberOfTracks=0,this.metadataStream=D,A=A||{},typeof A.remux<"u"?this.remuxTracks=!!A.remux:this.remuxTracks=!0,typeof A.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=A.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Xr.prototype.init.call(this),this.push=function(P){if(P.content||P.text)return this.pendingCaptions.push(P);if(P.frames)return this.pendingMetadata.push(P);this.pendingTracks.push(P.track),this.pendingBytes+=P.boxes.byteLength,P.track.type==="video"&&(this.videoTrack=P.track,this.pendingBoxes.push(P.boxes)),P.track.type==="audio"&&(this.audioTrack=P.track,this.pendingBoxes.unshift(P.boxes))}},Xr.prototype=new wo,Xr.prototype.flush=function(A){var D=0,P={captions:[],captionStreams:{},metadata:[],info:{}},I,O,U,X=0,ie;if(this.pendingTracks.length<this.numberOfTracks){if(A!=="VideoSegmentStream"&&A!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(X=this.videoTrack.timelineStartInfo.pts,Xa.forEach(function(ae){P.info[ae]=this.videoTrack[ae]},this)):this.audioTrack&&(X=this.audioTrack.timelineStartInfo.pts,Za.forEach(function(ae){P.info[ae]=this.audioTrack[ae]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?P.type=this.pendingTracks[0].type:P.type="combined",this.emittedTracks+=this.pendingTracks.length,U=Ir.initSegment(this.pendingTracks),P.initSegment=new Uint8Array(U.byteLength),P.initSegment.set(U),P.data=new Uint8Array(this.pendingBytes),ie=0;ie<this.pendingBoxes.length;ie++)P.data.set(this.pendingBoxes[ie],D),D+=this.pendingBoxes[ie].byteLength;for(ie=0;ie<this.pendingCaptions.length;ie++)I=this.pendingCaptions[ie],I.startTime=cr.metadataTsToSeconds(I.startPts,X,this.keepOriginalTimestamps),I.endTime=cr.metadataTsToSeconds(I.endPts,X,this.keepOriginalTimestamps),P.captionStreams[I.stream]=!0,P.captions.push(I);for(ie=0;ie<this.pendingMetadata.length;ie++)O=this.pendingMetadata[ie],O.cueTime=cr.metadataTsToSeconds(O.pts,X,this.keepOriginalTimestamps),P.metadata.push(O);for(P.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",P),ie=0;ie<P.captions.length;ie++)I=P.captions[ie],this.trigger("caption",I);for(ie=0;ie<P.metadata.length;ie++)O=P.metadata[ie],this.trigger("id3Frame",O)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Xr.prototype.setRemux=function(A){this.remuxTracks=A},Ja=function(A){var D=this,P=!0,I,O;Ja.prototype.init.call(this),A=A||{},this.baseMediaDecodeTime=A.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var U={};this.transmuxPipeline_=U,U.type="aac",U.metadataStream=new Mr.MetadataStream,U.aacStream=new dc,U.audioTimestampRolloverStream=new Mr.TimestampRolloverStream("audio"),U.timedMetadataTimestampRolloverStream=new Mr.TimestampRolloverStream("timed-metadata"),U.adtsStream=new Yu,U.coalesceStream=new Xr(A,U.metadataStream),U.headOfPipeline=U.aacStream,U.aacStream.pipe(U.audioTimestampRolloverStream).pipe(U.adtsStream),U.aacStream.pipe(U.timedMetadataTimestampRolloverStream).pipe(U.metadataStream).pipe(U.coalesceStream),U.metadataStream.on("timestamp",function(X){U.aacStream.setTimestamp(X.timeStamp)}),U.aacStream.on("data",function(X){X.type!=="timed-metadata"&&X.type!=="audio"||U.audioSegmentStream||(O=O||{timelineStartInfo:{baseMediaDecodeTime:D.baseMediaDecodeTime},codec:"adts",type:"audio"},U.coalesceStream.numberOfTracks++,U.audioSegmentStream=new ur(O,A),U.audioSegmentStream.on("log",D.getLogTrigger_("audioSegmentStream")),U.audioSegmentStream.on("timingInfo",D.trigger.bind(D,"audioTimingInfo")),U.adtsStream.pipe(U.audioSegmentStream).pipe(U.coalesceStream),D.trigger("trackinfo",{hasAudio:!!O,hasVideo:!!I}))}),U.coalesceStream.on("data",this.trigger.bind(this,"data")),U.coalesceStream.on("done",this.trigger.bind(this,"done")),Qu(this,U)},this.setupTsPipeline=function(){var U={};this.transmuxPipeline_=U,U.type="ts",U.metadataStream=new Mr.MetadataStream,U.packetStream=new Mr.TransportPacketStream,U.parseStream=new Mr.TransportParseStream,U.elementaryStream=new Mr.ElementaryStream,U.timestampRolloverStream=new Mr.TimestampRolloverStream,U.adtsStream=new Yu,U.h264Stream=new Ya,U.captionStream=new Mr.CaptionStream(A),U.coalesceStream=new Xr(A,U.metadataStream),U.headOfPipeline=U.packetStream,U.packetStream.pipe(U.parseStream).pipe(U.elementaryStream).pipe(U.timestampRolloverStream),U.timestampRolloverStream.pipe(U.h264Stream),U.timestampRolloverStream.pipe(U.adtsStream),U.timestampRolloverStream.pipe(U.metadataStream).pipe(U.coalesceStream),U.h264Stream.pipe(U.captionStream).pipe(U.coalesceStream),U.elementaryStream.on("data",function(X){var ie;if(X.type==="metadata"){for(ie=X.tracks.length;ie--;)!I&&X.tracks[ie].type==="video"?(I=X.tracks[ie],I.timelineStartInfo.baseMediaDecodeTime=D.baseMediaDecodeTime):!O&&X.tracks[ie].type==="audio"&&(O=X.tracks[ie],O.timelineStartInfo.baseMediaDecodeTime=D.baseMediaDecodeTime);I&&!U.videoSegmentStream&&(U.coalesceStream.numberOfTracks++,U.videoSegmentStream=new Js(I,A),U.videoSegmentStream.on("log",D.getLogTrigger_("videoSegmentStream")),U.videoSegmentStream.on("timelineStartInfo",function(ae){O&&!A.keepOriginalTimestamps&&(O.timelineStartInfo=ae,U.audioSegmentStream.setEarliestDts(ae.dts-D.baseMediaDecodeTime))}),U.videoSegmentStream.on("processedGopsInfo",D.trigger.bind(D,"gopInfo")),U.videoSegmentStream.on("segmentTimingInfo",D.trigger.bind(D,"videoSegmentTimingInfo")),U.videoSegmentStream.on("baseMediaDecodeTime",function(ae){O&&U.audioSegmentStream.setVideoBaseMediaDecodeTime(ae)}),U.videoSegmentStream.on("timingInfo",D.trigger.bind(D,"videoTimingInfo")),U.h264Stream.pipe(U.videoSegmentStream).pipe(U.coalesceStream)),O&&!U.audioSegmentStream&&(U.coalesceStream.numberOfTracks++,U.audioSegmentStream=new ur(O,A),U.audioSegmentStream.on("log",D.getLogTrigger_("audioSegmentStream")),U.audioSegmentStream.on("timingInfo",D.trigger.bind(D,"audioTimingInfo")),U.audioSegmentStream.on("segmentTimingInfo",D.trigger.bind(D,"audioSegmentTimingInfo")),U.adtsStream.pipe(U.audioSegmentStream).pipe(U.coalesceStream)),D.trigger("trackinfo",{hasAudio:!!O,hasVideo:!!I})}}),U.coalesceStream.on("data",this.trigger.bind(this,"data")),U.coalesceStream.on("id3Frame",function(X){X.dispatchType=U.metadataStream.dispatchType,D.trigger("id3Frame",X)}),U.coalesceStream.on("caption",this.trigger.bind(this,"caption")),U.coalesceStream.on("done",this.trigger.bind(this,"done")),Qu(this,U)},this.setBaseMediaDecodeTime=function(U){var X=this.transmuxPipeline_;A.keepOriginalTimestamps||(this.baseMediaDecodeTime=U),O&&(O.timelineStartInfo.dts=void 0,O.timelineStartInfo.pts=void 0,Ki.clearDtsInfo(O),X.audioTimestampRolloverStream&&X.audioTimestampRolloverStream.discontinuity()),I&&(X.videoSegmentStream&&(X.videoSegmentStream.gopCache_=[]),I.timelineStartInfo.dts=void 0,I.timelineStartInfo.pts=void 0,Ki.clearDtsInfo(I),X.captionStream.reset()),X.timestampRolloverStream&&X.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(U){O&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(U)},this.setRemux=function(U){var X=this.transmuxPipeline_;A.remux=U,X&&X.coalesceStream&&X.coalesceStream.setRemux(U)},this.alignGopsWith=function(U){I&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(U)},this.getLogTrigger_=function(U){var X=this;return function(ie){ie.stream=U,X.trigger("log",ie)}},this.push=function(U){if(P){var X=hc(U);X&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!X&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),P=!1}this.transmuxPipeline_.headOfPipeline.push(U)},this.flush=function(){P=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Ja.prototype=new wo;var hf={Transmuxer:Ja,VideoSegmentStream:Js,AudioSegmentStream:ur,AUDIO_PROPERTIES:Za,VIDEO_PROPERTIES:Xa,generateSegmentTimingInfo:tl},Zu=function(A){return A>>>0},ea=function(A){return("00"+A.toString(16)).slice(-2)},ta={toUnsigned:Zu,toHexString:ea},pc=function(A){var D="";return D+=String.fromCharCode(A[0]),D+=String.fromCharCode(A[1]),D+=String.fromCharCode(A[2]),D+=String.fromCharCode(A[3]),D},nl=pc,mc=ta.toUnsigned,gc=nl,bc=function(A,D){var P=[],I,O,U,X,ie;if(!D.length)return null;for(I=0;I<A.byteLength;)O=mc(A[I]<<24|A[I+1]<<16|A[I+2]<<8|A[I+3]),U=gc(A.subarray(I+4,I+8)),X=O>1?I+O:A.byteLength,U===D[0]&&(D.length===1?P.push(A.subarray(I+8,X)):(ie=bc(A.subarray(I+8,X),D.slice(1)),ie.length&&(P=P.concat(ie)))),I=X;return P},kc=bc,Xu=ta.toUnsigned,vc=u.getUint64,Ju=function(A){var D={version:A[0],flags:new Uint8Array(A.subarray(1,4))};return D.version===1?D.baseMediaDecodeTime=vc(A.subarray(4)):D.baseMediaDecodeTime=Xu(A[4]<<24|A[5]<<16|A[6]<<8|A[7]),D},ed=Ju,ff=function(A){return{isLeading:(A[0]&12)>>>2,dependsOn:A[0]&3,isDependedOn:(A[1]&192)>>>6,hasRedundancy:(A[1]&48)>>>4,paddingValue:(A[1]&14)>>>1,isNonSyncSample:A[1]&1,degradationPriority:A[2]<<8|A[3]}},pf=ff,_c=pf,td=function(A){var D={version:A[0],flags:new Uint8Array(A.subarray(1,4)),samples:[]},P=new DataView(A.buffer,A.byteOffset,A.byteLength),I=D.flags[2]&1,O=D.flags[2]&4,U=D.flags[1]&1,X=D.flags[1]&2,ie=D.flags[1]&4,ae=D.flags[1]&8,ge=P.getUint32(4),we=8,Ee;for(I&&(D.dataOffset=P.getInt32(we),we+=4),O&&ge&&(Ee={flags:_c(A.subarray(we,we+4))},we+=4,U&&(Ee.duration=P.getUint32(we),we+=4),X&&(Ee.size=P.getUint32(we),we+=4),ae&&(D.version===1?Ee.compositionTimeOffset=P.getInt32(we):Ee.compositionTimeOffset=P.getUint32(we),we+=4),D.samples.push(Ee),ge--);ge--;)Ee={},U&&(Ee.duration=P.getUint32(we),we+=4),X&&(Ee.size=P.getUint32(we),we+=4),ie&&(Ee.flags=_c(A.subarray(we,we+4)),we+=4),ae&&(D.version===1?Ee.compositionTimeOffset=P.getInt32(we):Ee.compositionTimeOffset=P.getUint32(we),we+=4),D.samples.push(Ee);return D},Jr=td,na=function(A){var D=new DataView(A.buffer,A.byteOffset,A.byteLength),P={version:A[0],flags:new Uint8Array(A.subarray(1,4)),trackId:D.getUint32(4)},I=P.flags[2]&1,O=P.flags[2]&2,U=P.flags[2]&8,X=P.flags[2]&16,ie=P.flags[2]&32,ae=P.flags[0]&65536,ge=P.flags[0]&131072,we;return we=8,I&&(we+=4,P.baseDataOffset=D.getUint32(12),we+=4),O&&(P.sampleDescriptionIndex=D.getUint32(we),we+=4),U&&(P.defaultSampleDuration=D.getUint32(we),we+=4),X&&(P.defaultSampleSize=D.getUint32(we),we+=4),ie&&(P.defaultSampleFlags=D.getUint32(we)),ae&&(P.durationIsEmpty=!0),!I&&ge&&(P.baseDataOffsetIsMoof=!0),P},nd=na,es;typeof window<"u"?es=window:typeof n<"u"?es=n:typeof self<"u"?es=self:es={};var Co=es,yc=Hs.discardEmulationPreventionBytes,mf=zu.CaptionStream,ia=kc,id=ed,rd=Jr,od=nd,ts=Co,wc=function(A,D){for(var P=A,I=0;I<D.length;I++){var O=D[I];if(P<O.size)return O;P-=O.size}return null},gf=function(A,D,P){var I=new DataView(A.buffer,A.byteOffset,A.byteLength),O={logs:[],seiNals:[]},U,X,ie,ae;for(X=0;X+4<A.length;X+=ie)if(ie=I.getUint32(X),X+=4,!(ie<=0))switch(A[X]&31){case 6:var ge=A.subarray(X+1,X+1+ie),we=wc(X,D);if(U={nalUnitType:"sei_rbsp",size:ie,data:ge,escapedRBSP:yc(ge),trackId:P},we)U.pts=we.pts,U.dts=we.dts,ae=we;else if(ae)U.pts=ae.pts,U.dts=ae.dts;else{O.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+X+" for trackId "+P+". See mux.js#223."});break}O.seiNals.push(U);break}return O},ra=function(A,D,P){var I=D,O=P.defaultSampleDuration||0,U=P.defaultSampleSize||0,X=P.trackId,ie=[];return A.forEach(function(ae){var ge=rd(ae),we=ge.samples;we.forEach(function(Ee){Ee.duration===void 0&&(Ee.duration=O),Ee.size===void 0&&(Ee.size=U),Ee.trackId=X,Ee.dts=I,Ee.compositionTimeOffset===void 0&&(Ee.compositionTimeOffset=0),typeof I=="bigint"?(Ee.pts=I+ts.BigInt(Ee.compositionTimeOffset),I+=ts.BigInt(Ee.duration)):(Ee.pts=I+Ee.compositionTimeOffset,I+=Ee.duration)}),ie=ie.concat(we)}),ie},bf=function(A,D){var P=ia(A,["moof","traf"]),I=ia(A,["mdat"]),O={},U=[];return I.forEach(function(X,ie){var ae=P[ie];U.push({mdat:X,traf:ae})}),U.forEach(function(X){var ie=X.mdat,ae=X.traf,ge=ia(ae,["tfhd"]),we=od(ge[0]),Ee=we.trackId,Je=ia(ae,["tfdt"]),Fe=Je.length>0?id(Je[0]).baseMediaDecodeTime:0,pt=ia(ae,["trun"]),kt,jn;D===Ee&&pt.length>0&&(kt=ra(pt,Fe,we),jn=gf(ie,kt,Ee),O[Ee]||(O[Ee]={seiNals:[],logs:[]}),O[Ee].seiNals=O[Ee].seiNals.concat(jn.seiNals),O[Ee].logs=O[Ee].logs.concat(jn.logs))}),O},sd=function(A,D,P){var I;if(D===null)return null;I=bf(A,D);var O=I[D]||{};return{seiNals:O.seiNals,logs:O.logs,timescale:P}},kf=function(){var A=!1,D,P,I,O,U,X;this.isInitialized=function(){return A},this.init=function(ie){D=new mf,A=!0,X=ie?ie.isPartial:!1,D.on("data",function(ae){ae.startTime=ae.startPts/O,ae.endTime=ae.endPts/O,U.captions.push(ae),U.captionStreams[ae.stream]=!0}),D.on("log",function(ae){U.logs.push(ae)})},this.isNewInit=function(ie,ae){return ie&&ie.length===0||ae&&typeof ae=="object"&&Object.keys(ae).length===0?!1:I!==ie[0]||O!==ae[I]},this.parse=function(ie,ae,ge){var we;if(this.isInitialized()){if(!ae||!ge)return null;if(this.isNewInit(ae,ge))I=ae[0],O=ge[I];else if(I===null||!O)return P.push(ie),null}else return null;for(;P.length>0;){var Ee=P.shift();this.parse(Ee,ae,ge)}return we=sd(ie,I,O),we&&we.logs&&(U.logs=U.logs.concat(we.logs)),we===null||!we.seiNals?U.logs.length?{logs:U.logs,captions:[],captionStreams:[]}:null:(this.pushNals(we.seiNals),this.flushStream(),U)},this.pushNals=function(ie){if(!this.isInitialized()||!ie||ie.length===0)return null;ie.forEach(function(ae){D.push(ae)})},this.flushStream=function(){if(!this.isInitialized())return null;X?D.partialFlush():D.flush()},this.clearParsedCaptions=function(){U.captions=[],U.captionStreams={},U.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;D.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){P=[],I=null,O=null,U?this.clearParsedCaptions():U={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Cc=kf,vf=function(A){for(var D=0,P=String.fromCharCode(A[D]),I="";P!=="\0";)I+=P,D++,P=String.fromCharCode(A[D]);return I+=P,I},_f={uint8ToCString:vf},oa=_f.uint8ToCString,ad=u.getUint64,Ac=function(A){var D=4,P=A[0],I,O,U,X,ie,ae,ge,we;if(P===0){I=oa(A.subarray(D)),D+=I.length,O=oa(A.subarray(D)),D+=O.length;var Ee=new DataView(A.buffer);U=Ee.getUint32(D),D+=4,ie=Ee.getUint32(D),D+=4,ae=Ee.getUint32(D),D+=4,ge=Ee.getUint32(D),D+=4}else if(P===1){var Ee=new DataView(A.buffer);U=Ee.getUint32(D),D+=4,X=ad(A.subarray(D)),D+=8,ae=Ee.getUint32(D),D+=4,ge=Ee.getUint32(D),D+=4,I=oa(A.subarray(D)),D+=I.length,O=oa(A.subarray(D)),D+=O.length}we=new Uint8Array(A.subarray(D,A.byteLength));var Je={scheme_id_uri:I,value:O,timescale:U||1,presentation_time:X,presentation_time_delta:ie,event_duration:ae,id:ge,message_data:we};return ld(P,Je)?Je:void 0},Tc=function(A,D,P,I){return A||A===0?A/D:I+P/D},ld=function(A,D){var P=D.scheme_id_uri!=="\0",I=A===0&&en(D.presentation_time_delta)&&P,O=A===1&&en(D.presentation_time)&&P;return!(A>1)&&I||O},en=function(A){return A!==void 0||A!==null},xc={parseEmsgBox:Ac,scaleTime:Tc},ns=ta.toUnsigned,Yi=ta.toHexString,_n=kc,Ao=nl,Ec=xc,eo=nd,il=Jr,cd=ed,Pr=u.getUint64,rl,ol,is,_t,sl,rs,Sc,yn=Co,ud=Zl.parseId3Frames;rl=function(A){var D={},P=_n(A,["moov","trak"]);return P.reduce(function(I,O){var U,X,ie,ae,ge;return U=_n(O,["tkhd"])[0],!U||(X=U[0],ie=X===0?12:20,ae=ns(U[ie]<<24|U[ie+1]<<16|U[ie+2]<<8|U[ie+3]),ge=_n(O,["mdia","mdhd"])[0],!ge)?null:(X=ge[0],ie=X===0?12:20,I[ae]=ns(ge[ie]<<24|ge[ie+1]<<16|ge[ie+2]<<8|ge[ie+3]),I)},D)},ol=function(A,D){var P;P=_n(D,["moof","traf"]);var I=P.reduce(function(O,U){var X=_n(U,["tfhd"])[0],ie=ns(X[4]<<24|X[5]<<16|X[6]<<8|X[7]),ae=A[ie]||9e4,ge=_n(U,["tfdt"])[0],we=new DataView(ge.buffer,ge.byteOffset,ge.byteLength),Ee;ge[0]===1?Ee=Pr(ge.subarray(4,12)):Ee=we.getUint32(4);let Je;return typeof Ee=="bigint"?Je=Ee/yn.BigInt(ae):typeof Ee=="number"&&!isNaN(Ee)&&(Je=Ee/ae),Je<Number.MAX_SAFE_INTEGER&&(Je=Number(Je)),Je<O&&(O=Je),O},1/0);return typeof I=="bigint"||isFinite(I)?I:0},is=function(A,D){var P=_n(D,["moof","traf"]),I=0,O=0,U;if(P&&P.length){var X=_n(P[0],["tfhd"])[0],ie=_n(P[0],["trun"])[0],ae=_n(P[0],["tfdt"])[0];if(X){var ge=eo(X);U=ge.trackId}if(ae){var we=cd(ae);I=we.baseMediaDecodeTime}if(ie){var Ee=il(ie);Ee.samples&&Ee.samples.length&&(O=Ee.samples[0].compositionTimeOffset||0)}}var Je=A[U]||9e4;typeof I=="bigint"&&(O=yn.BigInt(O),Je=yn.BigInt(Je));var Fe=(I+O)/Je;return typeof Fe=="bigint"&&Fe<Number.MAX_SAFE_INTEGER&&(Fe=Number(Fe)),Fe},_t=function(A){var D=_n(A,["moov","trak"]),P=[];return D.forEach(function(I){var O=_n(I,["mdia","hdlr"]),U=_n(I,["tkhd"]);O.forEach(function(X,ie){var ae=Ao(X.subarray(8,12)),ge=U[ie],we,Ee,Je;ae==="vide"&&(we=new DataView(ge.buffer,ge.byteOffset,ge.byteLength),Ee=we.getUint8(0),Je=Ee===0?we.getUint32(12):we.getUint32(20),P.push(Je))})}),P},rs=function(A){var D=A[0],P=D===0?12:20;return ns(A[P]<<24|A[P+1]<<16|A[P+2]<<8|A[P+3])},sl=function(A){var D=_n(A,["moov","trak"]),P=[];return D.forEach(function(I){var O={},U=_n(I,["tkhd"])[0],X,ie;U&&(X=new DataView(U.buffer,U.byteOffset,U.byteLength),ie=X.getUint8(0),O.id=ie===0?X.getUint32(12):X.getUint32(20));var ae=_n(I,["mdia","hdlr"])[0];if(ae){var ge=Ao(ae.subarray(8,12));ge==="vide"?O.type="video":ge==="soun"?O.type="audio":O.type=ge}var we=_n(I,["mdia","minf","stbl","stsd"])[0];if(we){var Ee=we.subarray(8);O.codec=Ao(Ee.subarray(4,8));var Je=_n(Ee,[O.codec])[0],Fe,pt;Je&&(/^[asm]vc[1-9]$/i.test(O.codec)?(Fe=Je.subarray(78),pt=Ao(Fe.subarray(4,8)),pt==="avcC"&&Fe.length>11?(O.codec+=".",O.codec+=Yi(Fe[9]),O.codec+=Yi(Fe[10]),O.codec+=Yi(Fe[11])):O.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(O.codec)?(Fe=Je.subarray(28),pt=Ao(Fe.subarray(4,8)),pt==="esds"&&Fe.length>20&&Fe[19]!==0?(O.codec+="."+Yi(Fe[19]),O.codec+="."+Yi(Fe[20]>>>2&63).replace(/^0/,"")):O.codec="mp4a.40.2"):O.codec=O.codec.toLowerCase())}var kt=_n(I,["mdia","mdhd"])[0];kt&&(O.timescale=rs(kt)),P.push(O)}),P},Sc=function(A,D=0){var P=_n(A,["emsg"]);return P.map(I=>{var O=Ec.parseEmsgBox(new Uint8Array(I)),U=ud(O.message_data);return{cueTime:Ec.scaleTime(O.presentation_time,O.timescale,O.presentation_time_delta,D),duration:Ec.scaleTime(O.event_duration,O.timescale),frames:U}})};var Ht={findBox:_n,parseType:Ao,timescale:rl,startTime:ol,compositionStartTime:is,videoTrackIds:_t,tracks:sl,getTimescaleFromMediaHeader:rs,getEmsgID3:Sc},os=lr,ss=function(A){var D=A[1]&31;return D<<=8,D|=A[2],D},N=function(A){return!!(A[1]&64)},B=function(A){var D=0;return(A[3]&48)>>>4>1&&(D+=A[4]+1),D},$=function(A,D){var P=ss(A);return P===0?"pat":P===D?"pmt":D?"pes":null},fe=function(A){var D=N(A),P=4+B(A);return D&&(P+=A[P]+1),(A[P+10]&31)<<8|A[P+11]},Ue=function(A){var D={},P=N(A),I=4+B(A);if(P&&(I+=A[I]+1),!!(A[I+5]&1)){var O,U,X;O=(A[I+1]&15)<<8|A[I+2],U=3+O-4,X=(A[I+10]&15)<<8|A[I+11];for(var ie=12+X;ie<U;){var ae=I+ie;D[(A[ae+1]&31)<<8|A[ae+2]]=A[ae],ie+=((A[ae+3]&15)<<8|A[ae+4])+5}return D}},mt=function(A,D){var P=ss(A),I=D[P];switch(I){case os.H264_STREAM_TYPE:return"video";case os.ADTS_STREAM_TYPE:return"audio";case os.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Sn=function(A){var D=N(A);if(!D)return null;var P=4+B(A);if(P>=A.byteLength)return null;var I=null,O;return O=A[P+7],O&192&&(I={},I.pts=(A[P+9]&14)<<27|(A[P+10]&255)<<20|(A[P+11]&254)<<12|(A[P+12]&255)<<5|(A[P+13]&254)>>>3,I.pts*=4,I.pts+=(A[P+13]&6)>>>1,I.dts=I.pts,O&64&&(I.dts=(A[P+14]&14)<<27|(A[P+15]&255)<<20|(A[P+16]&254)<<12|(A[P+17]&255)<<5|(A[P+18]&254)>>>3,I.dts*=4,I.dts+=(A[P+18]&6)>>>1)),I},ni=function(A){switch(A){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Fn=function(A){for(var D=4+B(A),P=A.subarray(D),I=0,O=0,U=!1,X;O<P.byteLength-3;O++)if(P[O+2]===1){I=O+5;break}for(;I<P.byteLength;)switch(P[I]){case 0:if(P[I-1]!==0){I+=2;break}else if(P[I-2]!==0){I++;break}O+3!==I-2&&(X=ni(P[O+3]&31),X==="slice_layer_without_partitioning_rbsp_idr"&&(U=!0));do I++;while(P[I]!==1&&I<P.length);O=I-2,I+=3;break;case 1:if(P[I-1]!==0||P[I-2]!==0){I+=3;break}X=ni(P[O+3]&31),X==="slice_layer_without_partitioning_rbsp_idr"&&(U=!0),O=I-2,I+=3;break;default:I+=3;break}return P=P.subarray(O),I-=O,O=0,P&&P.byteLength>3&&(X=ni(P[O+3]&31),X==="slice_layer_without_partitioning_rbsp_idr"&&(U=!0)),U},Li={parseType:$,parsePat:fe,parsePmt:Ue,parsePayloadUnitStartIndicator:N,parsePesType:mt,parsePesTime:Sn,videoPacketContainsKeyFrame:Fn},sa=lr,aa=li.handleRollover,Zt={};Zt.ts=Li,Zt.aac=Dr;var To=It.ONE_SECOND_IN_TS,gi=188,to=71,Nk=function(A,D){for(var P=0,I=gi,O,U;I<A.byteLength;){if(A[P]===to&&A[I]===to){switch(O=A.subarray(P,I),U=Zt.ts.parseType(O,D.pid),U){case"pat":D.pid=Zt.ts.parsePat(O);break;case"pmt":var X=Zt.ts.parsePmt(O);D.table=D.table||{},Object.keys(X).forEach(function(ie){D.table[ie]=X[ie]});break}P+=gi,I+=gi;continue}P++,I++}},yf=function(A,D,P){for(var I=0,O=gi,U,X,ie,ae,ge,we=!1;O<=A.byteLength;){if(A[I]===to&&(A[O]===to||O===A.byteLength)){switch(U=A.subarray(I,O),X=Zt.ts.parseType(U,D.pid),X){case"pes":ie=Zt.ts.parsePesType(U,D.table),ae=Zt.ts.parsePayloadUnitStartIndicator(U),ie==="audio"&&ae&&(ge=Zt.ts.parsePesTime(U),ge&&(ge.type="audio",P.audio.push(ge),we=!0));break}if(we)break;I+=gi,O+=gi;continue}I++,O++}for(O=A.byteLength,I=O-gi,we=!1;I>=0;){if(A[I]===to&&(A[O]===to||O===A.byteLength)){switch(U=A.subarray(I,O),X=Zt.ts.parseType(U,D.pid),X){case"pes":ie=Zt.ts.parsePesType(U,D.table),ae=Zt.ts.parsePayloadUnitStartIndicator(U),ie==="audio"&&ae&&(ge=Zt.ts.parsePesTime(U),ge&&(ge.type="audio",P.audio.push(ge),we=!0));break}if(we)break;I-=gi,O-=gi;continue}I--,O--}},Fm=function(A,D,P){for(var I=0,O=gi,U,X,ie,ae,ge,we,Ee,Je,Fe=!1,pt={data:[],size:0};O<A.byteLength;){if(A[I]===to&&A[O]===to){switch(U=A.subarray(I,O),X=Zt.ts.parseType(U,D.pid),X){case"pes":if(ie=Zt.ts.parsePesType(U,D.table),ae=Zt.ts.parsePayloadUnitStartIndicator(U),ie==="video"&&(ae&&!Fe&&(ge=Zt.ts.parsePesTime(U),ge&&(ge.type="video",P.video.push(ge),Fe=!0)),!P.firstKeyFrame)){if(ae&&pt.size!==0){for(we=new Uint8Array(pt.size),Ee=0;pt.data.length;)Je=pt.data.shift(),we.set(Je,Ee),Ee+=Je.byteLength;if(Zt.ts.videoPacketContainsKeyFrame(we)){var kt=Zt.ts.parsePesTime(we);kt?(P.firstKeyFrame=kt,P.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}pt.size=0}pt.data.push(U),pt.size+=U.byteLength}break}if(Fe&&P.firstKeyFrame)break;I+=gi,O+=gi;continue}I++,O++}for(O=A.byteLength,I=O-gi,Fe=!1;I>=0;){if(A[I]===to&&A[O]===to){switch(U=A.subarray(I,O),X=Zt.ts.parseType(U,D.pid),X){case"pes":ie=Zt.ts.parsePesType(U,D.table),ae=Zt.ts.parsePayloadUnitStartIndicator(U),ie==="video"&&ae&&(ge=Zt.ts.parsePesTime(U),ge&&(ge.type="video",P.video.push(ge),Fe=!0));break}if(Fe)break;I-=gi,O-=gi;continue}I--,O--}},jm=function(A,D){if(A.audio&&A.audio.length){var P=D;(typeof P>"u"||isNaN(P))&&(P=A.audio[0].dts),A.audio.forEach(function(U){U.dts=aa(U.dts,P),U.pts=aa(U.pts,P),U.dtsTime=U.dts/To,U.ptsTime=U.pts/To})}if(A.video&&A.video.length){var I=D;if((typeof I>"u"||isNaN(I))&&(I=A.video[0].dts),A.video.forEach(function(U){U.dts=aa(U.dts,I),U.pts=aa(U.pts,I),U.dtsTime=U.dts/To,U.ptsTime=U.pts/To}),A.firstKeyFrame){var O=A.firstKeyFrame;O.dts=aa(O.dts,I),O.pts=aa(O.pts,I),O.dtsTime=O.dts/To,O.ptsTime=O.pts/To}}},zm=function(A){for(var D=!1,P=0,I=null,O=null,U=0,X=0,ie;A.length-X>=3;){var ae=Zt.aac.parseType(A,X);switch(ae){case"timed-metadata":if(A.length-X<10){D=!0;break}if(U=Zt.aac.parseId3TagSize(A,X),U>A.length){D=!0;break}O===null&&(ie=A.subarray(X,X+U),O=Zt.aac.parseAacTimestamp(ie)),X+=U;break;case"audio":if(A.length-X<7){D=!0;break}if(U=Zt.aac.parseAdtsSize(A,X),U>A.length){D=!0;break}I===null&&(ie=A.subarray(X,X+U),I=Zt.aac.parseSampleRate(ie)),P++,X+=U;break;default:X++;break}if(D)return null}if(I===null||O===null)return null;var ge=To/I,we={audio:[{type:"audio",dts:O,pts:O},{type:"audio",dts:O+P*1024*ge,pts:O+P*1024*ge}]};return we},wf=function(A){var D={pid:null,table:null},P={};Nk(A,D);for(var I in D.table)if(D.table.hasOwnProperty(I)){var O=D.table[I];switch(O){case sa.H264_STREAM_TYPE:P.video=[],Fm(A,D,P),P.video.length===0&&delete P.video;break;case sa.ADTS_STREAM_TYPE:P.audio=[],yf(A,D,P),P.audio.length===0&&delete P.audio;break}}return P},Bk=function(A,D){var P=Zt.aac.isLikelyAacData(A),I;return P?I=zm(A):I=wf(A),!I||!I.audio&&!I.video?null:(jm(I,D),I)},Vm={inspect:Bk,parseAudioPes_:yf};const Ok=function(A,D){D.on("data",function(P){const I=P.initSegment;P.initSegment={data:I.buffer,byteOffset:I.byteOffset,byteLength:I.byteLength};const O=P.data;P.data=O.buffer,A.postMessage({action:"data",segment:P,byteOffset:O.byteOffset,byteLength:O.byteLength},[P.data])}),D.on("done",function(P){A.postMessage({action:"done"})}),D.on("gopInfo",function(P){A.postMessage({action:"gopInfo",gopInfo:P})}),D.on("videoSegmentTimingInfo",function(P){const I={start:{decode:It.videoTsToSeconds(P.start.dts),presentation:It.videoTsToSeconds(P.start.pts)},end:{decode:It.videoTsToSeconds(P.end.dts),presentation:It.videoTsToSeconds(P.end.pts)},baseMediaDecodeTime:It.videoTsToSeconds(P.baseMediaDecodeTime)};P.prependedContentDuration&&(I.prependedContentDuration=It.videoTsToSeconds(P.prependedContentDuration)),A.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:I})}),D.on("audioSegmentTimingInfo",function(P){const I={start:{decode:It.videoTsToSeconds(P.start.dts),presentation:It.videoTsToSeconds(P.start.pts)},end:{decode:It.videoTsToSeconds(P.end.dts),presentation:It.videoTsToSeconds(P.end.pts)},baseMediaDecodeTime:It.videoTsToSeconds(P.baseMediaDecodeTime)};P.prependedContentDuration&&(I.prependedContentDuration=It.videoTsToSeconds(P.prependedContentDuration)),A.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:I})}),D.on("id3Frame",function(P){A.postMessage({action:"id3Frame",id3Frame:P})}),D.on("caption",function(P){A.postMessage({action:"caption",caption:P})}),D.on("trackinfo",function(P){A.postMessage({action:"trackinfo",trackInfo:P})}),D.on("audioTimingInfo",function(P){A.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:It.videoTsToSeconds(P.start),end:It.videoTsToSeconds(P.end)}})}),D.on("videoTimingInfo",function(P){A.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:It.videoTsToSeconds(P.start),end:It.videoTsToSeconds(P.end)}})}),D.on("log",function(P){A.postMessage({action:"log",log:P})})};class Um{constructor(D,P){this.options=P||{},this.self=D,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new hf.Transmuxer(this.options),Ok(this.self,this.transmuxer)}pushMp4Captions(D){this.captionParser||(this.captionParser=new Cc,this.captionParser.init());const P=new Uint8Array(D.data,D.byteOffset,D.byteLength),I=this.captionParser.parse(P,D.trackIds,D.timescales);this.self.postMessage({action:"mp4Captions",captions:I&&I.captions||[],logs:I&&I.logs||[],data:P.buffer},[P.buffer])}probeMp4StartTime({timescales:D,data:P}){const I=Ht.startTime(D,P);this.self.postMessage({action:"probeMp4StartTime",startTime:I,data:P},[P.buffer])}probeMp4Tracks({data:D}){const P=Ht.tracks(D);this.self.postMessage({action:"probeMp4Tracks",tracks:P,data:D},[D.buffer])}probeEmsgID3({data:D,offset:P}){const I=Ht.getEmsgID3(D,P);this.self.postMessage({action:"probeEmsgID3",id3Frames:I,emsgData:D},[D.buffer])}probeTs({data:D,baseStartTime:P}){const I=typeof P=="number"&&!isNaN(P)?P*It.ONE_SECOND_IN_TS:void 0,O=Vm.inspect(D,I);let U=null;O&&(U={hasVideo:O.video&&O.video.length===2||!1,hasAudio:O.audio&&O.audio.length===2||!1},U.hasVideo&&(U.videoStart=O.video[0].ptsTime),U.hasAudio&&(U.audioStart=O.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:U,data:D},[D.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(D){const P=new Uint8Array(D.data,D.byteOffset,D.byteLength);this.transmuxer.push(P)}reset(){this.transmuxer.reset()}setTimestampOffset(D){const P=D.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(It.secondsToVideoTs(P)))}setAudioAppendStart(D){this.transmuxer.setAudioAppendStart(Math.ceil(It.secondsToVideoTs(D.appendStart)))}setRemux(D){this.transmuxer.setRemux(D.remux)}flush(D){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(D){this.transmuxer.alignGopsWith(D.gopsToAlignWith.slice())}}self.onmessage=function(A){if(A.data.action==="init"&&A.data.options){this.messageHandlers=new Um(self,A.data.options);return}this.messageHandlers||(this.messageHandlers=new Um(self)),A.data&&A.data.action&&A.data.action!=="init"&&this.messageHandlers[A.data.action]&&this.messageHandlers[A.data.action](A.data)}}));var gle=LR(mle);const ble=(n,e,i)=>{const{type:o,initSegment:a,captions:u,captionStreams:d,metadata:p,videoFrameDtsTime:m,videoFramePtsTime:k}=n.data.segment;e.buffer.push({captions:u,captionStreams:d,metadata:p});const w=n.data.segment.boxes||{data:n.data.segment.data},y={type:o,data:new Uint8Array(w.data,w.data.byteOffset,w.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};typeof m<"u"&&(y.videoFrameDtsTime=m),typeof k<"u"&&(y.videoFramePtsTime=k),i(y)},kle=({transmuxedData:n,callback:e})=>{n.buffer=[],e(n)},vle=(n,e)=>{e.gopInfo=n.data.gopInfo},jR=n=>{const{transmuxer:e,bytes:i,audioAppendStart:o,gopsToAlignWith:a,remux:u,onData:d,onTrackInfo:p,onAudioTimingInfo:m,onVideoTimingInfo:k,onVideoSegmentTimingInfo:w,onAudioSegmentTimingInfo:y,onId3:T,onCaptions:E,onDone:S,onEndedTimeline:R,onTransmuxerLog:V,isEndOfTimeline:L}=n,j={buffer:[]};let Y=L;const W=q=>{e.currentTransmux===n&&(q.data.action==="data"&&ble(q,j,d),q.data.action==="trackinfo"&&p(q.data.trackInfo),q.data.action==="gopInfo"&&vle(q,j),q.data.action==="audioTimingInfo"&&m(q.data.audioTimingInfo),q.data.action==="videoTimingInfo"&&k(q.data.videoTimingInfo),q.data.action==="videoSegmentTimingInfo"&&w(q.data.videoSegmentTimingInfo),q.data.action==="audioSegmentTimingInfo"&&y(q.data.audioSegmentTimingInfo),q.data.action==="id3Frame"&&T([q.data.id3Frame],q.data.id3Frame.dispatchType),q.data.action==="caption"&&E(q.data.caption),q.data.action==="endedtimeline"&&(Y=!1,R()),q.data.action==="log"&&V(q.data.log),q.data.type==="transmuxed"&&(Y||(e.onmessage=null,kle({transmuxedData:j,callback:S}),zR(e))))};if(e.onmessage=W,o&&e.postMessage({action:"setAudioAppendStart",appendStart:o}),Array.isArray(a)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof u<"u"&&e.postMessage({action:"setRemux",remux:u}),i.byteLength){const q=i instanceof ArrayBuffer?i:i.buffer,ue=i instanceof ArrayBuffer?0:i.byteOffset;e.postMessage({action:"push",data:q,byteOffset:ue,byteLength:i.byteLength},[q])}L&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},zR=n=>{n.currentTransmux=null,n.transmuxQueue.length&&(n.currentTransmux=n.transmuxQueue.shift(),typeof n.currentTransmux=="function"?n.currentTransmux():jR(n.currentTransmux))},jM=(n,e)=>{n.postMessage({action:e}),zR(n)},VR=(n,e)=>{if(!e.currentTransmux){e.currentTransmux=n,jM(e,n);return}e.transmuxQueue.push(jM.bind(null,e,n))},_le=n=>{VR("reset",n)},yle=n=>{VR("endTimeline",n)},UR=n=>{if(!n.transmuxer.currentTransmux){n.transmuxer.currentTransmux=n,jR(n);return}n.transmuxer.transmuxQueue.push(n)},wle=n=>{const e=new gle;e.currentTransmux=null,e.transmuxQueue=[];const i=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)),e.postMessage({action:"init",options:n}),e};var ky={reset:_le,endTimeline:yle,transmux:UR,createTransmuxer:wle};const Ip=function(n){const e=n.transmuxer,i=n.endAction||n.action,o=n.callback,a=Ia({},n,{endAction:null,transmuxer:null,callback:null}),u=d=>{d.data.action===i&&(e.removeEventListener("message",u),d.data.data&&(d.data.data=new Uint8Array(d.data.data,n.byteOffset||0,n.byteLength||d.data.data.byteLength),n.data&&(n.data=d.data.data)),o(d.data))};if(e.addEventListener("message",u),n.data){const d=n.data instanceof ArrayBuffer;a.byteOffset=d?0:n.data.byteOffset,a.byteLength=n.data.byteLength;const p=[d?n.data:n.data.buffer];e.postMessage(a,p)}else e.postMessage(a)},Ts={FAILURE:2,TIMEOUT:-101,ABORTED:-102},xw=n=>{n.forEach(e=>{e.abort()})},Cle=n=>({bandwidth:n.bandwidth,bytesReceived:n.bytesReceived||0,roundTripTime:n.roundTripTime||0}),Ale=n=>{const e=n.target,o={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return o.bytesReceived=n.loaded,o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3),o},bA=(n,e)=>e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Ts.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Ts.ABORTED,xhr:e}:n?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Ts.FAILURE,xhr:e}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Ts.FAILURE,xhr:e}:null,zM=(n,e,i)=>(o,a)=>{const u=a.response,d=bA(o,a);if(d)return i(d,n);if(u.byteLength!==16)return i({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:Ts.FAILURE,xhr:a},n);const p=new DataView(u),m=new Uint32Array([p.getUint32(0),p.getUint32(4),p.getUint32(8),p.getUint32(12)]);for(let k=0;k<e.length;k++)e[k].bytes=m;return i(null,n)},HR=(n,e)=>{const i=O1(n.map.bytes);if(i!=="mp4"){const o=n.map.resolvedUri||n.map.uri;return e({internal:!0,message:`Found unsupported ${i||"unknown"} container for initialization segment at URL: ${o}`,code:Ts.FAILURE})}Ip({action:"probeMp4Tracks",data:n.map.bytes,transmuxer:n.transmuxer,callback:({tracks:o,data:a})=>(n.map.bytes=a,o.forEach(function(u){n.map.tracks=n.map.tracks||{},!n.map.tracks[u.type]&&(n.map.tracks[u.type]=u,typeof u.id=="number"&&u.timescale&&(n.map.timescales=n.map.timescales||{},n.map.timescales[u.id]=u.timescale))}),e(null))})},Tle=({segment:n,finishProcessingFn:e})=>(i,o)=>{const a=bA(i,o);if(a)return e(a,n);const u=new Uint8Array(o.response);if(n.map.key)return n.map.encryptedBytes=u,e(null,n);n.map.bytes=u,HR(n,function(d){if(d)return d.xhr=o,d.status=o.status,e(d,n);e(null,n)})},xle=({segment:n,finishProcessingFn:e,responseType:i})=>(o,a)=>{const u=bA(o,a);if(u)return e(u,n);const d=i==="arraybuffer"||!a.responseText?a.response:fle(a.responseText.substring(n.lastReachedChar||0));return n.stats=Cle(a),n.key?n.encryptedBytes=new Uint8Array(d):n.bytes=new Uint8Array(d),e(null,n)},Ele=({segment:n,bytes:e,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:k,dataFn:w,doneFn:y,onTransmuxerLog:T})=>{const E=n.map&&n.map.tracks||{},S=!!(E.audio&&E.video);let R=o.bind(null,n,"audio","start");const V=o.bind(null,n,"audio","end");let L=o.bind(null,n,"video","start");const j=o.bind(null,n,"video","end"),Y=()=>UR({bytes:e,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,remux:S,onData:W=>{W.type=W.type==="combined"?"video":W.type,w(n,W)},onTrackInfo:W=>{i&&(S&&(W.isMuxed=!0),i(n,W))},onAudioTimingInfo:W=>{R&&typeof W.start<"u"&&(R(W.start),R=null),V&&typeof W.end<"u"&&V(W.end)},onVideoTimingInfo:W=>{L&&typeof W.start<"u"&&(L(W.start),L=null),j&&typeof W.end<"u"&&j(W.end)},onVideoSegmentTimingInfo:W=>{a(W)},onAudioSegmentTimingInfo:W=>{u(W)},onId3:(W,q)=>{d(n,W,q)},onCaptions:W=>{p(n,[W])},isEndOfTimeline:m,onEndedTimeline:()=>{k()},onTransmuxerLog:T,onDone:W=>{y&&(W.type=W.type==="combined"?"video":W.type,y(null,n,W))}});Ip({action:"probeTs",transmuxer:n.transmuxer,data:e,baseStartTime:n.baseStartTime,callback:W=>{n.bytes=e=W.data;const q=W.result;q&&(i(n,{hasAudio:q.hasAudio,hasVideo:q.hasVideo,isMuxed:S}),i=null,q.hasAudio&&!S&&R(q.audioStart),q.hasVideo&&L(q.videoStart),R=null,L=null),Y()}})},$R=({segment:n,bytes:e,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:k,dataFn:w,doneFn:y,onTransmuxerLog:T})=>{let E=new Uint8Array(e);if(Xoe(E)){n.isFmp4=!0;const{tracks:S}=n.map,R={isFmp4:!0,hasVideo:!!S.video,hasAudio:!!S.audio};S.audio&&S.audio.codec&&S.audio.codec!=="enca"&&(R.audioCodec=S.audio.codec),S.video&&S.video.codec&&S.video.codec!=="encv"&&(R.videoCodec=S.video.codec),S.video&&S.audio&&(R.isMuxed=!0),i(n,R);const V=(L,j)=>{w(n,{data:E,type:R.hasAudio&&!R.isMuxed?"audio":"video"}),j&&j.length&&d(n,j),L&&L.length&&p(n,L),y(null,n,{})};Ip({action:"probeMp4StartTime",timescales:n.map.timescales,data:E,transmuxer:n.transmuxer,callback:({data:L,startTime:j})=>{e=L.buffer,n.bytes=E=L,R.hasAudio&&!R.isMuxed&&o(n,"audio","start",j),R.hasVideo&&o(n,"video","start",j),Ip({action:"probeEmsgID3",data:E,transmuxer:n.transmuxer,offset:j,callback:({emsgData:Y,id3Frames:W})=>{if(e=Y.buffer,n.bytes=E=Y,!S.video||!L.byteLength||!n.transmuxer){V(void 0,W);return}Ip({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:n.transmuxer,data:E,timescales:n.map.timescales,trackIds:[S.video.id],callback:q=>{e=q.data.buffer,n.bytes=E=q.data,q.logs.forEach(function(ue){T(vn(ue,{stream:"mp4CaptionParser"}))}),V(q.captions,W)}})}})}});return}if(!n.transmuxer){y(null,n,{});return}if(typeof n.container>"u"&&(n.container=O1(E)),n.container!=="ts"&&n.container!=="aac"){i(n,{hasAudio:!1,hasVideo:!1}),y(null,n,{});return}Ele({segment:n,bytes:e,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:k,dataFn:w,doneFn:y,onTransmuxerLog:T})},qR=function({id:n,key:e,encryptedBytes:i,decryptionWorker:o},a){const u=p=>{if(p.data.source===n){o.removeEventListener("message",u);const m=p.data.decrypted;a(new Uint8Array(m.bytes,m.byteOffset,m.byteLength))}};o.addEventListener("message",u);let d;e.bytes.slice?d=e.bytes.slice():d=new Uint32Array(Array.prototype.slice.call(e.bytes)),o.postMessage(IR({source:n,encrypted:i,key:d,iv:e.iv}),[i.buffer,d.buffer])},Sle=({decryptionWorker:n,segment:e,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:k,dataFn:w,doneFn:y,onTransmuxerLog:T})=>{qR({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:n},E=>{e.bytes=E,$R({segment:e,bytes:e.bytes,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:k,dataFn:w,doneFn:y,onTransmuxerLog:T})})},Dle=({activeXhrs:n,decryptionWorker:e,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:k,dataFn:w,doneFn:y,onTransmuxerLog:T})=>{let E=0,S=!1;return(R,V)=>{if(!S){if(R)return S=!0,xw(n),y(R,V);if(E+=1,E===n.length){const L=function(){if(V.encryptedBytes)return Sle({decryptionWorker:e,segment:V,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:k,dataFn:w,doneFn:y,onTransmuxerLog:T});$R({segment:V,bytes:V.bytes,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:k,dataFn:w,doneFn:y,onTransmuxerLog:T})};if(V.endOfAllRequests=Date.now(),V.map&&V.map.encryptedBytes&&!V.map.bytes)return qR({decryptionWorker:e,id:V.requestId+"-init",encryptedBytes:V.map.encryptedBytes,key:V.map.key},j=>{V.map.bytes=j,HR(V,Y=>{if(Y)return xw(n),y(Y,V);L()})});L()}}}},Ile=({loadendState:n,abortFn:e})=>i=>{i.target.aborted&&e&&!n.calledAbortFn&&(e(),n.calledAbortFn=!0)},Mle=({segment:n,progressFn:e,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:k,dataFn:w})=>y=>{if(!y.target.aborted)return n.stats=vn(n.stats,Ale(y)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),e(y,n)},Ple=({xhr:n,xhrOptions:e,decryptionWorker:i,segment:o,abortFn:a,progressFn:u,trackInfoFn:d,timingInfoFn:p,videoSegmentTimingInfoFn:m,audioSegmentTimingInfoFn:k,id3Fn:w,captionsFn:y,isEndOfTimeline:T,endedTimelineFn:E,dataFn:S,doneFn:R,onTransmuxerLog:V})=>{const L=[],j=Dle({activeXhrs:L,decryptionWorker:i,trackInfoFn:d,timingInfoFn:p,videoSegmentTimingInfoFn:m,audioSegmentTimingInfoFn:k,id3Fn:w,captionsFn:y,isEndOfTimeline:T,endedTimelineFn:E,dataFn:S,doneFn:R,onTransmuxerLog:V});if(o.key&&!o.key.bytes){const te=[o.key];o.map&&!o.map.bytes&&o.map.key&&o.map.key.resolvedUri===o.key.resolvedUri&&te.push(o.map.key);const F=vn(e,{uri:o.key.resolvedUri,responseType:"arraybuffer"}),Q=zM(o,te,j),de=n(F,Q);L.push(de)}if(o.map&&!o.map.bytes){if(o.map.key&&(!o.key||o.key.resolvedUri!==o.map.key.resolvedUri)){const ee=vn(e,{uri:o.map.key.resolvedUri,responseType:"arraybuffer"}),K=zM(o,[o.map.key],j),J=n(ee,K);L.push(J)}const F=vn(e,{uri:o.map.resolvedUri,responseType:"arraybuffer",headers:Aw(o.map)}),Q=Tle({segment:o,finishProcessingFn:j}),de=n(F,Q);L.push(de)}const Y=vn(e,{uri:o.part&&o.part.resolvedUri||o.resolvedUri,responseType:"arraybuffer",headers:Aw(o)}),W=xle({segment:o,finishProcessingFn:j,responseType:Y.responseType}),q=n(Y,W);q.addEventListener("progress",Mle({segment:o,progressFn:u,trackInfoFn:d,timingInfoFn:p,videoSegmentTimingInfoFn:m,audioSegmentTimingInfoFn:k,id3Fn:w,captionsFn:y,isEndOfTimeline:T,endedTimelineFn:E,dataFn:S})),L.push(q);const ue={};return L.forEach(te=>{te.addEventListener("loadend",Ile({loadendState:ue,abortFn:a}))}),()=>xw(L)},Nle=Wo("CodecUtils"),Ble=function(n){const e=n.attributes||{};if(e.CODECS)return bs(e.CODECS)},WR=(n,e)=>{const i=e.attributes||{};return n&&n.mediaGroups&&n.mediaGroups.AUDIO&&i.AUDIO&&n.mediaGroups.AUDIO[i.AUDIO]},Ole=(n,e)=>{if(!WR(n,e))return!0;const i=e.attributes||{},o=n.mediaGroups.AUDIO[i.AUDIO];for(const a in o)if(!o[a].uri&&!o[a].playlists)return!0;return!1},cb=function(n){const e={};return n.forEach(({mediaType:i,type:o,details:a})=>{e[i]=e[i]||[],e[i].push(sO(`${o}${a}`))}),Object.keys(e).forEach(function(i){if(e[i].length>1){Nle(`multiple ${i} codecs found as attributes: ${e[i].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[i]=null;return}e[i]=e[i][0]}),e},VM=function(n){let e=0;return n.audio&&e++,n.video&&e++,e},Mp=function(n,e){const i=e.attributes||{},o=cb(Ble(e)||[]);if(WR(n,e)&&!o.audio&&!Ole(n,e)){const a=cb(Xie(n,i.AUDIO)||[]);a.audio&&(o.audio=a.audio)}return o},i0=Wo("PlaylistSelector"),UM=function(n){if(!n||!n.playlist)return;const e=n.playlist;return JSON.stringify({id:e.id,bandwidth:n.bandwidth,width:n.width,height:n.height,codecs:e.attributes&&e.attributes.CODECS||""})},ub=function(n,e){if(!n)return"";const i=me.getComputedStyle(n);return i?i[e]:""},ih=function(n,e){const i=n.slice();n.sort(function(o,a){const u=e(o,a);return u===0?i.indexOf(o)-i.indexOf(a):u})},kA=function(n,e){let i,o;return n.attributes.BANDWIDTH&&(i=n.attributes.BANDWIDTH),i=i||me.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(o=e.attributes.BANDWIDTH),o=o||me.Number.MAX_VALUE,i-o},Lle=function(n,e){let i,o;return n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(i=n.attributes.RESOLUTION.width),i=i||me.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(o=e.attributes.RESOLUTION.width),o=o||me.Number.MAX_VALUE,i===o&&n.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?n.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-o};let GR=function(n,e,i,o,a,u){if(!n)return;const d={bandwidth:e,width:i,height:o,limitRenditionByPlayerDimensions:a};let p=n.playlists;vr.isAudioOnly(n)&&(p=u.getAudioTrackPlaylists_(),d.audioOnly=!0);let m=p.map(q=>{let ue;const te=q.attributes&&q.attributes.RESOLUTION&&q.attributes.RESOLUTION.width,F=q.attributes&&q.attributes.RESOLUTION&&q.attributes.RESOLUTION.height;return ue=q.attributes&&q.attributes.BANDWIDTH,ue=ue||me.Number.MAX_VALUE,{bandwidth:ue,width:te,height:F,playlist:q}});ih(m,(q,ue)=>q.bandwidth-ue.bandwidth),m=m.filter(q=>!vr.isIncompatible(q.playlist));let k=m.filter(q=>vr.isEnabled(q.playlist));k.length||(k=m.filter(q=>!vr.isDisabled(q.playlist)));const w=k.filter(q=>q.bandwidth*vi.BANDWIDTH_VARIANCE<e);let y=w[w.length-1];const T=w.filter(q=>q.bandwidth===y.bandwidth)[0];if(a===!1){const q=T||k[0]||m[0];if(q&&q.playlist){let ue="sortedPlaylistReps";return T&&(ue="bandwidthBestRep"),k[0]&&(ue="enabledPlaylistReps"),i0(`choosing ${UM(q)} using ${ue} with options`,d),q.playlist}return i0("could not choose a playlist with options",d),null}const E=w.filter(q=>q.width&&q.height);ih(E,(q,ue)=>q.width-ue.width);const S=E.filter(q=>q.width===i&&q.height===o);y=S[S.length-1];const R=S.filter(q=>q.bandwidth===y.bandwidth)[0];let V,L,j;R||(V=E.filter(q=>q.width>i||q.height>o),L=V.filter(q=>q.width===V[0].width&&q.height===V[0].height),y=L[L.length-1],j=L.filter(q=>q.bandwidth===y.bandwidth)[0]);let Y;if(u.leastPixelDiffSelector){const q=E.map(ue=>(ue.pixelDiff=Math.abs(ue.width-i)+Math.abs(ue.height-o),ue));ih(q,(ue,te)=>ue.pixelDiff===te.pixelDiff?te.bandwidth-ue.bandwidth:ue.pixelDiff-te.pixelDiff),Y=q[0]}const W=Y||j||R||T||k[0]||m[0];if(W&&W.playlist){let q="sortedPlaylistReps";return Y?q="leastPixelDiffRep":j?q="resolutionPlusOneRep":R?q="resolutionBestRep":T?q="bandwidthBestRep":k[0]&&(q="enabledPlaylistReps"),i0(`choosing ${UM(W)} using ${q} with options`,d),W.playlist}return i0("could not choose a playlist with options",d),null};const HM=function(){const n=this.useDevicePixelRatio&&me.devicePixelRatio||1;return GR(this.playlists.main,this.systemBandwidth,parseInt(ub(this.tech_.el(),"width"),10)*n,parseInt(ub(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)},Rle=function(n){let e=-1,i=-1;if(n<0||n>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){const o=this.useDevicePixelRatio&&me.devicePixelRatio||1;return e<0&&(e=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(e=n*this.systemBandwidth+(1-n)*e,i=this.systemBandwidth),GR(this.playlists.main,e,parseInt(ub(this.tech_.el(),"width"),10)*o,parseInt(ub(this.tech_.el(),"height"),10)*o,this.limitRenditionByPlayerDimensions,this.playlistController_)}},Fle=function(n){const{main:e,currentTime:i,bandwidth:o,duration:a,segmentDuration:u,timeUntilRebuffer:d,currentTimeline:p,syncController:m}=n,k=e.playlists.filter(S=>!vr.isIncompatible(S));let w=k.filter(vr.isEnabled);w.length||(w=k.filter(S=>!vr.isDisabled(S)));const T=w.filter(vr.hasAttribute.bind(null,"BANDWIDTH")).map(S=>{const V=m.getSyncPoint(S,a,p,i)?1:2,j=vr.estimateSegmentRequestTime(u,o,S)*V-d;return{playlist:S,rebufferingImpact:j}}),E=T.filter(S=>S.rebufferingImpact<=0);return ih(E,(S,R)=>kA(R.playlist,S.playlist)),E.length?E[0]:(ih(T,(S,R)=>S.rebufferingImpact-R.rebufferingImpact),T[0]||null)},jle=function(){const n=this.playlists.main.playlists.filter(vr.isEnabled);return ih(n,(i,o)=>kA(i,o)),n.filter(i=>!!Mp(this.playlists.main,i).video)[0]||null},zle=n=>{let e=0,i;return n.bytes&&(i=new Uint8Array(n.bytes),n.segments.forEach(o=>{i.set(o,e),e+=o.byteLength})),i},Vle=function(n,e,i){if(!n[i]){e.trigger({type:"usage",name:"vhs-608"});let o=i;/^cc708_/.test(i)&&(o="SERVICE"+i.split("_")[1]);const a=e.textTracks().getTrackById(o);if(a)n[i]=a;else{const u=e.options_.vhs&&e.options_.vhs.captionServices||{};let d=i,p=i,m=!1;const k=u[o];k&&(d=k.label,p=k.language,m=k.default),n[i]=e.addRemoteTextTrack({kind:"captions",id:o,default:m,label:d,language:p},!1).track}}},Ule=function({inbandTextTracks:n,captionArray:e,timestampOffset:i}){if(!e)return;const o=me.WebKitDataCue||me.VTTCue;e.forEach(a=>{const u=a.stream;a.content?a.content.forEach(d=>{const p=new o(a.startTime+i,a.endTime+i,d.text);p.line=d.line,p.align="left",p.position=d.position,p.positionAlign="line-left",n[u].addCue(p)}):n[u].addCue(new o(a.startTime+i,a.endTime+i,a.text))})},Hle=function(n){Object.defineProperties(n.frame,{id:{get(){return Pe.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),n.value.key}},value:{get(){return Pe.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),n.value.data}},privateData:{get(){return Pe.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),n.value.data}}})},$le=({inbandTextTracks:n,metadataArray:e,timestampOffset:i,videoDuration:o})=>{if(!e)return;const a=me.WebKitDataCue||me.VTTCue,u=n.metadataTrack_;if(!u||(e.forEach(w=>{const y=w.cueTime+i;typeof y!="number"||me.isNaN(y)||y<0||!(y<1/0)||!w.frames||!w.frames.length||w.frames.forEach(T=>{const E=new a(y,y,T.value||T.url||T.data||"");E.frame=T,E.value=T,Hle(E),u.addCue(E)})}),!u.cues||!u.cues.length))return;const d=u.cues,p=[];for(let w=0;w<d.length;w++)d[w]&&p.push(d[w]);const m=p.reduce((w,y)=>{const T=w[y.startTime]||[];return T.push(y),w[y.startTime]=T,w},{}),k=Object.keys(m).sort((w,y)=>Number(w)-Number(y));k.forEach((w,y)=>{const T=m[w],E=isFinite(o)?o:0,S=Number(k[y+1])||E;T.forEach(R=>{R.endTime=S})})},qle={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},Wle=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),Gle=({inbandTextTracks:n,dateRanges:e})=>{const i=n.metadataTrack_;if(!i)return;const o=me.WebKitDataCue||me.VTTCue;e.forEach(a=>{for(const u of Object.keys(a)){if(Wle.has(u))continue;const d=new o(a.startTime,a.endTime,"");d.id=a.id,d.type="com.apple.quicktime.HLS",d.value={key:qle[u],data:a[u]},(u==="scte35Out"||u==="scte35In")&&(d.value.data=new Uint8Array(d.value.data.match(/[\da-f]{2}/gi)).buffer),i.addCue(d)}a.processDateRange()})},$M=(n,e,i)=>{n.metadataTrack_||(n.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Pe.browser.IS_ANY_SAFARI||(n.metadataTrack_.inBandMetadataTrackDispatchType=e))},mp=function(n,e,i){let o,a;if(i&&i.cues)for(o=i.cues.length;o--;)a=i.cues[o],a.startTime>=n&&a.endTime<=e&&i.removeCue(a)},Kle=function(n){const e=n.cues;if(!e)return;const i={};for(let o=e.length-1;o>=0;o--){const a=e[o],u=`${a.startTime}-${a.endTime}-${a.text}`;i[u]?n.removeCue(a):i[u]=a}},Yle=(n,e,i)=>{if(typeof e>"u"||e===null||!n.length)return[];const o=Math.ceil((e-i+3)*Y0.ONE_SECOND_IN_TS);let a;for(a=0;a<n.length&&!(n[a].pts>o);a++);return n.slice(a)},Qle=(n,e,i)=>{if(!e.length)return n;if(i)return e.slice();const o=e[0].pts;let a=0;for(a;a<n.length&&!(n[a].pts>=o);a++);return n.slice(0,a).concat(e)},Zle=(n,e,i,o)=>{const a=Math.ceil((e-o)*Y0.ONE_SECOND_IN_TS),u=Math.ceil((i-o)*Y0.ONE_SECOND_IN_TS),d=n.slice();let p=n.length;for(;p--&&!(n[p].pts<=u););if(p===-1)return d;let m=p+1;for(;m--&&!(n[m].pts<=a););return m=Math.max(m,0),d.splice(m,p-m+1),d},Xle=function(n,e){if(!n&&!e||!n&&e||n&&!e)return!1;if(n===e)return!0;const i=Object.keys(n).sort(),o=Object.keys(e).sort();if(i.length!==o.length)return!1;for(let a=0;a<i.length;a++){const u=i[a];if(u!==o[a]||n[u]!==e[u])return!1}return!0},KR=22,Jle=function(n,e,i){e=e||[];const o=[];let a=0;for(let u=0;u<e.length;u++){const d=e[u];if(n===d.timeline&&(o.push(u),a+=d.duration,a>i))return u}return o.length===0?0:o[o.length-1]},sp=1,ece=500,qM=n=>typeof n=="number"&&isFinite(n),r0=1/60,tce=(n,e,i)=>n!=="main"||!e||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,nce=(n,e,i)=>{let o=e-vi.BACK_BUFFER_LENGTH;n.length&&(o=Math.max(o,n.start(0)));const a=e-i;return Math.min(a,o)},Vd=n=>{const{startOfSegment:e,duration:i,segment:o,part:a,playlist:{mediaSequence:u,id:d,segments:p=[]},mediaIndex:m,partIndex:k,timeline:w}=n,y=p.length-1;let T="mediaIndex/partIndex increment";n.getMediaInfoForTime?T=`getMediaInfoForTime (${n.getMediaInfoForTime})`:n.isSyncRequest&&(T="getSyncSegmentCandidate (isSyncRequest)"),n.independent&&(T+=` with independent ${n.independent}`);const E=typeof k=="number",S=n.segment.uri?"segment":"pre-segment",R=E?gR({preloadSegment:o})-1:0;return`${S} [${u+m}/${u+y}]`+(E?` part [${k}/${R}]`:"")+` segment start/end [${o.start} => ${o.end}]`+(E?` part start/end [${a.start} => ${a.end}]`:"")+` startOfSegment [${e}] duration [${i}] timeline [${w}] selected by [${T}] playlist [${d}]`},WM=n=>`${n}TimingInfo`,ice=({segmentTimeline:n,currentTimeline:e,startOfSegment:i,buffered:o,overrideCheck:a})=>!a&&n===e?null:n<e?i:o.length?o.end(o.length-1):i,GM=({timelineChangeController:n,currentTimeline:e,segmentTimeline:i,loaderType:o,audioDisabled:a})=>{if(e===i)return!1;if(o==="audio"){const u=n.lastTimelineChange({type:"main"});return!u||u.to!==i}if(o==="main"&&a){const u=n.pendingTimelineChange({type:"audio"});return!(u&&u.to===i)}return!1},rce=n=>{let e=0;return["video","audio"].forEach(function(i){const o=n[`${i}TimingInfo`];if(!o)return;const{start:a,end:u}=o;let d;typeof a=="bigint"||typeof u=="bigint"?d=me.BigInt(u)-me.BigInt(a):typeof a=="number"&&typeof u=="number"&&(d=u-a),typeof d<"u"&&d>e&&(e=d)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},KM=({segmentDuration:n,maxDuration:e})=>n?Math.round(n)>e+jl:!1,oce=(n,e)=>{if(e!=="hls")return null;const i=rce({audioTimingInfo:n.audioTimingInfo,videoTimingInfo:n.videoTimingInfo});if(!i)return null;const o=n.playlist.targetDuration,a=KM({segmentDuration:i,maxDuration:o*2}),u=KM({segmentDuration:i,maxDuration:o}),d=`Segment with index ${n.mediaIndex} from playlist ${n.playlist.id} has a duration of ${i} when the reported duration is ${n.duration} and the target duration is ${o}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return a||u?{severity:a?"warn":"info",message:d}:null};class Ew extends Pe.EventTarget{constructor(e,i={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.replaceSegmentsUntil_=-1,this.logger_=Wo(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(o){o!==this.state_&&(this.logger_(`${this.state_} -> ${o}`),this.state_=o,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}createTransmuxer_(){return ky.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&me.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,me.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&ky.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Ui();if(this.loaderType_==="main"){const{hasAudio:i,hasVideo:o,isMuxed:a}=e;if(o&&i&&!this.audioDisabled_&&!a)return this.sourceUpdater_.buffered();if(o)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,i=!1){if(!e)return null;const o=lb(e);let a=this.initSegments_[o];return i&&!a&&e.bytes&&(this.initSegments_[o]=a={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),a||e}segmentKey(e,i=!1){if(!e)return null;const o=MR(e);let a=this.keyCache_[o];this.cacheEncryptionKeys_&&i&&!a&&e.bytes&&(this.keyCache_[o]=a={resolvedUri:e.resolvedUri,bytes:e.bytes});const u={resolvedUri:(a||e).resolvedUri};return a&&(u.bytes=a.bytes),u}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,i={}){if(!e)return;const o=this.playlist_,a=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=i,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let u=null;if(o&&(o.id?u=o.id:o.uri&&(u=o.uri)),this.logger_(`playlist update [${u} => ${e.id||e.uri}]`),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!o||o.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const d=e.mediaSequence-o.mediaSequence;if(this.logger_(`live window shift [${d}]`),this.mediaIndex!==null)if(this.mediaIndex-=d,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const p=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!p.parts||!p.parts.length||!p.parts[this.partIndex])){const m=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=m}}a&&(a.mediaIndex-=d,a.mediaIndex<0?(a.mediaIndex=null,a.partIndex=null):(a.mediaIndex>=0&&(a.segment=e.segments[a.mediaIndex]),a.partIndex>=0&&a.segment.parts&&(a.part=a.segment.parts[a.partIndex]))),this.syncController_.saveExpiredSegmentInfo(o,e)}pause(){this.checkBufferTimeout_&&(me.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetLoaderProperties(){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0}}resetEverything(e){this.resetLoaderProperties(),this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&ky.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,i,o=()=>{},a=!1){if(i===1/0&&(i=this.duration_()),i<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let u=1;const d=()=>{u--,u===0&&o()};(a||!this.audioDisabled_)&&(u++,this.sourceUpdater_.removeAudio(e,i,d)),(a||this.loaderType_==="main")&&(this.gopBuffer_=Zle(this.gopBuffer_,e,i,this.timeMapping_),u++,this.sourceUpdater_.removeVideo(e,i,d));for(const p in this.inbandTextTracks_)mp(e,i,this.inbandTextTracks_[p]);mp(e,i,this.segmentMetadataTrack_),d()}monitorBuffer_(){this.checkBufferTimeout_&&me.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=me.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&me.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=me.setTimeout(this.monitorBufferTick_.bind(this),ece)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&(typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,i=this.playlist_,o=this.partIndex){if(!i||!this.mediaSource_)return!1;const a=typeof e=="number"&&i.segments[e],u=e+1===i.segments.length,d=!a||!a.parts||o+1===a.parts.length;return i.endList&&this.mediaSource_.readyState==="open"&&u&&d}chooseNextRequest_(){const e=this.buffered_(),i=BM(e)||0,o=hA(e,this.currentTime_()),a=!this.hasPlayed_()&&o>=1,u=o>=this.goalBufferLength_(),d=this.playlist_.segments;if(!d.length||a||u)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());const p={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(p.isSyncRequest)p.mediaIndex=Jle(this.currentTimeline_,d,i);else if(this.mediaIndex!==null){const T=d[this.mediaIndex],E=typeof this.partIndex=="number"?this.partIndex:-1;p.startOfSegment=T.end?T.end:i,T.parts&&T.parts[E+1]?(p.mediaIndex=this.mediaIndex,p.partIndex=E+1):p.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:T,startTime:E,partIndex:S}=vr.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?i:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});p.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${i}`:`currentTime ${this.currentTime_()}`,p.mediaIndex=T,p.startOfSegment=E,p.partIndex=S}const m=d[p.mediaIndex];let k=m&&typeof p.partIndex=="number"&&m.parts&&m.parts[p.partIndex];if(!m||typeof p.partIndex=="number"&&!k)return null;typeof p.partIndex!="number"&&m.parts&&(p.partIndex=0,k=m.parts[0]);const w=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!o&&k&&!w&&!k.independent)if(p.partIndex===0){const T=d[p.mediaIndex-1],E=T.parts&&T.parts.length&&T.parts[T.parts.length-1];E&&E.independent&&(p.mediaIndex-=1,p.partIndex=T.parts.length-1,p.independent="previous segment")}else m.parts[p.partIndex-1].independent&&(p.partIndex-=1,p.independent="previous part");const y=this.mediaSource_&&this.mediaSource_.readyState==="ended";return p.mediaIndex>=d.length-1&&y&&!this.seeking_()?null:this.generateSegmentInfo_(p)}generateSegmentInfo_(e){const{independent:i,playlist:o,mediaIndex:a,startOfSegment:u,isSyncRequest:d,partIndex:p,forceTimestampOffset:m,getMediaInfoForTime:k}=e,w=o.segments[a],y=typeof p=="number"&&w.parts[p],T={requestId:"segment-loader-"+Math.random(),uri:y&&y.resolvedUri||w.resolvedUri,mediaIndex:a,partIndex:y?p:null,isSyncRequest:d,startOfSegment:u,playlist:o,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:w.timeline,duration:y&&y.duration||w.duration,segment:w,part:y,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:k,independent:i},E=typeof m<"u"?m:this.isPendingTimestampOffset_;T.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:w.timeline,currentTimeline:this.currentTimeline_,startOfSegment:u,buffered:this.buffered_(),overrideCheck:E});const S=BM(this.sourceUpdater_.audioBuffered());return typeof S=="number"&&(T.audioAppendStart=S-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(T.gopsToAlignWith=Yle(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),T}timestampOffsetForSegment_(e){return ice(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const i=this.currentTime_(),o=e.bandwidth,a=this.pendingSegment_.duration,u=vr.estimateSegmentRequestTime(a,o,this.playlist_,e.bytesReceived),d=Aae(this.buffered_(),i,this.vhs_.tech_.playbackRate())-1;if(u<=d)return;const p=Fle({main:this.vhs_.playlists.main,currentTime:i,bandwidth:o,duration:this.duration_(),segmentDuration:a,timeUntilRebuffer:d,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!p)return;const k=u-d-p.rebufferingImpact;let w=.5;d<=jl&&(w=1),!(!p.playlist||p.playlist.uri===this.playlist_.uri||k<w)&&(this.bandwidth=p.playlist.attributes.BANDWIDTH*vi.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Vd(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,i){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&this.trigger("progress")}handleTrackInfo_(e,i){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(i)||(i=i||{},Xle(this.currentMediaInfo_,i)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=i,this.currentMediaInfo_=i,this.logger_("trackinfo update",i),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=i,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,i,o,a){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const u=this.pendingSegment_,d=WM(i);u[d]=u[d]||{},u[d][o]=a,this.logger_(`timinginfo: ${i} - ${o} - ${a}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(i.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,i));return}const a=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),u={};i.forEach(d=>{u[d.stream]=u[d.stream]||{startTime:1/0,captions:[],endTime:0};const p=u[d.stream];p.startTime=Math.min(p.startTime,d.startTime+a),p.endTime=Math.max(p.endTime,d.endTime+a),p.captions.push(d)}),Object.keys(u).forEach(d=>{const{startTime:p,endTime:m,captions:k}=u[d],w=this.inbandTextTracks_;this.logger_(`adding cues from ${p} -> ${m} for ${d}`),Vle(w,this.vhs_.tech_,d),mp(p,m,w[d]),Ule({captionArray:k,inbandTextTracks:w,timestampOffset:a})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,i,o){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,i,o));return}this.addMetadataToTextTrack(o,i,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(i=>i())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(i=>i())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!GM({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,i=this.getCurrentMediaInfo_();if(!e||!i)return!1;const{hasAudio:o,hasVideo:a,isMuxed:u}=i;return!(a&&!e.videoTimingInfo||o&&!this.audioDisabled_&&!u&&!e.audioTimingInfo||GM({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,i));return}const o=this.pendingSegment_;if(this.setTimeMapping_(o.timeline),this.updateMediaSecondsLoaded_(o.part||o.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),o.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),o.isFmp4=e.isFmp4,o.timingInfo=o.timingInfo||{},o.isFmp4)this.trigger("fmp4"),o.timingInfo.start=o[WM(i.type)].start;else{const a=this.getCurrentMediaInfo_(),u=this.loaderType_==="main"&&a&&a.hasVideo;let d;u&&(d=o.videoTimingInfo.start),o.timingInfo.start=this.trueSegmentStart_({currentStart:o.timingInfo.start,playlist:o.playlist,mediaIndex:o.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:u,firstVideoFrameTimeForData:d,videoTimingInfo:o.videoTimingInfo,audioTimingInfo:o.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(o,i.type),this.updateSourceBufferTimestampOffset_(o),o.isSyncRequest){this.updateTimingInfoEnd_(o),this.syncController_.saveSegmentTimingInfo({segmentInfo:o,shouldSaveTimelineMapping:this.loaderType_==="main"});const a=this.chooseNextRequest_();if(a.mediaIndex!==o.mediaIndex||a.partIndex!==o.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}o.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(o,i)}}updateAppendInitSegmentStatus(e,i){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[i]!==e.playlist&&(this.appendInitSegment_[i]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:i,map:o,playlist:a}){if(o){const u=lb(o);if(this.activeInitSegmentId_===u)return null;i=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=u}return i&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=a,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,i):null}handleQuotaExceededError_({segmentInfo:e,type:i,bytes:o},a){const u=this.sourceUpdater_.audioBuffered(),d=this.sourceUpdater_.videoBuffered();u.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+ru(u).join(", ")),d.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+ru(d).join(", "));const p=u.length?u.start(0):0,m=u.length?u.end(u.length-1):0,k=d.length?d.start(0):0,w=d.length?d.end(d.length-1):0;if(m-p<=sp&&w-k<=sp){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${o.byteLength}, audio buffer: ${ru(u).join(", ")}, video buffer: ${ru(d).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:i,bytes:o}));const T=this.currentTime_()-sp;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${T}`),this.remove(0,T,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${sp}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=me.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},sp*1e3)},!0)}handleAppendError_({segmentInfo:e,type:i,bytes:o},a){if(a){if(a.code===KR){this.handleQuotaExceededError_({segmentInfo:e,type:i,bytes:o});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(`${i} append of ${o.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:o,data:a,bytes:u}){if(!u){const d=[a];let p=a.byteLength;o&&(d.unshift(o),p+=o.byteLength),u=zle({bytes:p,segments:d})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:i,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:e,type:i,bytes:u}))}handleSegmentTimingInfo_(e,i,o){if(!this.pendingSegment_||i!==this.pendingSegment_.requestId)return;const a=this.pendingSegment_.segment,u=`${e}TimingInfo`;a[u]||(a[u]={}),a[u].transmuxerPrependedSeconds=o.prependedContentDuration||0,a[u].transmuxedPresentationStart=o.start.presentation,a[u].transmuxedDecodeStart=o.start.decode,a[u].transmuxedPresentationEnd=o.end.presentation,a[u].transmuxedDecodeEnd=o.end.decode,a[u].baseMediaDecodeTime=o.baseMediaDecodeTime}appendData_(e,i){const{type:o,data:a}=i;if(!a||!a.byteLength||o==="audio"&&this.audioDisabled_)return;const u=this.getInitSegmentAndUpdateState_({type:o,initSegment:i.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:o,initSegment:u,data:a})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const i=Ia({},e,{forceTimestampOffset:!0});Ia(e,this.generateSegmentInfo_(i)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const i=this.createSimplifiedSegmentObj_(e),o=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),a=this.mediaIndex!==null,u=e.timeline!==this.currentTimeline_&&e.timeline>0,d=o||a&&u;this.logger_(`Requesting ${Vd(e)}`),i.map&&!i.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Ple({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:i,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:d,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:p,level:m,stream:k})=>{this.logger_(`${Vd(e)} logged from transmuxer stream ${k} as a ${m}: ${p}`)}})}trimBackBuffer_(e){const i=nce(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);i>0&&this.remove(0,i)}createSimplifiedSegmentObj_(e){const i=e.segment,o=e.part,a={resolvedUri:o?o.resolvedUri:i.resolvedUri,byterange:o?o.byterange:i.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},u=e.playlist.segments[e.mediaIndex-1];if(u&&u.timeline===i.timeline&&(u.videoTimingInfo?a.baseStartTime=u.videoTimingInfo.transmuxedDecodeEnd:u.audioTimingInfo&&(a.baseStartTime=u.audioTimingInfo.transmuxedDecodeEnd)),i.key){const d=i.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(i.key),a.key.iv=d}return i.map&&(a.map=this.initSegmentForMap(i.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,i){if(this.pendingSegment_.byteLength=i.bytesReceived,e<r0){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${r0}`);return}this.bandwidth=i.bandwidth,this.roundTrip=i.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,i,o){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,i,o));return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_||i.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Ts.ABORTED)return;if(this.pause(),e.code===Ts.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const a=this.pendingSegment_;this.saveBandwidthRelatedStats_(a.duration,i.stats),a.endOfAllRequests=i.endOfAllRequests,o.gopInfo&&(this.gopBuffer_=Qle(this.gopBuffer_,o.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(a)}setTimeMapping_(e){const i=this.syncController_.mappingForTimeline(e);i!==null&&(this.timeMapping_=i)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:i,mediaIndex:o,firstVideoFrameTimeForData:a,currentVideoTimestampOffset:u,useVideoTimingInfo:d,videoTimingInfo:p,audioTimingInfo:m}){if(typeof e<"u")return e;if(!d)return m.start;const k=i.segments[o-1];return o===0||!k||typeof k.start>"u"||k.end!==a+u?a:p.start}waitForAppendsToComplete_(e){const i=this.getCurrentMediaInfo_(e);if(!i){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:o,hasVideo:a,isMuxed:u}=i,d=this.loaderType_==="main"&&a,p=!this.audioDisabled_&&o&&!u;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}d&&e.waitingOnAppends++,p&&e.waitingOnAppends++,d&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),p&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const i=tce(this.loaderType_,this.getCurrentMediaInfo_(),e);return i?(this.error({message:i,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let i=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),i=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),i=!0),i&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:i,timingInfo:o}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:i&&typeof i.transmuxedDecodeStart=="number"?i.transmuxedDecodeStart:o.start:o.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const i=this.getMediaInfo_(),a=this.loaderType_==="main"&&i&&i.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;a&&(e.timingInfo.end=typeof a.end=="number"?a.end:a.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=oce(e,this.sourceType_);if(i&&(i.severity==="warn"?Pe.log.warn(i.message):this.logger_(i.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Vd(e)}`);return}this.logger_(`Appended ${Vd(e)}`),this.addSegmentMetadataCue_(e),this.currentTime_()>=this.replaceSegmentsUntil_&&(this.replaceSegmentsUntil_=-1,this.fetchAtBuffer_=!0),this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const o=e.segment,a=e.part,u=o.end&&this.currentTime_()-o.end>e.playlist.targetDuration*3,d=a&&a.end&&this.currentTime_()-a.end>e.playlist.partTargetDuration*3;if(u||d){this.logger_(`bad ${u?"segment":"part"} ${Vd(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<r0){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${r0}`);return}const i=this.throughput.rate,o=Date.now()-e.endOfAllRequests+1,a=Math.floor(e.byteLength/o*8*1e3);this.throughput.rate+=(a-i)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const i=e.segment,o=i.start,a=i.end;if(!qM(o)||!qM(a))return;mp(o,a,this.segmentMetadataTrack_);const u=me.WebKitDataCue||me.VTTCue,d={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,programDateTime:i.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:o,end:a},p=JSON.stringify(d),m=new u(o,a,p);m.value=d,this.segmentMetadataTrack_.addCue(m)}set replaceSegmentsUntil(e){this.logger_(`Replacing currently buffered segments until ${e}`),this.replaceSegmentsUntil_=e}}function _a(){}const YR=function(n){return typeof n!="string"?n:n.replace(/./,e=>e.toUpperCase())},sce=["video","audio"],Sw=(n,e)=>{const i=e[`${n}Buffer`];return i&&i.updating||e.queuePending[n]},ace=(n,e)=>{for(let i=0;i<e.length;i++){const o=e[i];if(o.type==="mediaSource")return null;if(o.type===n)return i}return null},rh=(n,e)=>{if(e.queue.length===0)return;let i=0,o=e.queue[i];if(o.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),o.action(e),o.doneFn&&o.doneFn(),rh("audio",e),rh("video",e));return}if(n!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||Sw(n,e))){if(o.type!==n){if(i=ace(n,e.queue),i===null)return;o=e.queue[i]}if(e.queue.splice(i,1),e.queuePending[n]=o,o.action(n,e),!o.doneFn){e.queuePending[n]=null,rh(n,e);return}}},QR=(n,e)=>{const i=e[`${n}Buffer`],o=YR(n);i&&(i.removeEventListener("updateend",e[`on${o}UpdateEnd_`]),i.removeEventListener("error",e[`on${o}Error_`]),e.codecs[n]=null,e[`${n}Buffer`]=null)},ks=(n,e)=>n&&e&&Array.prototype.indexOf.call(n.sourceBuffers,e)!==-1,Rr={appendBuffer:(n,e,i)=>(o,a)=>{const u=a[`${o}Buffer`];if(ks(a.mediaSource,u)){a.logger_(`Appending segment ${e.mediaIndex}'s ${n.length} bytes to ${o}Buffer`);try{u.appendBuffer(n)}catch(d){a.logger_(`Error with code ${d.code} `+(d.code===KR?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${o}Buffer`),a.queuePending[o]=null,i(d)}}},remove:(n,e)=>(i,o)=>{const a=o[`${i}Buffer`];if(ks(o.mediaSource,a)){o.logger_(`Removing ${n} to ${e} from ${i}Buffer`);try{a.remove(n,e)}catch{o.logger_(`Remove ${n} to ${e} from ${i}Buffer failed`)}}},timestampOffset:n=>(e,i)=>{const o=i[`${e}Buffer`];ks(i.mediaSource,o)&&(i.logger_(`Setting ${e}timestampOffset to ${n}`),o.timestampOffset=n)},callback:n=>(e,i)=>{n()},endOfStream:n=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${n||""})`);try{e.mediaSource.endOfStream(n)}catch(i){Pe.log.warn("Failed to call media source endOfStream",i)}}},duration:n=>e=>{e.logger_(`Setting mediaSource duration to ${n}`);try{e.mediaSource.duration=n}catch(i){Pe.log.warn("Failed to set media source duration",i)}},abort:()=>(n,e)=>{if(e.mediaSource.readyState!=="open")return;const i=e[`${n}Buffer`];if(ks(e.mediaSource,i)){e.logger_(`calling abort on ${n}Buffer`);try{i.abort()}catch(o){Pe.log.warn(`Failed to abort on ${n}Buffer`,o)}}},addSourceBuffer:(n,e)=>i=>{const o=YR(n),a=im(e);i.logger_(`Adding ${n}Buffer with codec ${e} to mediaSource`);const u=i.mediaSource.addSourceBuffer(a);u.addEventListener("updateend",i[`on${o}UpdateEnd_`]),u.addEventListener("error",i[`on${o}Error_`]),i.codecs[n]=e,i[`${n}Buffer`]=u},removeSourceBuffer:n=>e=>{const i=e[`${n}Buffer`];if(QR(n,e),!!ks(e.mediaSource,i)){e.logger_(`Removing ${n}Buffer with codec ${e.codecs[n]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(i)}catch(o){Pe.log.warn(`Failed to removeSourceBuffer ${n}Buffer`,o)}}},changeType:n=>(e,i)=>{const o=i[`${e}Buffer`],a=im(n);ks(i.mediaSource,o)&&i.codecs[e]!==n&&(i.logger_(`changing ${e}Buffer codec from ${i.codecs[e]} to ${n}`),o.changeType(a),i.codecs[e]=n)}},Fr=({type:n,sourceUpdater:e,action:i,doneFn:o,name:a})=>{e.queue.push({type:n,action:i,doneFn:o,name:a}),rh(n,e)},YM=(n,e)=>i=>{if(e.queuePending[n]){const o=e.queuePending[n].doneFn;e.queuePending[n]=null,o&&o(e[`${n}Error_`])}rh(n,e)};class ZR extends Pe.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>rh("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Wo("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=YM("video",this),this.onAudioUpdateEnd_=YM("audio",this),this.onVideoError_=i=>{this.videoError_=i},this.onAudioError_=i=>{this.audioError_=i},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,i){Fr({type:"mediaSource",sourceUpdater:this,action:Rr.addSourceBuffer(e,i),name:"addSourceBuffer"})}abort(e){Fr({type:e,sourceUpdater:this,action:Rr.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){Pe.log.error("removeSourceBuffer is not supported!");return}Fr({type:"mediaSource",sourceUpdater:this,action:Rr.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Pe.browser.IS_FIREFOX&&me.MediaSource&&me.MediaSource.prototype&&typeof me.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return me.SourceBuffer&&me.SourceBuffer.prototype&&typeof me.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,i){if(!this.canChangeType()){Pe.log.error("changeType is not supported!");return}Fr({type:e,sourceUpdater:this,action:Rr.changeType(i),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(i=>{const o=e[i];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(i,o);this.canChangeType()&&this.changeType(i,o)})}appendBuffer(e,i){const{segmentInfo:o,type:a,bytes:u}=e;if(this.processedAppend_=!0,a==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,i]),this.logger_(`delayed audio append of ${u.length} until video append`);return}const d=i;if(Fr({type:a,sourceUpdater:this,action:Rr.appendBuffer(u,o||{mediaIndex:-1},d),doneFn:i,name:"appendBuffer"}),a==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const p=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${p.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,p.forEach(m=>{this.appendBuffer.apply(this,m)})}}audioBuffered(){return ks(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Ui()}videoBuffered(){return ks(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Ui()}buffered(){const e=ks(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,i=ks(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return i&&!e?this.audioBuffered():e&&!i?this.videoBuffered():Cae(this.audioBuffered(),this.videoBuffered())}setDuration(e,i=_a){Fr({type:"mediaSource",sourceUpdater:this,action:Rr.duration(e),name:"duration",doneFn:i})}endOfStream(e=null,i=_a){typeof e!="string"&&(e=void 0),Fr({type:"mediaSource",sourceUpdater:this,action:Rr.endOfStream(e),name:"endOfStream",doneFn:i})}removeAudio(e,i,o=_a){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){o();return}Fr({type:"audio",sourceUpdater:this,action:Rr.remove(e,i),doneFn:o,name:"remove"})}removeVideo(e,i,o=_a){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){o();return}Fr({type:"video",sourceUpdater:this,action:Rr.remove(e,i),doneFn:o,name:"remove"})}updating(){return!!(Sw("audio",this)||Sw("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Fr({type:"audio",sourceUpdater:this,action:Rr.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Fr({type:"video",sourceUpdater:this,action:Rr.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Fr({type:"audio",sourceUpdater:this,action:Rr.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Fr({type:"video",sourceUpdater:this,action:Rr.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),sce.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>QR(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const QM=n=>decodeURIComponent(escape(String.fromCharCode.apply(null,n))),ZM=new Uint8Array(`

`.split("").map(n=>n.charCodeAt(0)));class lce extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class cce extends Ew{constructor(e,i={}){super(e,i),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Ui();const e=this.subtitlesTrack_.cues,i=e[0].startTime,o=e[e.length-1].startTime;return Ui([[i,o]])}initSegmentForMap(e,i=!1){if(!e)return null;const o=lb(e);let a=this.initSegments_[o];if(i&&!a&&e.bytes){const u=ZM.byteLength+e.bytes.byteLength,d=new Uint8Array(u);d.set(e.bytes),d.set(ZM,e.bytes.byteLength),this.initSegments_[o]=a={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:d}}return a||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,i){mp(e,i,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const i=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",i),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,i,o){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Ts.TIMEOUT&&this.handleTimeout_(),e.code===Ts.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const a=this.pendingSegment_;this.saveBandwidthRelatedStats_(a.duration,i.stats),i.key&&this.segmentKey(i.key,!0),this.state="APPENDING",this.trigger("appending");const u=a.segment;if(u.map&&(u.map.bytes=i.map.bytes),a.bytes=i.bytes,typeof me.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,i,o),()=>this.stopForError({message:"Error loading vtt.js"}));return}u.requested=!0;try{this.parseVTTCues_(a)}catch(d){this.stopForError({message:d.message});return}if(this.updateTimeMapping_(a,this.syncController_.timelines[a.timeline],this.playlist_),a.cues.length?a.timingInfo={start:a.cues[0].startTime,end:a.cues[a.cues.length-1].endTime}:a.timingInfo={start:a.startOfSegment,end:a.startOfSegment+a.duration},a.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}a.byteLength=a.bytes.byteLength,this.mediaSecondsLoaded+=u.duration,a.cues.forEach(d=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new me.VTTCue(d.startTime,d.endTime,d.text):d)}),Kle(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let i,o=!1;if(typeof me.WebVTT!="function")throw new lce;typeof me.TextDecoder=="function"?i=new me.TextDecoder("utf8"):(i=me.WebVTT.StringDecoder(),o=!0);const a=new me.WebVTT.Parser(me,me.vttjs,i);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},a.oncue=e.cues.push.bind(e.cues),a.ontimestampmap=d=>{e.timestampmap=d},a.onparsingerror=d=>{Pe.log.warn("Error encountered when parsing cues: "+d.message)},e.segment.map){let d=e.segment.map.bytes;o&&(d=QM(d)),a.parse(d)}let u=e.bytes;o&&(u=QM(u)),a.parse(u),a.flush()}updateTimeMapping_(e,i,o){const a=e.segment;if(!i)return;if(!e.cues.length){a.empty=!0;return}const u=e.timestampmap,d=u.MPEGTS/Y0.ONE_SECOND_IN_TS-u.LOCAL+i.mapping;if(e.cues.forEach(p=>{p.startTime+=d,p.endTime+=d}),!o.syncInfo){const p=e.cues[0].startTime,m=e.cues[e.cues.length-1].startTime;o.syncInfo={mediaSequence:o.mediaSequence+e.mediaIndex,time:Math.min(p,m-a.duration)}}}}const uce=function(n,e){const i=n.cues;for(let o=0;o<i.length;o++){const a=i[o];if(e>=a.adStartTime&&e<=a.adEndTime)return a}return null},dce=function(n,e,i=0){if(!n.segments)return;let o=i,a;for(let u=0;u<n.segments.length;u++){const d=n.segments[u];if(a||(a=uce(e,o+d.duration/2)),a){if("cueIn"in d){a.endTime=o,a.adEndTime=o,o+=d.duration,a=null;continue}if(o<a.endTime){o+=d.duration;continue}a.endTime+=d.duration}else if("cueOut"in d&&(a=new me.VTTCue(o,o+d.duration,d.cueOut),a.adStartTime=o,a.adEndTime=o+parseFloat(d.cueOut),e.addCue(a)),"cueOutCont"in d){const[p,m]=d.cueOutCont.split("/").map(parseFloat);a=new me.VTTCue(o,o+d.duration,""),a.adStartTime=o-p,a.adEndTime=a.adStartTime+m,e.addCue(a)}o+=d.duration}},hce=86400,XM=[{name:"VOD",run:(n,e,i,o,a)=>i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"ProgramDateTime",run:(n,e,i,o,a)=>{if(!Object.keys(n.timelineToDatetimeMappings).length)return null;let u=null,d=null;const p=vw(e);a=a||0;for(let m=0;m<p.length;m++){const k=e.endList||a===0?m:p.length-(m+1),w=p[k],y=w.segment,T=n.timelineToDatetimeMappings[y.timeline];if(!T||!y.dateTimeObject)continue;let S=y.dateTimeObject.getTime()/1e3+T;if(y.parts&&typeof w.partIndex=="number")for(let V=0;V<w.partIndex;V++)S+=y.parts[V].duration;const R=Math.abs(a-S);if(d!==null&&(R===0||d<R))break;d=R,u={time:S,segmentIndex:w.segmentIndex,partIndex:w.partIndex}}return u}},{name:"Segment",run:(n,e,i,o,a)=>{let u=null,d=null;a=a||0;const p=vw(e);for(let m=0;m<p.length;m++){const k=e.endList||a===0?m:p.length-(m+1),w=p[k],y=w.segment,T=w.part&&w.part.start||y&&y.start;if(y.timeline===o&&typeof T<"u"){const E=Math.abs(a-T);if(d!==null&&d<E)break;(!u||d===null||d>=E)&&(d=E,u={time:T,segmentIndex:w.segmentIndex,partIndex:w.partIndex})}}return u}},{name:"Discontinuity",run:(n,e,i,o,a)=>{let u=null;if(a=a||0,e.discontinuityStarts&&e.discontinuityStarts.length){let d=null;for(let p=0;p<e.discontinuityStarts.length;p++){const m=e.discontinuityStarts[p],k=e.discontinuitySequence+p+1,w=n.discontinuities[k];if(w){const y=Math.abs(a-w.time);if(d!==null&&d<y)break;(!u||d===null||d>=y)&&(d=y,u={time:w.time,segmentIndex:m,partIndex:null})}}}return u}},{name:"Playlist",run:(n,e,i,o,a)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class fce extends Pe.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.logger_=Wo("SyncController")}getSyncPoint(e,i,o,a){const u=this.runStrategies_(e,i,o,a);return u.length?this.selectSyncPoint_(u,{key:"time",value:a}):null}getExpiredTime(e,i){if(!e||!e.segments)return null;const o=this.runStrategies_(e,i,e.discontinuitySequence,0);if(!o.length)return null;const a=this.selectSyncPoint_(o,{key:"segmentIndex",value:0});return a.segmentIndex>0&&(a.time*=-1),Math.abs(a.time+Dp({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:a.segmentIndex,endIndex:0}))}runStrategies_(e,i,o,a){const u=[];for(let d=0;d<XM.length;d++){const p=XM[d],m=p.run(this,e,i,o,a);m&&(m.strategy=p.name,u.push({strategy:p.name,syncPoint:m}))}return u}selectSyncPoint_(e,i){let o=e[0].syncPoint,a=Math.abs(e[0].syncPoint[i.key]-i.value),u=e[0].strategy;for(let d=1;d<e.length;d++){const p=Math.abs(e[d].syncPoint[i.key]-i.value);p<a&&(a=p,o=e[d].syncPoint,u=e[d].strategy)}return this.logger_(`syncPoint for [${i.key}: ${i.value}] chosen with strategy [${u}]: [time:${o.time}, segmentIndex:${o.segmentIndex}`+(typeof o.partIndex=="number"?`,partIndex:${o.partIndex}`:"")+"]"),o}saveExpiredSegmentInfo(e,i){const o=i.mediaSequence-e.mediaSequence;if(o>hce){Pe.log.warn(`Not saving expired segment info. Media sequence gap ${o} is too large.`);return}for(let a=o-1;a>=0;a--){const u=e.segments[a];if(u&&typeof u.start<"u"){i.syncInfo={mediaSequence:e.mediaSequence+a,time:u.start},this.logger_(`playlist refresh sync: [time:${i.syncInfo.time}, mediaSequence: ${i.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const i=e.segments[0],o=i.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[i.timeline]=-o}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:i}){const o=this.calculateSegmentTimeMapping_(e,e.timingInfo,i),a=e.segment;o&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:a.start}));const u=a.dateTimeObject;a.discontinuity&&i&&u&&(this.timelineToDatetimeMappings[a.timeline]=-(u.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,i,o){const a=e.segment,u=e.part;let d=this.timelines[e.timeline],p,m;if(typeof e.timestampOffset=="number")d={time:e.startOfSegment,mapping:e.startOfSegment-i.start},o&&(this.timelines[e.timeline]=d,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${d.time}] [mapping: ${d.mapping}]`)),p=e.startOfSegment,m=i.end+d.mapping;else if(d)p=i.start+d.mapping,m=i.end+d.mapping;else return!1;return u&&(u.start=p,u.end=m),(!a.start||p<a.start)&&(a.start=p),a.end=m,!0}saveDiscontinuitySyncInfo_(e){const i=e.playlist,o=e.segment;if(o.discontinuity)this.discontinuities[o.timeline]={time:o.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(let a=0;a<i.discontinuityStarts.length;a++){const u=i.discontinuityStarts[a],d=i.discontinuitySequence+a+1,p=u-e.mediaIndex,m=Math.abs(p);if(!this.discontinuities[d]||this.discontinuities[d].accuracy>m){let k;p<0?k=o.start-Dp({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex,endIndex:u}):k=o.end+Dp({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex+1,endIndex:u}),this.discontinuities[d]={time:k,accuracy:m}}}}dispose(){this.trigger("dispose"),this.off()}}class pce extends Pe.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:i,to:o}){return typeof i=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:i,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:i,to:o}){return typeof i=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[e]={type:e,from:i,to:o},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const mce=RR(FR(function(){var n=function(){function R(){this.listeners={}}var V=R.prototype;return V.on=function(j,Y){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push(Y)},V.off=function(j,Y){if(!this.listeners[j])return!1;var W=this.listeners[j].indexOf(Y);return this.listeners[j]=this.listeners[j].slice(0),this.listeners[j].splice(W,1),W>-1},V.trigger=function(j){var Y=this.listeners[j];if(Y)if(arguments.length===2)for(var W=Y.length,q=0;q<W;++q)Y[q].call(this,arguments[1]);else for(var ue=Array.prototype.slice.call(arguments,1),te=Y.length,F=0;F<te;++F)Y[F].apply(this,ue)},V.dispose=function(){this.listeners={}},V.pipe=function(j){this.on("data",function(Y){j.push(Y)})},R}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(R){return R.subarray(0,R.byteLength-R[R.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const i=function(){const R=[[[],[],[],[],[]],[[],[],[],[],[]]],V=R[0],L=R[1],j=V[4],Y=L[4];let W,q,ue;const te=[],F=[];let Q,de,ee,K,J,be;for(W=0;W<256;W++)F[(te[W]=W<<1^(W>>7)*283)^W]=W;for(q=ue=0;!j[q];q^=Q||1,ue=F[ue]||1)for(K=ue^ue<<1^ue<<2^ue<<3^ue<<4,K=K>>8^K&255^99,j[q]=K,Y[K]=q,ee=te[de=te[Q=te[q]]],be=ee*16843009^de*65537^Q*257^q*16843008,J=te[K]*257^K*16843008,W=0;W<4;W++)V[W][q]=J=J<<24^J>>>8,L[W][K]=be=be<<24^be>>>8;for(W=0;W<5;W++)V[W]=V[W].slice(0),L[W]=L[W].slice(0);return R};let o=null;class a{constructor(V){o||(o=i()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];let L,j,Y;const W=this._tables[0][4],q=this._tables[1],ue=V.length;let te=1;if(ue!==4&&ue!==6&&ue!==8)throw new Error("Invalid aes key size");const F=V.slice(0),Q=[];for(this._key=[F,Q],L=ue;L<4*ue+28;L++)Y=F[L-1],(L%ue===0||ue===8&&L%ue===4)&&(Y=W[Y>>>24]<<24^W[Y>>16&255]<<16^W[Y>>8&255]<<8^W[Y&255],L%ue===0&&(Y=Y<<8^Y>>>24^te<<24,te=te<<1^(te>>7)*283)),F[L]=F[L-ue]^Y;for(j=0;L;j++,L--)Y=F[j&3?L:L-4],L<=4||j<4?Q[j]=Y:Q[j]=q[0][W[Y>>>24]]^q[1][W[Y>>16&255]]^q[2][W[Y>>8&255]]^q[3][W[Y&255]]}decrypt(V,L,j,Y,W,q){const ue=this._key[1];let te=V^ue[0],F=Y^ue[1],Q=j^ue[2],de=L^ue[3],ee,K,J;const be=ue.length/4-2;let ke,ve=4;const oe=this._tables[1],ne=oe[0],_e=oe[1],re=oe[2],Ie=oe[3],he=oe[4];for(ke=0;ke<be;ke++)ee=ne[te>>>24]^_e[F>>16&255]^re[Q>>8&255]^Ie[de&255]^ue[ve],K=ne[F>>>24]^_e[Q>>16&255]^re[de>>8&255]^Ie[te&255]^ue[ve+1],J=ne[Q>>>24]^_e[de>>16&255]^re[te>>8&255]^Ie[F&255]^ue[ve+2],de=ne[de>>>24]^_e[te>>16&255]^re[F>>8&255]^Ie[Q&255]^ue[ve+3],ve+=4,te=ee,F=K,Q=J;for(ke=0;ke<4;ke++)W[(3&-ke)+q]=he[te>>>24]<<24^he[F>>16&255]<<16^he[Q>>8&255]<<8^he[de&255]^ue[ve++],ee=te,te=F,F=Q,Q=de,de=ee}}class u extends n{constructor(){super(n),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(V){this.jobs.push(V),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const d=function(R){return R<<24|(R&65280)<<8|(R&16711680)>>8|R>>>24},p=function(R,V,L){const j=new Int32Array(R.buffer,R.byteOffset,R.byteLength>>2),Y=new a(Array.prototype.slice.call(V)),W=new Uint8Array(R.byteLength),q=new Int32Array(W.buffer);let ue,te,F,Q,de,ee,K,J,be;for(ue=L[0],te=L[1],F=L[2],Q=L[3],be=0;be<j.length;be+=4)de=d(j[be]),ee=d(j[be+1]),K=d(j[be+2]),J=d(j[be+3]),Y.decrypt(de,ee,K,J,q,be),q[be]=d(q[be]^ue),q[be+1]=d(q[be+1]^te),q[be+2]=d(q[be+2]^F),q[be+3]=d(q[be+3]^Q),ue=de,te=ee,F=K,Q=J;return W};class m{constructor(V,L,j,Y){const W=m.STEP,q=new Int32Array(V.buffer),ue=new Uint8Array(V.byteLength);let te=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(q.subarray(te,te+W),L,j,ue)),te=W;te<q.length;te+=W)j=new Uint32Array([d(q[te-4]),d(q[te-3]),d(q[te-2]),d(q[te-1])]),this.asyncStream_.push(this.decryptChunk_(q.subarray(te,te+W),L,j,ue));this.asyncStream_.push(function(){Y(null,e(ue))})}static get STEP(){return 32e3}decryptChunk_(V,L,j,Y){return function(){const W=p(V,L,j);Y.set(W,V.byteOffset)}}}var k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},w;typeof window<"u"?w=window:typeof k<"u"?w=k:typeof self<"u"?w=self:w={};var y=w,T=function(V){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(V):V&&V.buffer instanceof ArrayBuffer},E=y.BigInt||Number;E("0x1"),E("0x100"),E("0x10000"),E("0x1000000"),E("0x100000000"),E("0x10000000000"),E("0x1000000000000"),E("0x100000000000000"),E("0x10000000000000000"),function(){var R=new Uint16Array([65484]),V=new Uint8Array(R.buffer,R.byteOffset,R.byteLength);return V[0]===255?"big":V[0]===204?"little":"unknown"}();const S=function(R){const V={};return Object.keys(R).forEach(L=>{const j=R[L];T(j)?V[L]={bytes:j.buffer,byteOffset:j.byteOffset,byteLength:j.byteLength}:V[L]=j}),V};self.onmessage=function(R){const V=R.data,L=new Uint8Array(V.encrypted.bytes,V.encrypted.byteOffset,V.encrypted.byteLength),j=new Uint32Array(V.key.bytes,V.key.byteOffset,V.key.byteLength/4),Y=new Uint32Array(V.iv.bytes,V.iv.byteOffset,V.iv.byteLength/4);new m(L,j,Y,function(W,q){self.postMessage(S({source:V.source,decrypted:q}),[q.buffer])})}}));var gce=LR(mce);const bce=n=>{let e=n.default?"main":"alternative";return n.characteristics&&n.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},db=(n,e)=>{n.abort(),n.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Dw=(n,e)=>{e.activePlaylistLoader=n,n.load()},kce=(n,e)=>()=>{const{segmentLoaders:{[n]:i,main:o},mediaTypes:{[n]:a}}=e,u=a.activeTrack(),d=a.getActiveGroup(),p=a.activePlaylistLoader,m=a.lastGroup_;if(!(d&&m&&d.id===m.id)&&(a.lastGroup_=d,a.lastTrack_=u,db(i,a),!(!d||d.isMainPlaylist))){if(!d.playlistLoader){p&&o.resetEverything();return}i.resyncLoader(),Dw(d.playlistLoader,a)}},vce=(n,e)=>()=>{const{segmentLoaders:{[n]:i},mediaTypes:{[n]:o}}=e;o.lastGroup_=null,i.abort(),i.pause()},_ce=(n,e)=>()=>{const{mainPlaylistLoader:i,segmentLoaders:{[n]:o,main:a},mediaTypes:{[n]:u}}=e,d=u.activeTrack(),p=u.getActiveGroup(),m=u.activePlaylistLoader,k=u.lastTrack_;if(!(k&&d&&k.id===d.id)&&(u.lastGroup_=p,u.lastTrack_=d,db(o,u),!!p)){if(p.isMainPlaylist){if(!d||!k||d.id===k.id)return;const w=e.vhs.playlistController_,y=w.selectPlaylist();if(w.media()===y)return;u.logger_(`track change. Switching main audio from ${k.id} to ${d.id}`),i.pause(),a.resetEverything(),w.fastQualityChange_(y);return}if(n==="AUDIO"){if(!p.playlistLoader){a.setAudio(!0),a.resetEverything();return}o.setAudio(!0),a.setAudio(!1)}if(m===p.playlistLoader){Dw(p.playlistLoader,u);return}o.track&&o.track(d),o.resetEverything(),Dw(p.playlistLoader,u)}},hb={AUDIO:(n,e)=>()=>{const{segmentLoaders:{[n]:i},mediaTypes:{[n]:o},excludePlaylist:a}=e;db(i,o);const u=o.activeTrack(),d=o.activeGroup(),p=(d.filter(k=>k.default)[0]||d[0]).id,m=o.tracks[p];if(u===m){a({error:{message:"Problem encountered loading the default audio track."}});return}Pe.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const k in o.tracks)o.tracks[k].enabled=o.tracks[k]===m;o.onTrackChanged()},SUBTITLES:(n,e)=>()=>{const{segmentLoaders:{[n]:i},mediaTypes:{[n]:o}}=e;Pe.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),db(i,o);const a=o.activeTrack();a&&(a.mode="disabled"),o.onTrackChanged()}},JM={AUDIO:(n,e,i)=>{if(!e)return;const{tech:o,requestOptions:a,segmentLoaders:{[n]:u}}=i;e.on("loadedmetadata",()=>{const d=e.media();u.playlist(d,a),(!o.paused()||d.endList&&o.preload()!=="none")&&u.load()}),e.on("loadedplaylist",()=>{u.playlist(e.media(),a),o.paused()||u.load()}),e.on("error",hb[n](n,i))},SUBTITLES:(n,e,i)=>{const{tech:o,requestOptions:a,segmentLoaders:{[n]:u},mediaTypes:{[n]:d}}=i;e.on("loadedmetadata",()=>{const p=e.media();u.playlist(p,a),u.track(d.activeTrack()),(!o.paused()||p.endList&&o.preload()!=="none")&&u.load()}),e.on("loadedplaylist",()=>{u.playlist(e.media(),a),o.paused()||u.load()}),e.on("error",hb[n](n,i))}},yce={AUDIO:(n,e)=>{const{vhs:i,sourceType:o,segmentLoaders:{[n]:a},requestOptions:u,main:{mediaGroups:d},mediaTypes:{[n]:{groups:p,tracks:m,logger_:k}},mainPlaylistLoader:w}=e,y=Rm(w.main);(!d[n]||Object.keys(d[n]).length===0)&&(d[n]={main:{default:{default:!0}}},y&&(d[n].main.default.playlists=w.main.playlists));for(const T in d[n]){p[T]||(p[T]=[]);for(const E in d[n][T]){let S=d[n][T][E],R;if(y?(k(`AUDIO group '${T}' label '${E}' is a main playlist`),S.isMainPlaylist=!0,R=null):o==="vhs-json"&&S.playlists?R=new Kd(S.playlists[0],i,u):S.resolvedUri?R=new Kd(S.resolvedUri,i,u):S.playlists&&o==="dash"?R=new Tw(S.playlists[0],i,u,w):R=null,S=vn({id:E,playlistLoader:R},S),JM[n](n,S.playlistLoader,e),p[T].push(S),typeof m[E]>"u"){const V=new Pe.AudioTrack({id:E,kind:bce(S),enabled:!1,language:S.language,default:S.default,label:E});m[E]=V}}}a.on("error",hb[n](n,e))},SUBTITLES:(n,e)=>{const{tech:i,vhs:o,sourceType:a,segmentLoaders:{[n]:u},requestOptions:d,main:{mediaGroups:p},mediaTypes:{[n]:{groups:m,tracks:k}},mainPlaylistLoader:w}=e;for(const y in p[n]){m[y]||(m[y]=[]);for(const T in p[n][y]){if(!o.options_.useForcedSubtitles&&p[n][y][T].forced)continue;let E=p[n][y][T],S;if(a==="hls")S=new Kd(E.resolvedUri,o,d);else if(a==="dash"){if(!E.playlists.filter(V=>V.excludeUntil!==1/0).length)return;S=new Tw(E.playlists[0],o,d,w)}else a==="vhs-json"&&(S=new Kd(E.playlists?E.playlists[0]:E.resolvedUri,o,d));if(E=vn({id:T,playlistLoader:S},E),JM[n](n,E.playlistLoader,e),m[y].push(E),typeof k[T]>"u"){const R=i.addRemoteTextTrack({id:T,kind:"subtitles",default:E.default&&E.autoselect,language:E.language,label:T},!1).track;k[T]=R}}}u.on("error",hb[n](n,e))},"CLOSED-CAPTIONS":(n,e)=>{const{tech:i,main:{mediaGroups:o},mediaTypes:{[n]:{groups:a,tracks:u}}}=e;for(const d in o[n]){a[d]||(a[d]=[]);for(const p in o[n][d]){const m=o[n][d][p];if(!/^(?:CC|SERVICE)/.test(m.instreamId))continue;const k=i.options_.vhs&&i.options_.vhs.captionServices||{};let w={label:p,language:m.language,instreamId:m.instreamId,default:m.default&&m.autoselect};if(k[w.instreamId]&&(w=vn(w,k[w.instreamId])),w.default===void 0&&delete w.default,a[d].push(vn({id:p},m)),typeof u[p]>"u"){const y=i.addRemoteTextTrack({id:w.instreamId,kind:"captions",default:w.default,language:w.language,label:w.label},!1).track;u[p]=y}}}}},XR=(n,e)=>{for(let i=0;i<n.length;i++)if(mA(e,n[i])||n[i].playlists&&XR(n[i].playlists,e))return!0;return!1},wce=(n,e)=>i=>{const{mainPlaylistLoader:o,mediaTypes:{[n]:{groups:a}}}=e,u=o.media();if(!u)return null;let d=null;u.attributes[n]&&(d=a[u.attributes[n]]);const p=Object.keys(a);if(!d)if(n==="AUDIO"&&p.length>1&&Rm(e.main))for(let m=0;m<p.length;m++){const k=a[p[m]];if(XR(k,u)){d=k;break}}else a.main?d=a.main:p.length===1&&(d=a[p[0]]);return typeof i>"u"?d:i===null||!d?null:d.filter(m=>m.id===i.id)[0]||null},Cce={AUDIO:(n,e)=>()=>{const{mediaTypes:{[n]:{tracks:i}}}=e;for(const o in i)if(i[o].enabled)return i[o];return null},SUBTITLES:(n,e)=>()=>{const{mediaTypes:{[n]:{tracks:i}}}=e;for(const o in i)if(i[o].mode==="showing"||i[o].mode==="hidden")return i[o];return null}},Ace=(n,{mediaTypes:e})=>()=>{const i=e[n].activeTrack();return i?e[n].activeGroup(i):null},Tce=n=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(k=>{yce[k](k,n)});const{mediaTypes:e,mainPlaylistLoader:i,tech:o,vhs:a,segmentLoaders:{["AUDIO"]:u,main:d}}=n;["AUDIO","SUBTITLES"].forEach(k=>{e[k].activeGroup=wce(k,n),e[k].activeTrack=Cce[k](k,n),e[k].onGroupChanged=kce(k,n),e[k].onGroupChanging=vce(k,n),e[k].onTrackChanged=_ce(k,n),e[k].getActiveGroup=Ace(k,n)});const p=e.AUDIO.activeGroup();if(p){const k=(p.filter(y=>y.default)[0]||p[0]).id;e.AUDIO.tracks[k].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(d.setAudio(!1),u.setAudio(!0)):d.setAudio(!0)}i.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(k=>e[k].onGroupChanged())}),i.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(k=>e[k].onGroupChanging())});const m=()=>{e.AUDIO.onTrackChanged(),o.trigger({type:"usage",name:"vhs-audio-change"})};o.audioTracks().addEventListener("change",m),o.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),a.on("dispose",()=>{o.audioTracks().removeEventListener("change",m),o.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),o.clearTracks("audio");for(const k in e.AUDIO.tracks)o.audioTracks().addTrack(e.AUDIO.tracks[k])},xce=()=>{const n={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{n[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:_a,activeTrack:_a,getActiveGroup:_a,onGroupChanged:_a,onTrackChanged:_a,lastTrack_:null,logger_:Wo(`MediaGroups[${e}]`)}}),n},Ece=10;let pa;const Sce=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Dce=function(n){return this.audioSegmentLoader_[n]+this.mainSegmentLoader_[n]},Ice=function({currentPlaylist:n,buffered:e,currentTime:i,nextPlaylist:o,bufferLowWaterLine:a,bufferHighWaterLine:u,duration:d,bufferBasedABR:p,log:m}){if(!o)return Pe.log.warn("We received no playlist to switch to. Please check your stream."),!1;const k=`allowing switch ${n&&n.id||"null"} -> ${o.id}`;if(!n)return m(`${k} as current playlist is not set`),!0;if(o.id===n.id)return!1;const w=!!Gd(e,i).length;if(!n.endList)return!w&&typeof n.partTargetDuration=="number"?(m(`not ${k} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(m(`${k} as current playlist is live`),!0);const y=hA(e,i),T=p?vi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:vi.MAX_BUFFER_LOW_WATER_LINE;if(d<T)return m(`${k} as duration < max low water line (${d} < ${T})`),!0;const E=o.attributes.BANDWIDTH,S=n.attributes.BANDWIDTH;if(E<S&&(!p||y<u)){let R=`${k} as next bandwidth < current bandwidth (${E} < ${S})`;return p&&(R+=` and forwardBuffer < bufferHighWaterLine (${y} < ${u})`),m(R),!0}if((!p||E>S)&&y>=a){let R=`${k} as forwardBuffer >= bufferLowWaterLine (${y} >= ${a})`;return p&&(R+=` and next bandwidth > current bandwidth (${E} > ${S})`),m(R),!0}return m(`not ${k} as no switching criteria met`),!1};class Mce extends Pe.EventTarget{constructor(e){super();const{src:i,withCredentials:o,tech:a,bandwidth:u,externVhs:d,useCueTags:p,playlistExclusionDuration:m,enableLowInitialPlaylist:k,sourceType:w,cacheEncryptionKeys:y,bufferBasedABR:T,leastPixelDiffSelector:E,captionServices:S}=e;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:R}=e;(R===null||typeof R>"u")&&(R=1/0),pa=d,this.bufferBasedABR=!!T,this.leastPixelDiffSelector=!!E,this.withCredentials=o,this.tech_=a,this.vhs_=a.vhs,this.sourceType_=w,this.useCueTags_=p,this.playlistExclusionDuration=m,this.maxPlaylistRetries=R,this.enableLowInitialPlaylist=k,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:o,maxPlaylistRetries:R,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=xce(),this.mediaSource=new me.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Ui(),this.hasPlayed_=!1,this.syncController_=new fce(e),this.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new gce,this.sourceUpdater_=new ZR(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new pce;const V={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:S,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:u,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:y,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new Tw(i,this.vhs_,vn(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Kd(i,this.vhs_,vn(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Ew(vn(V,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new Ew(vn(V,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new cce(vn(V,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((j,Y)=>{function W(){a.off("vttjserror",q),j()}function q(){a.off("vttjsloaded",W),Y()}a.one("vttjsloaded",W),a.one("vttjserror",q),a.addWebVttScript_()})}),e),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Sce.forEach(j=>{this[j+"_"]=Dce.bind(this,j)}),this.logger_=Wo("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const L=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(L,()=>{const j=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-j,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),i=this.audioAppendsToLoadedData_();return e===-1||i===-1?-1:e+i}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const i=this.selectPlaylist();i&&this.shouldSwitchToMedia_(i)&&this.switchMedia_(i,e)}switchMedia_(e,i,o){const a=this.media(),u=a&&(a.id||a.uri),d=e.id||e.uri;u&&u!==d&&(this.logger_(`switch media ${u} -> ${d} from ${i}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${i}`})),this.mainPlaylistLoader_.media(e,o)}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=me.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(me.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),i=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return i;const o=e.mediaGroups.AUDIO,a=Object.keys(o);let u;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)u=this.mediaTypes_.AUDIO.activeTrack();else{const p=o.main||a.length&&o[a[0]];for(const m in p)if(p[m].default){u={label:m};break}}if(!u)return i;const d=[];for(const p in o)if(o[p][u.label]){const m=o[p][u.label];if(m.playlists&&m.playlists.length)d.push.apply(d,m.playlists);else if(m.uri)d.push(m);else if(e.playlists.length)for(let k=0;k<e.playlists.length;k++){const w=e.playlists[k];w.attributes&&w.attributes.AUDIO&&w.attributes.AUDIO===p&&d.push(w)}}return d.length?d:i}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),i=e.targetDuration*1.5*1e3;_w(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),Tce({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.excludeUnsupportedVariants_();let i;if(this.enableLowInitialPlaylist&&(i=this.selectInitialPlaylist()),i||(i=this.selectPlaylist()),!i||!this.shouldSwitchToMedia_(i)||(this.initialMedia_=i,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),i=e.targetDuration*1.5*1e3;_w(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();if(e.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,i){const o=e.mediaGroups||{};let a=!0;const u=Object.keys(o.AUDIO);for(const d in o.AUDIO)for(const p in o.AUDIO[d])o.AUDIO[d][p].uri||(a=!1);a&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(o.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),pa.Playlist.isAes(i)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),u.length&&Object.keys(o.AUDIO[u[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const i=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,o=this.tech_.currentTime(),a=this.bufferLowWaterLine(),u=this.bufferHighWaterLine(),d=this.tech_.buffered();return Ice({buffered:d,currentTime:o,currentPlaylist:i,nextPlaylist:e,bufferLowWaterLine:a,bufferHighWaterLine:u,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const i=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",i=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:Ece}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const i=this.getCodecsOrExclude_();i&&this.sourceUpdater_.addOrChangeSourceBuffers(i)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.resetMainLoaderReplaceSegments()}resetMainLoaderReplaceSegments(){const e=this.tech_.buffered(),i=e.end(e.length-1);this.mainSegmentLoader_.replaceSegmentsUntil=i,this.mainSegmentLoader_.resetLoaderProperties(),this.mainSegmentLoader_.resetLoader()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const i=this.seekable();if(!i.length)return!1;const o=i.end(0);let a=o;if(e.start){const u=e.start.timeOffset;u<0?a=Math.max(o+u,i.start(0)):a=Math.min(o,u)}this.trigger("firstplay"),this.tech_.setCurrentTime(a)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,i=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const i=this.duration();e[e.length-1].endTime=isNaN(i)||Math.abs(i)===1/0?Number.MAX_VALUE:i}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const i=this.mainSegmentLoader_.getCurrentMediaInfo_();!i||i.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const o=this.syncController_.getExpiredTime(e,this.duration());if(o===null)return!1;const a=pa.Playlist.playlistEnd(e,o),u=this.tech_.currentTime(),d=this.tech_.buffered();if(!d.length)return a-u<=As;const p=d.end(d.length-1);return p-u<=As&&a-p<=As}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:i={},playlistExclusionDuration:o}){if(e=e||this.mainPlaylistLoader_.media(),o=o||i.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=i,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const a=this.mainPlaylistLoader_.main.playlists,u=a.filter(Mk),d=u.length===1&&u[0]===e;if(a.length===1&&o!==1/0)return Pe.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(d);if(d){let E=!1;a.forEach(S=>{if(S===e)return;const R=S.excludeUntil;typeof R<"u"&&R!==1/0&&(E=!0,delete S.excludeUntil)}),E&&(Pe.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let p;e.playlistErrors_>this.maxPlaylistRetries?p=1/0:p=Date.now()+o*1e3,e.excludeUntil=p,i.reason&&(e.lastExcludeReason_=i.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const m=this.selectPlaylist();if(!m){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const k=i.internal?this.logger_:Pe.log.warn,w=i.message?" "+i.message:"";k(`${i.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${w} Switching to playlist ${m.id}.`),m.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),m.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const y=m.targetDuration/2*1e3||5*1e3,T=typeof m.lastRequest=="number"&&Date.now()-m.lastRequest<=y;return this.switchMedia_(m,"exclude",d||T)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,i){const o=[],a=e==="all";(a||e==="main")&&o.push(this.mainPlaylistLoader_);const u=[];(a||e==="audio")&&u.push("AUDIO"),(a||e==="subtitle")&&(u.push("CLOSED-CAPTIONS"),u.push("SUBTITLES")),u.forEach(d=>{const p=this.mediaTypes_[d]&&this.mediaTypes_[d].activePlaylistLoader;p&&o.push(p)}),["main","audio","subtitle"].forEach(d=>{const p=this[`${d}SegmentLoader_`];p&&(e===d||e==="all")&&o.push(p)}),o.forEach(d=>i.forEach(p=>{typeof d[p]=="function"&&d[p]()}))}setCurrentTime(e){const i=Gd(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(i&&i.length)return e;this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.resetEverything(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.resetEverything(),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:pa.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let i=this.mainPlaylistLoader_.media();if(!i)return;let o=this.syncController_.getExpiredTime(i,this.duration());if(o===null)return;const a=this.mainPlaylistLoader_.main,u=pa.Playlist.seekable(i,o,pa.Playlist.liveEdgeDelay(a,i));if(u.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),o=this.syncController_.getExpiredTime(i,this.duration()),o===null||(e=pa.Playlist.seekable(i,o,pa.Playlist.liveEdgeDelay(a,i)),e.length===0)))return;let d,p;this.seekable_&&this.seekable_.length&&(d=this.seekable_.end(0),p=this.seekable_.start(0)),e?e.start(0)>u.end(0)||u.start(0)>e.end(0)?this.seekable_=u:this.seekable_=Ui([[e.start(0)>u.start(0)?e.start(0):u.start(0),e.end(0)<u.end(0)?e.end(0):u.end(0)]]):this.seekable_=u,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===d&&this.seekable_.start(0)===p)&&(this.logger_(`seekable updated [${pR(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}const i=this.tech_.buffered();let o=pa.Playlist.duration(this.mainPlaylistLoader_.media());i.length>0&&(o=Math.max(o,i.end(i.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const i=this.mediaTypes_[e].groups;for(const o in i)i[o].forEach(a=>{a.playlistLoader&&a.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,i=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),o=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!i||!o)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},i=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const o=Mp(this.main(),i),a={},u=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(a.video=o.video||e.main.videoCodec||ere),e.main.isMuxed&&(a.video+=`,${o.audio||e.main.audioCodec||L3}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||u)&&(a.audio=o.audio||e.main.audioCodec||e.audio.audioCodec||L3,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!a.audio&&!a.video){this.excludePlaylist({playlistToExclude:i,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const d=(k,w)=>k?g0(w):iy(w),p={};let m;if(["video","audio"].forEach(function(k){if(a.hasOwnProperty(k)&&!d(e[k].isFmp4,a[k])){const w=e[k].isFmp4?"browser":"muxer";p[w]=p[w]||[],p[w].push(a[k]),k==="audio"&&(m=w)}}),u&&m&&i.attributes.AUDIO){const k=i.attributes.AUDIO;this.main().playlists.forEach(w=>{(w.attributes&&w.attributes.AUDIO)===k&&w!==i&&(w.excludeUntil=1/0)}),this.logger_(`excluding audio group ${k} as ${m} does not support codec(s): "${a.audio}"`)}if(Object.keys(p).length){const k=Object.keys(p).reduce((w,y)=>(w&&(w+=", "),w+=`${y} does not support codec(s): "${p[y].join(",")}"`,w),"")+".";this.excludePlaylist({playlistToExclude:i,error:{internal:!0,message:k},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const k=[];if(["video","audio"].forEach(w=>{const y=(bs(this.sourceUpdater_.codecs[w]||"")[0]||{}).type,T=(bs(a[w]||"")[0]||{}).type;y&&T&&y.toLowerCase()!==T.toLowerCase()&&k.push(`"${this.sourceUpdater_.codecs[w]}" -> "${a[w]}"`)}),k.length){this.excludePlaylist({playlistToExclude:i,error:{message:`Codec switching not supported: ${k.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return a}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const i=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(i)}excludeUnsupportedVariants_(){const e=this.main().playlists,i=[];Object.keys(e).forEach(o=>{const a=e[o];if(i.indexOf(a.id)!==-1)return;i.push(a.id);const u=Mp(this.main,a),d=[];u.audio&&!iy(u.audio)&&!g0(u.audio)&&d.push(`audio codec ${u.audio}`),u.video&&!iy(u.video)&&!g0(u.video)&&d.push(`video codec ${u.video}`),u.text&&u.text==="stpp.ttml.im1t"&&d.push(`text codec ${u.text}`),d.length&&(a.excludeUntil=1/0,this.logger_(`excluding ${a.id} for unsupported: ${d.join(", ")}`))})}excludeIncompatibleVariants_(e){const i=[],o=this.main().playlists,a=cb(bs(e)),u=VM(a),d=a.video&&bs(a.video)[0]||null,p=a.audio&&bs(a.audio)[0]||null;Object.keys(o).forEach(m=>{const k=o[m];if(i.indexOf(k.id)!==-1||k.excludeUntil===1/0)return;i.push(k.id);const w=[],y=Mp(this.mainPlaylistLoader_.main,k),T=VM(y);if(!(!y.audio&&!y.video)){if(T!==u&&w.push(`codec count "${T}" !== "${u}"`),!this.sourceUpdater_.canChangeType()){const E=y.video&&bs(y.video)[0]||null,S=y.audio&&bs(y.audio)[0]||null;E&&d&&E.type.toLowerCase()!==d.type.toLowerCase()&&w.push(`video codec "${E.type}" !== "${d.type}"`),S&&p&&S.type.toLowerCase()!==p.type.toLowerCase()&&w.push(`audio codec "${S.type}" !== "${p.type}"`)}w.length&&(k.excludeUntil=1/0,this.logger_(`excluding ${k.id}: ${w.join(" && ")}`))}})}updateAdCues_(e){let i=0;const o=this.seekable();o.length&&(i=o.start(0)),dce(e,this.cueTagsTrack_,i)}goalBufferLength(){const e=this.tech_.currentTime(),i=vi.GOAL_BUFFER_LENGTH,o=vi.GOAL_BUFFER_LENGTH_RATE,a=Math.max(i,vi.MAX_GOAL_BUFFER_LENGTH);return Math.min(i+e*o,a)}bufferLowWaterLine(){const e=this.tech_.currentTime(),i=vi.BUFFER_LOW_WATER_LINE,o=vi.BUFFER_LOW_WATER_LINE_RATE,a=Math.max(i,vi.MAX_BUFFER_LOW_WATER_LINE),u=Math.max(i,vi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(i+e*o,this.bufferBasedABR?u:a)}bufferHighWaterLine(){return vi.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){$M(this.inbandTextTracks_,"com.apple.streaming",this.tech_),Gle({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,i,o){const a=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();$M(this.inbandTextTracks_,e,this.tech_),$le({inbandTextTracks:this.inbandTextTracks_,metadataArray:i,timestampOffset:a,videoDuration:o})}}const Pce=(n,e,i)=>o=>{const a=n.main.playlists[e],u=pA(a),d=Mk(a);return typeof o>"u"?d:(o?delete a.disabled:a.disabled=!0,o!==d&&!u&&(i(),o?n.trigger("renditionenabled"):n.trigger("renditiondisabled")),o)};class Nce{constructor(e,i,o){const{playlistController_:a}=e,u=a.fastQualityChange_.bind(a);if(i.attributes){const d=i.attributes.RESOLUTION;this.width=d&&d.width,this.height=d&&d.height,this.bandwidth=i.attributes.BANDWIDTH,this.frameRate=i.attributes["FRAME-RATE"]}this.codecs=Mp(a.main(),i),this.playlist=i,this.id=o,this.enabled=Pce(e.playlists,i.id,u)}}const Bce=function(n){n.representations=()=>{const e=n.playlistController_.main(),i=Rm(e)?n.playlistController_.getAudioTrackPlaylists_():e.playlists;return i?i.filter(o=>!pA(o)).map((o,a)=>new Nce(n,o,o.id)):[]}},e4=["seeking","seeked","pause","playing","error"];class Oce{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Wo("PlaybackWatcher"),this.logger_("initialize");const i=()=>this.monitorCurrentTime_(),o=()=>this.monitorCurrentTime_(),a=()=>this.techWaiting_(),u=()=>this.resetTimeUpdate_(),d=this.playlistController_,p=["main","subtitle","audio"],m={};p.forEach(w=>{m[w]={reset:()=>this.resetSegmentDownloads_(w),updateend:()=>this.checkSegmentDownloads_(w)},d[`${w}SegmentLoader_`].on("appendsdone",m[w].updateend),d[`${w}SegmentLoader_`].on("playlistupdate",m[w].reset),this.tech_.on(["seeked","seeking"],m[w].reset)});const k=w=>{["main","audio"].forEach(y=>{d[`${y}SegmentLoader_`][w]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),k("off"))},this.clearSeekingAppendCheck_=()=>k("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),k("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(e4,u),this.tech_.on("canplay",o),this.tech_.one("play",i),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",a),this.tech_.off(e4,u),this.tech_.off("canplay",o),this.tech_.off("play",i),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),p.forEach(w=>{d[`${w}SegmentLoader_`].off("appendsdone",m[w].updateend),d[`${w}SegmentLoader_`].off("playlistupdate",m[w].reset),this.tech_.off(["seeked","seeking"],m[w].reset)}),this.checkCurrentTimeTimeout_&&me.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&me.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=me.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const i=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=i.buffered_()}checkSegmentDownloads_(e){const i=this.playlistController_,o=i[`${e}SegmentLoader_`],a=o.buffered_(),u=Tae(this[`${e}Buffered_`],a);if(this[`${e}Buffered_`]=a,u){this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:o.playlist_&&o.playlist_.id,buffered:ru(a)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&i.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),i=this.tech_.buffered();if(this.lastRecordedTime===e&&(!i.length||e+As>=i.end(i.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const i=this.seekable(),o=this.tech_.currentTime(),a=this.afterSeekableWindow_(i,o,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let u;if(a&&(u=i.end(i.length-1)),this.beforeSeekableWindow_(i,o)){const S=i.start(0);u=S+(S===i.end(0)?0:As)}if(typeof u<"u")return this.logger_(`Trying to seek outside of seekable at time ${o} with seekable range ${pR(i)}. Seeking to ${u}.`),this.tech_.setCurrentTime(u),!0;const d=this.playlistController_.sourceUpdater_,p=this.tech_.buffered(),m=d.audioBuffer?d.audioBuffered():null,k=d.videoBuffer?d.videoBuffered():null,w=this.media(),y=w.partTargetDuration?w.partTargetDuration:(w.targetDuration-jl)*2,T=[m,k];for(let S=0;S<T.length;S++){if(!T[S])continue;if(hA(T[S],o)<y)return!1}const E=n0(p,o);return E.length===0?!1:(u=E.start(0)+As,this.logger_(`Buffered region starts (${E.start(0)})  just beyond seek point (${o}). Seeking to ${u}.`),this.tech_.setCurrentTime(u),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),i=this.tech_.buffered(),o=Gd(i,e);if(o.length&&e+3<=o.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${o.start(0)} -> ${o.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),i=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,i)){const p=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${i}. Seeking to live point (seekable end) ${p}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(p),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const o=this.tech_.vhs.playlistController_.sourceUpdater_,a=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:o.audioBuffered(),videoBuffered:o.videoBuffered(),currentTime:i}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const d=n0(a,i);return d.length>0?(this.logger_(`Stopped at ${i} and seeking to ${d.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(i),!0):!1}afterSeekableWindow_(e,i,o,a=!1){if(!e.length)return!1;let u=e.end(e.length-1)+As;const d=!o.endList,p=typeof o.partTargetDuration=="number";return d&&(p||a)&&(u=e.end(e.length-1)+o.targetDuration*3),i>u}beforeSeekableWindow_(e,i){return!!(e.length&&e.start(0)>0&&i<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:i,currentTime:o}){if(!e)return;let a;if(e.length&&i.length){const u=Gd(e,o-3),d=Gd(e,o),p=Gd(i,o);p.length&&!d.length&&u.length&&(a={start:u.end(0),end:p.end(0)})}else n0(e,o).length||(a=this.gapFromVideoUnderflow_(e,o));return a?(this.logger_(`Encountered a gap in video from ${a.start} to ${a.end}. Seeking to current time ${o}`),!0):!1}skipTheGap_(e){const i=this.tech_.buffered(),o=this.tech_.currentTime(),a=n0(i,o);this.resetTimeUpdate_(),!(a.length===0||o!==e)&&(this.logger_("skipTheGap_:","currentTime:",o,"scheduled currentTime:",e,"nextRange start:",a.start(0)),this.tech_.setCurrentTime(a.start(0)+jl),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,i){const o=wae(e);for(let a=0;a<o.length;a++){const u=o.start(a),d=o.end(a);if(i-u<4&&i-u>2)return{start:u,end:d}}return null}}const Lce={errorInterval:30,getSource(n){const i=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return n(i)}},JR=function(n,e){let i=0,o=0;const a=vn(Lce,e);n.ready(()=>{n.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const u=function(){o&&n.currentTime(o)},d=function(w){w!=null&&(o=n.duration()!==1/0&&n.currentTime()||0,n.one("loadedmetadata",u),n.src(w),n.trigger({type:"usage",name:"vhs-error-reload"}),n.play())},p=function(){if(Date.now()-i<a.errorInterval*1e3){n.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){Pe.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),a.getSource.call(n,d)},m=function(){n.off("loadedmetadata",u),n.off("error",p),n.off("dispose",m)},k=function(w){m(),JR(n,w)};n.on("error",p),n.on("dispose",m),n.reloadSourceOnError=k},Rce=function(n){JR(this,n)};var e6="3.5.3",Fce="7.0.0",jce="1.1.1",zce="7.1.0",Vce="4.0.1";const Hn={PlaylistLoader:Kd,Playlist:vr,utils:Zae,STANDARD_PLAYLIST_SELECTOR:HM,INITIAL_PLAYLIST_SELECTOR:jle,lastBandwidthSelector:HM,movingAverageBandwidthSelector:Rle,comparePlaylistBandwidth:kA,comparePlaylistResolution:Lle,xhr:DR()};Object.keys(vi).forEach(n=>{Object.defineProperty(Hn,n,{get(){return Pe.log.warn(`using Vhs.${n} is UNSAFE be sure you know what you are doing`),vi[n]},set(e){if(Pe.log.warn(`using Vhs.${n} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){Pe.log.warn(`value of Vhs.${n} must be greater than or equal to 0`);return}vi[n]=e}})});const t6="videojs-vhs",n6=function(n,e){const i=e.media();let o=-1;for(let a=0;a<n.length;a++)if(n[a].id===i.id){o=a;break}n.selectedIndex_=o,n.trigger({selectedIndex:o,type:"change"})},Uce=function(n,e){e.representations().forEach(i=>{n.addQualityLevel(i)}),n6(n,e.playlists)};Hn.canPlaySource=function(){return Pe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const Hce=(n,e,i)=>{if(!n)return n;let o={};e&&e.attributes&&e.attributes.CODECS&&(o=cb(bs(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(o.audio=i.attributes.CODECS);const a=im(o.video),u=im(o.audio),d={};for(const p in n)d[p]={},u&&(d[p].audioContentType=u),a&&(d[p].videoContentType=a),e.contentProtection&&e.contentProtection[p]&&e.contentProtection[p].pssh&&(d[p].pssh=e.contentProtection[p].pssh),typeof n[p]=="string"&&(d[p].url=n[p]);return vn(n,d)},$ce=(n,e)=>n.reduce((i,o)=>{if(!o.contentProtection)return i;const a=e.reduce((u,d)=>{const p=o.contentProtection[d];return p&&p.pssh&&(u[d]={pssh:p.pssh}),u},{});return Object.keys(a).length&&i.push(a),i},[]),qce=({player:n,sourceKeySystems:e,audioMedia:i,mainPlaylists:o})=>{if(!n.eme.initializeMediaKeys)return Promise.resolve();const a=i?o.concat([i]):o,u=$ce(a,Object.keys(e)),d=[],p=[];return u.forEach(m=>{p.push(new Promise((k,w)=>{n.tech_.one("keysessioncreated",k)})),d.push(new Promise((k,w)=>{n.eme.initializeMediaKeys({keySystems:m},y=>{if(y){w(y);return}k()})}))}),Promise.race([Promise.all(d),Promise.race(p)])},Wce=({player:n,sourceKeySystems:e,media:i,audioMedia:o})=>{const a=Hce(e,i,o);return a?(n.currentSource().keySystems=a,a&&!n.eme?(Pe.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},i6=()=>{if(!me.localStorage)return null;const n=me.localStorage.getItem(t6);if(!n)return null;try{return JSON.parse(n)}catch{return null}},Gce=n=>{if(!me.localStorage)return!1;let e=i6();e=e?vn(e,n):n;try{me.localStorage.setItem(t6,JSON.stringify(e))}catch{return!1}return e},Kce=n=>n.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(n.substring(n.indexOf(",")+1)):n,r6=(n,e)=>{n._requestCallbackSet||(n._requestCallbackSet=new Set),n._requestCallbackSet.add(e)},o6=(n,e)=>{n._responseCallbackSet||(n._responseCallbackSet=new Set),n._responseCallbackSet.add(e)},s6=(n,e)=>{n._requestCallbackSet&&(n._requestCallbackSet.delete(e),n._requestCallbackSet.size||delete n._requestCallbackSet)},a6=(n,e)=>{n._responseCallbackSet&&(n._responseCallbackSet.delete(e),n._responseCallbackSet.size||delete n._responseCallbackSet)};Hn.supportsNativeHls=function(){if(!et||!et.createElement)return!1;const n=et.createElement("video");return Pe.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(i){return/maybe|probably/i.test(n.canPlayType(i))}):!1}();Hn.supportsNativeDash=function(){return!et||!et.createElement||!Pe.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(et.createElement("video").canPlayType("application/dash+xml"))}();Hn.supportsTypeNatively=n=>n==="hls"?Hn.supportsNativeHls:n==="dash"?Hn.supportsNativeDash:!1;Hn.isSupported=function(){return Pe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Hn.xhr.onRequest=function(n){r6(Hn.xhr,n)};Hn.xhr.onResponse=function(n){o6(Hn.xhr,n)};Hn.xhr.offRequest=function(n){s6(Hn.xhr,n)};Hn.xhr.offResponse=function(n){a6(Hn.xhr,n)};const Yce=Pe.getComponent("Component");class l6 extends Yce{constructor(e,i,o){if(super(i,o.vhs),typeof o.initialBandwidth=="number"&&(this.options_.bandwidth=o.initialBandwidth),this.logger_=Wo("VhsHandler"),i.options_&&i.options_.playerId){const a=Pe.getPlayer(i.options_.playerId);this.player_=a}if(this.tech_=i,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(et,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],a=>{const u=et.fullscreenElement||et.webkitFullscreenElement||et.mozFullScreenElement||et.msFullscreenElement;u&&u.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(){if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const e=i6();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=vi.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===vi.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(e=>{typeof this.source_[e]<"u"&&(this.options_[e]=this.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(e,i){if(!e)return;this.setOptions_(),this.options_.src=Kce(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Hn,this.options_.sourceType=lO(i),this.options_.seekTo=u=>{this.tech_.setCurrentTime(u)},this.playlistController_=new Mce(this.options_);const o=vn({liveRangeSafeTimeDelta:As},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new Oce(o),this.playlistController_.on("error",()=>{const u=Pe.players[this.tech_.options_.playerId];let d=this.playlistController_.error;typeof d=="object"&&!d.code?d.code=3:typeof d=="string"&&(d={message:d,code:3}),u.error(d)});const a=this.options_.bufferBasedABR?Hn.movingAverageBandwidthSelector(.55):Hn.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):a.bind(this),this.playlistController_.selectInitialPlaylist=Hn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(u){this.playlistController_.selectPlaylist=u.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(u){this.playlistController_.mainSegmentLoader_.throughput.rate=u,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let u=this.playlistController_.mainSegmentLoader_.bandwidth;const d=me.navigator.connection||me.navigator.mozConnection||me.navigator.webkitConnection,p=1e7;if(this.options_.useNetworkInformationApi&&d){const m=d.downlink*1e3*1e3;m>=p&&u>=p?u=Math.max(u,m):u=m}return u},set(u){this.playlistController_.mainSegmentLoader_.bandwidth=u,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const u=1/(this.bandwidth||1);let d;return this.throughput>0?d=1/this.throughput:d=0,Math.floor(1/(u+d))},set(){Pe.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>ru(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>ru(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&Gce({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{Bce(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=me.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),qce({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(i=>{this.logger_("error while creating EME key session",i),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=Wce({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",o=>{if(o.status!=="output-restricted")return;const a=this.playlistController_.main();if(!a||!a.playlists)return;const u=[];a.playlists.forEach(d=>{d&&d.attributes&&d.attributes.RESOLUTION&&d.attributes.RESOLUTION.height>=720&&(!d.excludeUntil||d.excludeUntil<1/0)&&(d.excludeUntil=1/0,u.push(d))}),u.length&&(Pe.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...u),this.playlistController_.mainSegmentLoader_.resetEverything(),this.playlistController_.fastQualityChange_())}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!i){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=Pe.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{Uce(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{n6(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":e6,"mux.js":Fce,"mpd-parser":jce,"m3u8-parser":zce,"aes-decrypter":Vce}}version(){return this.constructor.version()}canChangeType(){return ZR.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&me.URL.revokeObjectURL&&(me.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,i){return rle({playlist:this.playlistController_.media(),time:e,callback:i})}seekToProgramTime(e,i,o=!0,a=2){return BR({programTime:e,playlist:this.playlistController_.media(),retryCount:a,pauseAfterSeek:o,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:i})}setupXhrHooks_(){this.xhr.onRequest=e=>{r6(this.xhr,e)},this.xhr.onResponse=e=>{o6(this.xhr,e)},this.xhr.offRequest=e=>{s6(this.xhr,e)},this.xhr.offResponse=e=>{a6(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const fb={name:"videojs-http-streaming",VERSION:e6,canHandleSource(n,e={}){const i=vn(Pe.options,e);return fb.canPlayType(n.type,i)},handleSource(n,e,i={}){const o=vn(Pe.options,i);return e.vhs=new l6(n,e,o),e.vhs.xhr=DR(),e.vhs.setupXhrHooks_(),e.vhs.src(n.src,n.type),e.vhs},canPlayType(n,e){const i=lO(n);if(!i)return"";const o=fb.getOverrideNative(e);return!Hn.supportsTypeNatively(i)||o?"maybe":""},getOverrideNative(n={}){const{vhs:e={}}=n,i=!(Pe.browser.IS_ANY_SAFARI||Pe.browser.IS_IOS),{overrideNative:o=i}=e;return o}},Qce=()=>g0("avc1.4d400d,mp4a.40.2");Qce()&&Pe.getTech("Html5").registerSourceHandler(fb,0);Pe.VhsHandler=l6;Pe.VhsSourceHandler=fb;Pe.Vhs=Hn;Pe.use||Pe.registerComponent("Vhs",Hn);Pe.options.vhs=Pe.options.vhs||{};(!Pe.getPlugin||!Pe.getPlugin("reloadSourceOnError"))&&Pe.registerPlugin("reloadSourceOnError",Rce);const Zce={name:"VideoPlayer",data(){return{player:null,sources:[],currentSourceIndex:0}},created(){this.fetchVideos()},methods:{change(n){this.player.src(this.sources[n]),this.player.load(),this.player.play()},async fetchVideos(){await axios.get(route("api.videos")).then(n=>{n.data.videos.forEach((e,i)=>{this.sources[i]=e.split("\\").join("/")}),this.player=Pe(this.$refs.videoElement,{sources:this.sources,controls:!0})}).catch(n=>{console.error("Error fetching data:",n)})},filename(n){const e=n.split("/");return e[e.length-1]}},beforeUnmount(){this.player&&this.player.dispose()}},Xce={class:"embed-responsive embed-responsive-16by9 mt-5"},Jce={ref:"videoElement",class:"video-js embed-responsive-item"},eue={class:"row"},tue=["onClick"];function nue(n,e,i,o,a,u){return v.openBlock(),v.createElementBlock("div",null,[v.createElementVNode("div",Xce,[v.createElementVNode("video",Jce,null,512)]),v.createElementVNode("div",eue,[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(a.sources,(d,p)=>(v.openBlock(),v.createElementBlock("div",{key:p,class:"col-2"},[v.createElementVNode("a",{href:"javascript:void(0)",onClick:m=>u.change(p)},v.toDisplayString(u.filename(d)),9,tue)]))),128))])])}const iue=Ru(Zce,[["render",nue],["__scopeId","data-v-44076014"]]),Pk=aB({}),rue={confirmButtonColor:"#41b882",cancelButtonColor:"#6c757d"};Pk.component("ProductListComponent",iZ);Pk.component("ProductFormComponent",$ne);Pk.component("VideosComponent",iue);Pk.use(G$,rue).use(bQ).mount("#app");
